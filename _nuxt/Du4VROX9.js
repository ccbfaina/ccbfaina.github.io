const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./GhYza6RS.js","./index.CVbLfNti.css","./DTvmMwKR.js","./sobre.c9vjT2Gh.css","./BzDo-SR_.js","./CI5L-dDT.js","./LoadingSpinner.B8lNEaQd.css","./agenda.CM9Bj_m5.css","./CtL4jXvB.js","./perfil.NIbQGJpK.css","./DNYYR0E9.js","./BcZQbp_F.js","./DV5RMY9h.js","./eventos.B5y_5DTt.css","./CRqqTmKJ.js","./navegar.oNlrvgWL.css","./3NaLlxii.js","./recentes.BJ56Rn0R.css","./_j_nq36T.js","./servicos.DXKw4MpX.css","./CYM0Fn-V.js","./settings.D81KzNVB.css","./Dw96M1Hv.js","./view.BqIYA52o.css","./Bobta2kX.js","./index.C01wgp59.css","./C96lvtXp.js","./index.BBz_r2n2.css","./CYx701bw.js","./index.BgYxHUiX.css","./DM1dc1lP.js","./contato.3ci9Le7x.css","./BJMtb_A3.js","./calendar.C6mITJY3.css","./rlbE6R-n.js","./solicitar.C0T4GfkF.css","./DbigeQkf.js","./manutencao.DIm-6Bk8.css","./Cmm5NnXP.js","./levantamento_preventiva.D-3OeP-V.css","./bBAceBzm.js","./BLe2kgGG.js","./B9UsxQ20.js","./menu.0lHMkiB6.css","./default.BllfGIqY.css","./DsqIsLsx.js","./form.D8ztOVBm.css","./D-HDC5IM.js","./B5LVwg-n.js","./landscape.BFEAchZd.css","./Berqqe1v.js","./noscroll.DrWb4tOw.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $f(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Be={},oi=[],bn=()=>{},Gb=()=>!1,ca=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bf=t=>t.startsWith("onUpdate:"),pt=Object.assign,jf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qb=Object.prototype.hasOwnProperty,Ne=(t,e)=>Qb.call(t,e),le=Array.isArray,ai=t=>Fi(t)==="[object Map]",Il=t=>Fi(t)==="[object Set]",dg=t=>Fi(t)==="[object Date]",Jb=t=>Fi(t)==="[object RegExp]",fe=t=>typeof t=="function",Qe=t=>typeof t=="string",Hn=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",Hf=t=>(Ue(t)||fe(t))&&fe(t.then)&&fe(t.catch),B_=Object.prototype.toString,Fi=t=>B_.call(t),Yb=t=>Fi(t).slice(8,-1),qf=t=>Fi(t)==="[object Object]",zf=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ci=$f(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Xb=/-(\w)/g,mn=bl(t=>t.replace(Xb,(e,n)=>n?n.toUpperCase():"")),Zb=/\B([A-Z])/g,ns=bl(t=>t.replace(Zb,"-$1").toLowerCase()),Al=bl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pu=bl(t=>t?`on${Al(t)}`:""),jr=(t,e)=>!Object.is(t,e),li=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Th=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Oc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},j_=t=>{const e=Qe(t)?Number(t):NaN;return isNaN(e)?t:e};let pg;const Sl=()=>pg||(pg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wf(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Qe(r)?rA(r):Wf(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Qe(t)||Ue(t))return t}const eA=/;(?![^(]*\))/g,tA=/:([^]+)/,nA=/\/\*[^]*?\*\//g;function rA(t){const e={};return t.replace(nA,"").split(eA).forEach(n=>{if(n){const r=n.split(tA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Kf(t){let e="";if(Qe(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=Kf(t[n]);r&&(e+=r+" ")}else if(Ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const sA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iA=$f(sA);function H_(t){return!!t||t===""}function oA(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Rl(t[r],e[r]);return n}function Rl(t,e){if(t===e)return!0;let n=dg(t),r=dg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Hn(t),r=Hn(e),n||r)return t===e;if(n=le(t),r=le(e),n||r)return n&&r?oA(t,e):!1;if(n=Ue(t),r=Ue(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Rl(t[o],e[o]))return!1}}return String(t)===String(e)}function aA(t,e){return t.findIndex(n=>Rl(n,e))}const q_=t=>!!(t&&t.__v_isRef===!0),Dc=t=>Qe(t)?t:t==null?"":le(t)||Ue(t)&&(t.toString===B_||!fe(t.toString))?q_(t)?Dc(t.value):JSON.stringify(t,z_,2):String(t),z_=(t,e)=>q_(e)?z_(t,e.value):ai(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[ku(r,i)+" =>"]=s,n),{})}:Il(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ku(n))}:Hn(e)?ku(e):Ue(e)&&!le(e)&&!qf(e)?String(e):e,ku=(t,e="")=>{var n;return Hn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function cA(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class W_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Dt;try{return Dt=this,e()}finally{Dt=n}}}on(){++this._on===1&&(this.prevScope=Dt,Dt=this)}off(){this._on>0&&--this._on===0&&(Dt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Gf(t){return new W_(t)}function Ui(){return Dt}function $o(t,e=!1){Dt&&Dt.cleanups.push(t)}let He;const Ou=new WeakSet;class K_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ou.has(this)&&(Ou.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Q_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gg(this),J_(this);const e=He,n=An;He=this,An=!0;try{return this.fn()}finally{Y_(this),He=e,An=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yf(e);this.deps=this.depsTail=void 0,gg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ou.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ih(this)&&this.run()}get dirty(){return Ih(this)}}let G_=0,Io,bo;function Q_(t,e=!1){if(t.flags|=8,e){t.next=bo,bo=t;return}t.next=Io,Io=t}function Qf(){G_++}function Jf(){if(--G_>0)return;if(bo){let e=bo;for(bo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Io;){let e=Io;for(Io=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function J_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Y_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Yf(r),lA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Ih(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(X_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function X_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bo)||(t.globalVersion=Bo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ih(t))))return;t.flags|=2;const e=t.dep,n=He,r=An;He=t,An=!0;try{J_(t);const s=t.fn(t._value);(e.version===0||jr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{He=n,An=r,Y_(t),t.flags&=-3}}function Yf(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Yf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function lA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let An=!0;const Z_=[];function fr(){Z_.push(An),An=!1}function dr(){const t=Z_.pop();An=t===void 0?!0:t}function gg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let Bo=0;class uA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!He||!An||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new uA(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,ev(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=r)}return n}trigger(e){this.version++,Bo++,this.notify(e)}notify(e){Qf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Jf()}}}function ev(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ev(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Nc=new WeakMap,As=Symbol(""),bh=Symbol(""),jo=Symbol("");function Mt(t,e,n){if(An&&He){let r=Nc.get(t);r||Nc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Cl),s.map=r,s.key=n),s.track()}}function nr(t,e,n,r,s,i){const o=Nc.get(t);if(!o){Bo++;return}const a=l=>{l&&l.trigger()};if(Qf(),e==="clear")o.forEach(a);else{const l=le(t),u=l&&zf(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,p)=>{(p==="length"||p===jo||!Hn(p)&&p>=h)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(jo)),e){case"add":l?u&&a(o.get("length")):(a(o.get(As)),ai(t)&&a(o.get(bh)));break;case"delete":l||(a(o.get(As)),ai(t)&&a(o.get(bh)));break;case"set":ai(t)&&a(o.get(As));break}}Jf()}function hA(t,e){const n=Nc.get(t);return n&&n.get(e)}function Ks(t){const e=ye(t);return e===t?e:(Mt(e,"iterate",jo),dn(t)?e:e.map(Tt))}function Pl(t){return Mt(t=ye(t),"iterate",jo),t}const fA={__proto__:null,[Symbol.iterator](){return Du(this,Symbol.iterator,Tt)},concat(...t){return Ks(this).concat(...t.map(e=>le(e)?Ks(e):e))},entries(){return Du(this,"entries",t=>(t[1]=Tt(t[1]),t))},every(t,e){return Yn(this,"every",t,e,void 0,arguments)},filter(t,e){return Yn(this,"filter",t,e,n=>n.map(Tt),arguments)},find(t,e){return Yn(this,"find",t,e,Tt,arguments)},findIndex(t,e){return Yn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Yn(this,"findLast",t,e,Tt,arguments)},findLastIndex(t,e){return Yn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Yn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Nu(this,"includes",t)},indexOf(...t){return Nu(this,"indexOf",t)},join(t){return Ks(this).join(t)},lastIndexOf(...t){return Nu(this,"lastIndexOf",t)},map(t,e){return Yn(this,"map",t,e,void 0,arguments)},pop(){return ho(this,"pop")},push(...t){return ho(this,"push",t)},reduce(t,...e){return mg(this,"reduce",t,e)},reduceRight(t,...e){return mg(this,"reduceRight",t,e)},shift(){return ho(this,"shift")},some(t,e){return Yn(this,"some",t,e,void 0,arguments)},splice(...t){return ho(this,"splice",t)},toReversed(){return Ks(this).toReversed()},toSorted(t){return Ks(this).toSorted(t)},toSpliced(...t){return Ks(this).toSpliced(...t)},unshift(...t){return ho(this,"unshift",t)},values(){return Du(this,"values",Tt)}};function Du(t,e,n){const r=Pl(t),s=r[e]();return r!==t&&!dn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const dA=Array.prototype;function Yn(t,e,n,r,s,i){const o=Pl(t),a=o!==t&&!dn(t),l=o[e];if(l!==dA[e]){const f=l.apply(t,i);return a?Tt(f):f}let u=n;o!==t&&(a?u=function(f,p){return n.call(this,Tt(f),p,t)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function mg(t,e,n,r){const s=Pl(t);let i=n;return s!==t&&(dn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Tt(a),l,t)}),s[e](i,...r)}function Nu(t,e,n){const r=ye(t);Mt(r,"iterate",jo);const s=r[e](...n);return(s===-1||s===!1)&&ed(n[0])?(n[0]=ye(n[0]),r[e](...n)):s}function ho(t,e,n=[]){fr(),Qf();const r=ye(t)[e].apply(t,n);return Jf(),dr(),r}const pA=$f("__proto__,__v_isRef,__isVue"),tv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hn));function gA(t){Hn(t)||(t=String(t));const e=ye(this);return Mt(e,"has",t),e.hasOwnProperty(t)}class nv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?AA:ov:i?iv:sv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=le(e);if(!s){let l;if(o&&(l=fA[n]))return l;if(n==="hasOwnProperty")return gA}const a=Reflect.get(e,n,Ge(e)?e:r);return(Hn(n)?tv.has(n):pA(n))||(s||Mt(e,"get",n),i)?a:Ge(a)?o&&zf(n)?a:a.value:Ue(a)?s?av(a):ut(a):a}}class rv extends nv{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=pr(i);if(!dn(r)&&!pr(r)&&(i=ye(i),r=ye(r)),!le(e)&&Ge(i)&&!Ge(r))return l?!1:(i.value=r,!0)}const o=le(e)&&zf(n)?Number(n)<e.length:Ne(e,n),a=Reflect.set(e,n,r,Ge(e)?e:s);return e===ye(s)&&(o?jr(r,i)&&nr(e,"set",n,r):nr(e,"add",n,r)),a}deleteProperty(e,n){const r=Ne(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&nr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Hn(n)||!tv.has(n))&&Mt(e,"has",n),r}ownKeys(e){return Mt(e,"iterate",le(e)?"length":As),Reflect.ownKeys(e)}}class mA extends nv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yA=new rv,_A=new mA,vA=new rv(!0);const Ah=t=>t,qa=t=>Reflect.getPrototypeOf(t);function wA(t,e,n){return function(...r){const s=this.__v_raw,i=ye(s),o=ai(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?Ah:e?Mc:Tt;return!e&&Mt(i,"iterate",l?bh:As),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function za(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function EA(t,e){const n={get(s){const i=this.__v_raw,o=ye(i),a=ye(s);t||(jr(s,a)&&Mt(o,"get",s),Mt(o,"get",a));const{has:l}=qa(o),u=e?Ah:t?Mc:Tt;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Mt(ye(s),"iterate",As),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=ye(i),a=ye(s);return t||(jr(s,a)&&Mt(o,"has",s),Mt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=ye(a),u=e?Ah:t?Mc:Tt;return!t&&Mt(l,"iterate",As),a.forEach((h,f)=>s.call(i,u(h),u(f),o))}};return pt(n,t?{add:za("add"),set:za("set"),delete:za("delete"),clear:za("clear")}:{add(s){!e&&!dn(s)&&!pr(s)&&(s=ye(s));const i=ye(this);return qa(i).has.call(i,s)||(i.add(s),nr(i,"add",s,s)),this},set(s,i){!e&&!dn(i)&&!pr(i)&&(i=ye(i));const o=ye(this),{has:a,get:l}=qa(o);let u=a.call(o,s);u||(s=ye(s),u=a.call(o,s));const h=l.call(o,s);return o.set(s,i),u?jr(i,h)&&nr(o,"set",s,i):nr(o,"add",s,i),this},delete(s){const i=ye(this),{has:o,get:a}=qa(i);let l=o.call(i,s);l||(s=ye(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&nr(i,"delete",s,void 0),u},clear(){const s=ye(this),i=s.size!==0,o=s.clear();return i&&nr(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=wA(s,t,e)}),n}function Xf(t,e){const n=EA(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ne(n,s)&&s in r?n:r,s,i)}const TA={get:Xf(!1,!1)},IA={get:Xf(!1,!0)},bA={get:Xf(!0,!1)};const sv=new WeakMap,iv=new WeakMap,ov=new WeakMap,AA=new WeakMap;function SA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function RA(t){return t.__v_skip||!Object.isExtensible(t)?0:SA(Yb(t))}function ut(t){return pr(t)?t:Zf(t,!1,yA,TA,sv)}function Ln(t){return Zf(t,!1,vA,IA,iv)}function av(t){return Zf(t,!0,_A,bA,ov)}function Zf(t,e,n,r,s){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=RA(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function lr(t){return pr(t)?lr(t.__v_raw):!!(t&&t.__v_isReactive)}function pr(t){return!!(t&&t.__v_isReadonly)}function dn(t){return!!(t&&t.__v_isShallow)}function ed(t){return t?!!t.__v_raw:!1}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function td(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Th(t,"__v_skip",!0),t}const Tt=t=>Ue(t)?ut(t):t,Mc=t=>Ue(t)?av(t):t;function Ge(t){return t?t.__v_isRef===!0:!1}function Ke(t){return cv(t,!1)}function Vn(t){return cv(t,!0)}function cv(t,e){return Ge(t)?t:new CA(t,e)}class CA{constructor(e,n){this.dep=new Cl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ye(e),this._value=n?e:Tt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||dn(e)||pr(e);e=r?e:ye(e),jr(e,n)&&(this._rawValue=e,this._value=r?e:Tt(e),this.dep.trigger())}}function We(t){return Ge(t)?t.value:t}function wn(t){return fe(t)?t():We(t)}const PA={get:(t,e,n)=>e==="__v_raw"?t:We(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ge(s)&&!Ge(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function lv(t){return lr(t)?t:new Proxy(t,PA)}class kA{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Cl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function OA(t){return new kA(t)}function DA(t){const e=le(t)?new Array(t.length):{};for(const n in t)e[n]=hv(t,n);return e}class NA{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hA(ye(this._object),this._key)}}class MA{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function uv(t,e,n){return Ge(t)?t:fe(t)?new MA(t):Ue(t)&&arguments.length>1?hv(t,e,n):Ke(t)}function hv(t,e,n){const r=t[e];return Ge(r)?r:new NA(t,e,n)}class xA{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return Q_(this,!0),!0}get value(){const e=this.dep.track();return X_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function LA(t,e,n=!1){let r,s;return fe(t)?r=t:(r=t.get,s=t.set),new xA(r,s,n)}const Wa={},xc=new WeakMap;let ys;function VA(t,e=!1,n=ys){if(n){let r=xc.get(n);r||xc.set(n,r=[]),r.push(t)}}function FA(t,e,n=Be){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=P=>s?P:dn(P)||s===!1||s===0?rr(P,1):rr(P);let h,f,p,g,y=!1,E=!1;if(Ge(t)?(f=()=>t.value,y=dn(t)):lr(t)?(f=()=>u(t),y=!0):le(t)?(E=!0,y=t.some(P=>lr(P)||dn(P)),f=()=>t.map(P=>{if(Ge(P))return P.value;if(lr(P))return u(P);if(fe(P))return l?l(P,2):P()})):fe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){fr();try{p()}finally{dr()}}const P=ys;ys=h;try{return l?l(t,3,[g]):t(g)}finally{ys=P}}:f=bn,e&&s){const P=f,D=s===!0?1/0:s;f=()=>rr(P(),D)}const S=Ui(),M=()=>{h.stop(),S&&S.active&&jf(S.effects,h)};if(i&&e){const P=e;e=(...D)=>{P(...D),M()}}let O=E?new Array(t.length).fill(Wa):Wa;const v=P=>{if(!(!(h.flags&1)||!h.dirty&&!P))if(e){const D=h.run();if(s||y||(E?D.some((L,A)=>jr(L,O[A])):jr(D,O))){p&&p();const L=ys;ys=h;try{const A=[D,O===Wa?void 0:E&&O[0]===Wa?[]:O,g];O=D,l?l(e,3,A):e(...A)}finally{ys=L}}}else h.run()};return a&&a(v),h=new K_(f),h.scheduler=o?()=>o(v,!1):v,g=P=>VA(P,!1,h),p=h.onStop=()=>{const P=xc.get(h);if(P){if(l)l(P,4);else for(const D of P)D();xc.delete(h)}},e?r?v(!0):O=h.run():o?o(v.bind(null,!0),!0):h.run(),M.pause=h.pause.bind(h),M.resume=h.resume.bind(h),M.stop=M,M}function rr(t,e=1/0,n){if(e<=0||!Ue(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ge(t))rr(t.value,e,n);else if(le(t))for(let r=0;r<t.length;r++)rr(t[r],e,n);else if(Il(t)||ai(t))t.forEach(r=>{rr(r,e,n)});else if(qf(t)){for(const r in t)rr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&rr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function la(t,e,n,r){try{return r?t(...r):t()}catch(s){$i(s,e,n)}}function Rn(t,e,n,r){if(fe(t)){const s=la(t,e,n,r);return s&&Hf(s)&&s.catch(i=>{$i(i,e,n)}),s}if(le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Rn(t[i],e,n,r));return s}}function $i(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,u)===!1)return}a=a.parent}if(i){fr(),la(i,null,10,[t,l,u]),dr();return}}UA(t,n,s,r,o)}function UA(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const jt=[];let Dn=-1;const ui=[];let Dr=null,Ys=0;const fv=Promise.resolve();let Lc=null;function sn(t){const e=Lc||fv;return t?e.then(this?t.bind(this):t):e}function $A(t){let e=Dn+1,n=jt.length;for(;e<n;){const r=e+n>>>1,s=jt[r],i=Ho(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function nd(t){if(!(t.flags&1)){const e=Ho(t),n=jt[jt.length-1];!n||!(t.flags&2)&&e>=Ho(n)?jt.push(t):jt.splice($A(e),0,t),t.flags|=1,dv()}}function dv(){Lc||(Lc=fv.then(pv))}function Vc(t){le(t)?ui.push(...t):Dr&&t.id===-1?Dr.splice(Ys+1,0,t):t.flags&1||(ui.push(t),t.flags|=1),dv()}function yg(t,e,n=Dn+1){for(;n<jt.length;n++){const r=jt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;jt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Fc(t){if(ui.length){const e=[...new Set(ui)].sort((n,r)=>Ho(n)-Ho(r));if(ui.length=0,Dr){Dr.push(...e);return}for(Dr=e,Ys=0;Ys<Dr.length;Ys++){const n=Dr[Ys];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Dr=null,Ys=0}}const Ho=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pv(t){try{for(Dn=0;Dn<jt.length;Dn++){const e=jt[Dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),la(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Dn<jt.length;Dn++){const e=jt[Dn];e&&(e.flags&=-2)}Dn=-1,jt.length=0,Fc(),Lc=null,(jt.length||ui.length)&&pv()}}let en=null,gv=null;function Uc(t){const e=en;return en=t,gv=t&&t.type.__scopeId||null,e}function Es(t,e=en,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Pg(-1);const i=Uc(e);let o;try{o=t(...s)}finally{Uc(i),r._d&&Pg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function dU(t,e){if(en===null)return t;const n=Nl(en),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Be]=e[s];i&&(fe(i)&&(i={mounted:i,updated:i}),i.deep&&rr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Nn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(fr(),Rn(l,n,8,[t.el,a,t,e]),dr())}}const BA=Symbol("_vte"),mv=t=>t.__isTeleport,Nr=Symbol("_leaveCb"),Ka=Symbol("_enterCb");function jA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vs(()=>{t.isMounted=!0}),Bi(()=>{t.isUnmounting=!0}),t}const un=[Function,Array],yv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},_v=t=>{const e=t.subTree;return e.component?_v(e.component):e},HA={name:"BaseTransition",props:yv,setup(t,{slots:e}){const n=Tr(),r=jA();return()=>{const s=e.default&&Ev(e.default(),!0);if(!s||!s.length)return;const i=vv(s),o=ye(t),{mode:a}=o;if(r.isLeaving)return Mu(i);const l=_g(i);if(!l)return Mu(i);let u=Sh(l,o,r,n,f=>u=f);l.type!==ct&&Ti(l,u);let h=n.subTree&&_g(n.subTree);if(h&&h.type!==ct&&!En(l,h)&&_v(n).type!==ct){let f=Sh(h,o,r,n);if(Ti(h,f),a==="out-in"&&l.type!==ct)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,h=void 0},Mu(i);a==="in-out"&&l.type!==ct?f.delayLeave=(p,g,y)=>{const E=wv(r,h);E[String(h.key)]=h,p[Nr]=()=>{g(),p[Nr]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function vv(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ct){e=n;break}}return e}const qA=HA;function wv(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Sh(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:y,onLeaveCancelled:E,onBeforeAppear:S,onAppear:M,onAfterAppear:O,onAppearCancelled:v}=e,P=String(t.key),D=wv(n,t),L=(_,I)=>{_&&Rn(_,r,9,I)},A=(_,I)=>{const k=I[1];L(_,I),le(_)?_.every(R=>R.length<=1)&&k():_.length<=1&&k()},w={mode:o,persisted:a,beforeEnter(_){let I=l;if(!n.isMounted)if(i)I=S||l;else return;_[Nr]&&_[Nr](!0);const k=D[P];k&&En(t,k)&&k.el[Nr]&&k.el[Nr](),L(I,[_])},enter(_){let I=u,k=h,R=f;if(!n.isMounted)if(i)I=M||u,k=O||h,R=v||f;else return;let b=!1;const se=_[Ka]=me=>{b||(b=!0,me?L(R,[_]):L(k,[_]),w.delayedLeave&&w.delayedLeave(),_[Ka]=void 0)};I?A(I,[_,se]):se()},leave(_,I){const k=String(t.key);if(_[Ka]&&_[Ka](!0),n.isUnmounting)return I();L(p,[_]);let R=!1;const b=_[Nr]=se=>{R||(R=!0,I(),se?L(E,[_]):L(y,[_]),_[Nr]=void 0,D[k]===t&&delete D[k])};D[k]=t,g?A(g,[_,b]):b()},clone(_){const I=Sh(_,e,n,r,s);return s&&s(I),I}};return w}function Mu(t){if(ua(t))return t=qn(t),t.children=null,t}function _g(t){if(!ua(t))return mv(t.type)&&t.children?vv(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&fe(n.default))return n.default()}}function Ti(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ti(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ev(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===xt?(o.patchFlag&128&&s++,r=r.concat(Ev(o.children,e,a))):(e||o.type!==ct)&&r.push(a!=null?qn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(t,e){return fe(t)?pt({name:t.name},e,{setup:t}):t}function rd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hi(t,e,n,r,s=!1){if(le(t)){t.forEach((y,E)=>hi(y,e&&(le(e)?e[E]:e),n,r,s));return}if(Ss(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&hi(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Nl(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===Be?a.refs={}:a.refs,f=a.setupState,p=ye(f),g=f===Be?()=>!1:y=>Ne(p,y);if(u!=null&&u!==l&&(Qe(u)?(h[u]=null,g(u)&&(f[u]=null)):Ge(u)&&(u.value=null)),fe(l))la(l,a,12,[o,h]);else{const y=Qe(l),E=Ge(l);if(y||E){const S=()=>{if(t.f){const M=y?g(l)?f[l]:h[l]:l.value;s?le(M)&&jf(M,i):le(M)?M.includes(i)||M.push(i):y?(h[l]=[i],g(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else y?(h[l]=o,g(l)&&(f[l]=o)):E&&(l.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,vt(S,n)):S()}}}let vg=!1;const Gs=()=>{vg||(console.error("Hydration completed but contains mismatches."),vg=!0)},zA=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",WA=t=>t.namespaceURI.includes("MathML"),Ga=t=>{if(t.nodeType===1){if(zA(t))return"svg";if(WA(t))return"mathml"}},ii=t=>t.nodeType===8;function KA(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:u}}=t,h=(v,P)=>{if(!P.hasChildNodes()){n(null,v,P),Fc(),P._vnode=v;return}f(P.firstChild,v,null,null,null),Fc(),P._vnode=v},f=(v,P,D,L,A,w=!1)=>{w=w||!!P.dynamicChildren;const _=ii(v)&&v.data==="[",I=()=>E(v,P,D,L,A,_),{type:k,ref:R,shapeFlag:b,patchFlag:se}=P;let me=v.nodeType;P.el=v,se===-2&&(w=!1,P.dynamicChildren=null);let Q=null;switch(k){case Cs:me!==3?P.children===""?(l(P.el=s(""),o(v),v),Q=v):Q=I():(v.data!==P.children&&(Gs(),v.data=P.children),Q=i(v));break;case ct:O(v)?(Q=i(v),M(P.el=v.content.firstChild,v,D)):me!==8||_?Q=I():Q=i(v);break;case di:if(_&&(v=i(v),me=v.nodeType),me===1||me===3){Q=v;const te=!P.children.length;for(let W=0;W<P.staticCount;W++)te&&(P.children+=Q.nodeType===1?Q.outerHTML:Q.data),W===P.staticCount-1&&(P.anchor=Q),Q=i(Q);return _?i(Q):Q}else I();break;case xt:_?Q=y(v,P,D,L,A,w):Q=I();break;default:if(b&1)(me!==1||P.type.toLowerCase()!==v.tagName.toLowerCase())&&!O(v)?Q=I():Q=p(v,P,D,L,A,w);else if(b&6){P.slotScopeIds=A;const te=o(v);if(_?Q=S(v):ii(v)&&v.data==="teleport start"?Q=S(v,v.data,"teleport end"):Q=i(v),e(P,te,null,D,L,Ga(te),w),Ss(P)&&!P.type.__asyncResolved){let W;_?(W=pe(xt),W.anchor=Q?Q.previousSibling:te.lastChild):W=v.nodeType===3?zo(""):pe("div"),W.el=v,P.component.subTree=W}}else b&64?me!==8?Q=I():Q=P.type.hydrate(v,P,D,L,A,w,t,g):b&128&&(Q=P.type.hydrate(v,P,D,L,Ga(o(v)),A,w,t,f))}return R!=null&&hi(R,null,L,P),Q},p=(v,P,D,L,A,w)=>{w=w||!!P.dynamicChildren;const{type:_,props:I,patchFlag:k,shapeFlag:R,dirs:b,transition:se}=P,me=_==="input"||_==="option";if(me||k!==-1){b&&Nn(P,null,D,"created");let Q=!1;if(O(v)){Q=qv(null,se)&&D&&D.vnode.props&&D.vnode.props.appear;const W=v.content.firstChild;if(Q){const Ee=W.getAttribute("class");Ee&&(W.$cls=Ee),se.beforeEnter(W)}M(W,v,D),P.el=v=W}if(R&16&&!(I&&(I.innerHTML||I.textContent))){let W=g(v.firstChild,P,v,D,L,A,w);for(;W;){Qa(v,1)||Gs();const Ee=W;W=W.nextSibling,a(Ee)}}else if(R&8){let W=P.children;W[0]===`
`&&(v.tagName==="PRE"||v.tagName==="TEXTAREA")&&(W=W.slice(1)),v.textContent!==W&&(Qa(v,0)||Gs(),v.textContent=P.children)}if(I){if(me||!w||k&48){const W=v.tagName.includes("-");for(const Ee in I)(me&&(Ee.endsWith("value")||Ee==="indeterminate")||ca(Ee)&&!ci(Ee)||Ee[0]==="."||W)&&r(v,Ee,null,I[Ee],void 0,D)}else if(I.onClick)r(v,"onClick",null,I.onClick,void 0,D);else if(k&4&&lr(I.style))for(const W in I.style)I.style[W]}let te;(te=I&&I.onVnodeBeforeMount)&&zt(te,D,P),b&&Nn(P,null,D,"beforeMount"),((te=I&&I.onVnodeMounted)||b||Q)&&Jv(()=>{te&&zt(te,D,P),Q&&se.enter(v),b&&Nn(P,null,D,"mounted")},L)}return v.nextSibling},g=(v,P,D,L,A,w,_)=>{_=_||!!P.dynamicChildren;const I=P.children,k=I.length;for(let R=0;R<k;R++){const b=_?I[R]:I[R]=Xt(I[R]),se=b.type===Cs;v?(se&&!_&&R+1<k&&Xt(I[R+1]).type===Cs&&(l(s(v.data.slice(b.children.length)),D,i(v)),v.data=b.children),v=f(v,b,L,A,w,_)):se&&!b.children?l(b.el=s(""),D):(Qa(D,1)||Gs(),n(null,b,D,null,L,A,Ga(D),w))}return v},y=(v,P,D,L,A,w)=>{const{slotScopeIds:_}=P;_&&(A=A?A.concat(_):_);const I=o(v),k=g(i(v),P,I,D,L,A,w);return k&&ii(k)&&k.data==="]"?i(P.anchor=k):(Gs(),l(P.anchor=u("]"),I,k),k)},E=(v,P,D,L,A,w)=>{if(Qa(v.parentElement,1)||Gs(),P.el=null,w){const k=S(v);for(;;){const R=i(v);if(R&&R!==k)a(R);else break}}const _=i(v),I=o(v);return a(v),n(null,P,I,_,D,L,Ga(I),A),D&&(D.vnode.el=P.el,Dl(D,P.el)),_},S=(v,P="[",D="]")=>{let L=0;for(;v;)if(v=i(v),v&&ii(v)&&(v.data===P&&L++,v.data===D)){if(L===0)return i(v);L--}return v},M=(v,P,D)=>{const L=P.parentNode;L&&L.replaceChild(v,P);let A=D;for(;A;)A.vnode.el===P&&(A.vnode.el=A.subTree.el=v),A=A.parent},O=v=>v.nodeType===1&&v.tagName==="TEMPLATE";return[h,f]}const wg="data-allow-mismatch",GA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Qa(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(wg);)t=t.parentElement;const n=t&&t.getAttribute(wg);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(GA[e])}}Sl().requestIdleCallback;Sl().cancelIdleCallback;function QA(t,e){if(ii(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ii(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Ss=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function fo(t){fe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,h,f=0;const p=()=>(f++,u=null,g()),g=()=>{let y;return u||(y=u=e().catch(E=>{if(E=E instanceof Error?E:new Error(String(E)),l)return new Promise((S,M)=>{l(E,()=>S(p()),()=>M(E),f+1)});throw E}).then(E=>y!==u&&u?u:(E&&(E.__esModule||E[Symbol.toStringTag]==="Module")&&(E=E.default),h=E,E)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(y,E,S){let M=!1;(E.bu||(E.bu=[])).push(()=>M=!0);const O=()=>{M||S()},v=i?()=>{const P=i(O,D=>QA(y,D));P&&(E.bum||(E.bum=[])).push(P)}:O;h?v():g().then(()=>!E.isUnmounted&&v())},get __asyncResolved(){return h},setup(){const y=It;if(rd(y),h)return()=>xu(h,y);const E=v=>{u=null,$i(v,y,13,!r)};if(a&&y.suspense||bi)return g().then(v=>()=>xu(v,y)).catch(v=>(E(v),()=>r?pe(r,{error:v}):null));const S=Ke(!1),M=Ke(),O=Ke(!!s);return s&&setTimeout(()=>{O.value=!1},s),o!=null&&setTimeout(()=>{if(!S.value&&!M.value){const v=new Error(`Async component timed out after ${o}ms.`);E(v),M.value=v}},o),g().then(()=>{S.value=!0,y.parent&&ua(y.parent.vnode)&&y.parent.update()}).catch(v=>{E(v),M.value=v}),()=>{if(S.value&&h)return xu(h,y);if(M.value&&r)return pe(r,{error:M.value});if(n&&!O.value)return pe(n)}}})}function xu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=pe(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ua=t=>t.type.__isKeepAlive,JA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Tr(),r=n.ctx;if(!r.renderer)return()=>{const O=e.default&&e.default();return O&&O.length===1?O[0]:O};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:h,o:{createElement:f}}}=r,p=f("div");r.activate=(O,v,P,D,L)=>{const A=O.component;u(O,v,P,0,a),l(A.vnode,O,v,P,A,a,D,O.slotScopeIds,L),vt(()=>{A.isDeactivated=!1,A.a&&li(A.a);const w=O.props&&O.props.onVnodeMounted;w&&zt(w,A.parent,O)},a)},r.deactivate=O=>{const v=O.component;Bc(v.m),Bc(v.a),u(O,p,null,1,a),vt(()=>{v.da&&li(v.da);const P=O.props&&O.props.onVnodeUnmounted;P&&zt(P,v.parent,O),v.isDeactivated=!0},a)};function g(O){Lu(O),h(O,n,a,!0)}function y(O){s.forEach((v,P)=>{const D=Lh(v.type);D&&!O(D)&&E(P)})}function E(O){const v=s.get(O);v&&(!o||!En(v,o))?g(v):o&&Lu(o),s.delete(O),i.delete(O)}nn(()=>[t.include,t.exclude],([O,v])=>{O&&y(P=>_o(O,P)),v&&y(P=>!_o(v,P))},{flush:"post",deep:!0});let S=null;const M=()=>{S!=null&&(jc(n.subTree.type)?vt(()=>{s.set(S,Ja(n.subTree))},n.subTree.suspense):s.set(S,Ja(n.subTree)))};return Vs(M),Rv(M),Bi(()=>{s.forEach(O=>{const{subTree:v,suspense:P}=n,D=Ja(v);if(O.type===D.type&&O.key===D.key){Lu(D);const L=D.component.da;L&&vt(L,P);return}g(O)})}),()=>{if(S=null,!e.default)return o=null;const O=e.default(),v=O[0];if(O.length>1)return o=null,O;if(!Gr(v)||!(v.shapeFlag&4)&&!(v.shapeFlag&128))return o=null,v;let P=Ja(v);if(P.type===ct)return o=null,P;const D=P.type,L=Lh(Ss(P)?P.type.__asyncResolved||{}:D),{include:A,exclude:w,max:_}=t;if(A&&(!L||!_o(A,L))||w&&L&&_o(w,L))return P.shapeFlag&=-257,o=P,v;const I=P.key==null?D:P.key,k=s.get(I);return P.el&&(P=qn(P),v.shapeFlag&128&&(v.ssContent=P)),S=I,k?(P.el=k.el,P.component=k.component,P.transition&&Ti(P,P.transition),P.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),_&&i.size>parseInt(_,10)&&E(i.values().next().value)),P.shapeFlag|=256,o=P,jc(v.type)?v:P}}},YA=JA;function _o(t,e){return le(t)?t.some(n=>_o(n,e)):Qe(t)?t.split(",").includes(e):Jb(t)?(t.lastIndex=0,t.test(e)):!1}function Tv(t,e){bv(t,"a",e)}function Iv(t,e){bv(t,"da",e)}function bv(t,e,n=It){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(kl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ua(s.parent.vnode)&&XA(r,e,n,s),s=s.parent}}function XA(t,e,n,r){const s=kl(e,t,r,!0);an(()=>{jf(r[e],s)},n)}function Lu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ja(t){return t.shapeFlag&128?t.ssContent:t}function kl(t,e,n=It,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{fr();const a=ks(n),l=Rn(e,n,t,o);return a(),dr(),l});return r?s.unshift(i):s.push(i),i}}const Er=t=>(e,n=It)=>{(!bi||t==="sp")&&kl(t,(...r)=>e(...r),n)},Av=Er("bm"),Vs=Er("m"),Sv=Er("bu"),Rv=Er("u"),Bi=Er("bum"),an=Er("um"),ZA=Er("sp"),e0=Er("rtg"),t0=Er("rtc");function Cv(t,e=It){kl("ec",t,e)}const Pv="components";function Rh(t,e){return Ov(Pv,t,!0,e)||t}const kv=Symbol.for("v-ndc");function n0(t){return Qe(t)?Ov(Pv,t,!1)||t:t||kv}function Ov(t,e,n=!0,r=!1){const s=en||It;if(s){const i=s.type;{const a=Lh(i,!1);if(a&&(a===e||a===mn(e)||a===Al(mn(e))))return i}const o=Eg(s[t]||i[t],e)||Eg(s.appContext[t],e);return!o&&r?i:o}}function Eg(t,e){return t&&(t[e]||t[mn(e)]||t[Al(mn(e))])}function pU(t,e,n,r){let s;const i=n,o=le(t);if(o||Qe(t)){const a=o&&lr(t);let l=!1,u=!1;a&&(l=!dn(t),u=pr(t),t=Pl(t)),s=new Array(t.length);for(let h=0,f=t.length;h<f;h++)s[h]=e(l?u?Mc(Tt(t[h])):Tt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Ue(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}const Ch=t=>t?ew(t)?Nl(t):Ch(t.parent):null,Ao=pt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ch(t.parent),$root:t=>Ch(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Nv(t),$forceUpdate:t=>t.f||(t.f=()=>{nd(t.update)}),$nextTick:t=>t.n||(t.n=sn.bind(t.proxy)),$watch:t=>T0.bind(t)}),Vu=(t,e)=>t!==Be&&!t.__isScriptSetup&&Ne(t,e),r0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Vu(r,e))return o[e]=1,r[e];if(s!==Be&&Ne(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Ne(u,e))return o[e]=3,i[e];if(n!==Be&&Ne(n,e))return o[e]=4,n[e];Ph&&(o[e]=0)}}const h=Ao[e];let f,p;if(h)return e==="$attrs"&&Mt(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Be&&Ne(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Ne(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Vu(s,e)?(s[e]=n,!0):r!==Be&&Ne(r,e)?(r[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Be&&Ne(t,o)||Vu(e,o)||(a=i[0])&&Ne(a,o)||Ne(r,o)||Ne(Ao,o)||Ne(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Tg(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function gU(t){const e=Tr();let n=t();return Mh(),Hf(n)&&(n=n.catch(r=>{throw ks(e),r})),[n,()=>ks(e)]}let Ph=!0;function s0(t){const e=Nv(t),n=t.proxy,r=t.ctx;Ph=!1,e.beforeCreate&&Ig(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:y,activated:E,deactivated:S,beforeDestroy:M,beforeUnmount:O,destroyed:v,unmounted:P,render:D,renderTracked:L,renderTriggered:A,errorCaptured:w,serverPrefetch:_,expose:I,inheritAttrs:k,components:R,directives:b,filters:se}=e;if(u&&i0(u,r,null),o)for(const te in o){const W=o[te];fe(W)&&(r[te]=W.bind(n))}if(s){const te=s.call(n,n);Ue(te)&&(t.data=ut(te))}if(Ph=!0,i)for(const te in i){const W=i[te],Ee=fe(W)?W.bind(n,n):fe(W.get)?W.get.bind(n,n):bn,Rt=!fe(W)&&fe(W.set)?W.set.bind(n):bn,gt=we({get:Ee,set:Rt});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>gt.value,set:Oe=>gt.value=Oe})}if(a)for(const te in a)Dv(a[te],r,n,te);if(l){const te=fe(l)?l.call(n):l;Reflect.ownKeys(te).forEach(W=>{ur(W,te[W])})}h&&Ig(h,t,"c");function Q(te,W){le(W)?W.forEach(Ee=>te(Ee.bind(n))):W&&te(W.bind(n))}if(Q(Av,f),Q(Vs,p),Q(Sv,g),Q(Rv,y),Q(Tv,E),Q(Iv,S),Q(Cv,w),Q(t0,L),Q(e0,A),Q(Bi,O),Q(an,P),Q(ZA,_),le(I))if(I.length){const te=t.exposed||(t.exposed={});I.forEach(W=>{Object.defineProperty(te,W,{get:()=>n[W],set:Ee=>n[W]=Ee,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===bn&&(t.render=D),k!=null&&(t.inheritAttrs=k),R&&(t.components=R),b&&(t.directives=b),_&&rd(t)}function i0(t,e,n=bn){le(t)&&(t=kh(t));for(const r in t){const s=t[r];let i;Ue(s)?"default"in s?i=tt(s.from||r,s.default,!0):i=tt(s.from||r):i=tt(s),Ge(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ig(t,e,n){Rn(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Dv(t,e,n,r){let s=r.includes(".")?Kv(n,r):()=>n[r];if(Qe(t)){const i=e[t];fe(i)&&nn(s,i)}else if(fe(t))nn(s,t.bind(n));else if(Ue(t))if(le(t))t.forEach(i=>Dv(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&nn(s,i,t)}}function Nv(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>$c(l,u,o,!0)),$c(l,e,o)),Ue(e)&&i.set(e,l),l}function $c(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&$c(t,i,n,!0),s&&s.forEach(o=>$c(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=o0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const o0={data:bg,props:Ag,emits:Ag,methods:vo,computed:vo,beforeCreate:Bt,created:Bt,beforeMount:Bt,mounted:Bt,beforeUpdate:Bt,updated:Bt,beforeDestroy:Bt,beforeUnmount:Bt,destroyed:Bt,unmounted:Bt,activated:Bt,deactivated:Bt,errorCaptured:Bt,serverPrefetch:Bt,components:vo,directives:vo,watch:c0,provide:bg,inject:a0};function bg(t,e){return e?t?function(){return pt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function a0(t,e){return vo(kh(t),kh(e))}function kh(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bt(t,e){return t?[...new Set([].concat(t,e))]:e}function vo(t,e){return t?pt(Object.create(null),t,e):e}function Ag(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:pt(Object.create(null),Tg(t),Tg(e??{})):e}function c0(t,e){if(!t)return e;if(!e)return t;const n=pt(Object.create(null),t);for(const r in e)n[r]=Bt(t[r],e[r]);return n}function Mv(){return{app:null,config:{isNativeTag:Gb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l0=0;function u0(t,e){return function(r,s=null){fe(r)||(r=pt({},r)),s!=null&&!Ue(s)&&(s=null);const i=Mv(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:l0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:z0,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&fe(h.install)?(o.add(h),h.install(u,...f)):fe(h)&&(o.add(h),h(u,...f))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,f){return f?(i.components[h]=f,u):i.components[h]},directive(h,f){return f?(i.directives[h]=f,u):i.directives[h]},mount(h,f,p){if(!l){const g=u._ceVNode||pe(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,h):t(g,h,p),l=!0,u._container=h,h.__vue_app__=u,Nl(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Rn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return i.provides[h]=f,u},runWithContext(h){const f=Rs;Rs=u;try{return h()}finally{Rs=f}}};return u}}let Rs=null;function ur(t,e){if(It){let n=It.provides;const r=It.parent&&It.parent.provides;r===n&&(n=It.provides=Object.create(r)),n[t]=e}}function tt(t,e,n=!1){const r=Tr();if(r||Rs){let s=Rs?Rs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}function ha(){return!!(Tr()||Rs)}const xv={},Lv=()=>Object.create(xv),Vv=t=>Object.getPrototypeOf(t)===xv;function h0(t,e,n,r=!1){const s={},i=Lv();t.propsDefaults=Object.create(null),Fv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ln(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function f0(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ye(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Ol(t.emitsOptions,p))continue;const g=e[p];if(l)if(Ne(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const y=mn(p);s[y]=Oh(l,a,y,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Fv(t,e,s,i)&&(u=!0);let h;for(const f in a)(!e||!Ne(e,f)&&((h=ns(f))===f||!Ne(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=Oh(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Ne(e,f))&&(delete i[f],u=!0)}u&&nr(t.attrs,"set","")}function Fv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ci(l))continue;const u=e[l];let h;s&&Ne(s,h=mn(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Ol(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=ye(n),u=a||Be;for(let h=0;h<i.length;h++){const f=i[h];n[f]=Oh(s,l,f,u[f],t,!Ne(u,f))}}return o}function Oh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ne(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&fe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=ks(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ns(n))&&(r=!0))}return r}const d0=new WeakMap;function Uv(t,e,n=!1){const r=n?d0:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!fe(t)){const h=f=>{l=!0;const[p,g]=Uv(f,e,!0);pt(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ue(t)&&r.set(t,oi),oi;if(le(i))for(let h=0;h<i.length;h++){const f=mn(i[h]);Sg(f)&&(o[f]=Be)}else if(i)for(const h in i){const f=mn(h);if(Sg(f)){const p=i[h],g=o[f]=le(p)||fe(p)?{type:p}:pt({},p),y=g.type;let E=!1,S=!0;if(le(y))for(let M=0;M<y.length;++M){const O=y[M],v=fe(O)&&O.name;if(v==="Boolean"){E=!0;break}else v==="String"&&(S=!1)}else E=fe(y)&&y.name==="Boolean";g[0]=E,g[1]=S,(E||Ne(g,"default"))&&a.push(f)}}const u=[o,a];return Ue(t)&&r.set(t,u),u}function Sg(t){return t[0]!=="$"&&!ci(t)}const sd=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",id=t=>le(t)?t.map(Xt):[Xt(t)],p0=(t,e,n)=>{if(e._n)return e;const r=Es((...s)=>id(e(...s)),n);return r._c=!1,r},$v=(t,e,n)=>{const r=t._ctx;for(const s in t){if(sd(s))continue;const i=t[s];if(fe(i))e[s]=p0(s,i,r);else if(i!=null){const o=id(i);e[s]=()=>o}}},Bv=(t,e)=>{const n=id(e);t.slots.default=()=>n},jv=(t,e,n)=>{for(const r in e)(n||!sd(r))&&(t[r]=e[r])},g0=(t,e,n)=>{const r=t.slots=Lv();if(t.vnode.shapeFlag&32){const s=e.__;s&&Th(r,"__",s,!0);const i=e._;i?(jv(r,e,n),n&&Th(r,"_",i,!0)):$v(e,r)}else e&&Bv(t,e)},m0=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Be;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:jv(s,e,n):(i=!e.$stable,$v(e,s)),o=e}else e&&(Bv(t,e),o={default:1});if(i)for(const a in s)!sd(a)&&o[a]==null&&delete s[a]},vt=Jv;function y0(t){return Hv(t)}function _0(t){return Hv(t,KA)}function Hv(t,e){const n=Sl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=bn,insertStaticContent:y}=t,E=(C,N,V,H=null,$=null,q=null,Z=void 0,G=null,K=!!N.dynamicChildren)=>{if(C===N)return;C&&!En(C,N)&&(H=F(C),Oe(C,$,q,!0),C=null),N.patchFlag===-2&&(K=!1,N.dynamicChildren=null);const{type:z,ref:ce,shapeFlag:ee}=N;switch(z){case Cs:S(C,N,V,H);break;case ct:M(C,N,V,H);break;case di:C==null&&O(N,V,H,Z);break;case xt:R(C,N,V,H,$,q,Z,G,K);break;default:ee&1?D(C,N,V,H,$,q,Z,G,K):ee&6?b(C,N,V,H,$,q,Z,G,K):(ee&64||ee&128)&&z.process(C,N,V,H,$,q,Z,G,K,ie)}ce!=null&&$?hi(ce,C&&C.ref,q,N||C,!N):ce==null&&C&&C.ref!=null&&hi(C.ref,null,q,C,!0)},S=(C,N,V,H)=>{if(C==null)r(N.el=a(N.children),V,H);else{const $=N.el=C.el;N.children!==C.children&&u($,N.children)}},M=(C,N,V,H)=>{C==null?r(N.el=l(N.children||""),V,H):N.el=C.el},O=(C,N,V,H)=>{[C.el,C.anchor]=y(C.children,N,V,H,C.el,C.anchor)},v=({el:C,anchor:N},V,H)=>{let $;for(;C&&C!==N;)$=p(C),r(C,V,H),C=$;r(N,V,H)},P=({el:C,anchor:N})=>{let V;for(;C&&C!==N;)V=p(C),s(C),C=V;s(N)},D=(C,N,V,H,$,q,Z,G,K)=>{N.type==="svg"?Z="svg":N.type==="math"&&(Z="mathml"),C==null?L(N,V,H,$,q,Z,G,K):_(C,N,$,q,Z,G,K)},L=(C,N,V,H,$,q,Z,G)=>{let K,z;const{props:ce,shapeFlag:ee,transition:ae,dirs:oe}=C;if(K=C.el=o(C.type,q,ce&&ce.is,ce),ee&8?h(K,C.children):ee&16&&w(C.children,K,null,H,$,Fu(C,q),Z,G),oe&&Nn(C,null,H,"created"),A(K,C,C.scopeId,Z,H),ce){for(const Pe in ce)Pe!=="value"&&!ci(Pe)&&i(K,Pe,null,ce[Pe],q,H);"value"in ce&&i(K,"value",null,ce.value,q),(z=ce.onVnodeBeforeMount)&&zt(z,H,C)}oe&&Nn(C,null,H,"beforeMount");const he=qv($,ae);he&&ae.beforeEnter(K),r(K,N,V),((z=ce&&ce.onVnodeMounted)||he||oe)&&vt(()=>{z&&zt(z,H,C),he&&ae.enter(K),oe&&Nn(C,null,H,"mounted")},$)},A=(C,N,V,H,$)=>{if(V&&g(C,V),H)for(let q=0;q<H.length;q++)g(C,H[q]);if($){let q=$.subTree;if(N===q||jc(q.type)&&(q.ssContent===N||q.ssFallback===N)){const Z=$.vnode;A(C,Z,Z.scopeId,Z.slotScopeIds,$.parent)}}},w=(C,N,V,H,$,q,Z,G,K=0)=>{for(let z=K;z<C.length;z++){const ce=C[z]=G?Mr(C[z]):Xt(C[z]);E(null,ce,N,V,H,$,q,Z,G)}},_=(C,N,V,H,$,q,Z)=>{const G=N.el=C.el;let{patchFlag:K,dynamicChildren:z,dirs:ce}=N;K|=C.patchFlag&16;const ee=C.props||Be,ae=N.props||Be;let oe;if(V&&fs(V,!1),(oe=ae.onVnodeBeforeUpdate)&&zt(oe,V,N,C),ce&&Nn(N,C,V,"beforeUpdate"),V&&fs(V,!0),(ee.innerHTML&&ae.innerHTML==null||ee.textContent&&ae.textContent==null)&&h(G,""),z?I(C.dynamicChildren,z,G,V,H,Fu(N,$),q):Z||W(C,N,G,null,V,H,Fu(N,$),q,!1),K>0){if(K&16)k(G,ee,ae,V,$);else if(K&2&&ee.class!==ae.class&&i(G,"class",null,ae.class,$),K&4&&i(G,"style",ee.style,ae.style,$),K&8){const he=N.dynamicProps;for(let Pe=0;Pe<he.length;Pe++){const Re=he[Pe],mt=ee[Re],ft=ae[Re];(ft!==mt||Re==="value")&&i(G,Re,mt,ft,$,V)}}K&1&&C.children!==N.children&&h(G,N.children)}else!Z&&z==null&&k(G,ee,ae,V,$);((oe=ae.onVnodeUpdated)||ce)&&vt(()=>{oe&&zt(oe,V,N,C),ce&&Nn(N,C,V,"updated")},H)},I=(C,N,V,H,$,q,Z)=>{for(let G=0;G<N.length;G++){const K=C[G],z=N[G],ce=K.el&&(K.type===xt||!En(K,z)||K.shapeFlag&198)?f(K.el):V;E(K,z,ce,null,H,$,q,Z,!0)}},k=(C,N,V,H,$)=>{if(N!==V){if(N!==Be)for(const q in N)!ci(q)&&!(q in V)&&i(C,q,N[q],null,$,H);for(const q in V){if(ci(q))continue;const Z=V[q],G=N[q];Z!==G&&q!=="value"&&i(C,q,G,Z,$,H)}"value"in V&&i(C,"value",N.value,V.value,$)}},R=(C,N,V,H,$,q,Z,G,K)=>{const z=N.el=C?C.el:a(""),ce=N.anchor=C?C.anchor:a("");let{patchFlag:ee,dynamicChildren:ae,slotScopeIds:oe}=N;oe&&(G=G?G.concat(oe):oe),C==null?(r(z,V,H),r(ce,V,H),w(N.children||[],V,ce,$,q,Z,G,K)):ee>0&&ee&64&&ae&&C.dynamicChildren?(I(C.dynamicChildren,ae,V,$,q,Z,G),(N.key!=null||$&&N===$.subTree)&&zv(C,N,!0)):W(C,N,V,ce,$,q,Z,G,K)},b=(C,N,V,H,$,q,Z,G,K)=>{N.slotScopeIds=G,C==null?N.shapeFlag&512?$.ctx.activate(N,V,H,Z,K):se(N,V,H,$,q,Z,K):me(C,N,K)},se=(C,N,V,H,$,q,Z)=>{const G=C.component=U0(C,H,$);if(ua(C)&&(G.ctx.renderer=ie),$0(G,!1,Z),G.asyncDep){if($&&$.registerDep(G,Q,Z),!C.el){const K=G.subTree=pe(ct);M(null,K,N,V),C.placeholder=K.el}}else Q(G,C,N,V,$,q,Z)},me=(C,N,V)=>{const H=N.component=C.component;if(C0(C,N,V))if(H.asyncDep&&!H.asyncResolved){te(H,N,V);return}else H.next=N,H.update();else N.el=C.el,H.vnode=N},Q=(C,N,V,H,$,q,Z)=>{const G=()=>{if(C.isMounted){let{next:ee,bu:ae,u:oe,parent:he,vnode:Pe}=C;{const Ct=Wv(C);if(Ct){ee&&(ee.el=Pe.el,te(C,ee,Z)),Ct.asyncDep.then(()=>{C.isUnmounted||G()});return}}let Re=ee,mt;fs(C,!1),ee?(ee.el=Pe.el,te(C,ee,Z)):ee=Pe,ae&&li(ae),(mt=ee.props&&ee.props.onVnodeBeforeUpdate)&&zt(mt,he,ee,Pe),fs(C,!0);const ft=Uu(C),yt=C.subTree;C.subTree=ft,E(yt,ft,f(yt.el),F(yt),C,$,q),ee.el=ft.el,Re===null&&Dl(C,ft.el),oe&&vt(oe,$),(mt=ee.props&&ee.props.onVnodeUpdated)&&vt(()=>zt(mt,he,ee,Pe),$)}else{let ee;const{el:ae,props:oe}=N,{bm:he,m:Pe,parent:Re,root:mt,type:ft}=C,yt=Ss(N);if(fs(C,!1),he&&li(he),!yt&&(ee=oe&&oe.onVnodeBeforeMount)&&zt(ee,Re,N),fs(C,!0),ae&&Ve){const Ct=()=>{C.subTree=Uu(C),Ve(ae,C.subTree,C,$,null)};yt&&ft.__asyncHydrate?ft.__asyncHydrate(ae,C,Ct):Ct()}else{mt.ce&&mt.ce._def.shadowRoot!==!1&&mt.ce._injectChildStyle(ft);const Ct=C.subTree=Uu(C);E(null,Ct,V,H,C,$,q),N.el=Ct.el}if(Pe&&vt(Pe,$),!yt&&(ee=oe&&oe.onVnodeMounted)){const Ct=N;vt(()=>zt(ee,Re,Ct),$)}(N.shapeFlag&256||Re&&Ss(Re.vnode)&&Re.vnode.shapeFlag&256)&&C.a&&vt(C.a,$),C.isMounted=!0,N=V=H=null}};C.scope.on();const K=C.effect=new K_(G);C.scope.off();const z=C.update=K.run.bind(K),ce=C.job=K.runIfDirty.bind(K);ce.i=C,ce.id=C.uid,K.scheduler=()=>nd(ce),fs(C,!0),z()},te=(C,N,V)=>{N.component=C;const H=C.vnode.props;C.vnode=N,C.next=null,f0(C,N.props,H,V),m0(C,N.children,V),fr(),yg(C),dr()},W=(C,N,V,H,$,q,Z,G,K=!1)=>{const z=C&&C.children,ce=C?C.shapeFlag:0,ee=N.children,{patchFlag:ae,shapeFlag:oe}=N;if(ae>0){if(ae&128){Rt(z,ee,V,H,$,q,Z,G,K);return}else if(ae&256){Ee(z,ee,V,H,$,q,Z,G,K);return}}oe&8?(ce&16&&ht(z,$,q),ee!==z&&h(V,ee)):ce&16?oe&16?Rt(z,ee,V,H,$,q,Z,G,K):ht(z,$,q,!0):(ce&8&&h(V,""),oe&16&&w(ee,V,H,$,q,Z,G,K))},Ee=(C,N,V,H,$,q,Z,G,K)=>{C=C||oi,N=N||oi;const z=C.length,ce=N.length,ee=Math.min(z,ce);let ae;for(ae=0;ae<ee;ae++){const oe=N[ae]=K?Mr(N[ae]):Xt(N[ae]);E(C[ae],oe,V,null,$,q,Z,G,K)}z>ce?ht(C,$,q,!0,!1,ee):w(N,V,H,$,q,Z,G,K,ee)},Rt=(C,N,V,H,$,q,Z,G,K)=>{let z=0;const ce=N.length;let ee=C.length-1,ae=ce-1;for(;z<=ee&&z<=ae;){const oe=C[z],he=N[z]=K?Mr(N[z]):Xt(N[z]);if(En(oe,he))E(oe,he,V,null,$,q,Z,G,K);else break;z++}for(;z<=ee&&z<=ae;){const oe=C[ee],he=N[ae]=K?Mr(N[ae]):Xt(N[ae]);if(En(oe,he))E(oe,he,V,null,$,q,Z,G,K);else break;ee--,ae--}if(z>ee){if(z<=ae){const oe=ae+1,he=oe<ce?N[oe].el:H;for(;z<=ae;)E(null,N[z]=K?Mr(N[z]):Xt(N[z]),V,he,$,q,Z,G,K),z++}}else if(z>ae)for(;z<=ee;)Oe(C[z],$,q,!0),z++;else{const oe=z,he=z,Pe=new Map;for(z=he;z<=ae;z++){const Ut=N[z]=K?Mr(N[z]):Xt(N[z]);Ut.key!=null&&Pe.set(Ut.key,z)}let Re,mt=0;const ft=ae-he+1;let yt=!1,Ct=0;const br=new Array(ft);for(z=0;z<ft;z++)br[z]=0;for(z=oe;z<=ee;z++){const Ut=C[z];if(mt>=ft){Oe(Ut,$,q,!0);continue}let ln;if(Ut.key!=null)ln=Pe.get(Ut.key);else for(Re=he;Re<=ae;Re++)if(br[Re-he]===0&&En(Ut,N[Re])){ln=Re;break}ln===void 0?Oe(Ut,$,q,!0):(br[ln-he]=z+1,ln>=Ct?Ct=ln:yt=!0,E(Ut,N[ln],V,null,$,q,Z,G,K),mt++)}const Bs=yt?v0(br):oi;for(Re=Bs.length-1,z=ft-1;z>=0;z--){const Ut=he+z,ln=N[Ut],js=N[Ut+1],Xi=Ut+1<ce?js.el||js.placeholder:H;br[z]===0?E(null,ln,V,Xi,$,q,Z,G,K):yt&&(Re<0||z!==Bs[Re]?gt(ln,V,Xi,2):Re--)}}},gt=(C,N,V,H,$=null)=>{const{el:q,type:Z,transition:G,children:K,shapeFlag:z}=C;if(z&6){gt(C.component.subTree,N,V,H);return}if(z&128){C.suspense.move(N,V,H);return}if(z&64){Z.move(C,N,V,ie);return}if(Z===xt){r(q,N,V);for(let ee=0;ee<K.length;ee++)gt(K[ee],N,V,H);r(C.anchor,N,V);return}if(Z===di){v(C,N,V);return}if(H!==2&&z&1&&G)if(H===0)G.beforeEnter(q),r(q,N,V),vt(()=>G.enter(q),$);else{const{leave:ee,delayLeave:ae,afterLeave:oe}=G,he=()=>{C.ctx.isUnmounted?s(q):r(q,N,V)},Pe=()=>{ee(q,()=>{he(),oe&&oe()})};ae?ae(q,he,Pe):Pe()}else r(q,N,V)},Oe=(C,N,V,H=!1,$=!1)=>{const{type:q,props:Z,ref:G,children:K,dynamicChildren:z,shapeFlag:ce,patchFlag:ee,dirs:ae,cacheIndex:oe}=C;if(ee===-2&&($=!1),G!=null&&(fr(),hi(G,null,V,C,!0),dr()),oe!=null&&(N.renderCache[oe]=void 0),ce&256){N.ctx.deactivate(C);return}const he=ce&1&&ae,Pe=!Ss(C);let Re;if(Pe&&(Re=Z&&Z.onVnodeBeforeUnmount)&&zt(Re,N,C),ce&6)cn(C.component,V,H);else{if(ce&128){C.suspense.unmount(V,H);return}he&&Nn(C,null,N,"beforeUnmount"),ce&64?C.type.remove(C,N,V,ie,H):z&&!z.hasOnce&&(q!==xt||ee>0&&ee&64)?ht(z,N,V,!1,!0):(q===xt&&ee&384||!$&&ce&16)&&ht(K,N,V),H&&je(C)}(Pe&&(Re=Z&&Z.onVnodeUnmounted)||he)&&vt(()=>{Re&&zt(Re,N,C),he&&Nn(C,null,N,"unmounted")},V)},je=C=>{const{type:N,el:V,anchor:H,transition:$}=C;if(N===xt){On(V,H);return}if(N===di){P(C);return}const q=()=>{s(V),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(C.shapeFlag&1&&$&&!$.persisted){const{leave:Z,delayLeave:G}=$,K=()=>Z(V,q);G?G(C.el,q,K):K()}else q()},On=(C,N)=>{let V;for(;C!==N;)V=p(C),s(C),C=V;s(N)},cn=(C,N,V)=>{const{bum:H,scope:$,job:q,subTree:Z,um:G,m:K,a:z,parent:ce,slots:{__:ee}}=C;Bc(K),Bc(z),H&&li(H),ce&&le(ee)&&ee.forEach(ae=>{ce.renderCache[ae]=void 0}),$.stop(),q&&(q.flags|=8,Oe(Z,C,N,V)),G&&vt(G,N),vt(()=>{C.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ht=(C,N,V,H=!1,$=!1,q=0)=>{for(let Z=q;Z<C.length;Z++)Oe(C[Z],N,V,H,$)},F=C=>{if(C.shapeFlag&6)return F(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const N=p(C.anchor||C.el),V=N&&N[BA];return V?p(V):N};let X=!1;const Y=(C,N,V)=>{C==null?N._vnode&&Oe(N._vnode,null,null,!0):E(N._vnode||null,C,N,null,null,null,V),N._vnode=C,X||(X=!0,yg(),Fc(),X=!1)},ie={p:E,um:Oe,m:gt,r:je,mt:se,mc:w,pc:W,pbc:I,n:F,o:t};let Ae,Ve;return e&&([Ae,Ve]=e(ie)),{render:Y,hydrate:Ae,createApp:u0(Y,Ae)}}function Fu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zv(t,e,n=!1){const r=t.children,s=e.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Mr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&zv(o,a)),a.type===Cs&&(a.el=o.el),a.type===ct&&!a.el&&(a.el=o.el)}}function v0(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Wv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wv(e)}function Bc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const w0=Symbol.for("v-scx"),E0=()=>tt(w0);function So(t,e){return od(t,null,e)}function nn(t,e,n){return od(t,e,n)}function od(t,e,n=Be){const{immediate:r,deep:s,flush:i,once:o}=n,a=pt({},n),l=e&&r||!e&&i!=="post";let u;if(bi){if(i==="sync"){const g=E0();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=bn,g.resume=bn,g.pause=bn,g}}const h=It;a.call=(g,y,E)=>Rn(g,h,y,E);let f=!1;i==="post"?a.scheduler=g=>{vt(g,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,y)=>{y?g():nd(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const p=FA(t,e,a);return bi&&(u?u.push(p):l&&p()),p}function T0(t,e,n){const r=this.proxy,s=Qe(t)?t.includes(".")?Kv(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const o=ks(this),a=od(s,i.bind(r),n);return o(),a}function Kv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const I0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mn(e)}Modifiers`]||t[`${ns(e)}Modifiers`];function b0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Be;let s=n;const i=e.startsWith("update:"),o=i&&I0(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>Qe(h)?h.trim():h)),o.number&&(s=n.map(Oc)));let a,l=r[a=Pu(e)]||r[a=Pu(mn(e))];!l&&i&&(l=r[a=Pu(ns(e))]),l&&Rn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Rn(u,t,6,s)}}function Gv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!fe(t)){const l=u=>{const h=Gv(u,e,!0);h&&(a=!0,pt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ue(t)&&r.set(t,null),null):(le(i)?i.forEach(l=>o[l]=null):pt(o,i),Ue(t)&&r.set(t,o),o)}function Ol(t,e){return!t||!ca(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,ns(e))||Ne(t,e))}function Uu(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:f,data:p,setupState:g,ctx:y,inheritAttrs:E}=t,S=Uc(t);let M,O;try{if(n.shapeFlag&4){const P=s||r,D=P;M=Xt(u.call(D,P,h,f,g,p,y)),O=a}else{const P=e;M=Xt(P.length>1?P(f,{attrs:a,slots:o,emit:l}):P(f,null)),O=e.props?a:S0(a)}}catch(P){Ro.length=0,$i(P,t,1),M=pe(ct)}let v=M;if(O&&E!==!1){const P=Object.keys(O),{shapeFlag:D}=v;P.length&&D&7&&(i&&P.some(Bf)&&(O=R0(O,i)),v=qn(v,O,!1,!0))}return n.dirs&&(v=qn(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Ti(v,n.transition),M=v,Uc(S),M}function A0(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Gr(s)){if(s.type!==ct||s.children==="v-if"){if(n)return;n=s}}else return}return n}const S0=t=>{let e;for(const n in t)(n==="class"||n==="style"||ca(n))&&((e||(e={}))[n]=t[n]);return e},R0=(t,e)=>{const n={};for(const r in t)(!Bf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function C0(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Rg(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==r[p]&&!Ol(u,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Rg(r,o,u):!0:!!o;return!1}function Rg(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Ol(n,i))return!0}return!1}function Dl({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const jc=t=>t.__isSuspense;let Dh=0;const P0={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,u){if(t==null)k0(e,n,r,s,i,o,a,l,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}O0(t,e,n,r,s,o,a,l,u)}},hydrate:D0,normalize:N0},ad=P0;function qo(t,e){const n=t.props&&t.props[e];fe(n)&&n()}function k0(t,e,n,r,s,i,o,a,l){const{p:u,o:{createElement:h}}=l,f=h("div"),p=t.suspense=Qv(t,s,r,e,f,n,i,o,a,l);u(null,p.pendingBranch=t.ssContent,f,null,r,p,i,o),p.deps>0?(qo(t,"onPending"),qo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),fi(p,t.ssFallback)):p.resolve(!1,!0)}function O0(t,e,n,r,s,i,o,a,{p:l,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:y,pendingBranch:E,isInFallback:S,isHydrating:M}=f;if(E)f.pendingBranch=p,En(p,E)?(l(E,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():S&&(M||(l(y,g,n,r,s,null,i,o,a),fi(f,g)))):(f.pendingId=Dh++,M?(f.isHydrating=!1,f.activeBranch=E):u(E,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(y,g,n,r,s,null,i,o,a),fi(f,g))):y&&En(p,y)?(l(y,p,n,r,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(y&&En(p,y))l(y,p,n,r,s,f,i,o,a),fi(f,p);else if(qo(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=Dh++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:O,pendingId:v}=f;O>0?setTimeout(()=>{f.pendingId===v&&f.fallback(g)},O):O===0&&f.fallback(g)}}function Qv(t,e,n,r,s,i,o,a,l,u,h=!1){const{p:f,m:p,um:g,n:y,o:{parentNode:E,remove:S}}=u;let M;const O=M0(t);O&&e&&e.pendingBranch&&(M=e.pendingId,e.deps++);const v=t.props?j_(t.props.timeout):void 0,P=i,D={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Dh++,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(L=!1,A=!1){const{vnode:w,activeBranch:_,pendingBranch:I,pendingId:k,effects:R,parentComponent:b,container:se}=D;let me=!1;D.isHydrating?D.isHydrating=!1:L||(me=_&&I.transition&&I.transition.mode==="out-in",me&&(_.transition.afterLeave=()=>{k===D.pendingId&&(p(I,se,i===P?y(_):i,0),Vc(R))}),_&&(E(_.el)===se&&(i=y(_)),g(_,b,D,!0)),me||p(I,se,i,0)),fi(D,I),D.pendingBranch=null,D.isInFallback=!1;let Q=D.parent,te=!1;for(;Q;){if(Q.pendingBranch){Q.effects.push(...R),te=!0;break}Q=Q.parent}!te&&!me&&Vc(R),D.effects=[],O&&e&&e.pendingBranch&&M===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),qo(w,"onResolve")},fallback(L){if(!D.pendingBranch)return;const{vnode:A,activeBranch:w,parentComponent:_,container:I,namespace:k}=D;qo(A,"onFallback");const R=y(w),b=()=>{D.isInFallback&&(f(null,L,I,R,_,null,k,a,l),fi(D,L))},se=L.transition&&L.transition.mode==="out-in";se&&(w.transition.afterLeave=b),D.isInFallback=!0,g(w,_,null,!0),se||b()},move(L,A,w){D.activeBranch&&p(D.activeBranch,L,A,w),D.container=L},next(){return D.activeBranch&&y(D.activeBranch)},registerDep(L,A,w){const _=!!D.pendingBranch;_&&D.deps++;const I=L.vnode.el;L.asyncDep.catch(k=>{$i(k,L,0)}).then(k=>{if(L.isUnmounted||D.isUnmounted||D.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:R}=L;xh(L,k),I&&(R.el=I);const b=!I&&L.subTree.el;A(L,R,E(I||L.subTree.el),I?null:y(L.subTree),D,o,w),b&&S(b),Dl(L,R.el),_&&--D.deps===0&&D.resolve()})},unmount(L,A){D.isUnmounted=!0,D.activeBranch&&g(D.activeBranch,n,L,A),D.pendingBranch&&g(D.pendingBranch,n,L,A)}};return D}function D0(t,e,n,r,s,i,o,a,l){const u=e.suspense=Qv(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function N0(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Cg(r?n.default:n),t.ssFallback=r?Cg(n.fallback):pe(ct)}function Cg(t){let e;if(fe(t)){const n=Ii&&t._c;n&&(t._d=!1,xn()),t=t(),n&&(t._d=!0,e=Gt,Yv())}return le(t)&&(t=A0(t)),t=Xt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Jv(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):Vc(t)}function fi(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Dl(r,s))}function M0(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const xt=Symbol.for("v-fgt"),Cs=Symbol.for("v-txt"),ct=Symbol.for("v-cmt"),di=Symbol.for("v-stc"),Ro=[];let Gt=null;function xn(t=!1){Ro.push(Gt=t?null:[])}function Yv(){Ro.pop(),Gt=Ro[Ro.length-1]||null}let Ii=1;function Pg(t,e=!1){Ii+=t,t<0&&Gt&&e&&(Gt.hasOnce=!0)}function Xv(t){return t.dynamicChildren=Ii>0?Gt||oi:null,Yv(),Ii>0&&Gt&&Gt.push(t),t}function cd(t,e,n,r,s,i){return Xv(Hc(t,e,n,r,s,i,!0))}function Xs(t,e,n,r,s){return Xv(pe(t,e,n,r,s,!0))}function Gr(t){return t?t.__v_isVNode===!0:!1}function En(t,e){return t.type===e.type&&t.key===e.key}const Zv=({key:t})=>t??null,dc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||Ge(t)||fe(t)?{i:en,r:t,k:e,f:!!n}:t:null);function Hc(t,e=null,n=null,r=0,s=null,i=t===xt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zv(e),ref:e&&dc(e),scopeId:gv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:en};return a?(ld(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Qe(n)?8:16),Ii>0&&!o&&Gt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Gt.push(l),l}const pe=x0;function x0(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===kv)&&(t=ct),Gr(t)){const a=qn(t,e,!0);return n&&ld(a,n),Ii>0&&!i&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(t)]=a:Gt.push(a)),a.patchFlag=-2,a}if(q0(t)&&(t=t.__vccOpts),e){e=L0(e);let{class:a,style:l}=e;a&&!Qe(a)&&(e.class=Kf(a)),Ue(l)&&(ed(l)&&!le(l)&&(l=pt({},l)),e.style=Wf(l))}const o=Qe(t)?1:jc(t)?128:mv(t)?64:Ue(t)?4:fe(t)?2:0;return Hc(t,e,n,r,s,o,i,!0)}function L0(t){return t?ed(t)||Vv(t)?pt({},t):t:null}function qn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Gn(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Zv(u),ref:e&&e.ref?n&&i?le(i)?i.concat(dc(e)):[i,dc(e)]:dc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==xt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qn(t.ssContent),ssFallback:t.ssFallback&&qn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ti(h,l.clone(h)),h}function zo(t=" ",e=0){return pe(Cs,null,t,e)}function mU(t,e){const n=pe(di,null,t);return n.staticCount=e,n}function yU(t="",e=!1){return e?(xn(),Xs(ct,null,t)):pe(ct,null,t)}function Xt(t){return t==null||typeof t=="boolean"?pe(ct):le(t)?pe(xt,null,t.slice()):Gr(t)?Mr(t):pe(Cs,null,String(t))}function Mr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qn(t)}function ld(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ld(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Vv(e)?e._ctx=en:s===3&&en&&(en.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:en},n=32):(e=String(e),r&64?(n=16,e=[zo(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Kf([e.class,r.class]));else if(s==="style")e.style=Wf([e.style,r.style]);else if(ca(s)){const i=e[s],o=r[s];o&&i!==o&&!(le(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function zt(t,e,n,r=null){Rn(t,e,7,[n,r])}const V0=Mv();let F0=0;function U0(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||V0,i={uid:F0++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new W_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Uv(r,s),emitsOptions:Gv(r,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=b0.bind(null,i),t.ce&&t.ce(i),i}let It=null;const Tr=()=>It||en;let qc,Nh;{const t=Sl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};qc=e("__VUE_INSTANCE_SETTERS__",n=>It=n),Nh=e("__VUE_SSR_SETTERS__",n=>bi=n)}const ks=t=>{const e=It;return qc(t),t.scope.on(),()=>{t.scope.off(),qc(e)}},Mh=()=>{It&&It.scope.off(),qc(null)};function ew(t){return t.vnode.shapeFlag&4}let bi=!1;function $0(t,e=!1,n=!1){e&&Nh(e);const{props:r,children:s}=t.vnode,i=ew(t);h0(t,r,i,e),g0(t,s,n||e);const o=i?B0(t,e):void 0;return e&&Nh(!1),o}function B0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,r0);const{setup:r}=n;if(r){fr();const s=t.setupContext=r.length>1?H0(t):null,i=ks(t),o=la(r,t,0,[t.props,s]),a=Hf(o);if(dr(),i(),(a||t.sp)&&!Ss(t)&&rd(t),a){if(o.then(Mh,Mh),e)return o.then(l=>{xh(t,l)}).catch(l=>{$i(l,t,0)});t.asyncDep=o}else xh(t,o)}else tw(t)}function xh(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=lv(e)),tw(t)}function tw(t,e,n){const r=t.type;t.render||(t.render=r.render||bn);{const s=ks(t);fr();try{s0(t)}finally{dr(),s()}}}const j0={get(t,e){return Mt(t,"get",""),t[e]}};function H0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,j0),slots:t.slots,emit:t.emit,expose:e}}function Nl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(lv(td(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ao)return Ao[n](t)},has(e,n){return n in e||n in Ao}})):t.proxy}function Lh(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function q0(t){return fe(t)&&"__vccOpts"in t}const we=(t,e)=>LA(t,e,bi);function et(t,e,n){const r=arguments.length;return r===2?Ue(e)&&!le(e)?Gr(e)?pe(t,null,[e]):pe(t,e):pe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Gr(n)&&(n=[n]),pe(t,e,n))}const z0="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vh;const kg=typeof window<"u"&&window.trustedTypes;if(kg)try{Vh=kg.createPolicy("vue",{createHTML:t=>t})}catch{}const nw=Vh?t=>Vh.createHTML(t):t=>t,W0="http://www.w3.org/2000/svg",K0="http://www.w3.org/1998/Math/MathML",er=typeof document<"u"?document:null,Og=er&&er.createElement("template"),G0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?er.createElementNS(W0,t):e==="mathml"?er.createElementNS(K0,t):n?er.createElement(t,{is:n}):er.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>er.createTextNode(t),createComment:t=>er.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>er.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Og.innerHTML=nw(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Og.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Cr="transition",po="animation",Wo=Symbol("_vtc"),rw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Q0=pt({},yv,rw),J0=t=>(t.displayName="Transition",t.props=Q0,t),Y0=J0((t,{slots:e})=>et(qA,X0(t),e)),ds=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},Dg=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function X0(t){const e={};for(const R in t)R in rw||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=Z0(s),E=y&&y[0],S=y&&y[1],{onBeforeEnter:M,onEnter:O,onEnterCancelled:v,onLeave:P,onLeaveCancelled:D,onBeforeAppear:L=M,onAppear:A=O,onAppearCancelled:w=v}=e,_=(R,b,se,me)=>{R._enterCancelled=me,ps(R,b?h:a),ps(R,b?u:o),se&&se()},I=(R,b)=>{R._isLeaving=!1,ps(R,f),ps(R,g),ps(R,p),b&&b()},k=R=>(b,se)=>{const me=R?A:O,Q=()=>_(b,R,se);ds(me,[b,Q]),Ng(()=>{ps(b,R?l:i),Xn(b,R?h:a),Dg(me)||Mg(b,r,E,Q)})};return pt(e,{onBeforeEnter(R){ds(M,[R]),Xn(R,i),Xn(R,o)},onBeforeAppear(R){ds(L,[R]),Xn(R,l),Xn(R,u)},onEnter:k(!1),onAppear:k(!0),onLeave(R,b){R._isLeaving=!0;const se=()=>I(R,b);Xn(R,f),R._enterCancelled?(Xn(R,p),Vg()):(Vg(),Xn(R,p)),Ng(()=>{R._isLeaving&&(ps(R,f),Xn(R,g),Dg(P)||Mg(R,r,S,se))}),ds(P,[R,se])},onEnterCancelled(R){_(R,!1,void 0,!0),ds(v,[R])},onAppearCancelled(R){_(R,!0,void 0,!0),ds(w,[R])},onLeaveCancelled(R){I(R),ds(D,[R])}})}function Z0(t){if(t==null)return null;if(Ue(t))return[$u(t.enter),$u(t.leave)];{const e=$u(t);return[e,e]}}function $u(t){return j_(t)}function Xn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Wo]||(t[Wo]=new Set)).add(e)}function ps(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Wo];n&&(n.delete(e),n.size||(t[Wo]=void 0))}function Ng(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let eS=0;function Mg(t,e,n,r){const s=t._endId=++eS,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=tS(t,e);if(!o)return r();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(u,p)}function tS(t,e){const n=window.getComputedStyle(t),r=y=>(n[y]||"").split(", "),s=r(`${Cr}Delay`),i=r(`${Cr}Duration`),o=xg(s,i),a=r(`${po}Delay`),l=r(`${po}Duration`),u=xg(a,l);let h=null,f=0,p=0;e===Cr?o>0&&(h=Cr,f=o,p=i.length):e===po?u>0&&(h=po,f=u,p=l.length):(f=Math.max(o,u),h=f>0?o>u?Cr:po:null,p=h?h===Cr?i.length:l.length:0);const g=h===Cr&&/\b(transform|all)(,|$)/.test(r(`${Cr}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function xg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Lg(n)+Lg(t[r])))}function Lg(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vg(){return document.body.offsetHeight}function nS(t,e,n){const r=t[Wo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const zc=Symbol("_vod"),sw=Symbol("_vsh"),_U={beforeMount(t,{value:e},{transition:n}){t[zc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):go(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),go(t,!0),r.enter(t)):r.leave(t,()=>{go(t,!1)}):go(t,e))},beforeUnmount(t,{value:e}){go(t,e)}};function go(t,e){t.style.display=e?t[zc]:"none",t[sw]=!e}const iw=Symbol("");function vU(t){const e=Tr();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Wc(i,s))},r=()=>{const s=t(e.proxy);e.ce?Wc(e.ce,s):Fh(e.subTree,s),n(s)};Sv(()=>{Vc(r)}),Vs(()=>{nn(r,bn,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),an(()=>s.disconnect())})}function Fh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Fh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Wc(t.el,e);else if(t.type===xt)t.children.forEach(n=>Fh(n,e));else if(t.type===di){let{el:n,anchor:r}=t;for(;n&&(Wc(n,e),n!==r);)n=n.nextSibling}}function Wc(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=cA(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[iw]=r}}const rS=/(^|;)\s*display\s*:/;function sS(t,e,n){const r=t.style,s=Qe(n);let i=!1;if(n&&!s){if(e)if(Qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&pc(r,a,"")}else for(const o in e)n[o]==null&&pc(r,o,"");for(const o in n)o==="display"&&(i=!0),pc(r,o,n[o])}else if(s){if(e!==n){const o=r[iw];o&&(n+=";"+o),r.cssText=n,i=rS.test(n)}}else e&&t.removeAttribute("style");zc in t&&(t[zc]=i?r.display:"",t[sw]&&(r.display="none"))}const Fg=/\s*!important$/;function pc(t,e,n){if(le(n))n.forEach(r=>pc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iS(t,e);Fg.test(n)?t.setProperty(ns(r),n.replace(Fg,""),"important"):t[r]=n}}const Ug=["Webkit","Moz","ms"],Bu={};function iS(t,e){const n=Bu[e];if(n)return n;let r=mn(e);if(r!=="filter"&&r in t)return Bu[e]=r;r=Al(r);for(let s=0;s<Ug.length;s++){const i=Ug[s]+r;if(i in t)return Bu[e]=i}return e}const $g="http://www.w3.org/1999/xlink";function Bg(t,e,n,r,s,i=iA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS($g,e.slice(6,e.length)):t.setAttributeNS($g,e,n):n==null||i&&!H_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Hn(n)?String(n):n)}function jg(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nw(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=H_(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function ws(t,e,n,r){t.addEventListener(e,n,r)}function oS(t,e,n,r){t.removeEventListener(e,n,r)}const Hg=Symbol("_vei");function aS(t,e,n,r,s=null){const i=t[Hg]||(t[Hg]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=cS(e);if(r){const u=i[e]=hS(r,s);ws(t,a,u,l)}else o&&(oS(t,a,o,l),i[e]=void 0)}}const qg=/(?:Once|Passive|Capture)$/;function cS(t){let e;if(qg.test(t)){e={};let r;for(;r=t.match(qg);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ns(t.slice(2)),e]}let ju=0;const lS=Promise.resolve(),uS=()=>ju||(lS.then(()=>ju=0),ju=Date.now());function hS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rn(fS(r,n.value),e,5,[r])};return n.value=t,n.attached=uS(),n}function fS(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const zg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dS=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?nS(t,r,o):e==="style"?sS(t,n,r):ca(e)?Bf(e)||aS(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pS(t,e,r,o))?(jg(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bg(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qe(r))?jg(t,mn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Bg(t,e,r,o))};function pS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zg(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return zg(e)&&Qe(n)?!1:e in t}const Kc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>li(e,n):e};function gS(t){t.target.composing=!0}function Wg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pi=Symbol("_assign"),wU={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[pi]=Kc(s);const i=r||s.props&&s.props.type==="number";ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Oc(a)),t[pi](a)}),n&&ws(t,"change",()=>{t.value=t.value.trim()}),e||(ws(t,"compositionstart",gS),ws(t,"compositionend",Wg),ws(t,"change",Wg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[pi]=Kc(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Oc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},EU={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Il(e);ws(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Oc(Gc(o)):Gc(o));t[pi](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,sn(()=>{t._assigning=!1})}),t[pi]=Kc(r)},mounted(t,{value:e}){Kg(t,e)},beforeUpdate(t,e,n){t[pi]=Kc(n)},updated(t,{value:e}){t._assigning||Kg(t,e)}};function Kg(t,e){const n=t.multiple,r=le(e);if(!(n&&!r&&!Il(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Gc(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=aA(e,a)>-1}else o.selected=e.has(a);else if(Rl(Gc(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gc(t){return"_value"in t?t._value:t.value}const mS=["ctrl","shift","alt","meta"],yS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mS.some(n=>t[`${n}Key`]&&!e.includes(n))},TU=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=yS[e[o]];if(a&&a(s,e))return}return t(s,...i)})},_S={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},IU=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=ns(s.key);if(e.some(o=>o===i||_S[o]===i))return t(s)})},ow=pt({patchProp:dS},G0);let Co,Gg=!1;function vS(){return Co||(Co=y0(ow))}function wS(){return Co=Gg?Co:_0(ow),Gg=!0,Co}const aw=(...t)=>{const e=vS().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=lw(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,cw(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},ES=(...t)=>{const e=wS().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=lw(r);if(s)return n(s,!0,cw(s))},e};function cw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function lw(t){return Qe(t)?document.querySelector(t):t}const TS=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,IS=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,bS=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function AS(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){SS(t);return}return e}function SS(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ai(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!bS.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(TS.test(t)||IS.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,AS)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const RS=/#/g,CS=/&/g,PS=/\//g,kS=/=/g,ud=/\+/g,OS=/%5e/gi,DS=/%60/gi,NS=/%7c/gi,MS=/%20/gi;function xS(t){return encodeURI(""+t).replace(NS,"|")}function Uh(t){return xS(typeof t=="string"?t:JSON.stringify(t)).replace(ud,"%2B").replace(MS,"+").replace(RS,"%23").replace(CS,"%26").replace(DS,"`").replace(OS,"^").replace(PS,"%2F")}function Hu(t){return Uh(t).replace(kS,"%3D")}function Qc(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function LS(t){return Qc(t.replace(ud," "))}function VS(t){return Qc(t.replace(ud," "))}function hd(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=LS(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=VS(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function FS(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Hu(t)}=${Uh(n)}`).join("&"):`${Hu(t)}=${Uh(e)}`:Hu(t)}function US(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>FS(e,t[e])).filter(Boolean).join("&")}const $S=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,BS=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,jS=/^([/\\]\s*){2,}[^/\\]/,HS=/^[\s\0]*(blob|data|javascript|vbscript):$/i,qS=/\/$|\/\?|\/#/,zS=/^\.?\//;function Ir(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?$S.test(t):BS.test(t)||(e.acceptRelative?jS.test(t):!1)}function WS(t){return!!t&&HS.test(t)}function $h(t="",e){return e?qS.test(t):t.endsWith("/")}function Si(t="",e){if(!e)return($h(t)?t.slice(0,-1):t)||"/";if(!$h(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function uw(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if($h(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function KS(t,e){if(hw(e)||Ir(t))return t;const n=Si(e);return t.startsWith(n)?t:Ml(n,t)}function Qg(t,e){if(hw(e))return t;const n=Si(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Jc(t,e){const n=pw(t),r={...hd(n.search),...e};return n.search=US(r),JS(n)}function hw(t){return!t||t==="/"}function GS(t){return t&&t!=="/"}function Ml(t,...e){let n=t||"";for(const r of e.filter(s=>GS(s)))if(n){const s=r.replace(zS,"");n=uw(n)+s}else n=r;return n}function fw(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&Ir(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function QS(t,e){return Qc(Si(t))===Qc(Si(e))}const dw=Symbol.for("ufo:protocolRelative");function pw(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,p=""]=n;return{protocol:f.toLowerCase(),pathname:p,href:f+p,auth:"",host:"",search:"",hash:""}}if(!Ir(t,{acceptRelative:!0}))return Jg(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:h}=Jg(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:u,hash:h,[dw]:!r}}function Jg(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function JS(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[dw]?(t.protocol||"")+"//":"")+s+i+e+n+r}class YS extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function XS(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new YS(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[u]}});return a}const ZS=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Yg(t="GET"){return ZS.has(t.toUpperCase())}function eR(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const tR=new Set(["image/svg","application/xml","application/xhtml","application/html"]),nR=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function rR(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return nR.test(e)?"json":tR.has(e)||e.startsWith("text/")?"text":"blob"}function sR(t,e,n,r){const s=iR(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function iR(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Ya(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const oR=new Set([408,409,425,429,500,502,503,504]),aR=new Set([101,204,205,304]);function gw(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let h;typeof a.options.retry=="number"?h=a.options.retry:h=Yg(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):oR.has(f))){const p=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return p>0&&await new Promise(g=>setTimeout(g,p)),i(a.request,{...a.options,retry:h-1})}}const u=XS(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const h={request:l,options:sR(l,u,t.defaults,n),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await Ya(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=KS(h.request,h.options.baseURL)),h.options.query&&(h.request=Jc(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&Yg(h.options.method)&&(eR(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new n(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let f;if(!h.options.signal&&h.options.timeout){const g=new r;f=setTimeout(()=>{const y=new Error("[TimeoutError]: The operation was aborted due to timeout");y.name="TimeoutError",y.code=23,g.abort(y)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Ya(h,h.options.onRequestError),await s(h)}finally{f&&clearTimeout(f)}if((h.response.body||h.response._bodyInit)&&!aR.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||rR(h.response.headers.get("content-type")||"");switch(g){case"json":{const y=await h.response.text(),E=h.options.parseResponse||Ai;h.response._data=E(y);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Ya(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Ya(h,h.options.onResponseError),await s(h)):h.response},o=async function(l,u){return(await i(l,u))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>gw({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const Yc=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),cR=Yc.fetch?(...t)=>Yc.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),lR=Yc.Headers,uR=Yc.AbortController,hR=gw({fetch:cR,Headers:lR,AbortController:uR}),fR=hR,dR=()=>window?.__NUXT__?.config||{},fd=()=>dR().app,pR=()=>fd().baseURL,gR=()=>fd().buildAssetsDir,dd=(...t)=>fw(mw(),gR(),...t),mw=(...t)=>{const e=fd(),n=e.cdnURL||e.baseURL;return t.length?fw(n,...t):n};globalThis.__buildAssetsURL=dd,globalThis.__publicAssetsURL=mw;globalThis.$fetch||(globalThis.$fetch=fR.create({baseURL:pR()}));"global"in globalThis||(globalThis.global=globalThis);function Bh(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Bh(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const mR={run:t=>t()},yR=()=>mR,yw=typeof console.createTask<"u"?console.createTask:yR;function _R(t,e){const n=e.shift(),r=yw(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function vR(t,e){const n=e.shift(),r=yw(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function qu(t,e){for(const n of[...t])n(e)}class wR{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Bh(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Bh(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(_R,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(vR,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&qu(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&qu(this._after,s)}):(this._after&&s&&qu(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function _w(){return new wR}function ER(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},u=()=>e===o?l:void 0;jh.add(u);try{const h=s?s.run(o,a):a();return n||(e=void 0),await h}finally{jh.delete(u)}}}}function TR(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=ER({...t,...r})),e[n]}}}const Xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Xg="__unctx__",IR=Xc[Xg]||(Xc[Xg]=TR()),bR=(t,e={})=>IR.get(t,e),Zg="__unctx_async_handlers__",jh=Xc[Zg]||(Xc[Zg]=new Set);function pn(t){const e=[];for(const s of jh){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const AR=!1,em=!1,SR=!1,RR={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},ir={value:null,errorValue:null,deep:!0},CR=null,PR={},kR="#__nuxt",vw="nuxt-app",tm=36e5,OR="vite:preloadError";function ww(t=vw){return bR(t,{asyncContext:!1})}const DR="__nuxt_plugin";function NR(t){let e=0;const n={_id:t.id||vw||"nuxt-app",_scope:Gf(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.18.1"},get vue(){return n.vueApp.version}},payload:Ln({...t.ssrContext?.payload||{},data:Ln({}),state:ut({}),once:new Set,_errors:Ln({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!Ui()?n._scope.run(()=>nm(n,s)):nm(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Ln({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=_w(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;Xa(n,o,i),Xa(n.vueApp.config.globalProperties,o,i)},Xa(n.vueApp,"$nuxt",n),Xa(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(OR,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Je;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function MR(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function xR(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function LR(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const u=l.dependsOn?.filter(h=>e.some(f=>f._name===h)&&!n.has(h))??[];if(u.length>0)r.push([new Set(u),l]);else{const h=xR(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([f,p])=>{f.has(l._name)&&(f.delete(l._name),f.size===0&&(o++,await a(p)))})))}).catch(f=>{if(!l.parallel&&!t.payload.error)throw f;i||=f});l.parallel?s.push(h):await h}}for(const l of e)MR(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function St(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[DR]:!0,_name:e})}const VR=St;function nm(t,e,n){const r=()=>e();return ww(t._id).set(t),t.vueApp.runWithContext(r)}function Ew(t){let e;return ha()&&(e=Tr()?.appContext.app.$nuxt),e||=ww(t).tryUse(),e||null}function Je(t){const e=Ew(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function gr(t){return Je().$config}function Xa(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function FR(t,e){return{ctx:{table:t},matchAll:n=>Iw(n,t)}}function Tw(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,Tw(s)])):new Map(Object.entries(t[n]));return e}function UR(t){return FR(Tw(t))}function Iw(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of rm(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of rm(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...Iw(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function rm(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function zu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Hh(t,e,n=".",r){if(!zu(e))return Hh(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:zu(o)&&zu(s[i])?s[i]=Hh(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function $R(t){return(...e)=>e.reduce((n,r)=>Hh(n,r,"",t),{})}const bw=$R();function BR(t,e){try{return e in t}catch{return!1}}class sm extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:qh(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Aw(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function jR(t){if(typeof t=="string")return new sm(t);if(HR(t))return t;const e=new sm(t.message??t.statusMessage??"",{cause:t.cause||t});if(BR(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=qh(t.statusCode,e.statusCode):t.status&&(e.statusCode=qh(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;Aw(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function HR(t){return t?.constructor?.__h3_error__===!0}const qR=/[^\u0009\u0020-\u007E]/g;function Aw(t=""){return t.replace(qR,"")}function qh(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const Sw=Symbol("layout-meta"),Os=Symbol("route"),Ht=()=>Je()?.$router,xl=()=>ha()?tt(Os,Je()._route):Je()._route;const zR=()=>{try{if(Je()._processingMiddleware)return!0}catch{return!1}return!1},WR=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?zh(t):Ht().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:u={}}=e.open,h=Object.entries(u).filter(([f,p])=>p!==void 0).map(([f,p])=>`${f.toLowerCase()}=${p}`).join(", ");return open(n,l,h),Promise.resolve()}const r=Ir(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&WS(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=zR();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:u,hash:h}=pw(t);return{path:l,...u&&{query:hd(u)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=Ht(),a=Je();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function zh(t){return Jc(t.path||"",t.query||{})+(t.hash||"")}const Rw="__nuxt_error",fa=()=>uv(Je().payload,"error"),_s=t=>{const e=Hr(t);try{const n=Je(),r=fa();n.hooks.callHook("app:error",e),r.value||=e}catch{throw e}return e},KR=async(t={})=>{const e=Je(),n=fa();e.callHook("app:error:cleared",t),t.redirect&&await Ht().replace(t.redirect),n.value=CR},Cw=t=>!!t&&typeof t=="object"&&Rw in t,Hr=t=>{const e=jR(t);return Object.defineProperty(e,Rw,{value:!0,configurable:!1,writable:!1}),e},GR={trailing:!0};function QR(t,e=25,n={}){if(n={...GR,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,s,i=[],o,a;const l=(u,h)=>(o=JR(t,u,h),o.finally(()=>{if(o=null,n.trailing&&a&&!s){const f=l(u,a);return a=null,f}}),o);return function(...u){return o?(n.trailing&&(a=u),o):new Promise(h=>{const f=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const p=n.leading?r:l(this,u);for(const g of i)g(p);i=[]},e),f?(r=l(this,u),h(r)):i.push(h)})}}async function JR(t,e,n){return await t.apply(e,n)}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Pw;const da=t=>Pw=t,kw=Symbol();function Wh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Po;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Po||(Po={}));function YR(){const t=Gf(!0),e=t.run(()=>Ke({}));let n=[],r=[];const s=td({install(i){da(s),s._a=i,i.provide(kw,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ow=()=>{};function im(t,e,n,r=Ow){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Ui()&&$o(s),s}function Qs(t,...e){t.slice().forEach(n=>{n(...e)})}const XR=t=>t(),om=Symbol(),Wu=Symbol();function Kh(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Wh(s)&&Wh(r)&&t.hasOwnProperty(n)&&!Ge(r)&&!lr(r)?t[n]=Kh(s,r):t[n]=r}return t}const ZR=Symbol();function eC(t){return!Wh(t)||!Object.prototype.hasOwnProperty.call(t,ZR)}const{assign:Or}=Object;function tC(t){return!!(Ge(t)&&t.effect)}function nC(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const h=DA(n.state.value[t]);return Or(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=td(we(()=>{da(n);const g=n._s.get(t);return o[p].call(g,g)})),f),{}))}return l=Dw(t,u,e,n,r,!0),l}function Dw(t,e,n={},r,s,i){let o;const a=Or({actions:{}},n),l={deep:!0};let u,h,f=[],p=[],g;const y=r.state.value[t];!i&&!y&&(r.state.value[t]={}),Ke({});let E;function S(w){let _;u=h=!1,typeof w=="function"?(w(r.state.value[t]),_={type:Po.patchFunction,storeId:t,events:g}):(Kh(r.state.value[t],w),_={type:Po.patchObject,payload:w,storeId:t,events:g});const I=E=Symbol();sn().then(()=>{E===I&&(u=!0)}),h=!0,Qs(f,_,r.state.value[t])}const M=i?function(){const{state:_}=n,I=_?_():{};this.$patch(k=>{Or(k,I)})}:Ow;function O(){o.stop(),f=[],p=[],r._s.delete(t)}const v=(w,_="")=>{if(om in w)return w[Wu]=_,w;const I=function(){da(r);const k=Array.from(arguments),R=[],b=[];function se(te){R.push(te)}function me(te){b.push(te)}Qs(p,{args:k,name:I[Wu],store:D,after:se,onError:me});let Q;try{Q=w.apply(this&&this.$id===t?this:D,k)}catch(te){throw Qs(b,te),te}return Q instanceof Promise?Q.then(te=>(Qs(R,te),te)).catch(te=>(Qs(b,te),Promise.reject(te))):(Qs(R,Q),Q)};return I[om]=!0,I[Wu]=_,I},P={_p:r,$id:t,$onAction:im.bind(null,p),$patch:S,$reset:M,$subscribe(w,_={}){const I=im(f,w,_.detached,()=>k()),k=o.run(()=>nn(()=>r.state.value[t],R=>{(_.flush==="sync"?h:u)&&w({storeId:t,type:Po.direct,events:g},R)},Or({},l,_)));return I},$dispose:O},D=ut(P);r._s.set(t,D);const A=(r._a&&r._a.runWithContext||XR)(()=>r._e.run(()=>(o=Gf()).run(()=>e({action:v}))));for(const w in A){const _=A[w];if(Ge(_)&&!tC(_)||lr(_))i||(y&&eC(_)&&(Ge(_)?_.value=y[w]:Kh(_,y[w])),r.state.value[t][w]=_);else if(typeof _=="function"){const I=v(_,w);A[w]=I,a.actions[w]=_}}return Or(D,A),Or(ye(D),A),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:w=>{S(_=>{Or(_,w)})}}),r._p.forEach(w=>{Or(D,o.run(()=>w({store:D,app:r._a,pinia:r,options:a})))}),y&&i&&n.hydrate&&n.hydrate(D.$state,y),u=!0,h=!0,D}/*! #__NO_SIDE_EFFECTS__ */function pa(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=ha();return o=o||(l?tt(kw,null):null),o&&da(o),o=Pw,o._s.has(t)||(s?Dw(t,e,r,o):nC(t,r,o)),o._s.get(t)}return i.$id=t,i}function am(t){const e=sC(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const rC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function sC(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=rC.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const iC=-1,oC=-2,aC=-3,cC=-4,lC=-5,uC=-6;function hC(t,e){return fC(JSON.parse(t),e)}function fC(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===iC)return;if(i===aC)return NaN;if(i===cC)return 1/0;if(i===lC)return-1/0;if(i===uC)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],u=e?.[l];if(u)return r[i]=u(s(a[1]));switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const h=new Set;r[i]=h;for(let g=1;g<a.length;g+=1)h.add(s(a[g]));break;case"Map":const f=new Map;r[i]=f;for(let g=1;g<a.length;g+=2)f.set(s(a[g]),s(a[g+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const p=Object.create(null);r[i]=p;for(let g=1;g<a.length;g+=2)p[a[g]]=s(a[g+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const g=globalThis[l],y=a[1],E=am(y),S=new g(E);r[i]=S;break}case"ArrayBuffer":{const g=a[1],y=am(g);r[i]=y;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let u=0;u<a.length;u+=1){const h=a[u];h!==oC&&(l[u]=s(h))}}else{const l={};r[i]=l;for(const u in a){const h=a[u];l[u]=s(h)}}return r[i]}return s(0)}const dC=new Set(["link","style","script","noscript"]),pC=new Set(["title","titleTemplate","script","style","noscript"]),cm=new Set(["base","meta","link","style","script","noscript"]),gC=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),mC=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),yC=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),_C=new Set(["templateParams","htmlAttrs","bodyAttrs"]),pd=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Ko={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},vC={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Nw={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${or(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?or(t):`${or(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${or(t)} ${e}`}},charset:{}};function or(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:Ko.META.has(e.slice(0,n))||Ko.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function Mw(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function Gh(t){return Array.isArray(t)?t.map(Gh):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[or(e),Gh(n)]))}function xw(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const u=i({key:o,value:a});if(u!==void 0)return u}const l=typeof a=="object"?xw(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${l}`}).join(n)}function lm(t,e){const n=Mw(e),r=or(t),s=Lw(r);if(!pd.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return Zc(i||{}).sort((o,a)=>(o[s]?.length||0)-(a[s]?.length||0))}function Lw(t){if(Nw[t]?.metaKey==="http-equiv"||Ko.HTTP_EQUIV.has(t))return"http-equiv";const e=or(t),n=e.indexOf(":");return n===-1?"name":Ko.OG.has(e.slice(0,n))?"property":"name"}function wC(t){return vC[t]||or(t)}function EC(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:xw(Gh(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...Nw[e]?.unpack})}function Zc(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[u,h]of Object.entries(o)){const f=`${s}${u==="url"?"":`:${u}`}`,p=Zc({[f]:h});(u==="url"?a:l).push(...p)}e.push(...a,...l)}else e.push(...typeof o=="string"?Zc({[s]:o}):lm(s,o));continue}if(typeof i=="object"&&i)if(Ko.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";i.url&&e.push({[l]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[u,h]of Object.entries(i))u!=="url"&&u!=="secureUrl"&&e.push({[l]:`${o}:${a}:${u}`,content:h})}else pd.has(or(s))?e.push(...lm(s,i)):n[s]=Mw(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=Lw(s),a=wC(s),l=i===null?"_null":typeof i=="object"?EC(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const TC={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(Zc(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},IC=["name","property","http-equiv"],bC=new Set(["viewport","description","keywords","robots"]);function Vw(t){const e=t.split(":");return e.length?pd.has(e[1]):!1}function Qh(t){const{props:e,tag:n}=t;if(mC.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of IC)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=bC.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(pC.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function um(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function el(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>el(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=el(s[o],e,o);return i}return s}function AC(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function Fw(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=AC(n,r);return}if(yC.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function SC(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=Fw({tag:t,props:{}},n);return r.key&&dC.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function RC(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=el(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(SC(s,o))}),r.flat()}const Jh=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,hm={base:-10,title:10},CC={critical:-8,high:-1,low:2},fm={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},PC=/@import/,mo=t=>t===""||t===!0;function kC(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=CC[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:fm;if(e.tag in hm)n=hm[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=fm.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?mo(e.props.async)?n=s.script.async:e.props.src&&!mo(e.props.defer)&&!mo(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:mo(e.props.defer)&&e.props.src&&!mo(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&PC.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function dm(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function OC(t={}){const e=_w();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>dm(o,a),push(a,l){const u={...l||{}};delete u.head;const h=u._index??o._entryCount++,f={_i:h,input:a,options:u},p={_poll(g=!1){o.dirty=!0,!g&&i.add(h),e.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(g){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(f.input=g,r.set(h,f),p._poll())}};return p.patch(a),p},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const y={tags:RC(g.input,t.propResolvers||[]).map(E=>Object.assign(E,g.options)),entry:g};await e.callHook("entries:normalize",y),g._tags=y.tags.map((E,S)=>(E._w=kC(o,E),E._p=(g._i<<10)+S,E._d=Qh(E),E))}}let l=!1;a.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(Jh).reduce((p,g)=>{const y=String(g._d||g._p);if(!p.has(y))return p.set(y,g);const E=p.get(y);if((g?.tagDuplicateStrategy||(_C.has(g.tag)?"merge":null)||(g.key&&g.key===E.key?"merge":null))==="merge"){const M={...E.props};Object.entries(g.props).forEach(([O,v])=>M[O]=O==="style"?new Map([...E.props.style||new Map,...v]):O==="class"?new Set([...E.props.class||new Set,...v]):v),p.set(y,{...g,props:M})}else g._p>>10===E._p>>10&&g.tag==="meta"&&Vw(y)?(p.set(y,Object.assign([...Array.isArray(E)?E:[E],g],g)),l=!0):(g._w===E._w?g._p>E._p:g?._w<E?._w)&&p.set(y,g);return p},a.tagMap);const u=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=u?.textContent,h){const p=h?.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u?.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",u?.textContent||"")),u?g===null?a.tagMap.delete("title"):a.tagMap.set("title",{...u,textContent:g}):(h.tag="title",h.textContent=g)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Jh)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const f=[];for(const p of a.tags){const{innerHTML:g,tag:y,props:E}=p;if(gC.has(y)&&!(Object.keys(E).length===0&&!p.innerHTML&&!p.textContent)&&!(y==="meta"&&!E.content&&!E["http-equiv"]&&!E.charset)){if(y==="script"&&g){if(E.type?.endsWith("json")){const S=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=S.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${y}`,"g"),`<\\/${y}`));p._d=Qh(p)}f.push(p)}}return f},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>dm(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const Ku="%separator";function DC(t,e,n=!1){let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const s=e.indexOf(".");r=t[e.substring(0,s)]?.[e.substring(s+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function Za(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(Ku);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===Ku||!i.includes(a))return a;const l=DC(e,a.slice(1),r);return l!==void 0?l:a}).trim(),o&&(t=t.split(Ku).map(a=>a.trim()).filter(a=>a!=="").join(n?` ${n} `:" ")),t}const pm=t=>t.includes(":key")?t:t.split(":").join(":key:"),NC={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=pm(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=pm(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Jh))}}},MC={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Yh(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>Yh(n)));if(t?.constructor===Object){const n={};for(const r of Object.keys(t))n[r]=await Yh(t[r]);return n}return t}const xC={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(Yh(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},LC={meta:"content",link:"href",htmlAttrs:"lang"},VC=["innerHTML","textContent"],FC=t=>({key:"template-params",hooks:{"entries:normalize":e=>{const n=e.tags.filter(r=>r.tag==="templateParams"&&r.mode==="server")?.[0]?.props||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...t._ssrPayload?.templateParams||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{const r=e.get("templateParams")?.props||{},s=r.separator||"|";delete r.separator,r.pageTitle=Za(r.pageTitle||t._title||"",r,s);for(const i of n){if(i.processTemplateParams===!1)continue;const o=LC[i.tag];if(o&&typeof i.props[o]=="string")i.props[o]=Za(i.props[o],r,s);else if(i.processTemplateParams||i.tag==="titleTemplate"||i.tag==="title")for(const a of VC)typeof i[a]=="string"&&(i[a]=Za(i[a],r,s,i.tag==="script"&&i.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n?.textContent&&n.processTemplateParams!==!1&&(n.textContent=Za(n.textContent,t._templateParams,t._separator))}}}),UC=(t,e)=>Ge(e)?wn(e):e,gd="usehead";function $C(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(gd,t)}}.install}function Uw(){if(ha()){const t=tt(gd);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function $w(t,e={}){const n=e.head||Uw();return n.ssr?n.push(t||{},e):BC(n,t,e)}function BC(t,e,n={}){const r=Ke(!1);let s;return So(()=>{const o=r.value?{}:el(e,UC);s?s.patch(o):s=t.push(o,n)}),Tr()&&(Bi(()=>{s.dispose()}),Iv(()=>{r.value=!0}),Tv(()=>{r.value=!1})),s}function jC(t={},e={}){(e.head||Uw()).use(TC);const{title:r,titleTemplate:s,...i}=t;return $w({title:r,titleTemplate:s,_flatMeta:i},e)}function Bw(t){const e=t||Ew();return e?.ssrContext?.head||e?.runWithContext(()=>{if(ha())return tt(gd)})}function jw(t,e={}){const n=Bw(e.nuxt);if(n)return $w(t,{head:n,...e})}function HC(t,e={}){const n=Bw(e.nuxt);if(n)return jC(t,{head:n,...e})}const qC="modulepreload",zC=function(t,e){return new URL(t,e).href},gm={},Fe=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(n.map(h=>{if(h=zC(h,r),h in gm)return;gm[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(!!r)for(let E=o.length-1;E>=0;E--){const S=o[E];if(S.href===h&&(!f||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":qC,f||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),f)return new Promise((E,S)=>{y.addEventListener("load",E),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let gc,mc;function WC(){return gc=$fetch(dd(`builds/meta/${gr().app.buildId}.json`),{responseType:"json"}),gc.then(t=>{mc=UR(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),gc}function Ll(){return gc||WC()}async function md(t){const e=typeof t=="string"?t:t.path;if(await Ll(),!mc)return console.error("[nuxt] Error creating app manifest matcher.",mc),{};try{return bw({},...mc.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function mm(t,e={}){if(!await qw(t))return null;const r=await GC(t,e);return await Hw(r)||null}const KC="_payload.json";async function GC(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||Ir(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=gr(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await qw(t)?i:r.app.baseURL;return Ml(o,n.pathname,KC+(s?`?${s}`:""))}async function Hw(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(zw));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function qw(t=xl().path){const e=Je();return t=Si(t),(await Ll()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await md({path:t});return!!r.prerender&&!r.redirect})}let gs=null;async function QC(){if(gs)return gs;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await zw(t.textContent||""),n=t.dataset.src?await Hw(t.dataset.src):void 0;return gs={...e,...n,...window.__NUXT__},gs.config?.public&&(gs.config.public=ut(gs.config.public)),gs}async function zw(t){return await hC(t,Je()._payloadRevivers)}function Ww(t,e){Je()._payloadRevivers[t]=e}const JC=VR(()=>{Ww("skipHydrate",t=>{})}),YC=[["NuxtError",t=>Hr(t)],["EmptyShallowRef",t=>Vn(t==="_"?void 0:t==="0n"?BigInt(0):Ai(t))],["EmptyRef",t=>Ke(t==="_"?void 0:t==="0n"?BigInt(0):Ai(t))],["ShallowRef",t=>Vn(t)],["ShallowReactive",t=>Ln(t)],["Ref",t=>Ke(t)],["Reactive",t=>ut(t)]],XC=St({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of YC)Ww(r,s);Object.assign(t.payload,([e,n]=pn(()=>t.runWithContext(QC)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function yd(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(g=>{t.resolveTags().then(y=>{g(y.map(E=>{const S=i.get(E._d)||0,M={tag:E,id:(S?`${E._d}:${S}`:E._d)||um(E),shouldRender:!0};return E._d&&Vw(E._d)&&i.set(E._d,S+1),M}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const y=n[g]?.children;for(const E of y){const S=E.tagName.toLowerCase();if(!cm.has(S))continue;const M=Fw({tag:S,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((O,v)=>(O[v]=E.getAttribute(v),O),{})||{}});if(M.key=E.getAttribute("data-hid")||void 0,M._d=Qh(M)||um(M),a.elMap.has(M._d)){let O=1,v=M._d;for(;a.elMap.has(v);)v=`${M._d}:${O++}`;a.elMap.set(v,E)}else a.elMap.set(M._d,E)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(g,y,E){const S=`${g}:${y}`;a.sideEffects[S]=E,delete a.pendingSideEffects[S]}function u({id:g,$el:y,tag:E}){const S=E.tag.endsWith("Attrs");a.elMap.set(g,y),S||(E.textContent&&E.textContent!==y.textContent&&(y.textContent=E.textContent),E.innerHTML&&E.innerHTML!==y.innerHTML&&(y.innerHTML=E.innerHTML),l(g,"el",()=>{y?.remove(),a.elMap.delete(g)}));for(const M in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,M))continue;const O=E.props[M];if(M.startsWith("on")&&typeof O=="function"){const P=y?.dataset;if(P&&P[`${M}fired`]){const D=M.slice(0,-5);O.call(y,new Event(D.substring(2)))}y.getAttribute(`data-${M}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:y).addEventListener(M.substring(2),O.bind(y)),y.setAttribute(`data-${M}`,""));continue}const v=`attr:${M}`;if(M==="class"){if(!O)continue;for(const P of O)S&&l(g,`${v}:${P}`,()=>y.classList.remove(P)),!y.classList.contains(P)&&y.classList.add(P)}else if(M==="style"){if(!O)continue;for(const[P,D]of O)l(g,`${v}:${P}`,()=>{y.style.removeProperty(P)}),y.style.setProperty(P,D)}else O!==!1&&O!==null&&(y.getAttribute(M)!==O&&y.setAttribute(M,O===!0?"":String(O)),S&&l(g,v,()=>y.removeAttribute(M)))}}const h=[],f={bodyClose:void 0,bodyOpen:void 0,head:void 0},p=await o;for(const g of p){const{tag:y,shouldRender:E,id:S}=g;if(E){if(y.tag==="title"){n.title=y.textContent,l("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(S),g.$el?u(g):cm.has(y.tag)&&h.push(g)}}for(const g of h){const y=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),f[y]=f[y]||n.createDocumentFragment(),f[y].appendChild(g.$el)}for(const g of p)await t.hooks.callHook("dom:renderTag",g,n,l);f.head&&n.head.appendChild(f.head),f.bodyOpen&&n.body.insertBefore(f.bodyOpen,n.body.firstChild),f.bodyClose&&n.body.appendChild(f.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:p}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function ZC(t={}){const e=t.domOptions?.render||yd;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return OC({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function eP(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function tP(t={}){const e=ZC({domOptions:{render:eP(()=>yd(e),n=>setTimeout(n,0))},...t});return e.install=$C(e),e}const nP={disableDefaults:!0,disableCapoSorting:!1,plugins:[MC,xC,FC,NC]},rP=St({name:"nuxt:head",enforce:"pre",setup(t){const e=tP(nP);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await yd(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Zs=typeof document<"u";function Kw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Kw(t.default)}const De=Object.assign;function Gu(t,e){const n={};for(const r in e){const s=e[r];n[r]=Cn(s)?s.map(t):t(s)}return n}const ko=()=>{},Cn=Array.isArray,Gw=/#/g,iP=/&/g,oP=/\//g,aP=/=/g,cP=/\?/g,Qw=/\+/g,lP=/%5B/g,uP=/%5D/g,Jw=/%5E/g,hP=/%60/g,Yw=/%7B/g,fP=/%7C/g,Xw=/%7D/g,dP=/%20/g;function _d(t){return encodeURI(""+t).replace(fP,"|").replace(lP,"[").replace(uP,"]")}function pP(t){return _d(t).replace(Yw,"{").replace(Xw,"}").replace(Jw,"^")}function Xh(t){return _d(t).replace(Qw,"%2B").replace(dP,"+").replace(Gw,"%23").replace(iP,"%26").replace(hP,"`").replace(Yw,"{").replace(Xw,"}").replace(Jw,"^")}function gP(t){return Xh(t).replace(aP,"%3D")}function mP(t){return _d(t).replace(Gw,"%23").replace(cP,"%3F")}function yP(t){return t==null?"":mP(t).replace(oP,"%2F")}function Go(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _P=/\/$/,vP=t=>t.replace(_P,"");function Qu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=IP(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Go(o)}}function wP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ym(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function EP(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ri(e.matched[r],n.matched[s])&&Zw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ri(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Zw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!TP(t[n],e[n]))return!1;return!0}function TP(t,e){return Cn(t)?_m(t,e):Cn(e)?_m(e,t):t===e}function _m(t,e){return Cn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function IP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const hn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Qo;(function(t){t.pop="pop",t.push="push"})(Qo||(Qo={}));var Oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Oo||(Oo={}));function bP(t){if(!t)if(Zs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vP(t)}const AP=/^[^#]+#/;function SP(t,e){return t.replace(AP,"#")+e}function RP(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Vl=()=>({left:window.scrollX,top:window.scrollY});function CP(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=RP(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vm(t,e){return(history.state?history.state.position-e:-1)+t}const Zh=new Map;function PP(t,e){Zh.set(t,e)}function kP(t){const e=Zh.get(t);return Zh.delete(t),e}let OP=()=>location.protocol+"//"+location.host;function eE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ym(l,"")}return ym(n,t)+r+s}function DP(t,e,n,r){let s=[],i=[],o=null;const a=({state:p})=>{const g=eE(t,location),y=n.value,E=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===y){o=null;return}S=E?p.position-E.position:0}else r(g);s.forEach(M=>{M(n.value,y,{delta:S,type:Qo.pop,direction:S?S>0?Oo.forward:Oo.back:Oo.unknown})})};function l(){o=n.value}function u(p){s.push(p);const g=()=>{const y=s.indexOf(p);y>-1&&s.splice(y,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(De({},p.state,{scroll:Vl()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function wm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Vl():null}}function NP(t){const{history:e,location:n}=window,r={value:eE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:OP()+t+l;try{e[h?"replaceState":"pushState"](u,"",p),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(l,u){const h=De({},e.state,wm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=De({},s.value,e.state,{forward:l,scroll:Vl()});i(h.current,h,!0);const f=De({},wm(r.value,l,null),{position:h.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function MP(t){t=bP(t);const e=NP(t),n=DP(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=De({location:"",base:t,go:r,createHref:SP.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function xP(t){return typeof t=="string"||t&&typeof t=="object"}function tE(t){return typeof t=="string"||typeof t=="symbol"}const nE=Symbol("");var Em;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Em||(Em={}));function Ci(t,e){return De(new Error,{type:t,[nE]:!0},e)}function Zn(t,e){return t instanceof Error&&nE in t&&(e==null||!!(t.type&e))}const Tm="[^/]+?",LP={sensitive:!1,strict:!1,start:!0,end:!0},VP=/[.+*?^${}()[\]/\\]/g;function FP(t,e){const n=De({},LP,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(VP,"\\$&"),g+=40;else if(p.type===1){const{value:y,repeatable:E,optional:S,regexp:M}=p;i.push({name:y,repeatable:E,optional:S});const O=M||Tm;if(O!==Tm){g+=10;try{new RegExp(`(${O})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${O}): `+P.message)}}let v=E?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(v=S&&u.length<2?`(?:/${v})`:"/"+v),S&&(v+="?"),s+=v,g+=20,S&&(g+=-8),E&&(g+=-20),O===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",y=i[p-1];f[y.name]=g&&y.repeatable?g.split("/"):g}return f}function l(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:y,repeatable:E,optional:S}=g,M=y in u?u[y]:"";if(Cn(M)&&!E)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const O=Cn(M)?M.join("/"):M;if(!O)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);h+=O}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function UP(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function rE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=UP(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Im(r))return 1;if(Im(s))return-1}return s.length-r.length}function Im(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $P={type:0,value:""},BP=/[a-zA-Z0-9_]/;function jP(t){if(!t)return[[]];if(t==="/")return[[$P]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:BP.test(l)?p():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function HP(t,e,n){const r=FP(jP(t.path),n),s=De(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function qP(t,e){const n=[],r=new Map;e=Rm({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,p,g){const y=!g,E=Am(f);E.aliasOf=g&&g.record;const S=Rm(e,f),M=[E];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of P)M.push(Am(De({},E,{components:g?g.record.components:E.components,path:D,aliasOf:g?g.record:E})))}let O,v;for(const P of M){const{path:D}=P;if(p&&D[0]!=="/"){const L=p.record.path,A=L[L.length-1]==="/"?"":"/";P.path=p.record.path+(D&&A+D)}if(O=HP(P,p,S),g?g.alias.push(O):(v=v||O,v!==O&&v.alias.push(O),y&&f.name&&!Sm(O)&&o(f.name)),sE(O)&&l(O),E.children){const L=E.children;for(let A=0;A<L.length;A++)i(L[A],O,g&&g.children[A])}g=g||O}return v?()=>{o(v)}:ko}function o(f){if(tE(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const p=KP(f,n);n.splice(p,0,f),f.record.name&&!Sm(f)&&r.set(f.record.name,f)}function u(f,p){let g,y={},E,S;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Ci(1,{location:f});S=g.record.name,y=De(bm(p.params,g.keys.filter(v=>!v.optional).concat(g.parent?g.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),f.params&&bm(f.params,g.keys.map(v=>v.name))),E=g.stringify(y)}else if(f.path!=null)E=f.path,g=n.find(v=>v.re.test(E)),g&&(y=g.parse(E),S=g.record.name);else{if(g=p.name?r.get(p.name):n.find(v=>v.re.test(p.path)),!g)throw Ci(1,{location:f,currentLocation:p});S=g.record.name,y=De({},p.params,f.params),E=g.stringify(y)}const M=[];let O=g;for(;O;)M.unshift(O.record),O=O.parent;return{name:S,path:E,params:y,matched:M,meta:WP(M)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function bm(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Am(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:zP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function zP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Sm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function WP(t){return t.reduce((e,n)=>De(e,n.meta),{})}function Rm(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function KP(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;rE(t,e[i])<0?r=i:n=i+1}const s=GP(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function GP(t){let e=t;for(;e=e.parent;)if(sE(e)&&rE(t,e)===0)return e}function sE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function QP(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Qw," "),o=i.indexOf("="),a=Go(o<0?i:i.slice(0,o)),l=o<0?null:Go(i.slice(o+1));if(a in e){let u=e[a];Cn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Cm(t){let e="";for(let n in t){const r=t[n];if(n=gP(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Cn(r)?r.map(i=>i&&Xh(i)):[r&&Xh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function JP(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Cn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const YP=Symbol(""),Pm=Symbol(""),Fl=Symbol(""),vd=Symbol(""),ef=Symbol("");function yo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function xr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(Ci(4,{from:n,to:e})):p instanceof Error?l(p):xP(p)?l(Ci(2,{from:e,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(h);t.length<3&&(f=f.then(u)),f.catch(p=>l(p))})}function Ju(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Kw(l)){const h=(l.__vccOpts||l)[e];h&&i.push(xr(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=sP(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&xr(g,n,r,o,a,s)()}))}}return i}function km(t){const e=tt(Fl),n=tt(vd),r=we(()=>{const l=We(t.to);return e.resolve(l)}),s=we(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(Ri.bind(null,h));if(p>-1)return p;const g=Om(l[u-2]);return u>1&&Om(h)===g&&f[f.length-1].path!==g?f.findIndex(Ri.bind(null,l[u-2])):p}),i=we(()=>s.value>-1&&n1(n.params,r.value.params)),o=we(()=>s.value>-1&&s.value===n.matched.length-1&&Zw(n.params,r.value.params));function a(l={}){if(t1(l)){const u=e[We(t.replace)?"replace":"push"](We(t.to)).catch(ko);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:we(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function XP(t){return t.length===1?t[0]:t}const ZP=rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:km,setup(t,{slots:e}){const n=ut(km(t)),{options:r}=tt(Fl),s=we(()=>({[Dm(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Dm(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&XP(e.default(n));return t.custom?i:et("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),e1=ZP;function t1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function n1(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Cn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Om(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dm=(t,e,n)=>t??e??n,r1=rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=tt(ef),s=we(()=>t.route||r.value),i=tt(Pm,0),o=we(()=>{let u=We(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=we(()=>s.value.matched[o.value]);ur(Pm,we(()=>o.value+1)),ur(YP,a),ur(ef,s);const l=Ke();return nn(()=>[l.value,a.value,t.name],([u,h,f],[p,g,y])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!Ri(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Nm(n.default,{Component:p,route:u});const g=f.props[h],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=et(p,De({},y,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Nm(n.default,{Component:S,route:u})||S}}});function Nm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const iE=r1;function s1(t){const e=qP(t.routes,t),n=t.parseQuery||QP,r=t.stringifyQuery||Cm,s=t.history,i=yo(),o=yo(),a=yo(),l=Vn(hn);let u=hn;Zs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Gu.bind(null,F=>""+F),f=Gu.bind(null,yP),p=Gu.bind(null,Go);function g(F,X){let Y,ie;return tE(F)?(Y=e.getRecordMatcher(F),ie=X):ie=F,e.addRoute(ie,Y)}function y(F){const X=e.getRecordMatcher(F);X&&e.removeRoute(X)}function E(){return e.getRoutes().map(F=>F.record)}function S(F){return!!e.getRecordMatcher(F)}function M(F,X){if(X=De({},X||l.value),typeof F=="string"){const N=Qu(n,F,X.path),V=e.resolve({path:N.path},X),H=s.createHref(N.fullPath);return De(N,V,{params:p(V.params),hash:Go(N.hash),redirectedFrom:void 0,href:H})}let Y;if(F.path!=null)Y=De({},F,{path:Qu(n,F.path,X.path).path});else{const N=De({},F.params);for(const V in N)N[V]==null&&delete N[V];Y=De({},F,{params:f(N)}),X.params=f(X.params)}const ie=e.resolve(Y,X),Ae=F.hash||"";ie.params=h(p(ie.params));const Ve=wP(r,De({},F,{hash:pP(Ae),path:ie.path})),C=s.createHref(Ve);return De({fullPath:Ve,hash:Ae,query:r===Cm?JP(F.query):F.query||{}},ie,{redirectedFrom:void 0,href:C})}function O(F){return typeof F=="string"?Qu(n,F,l.value.path):De({},F)}function v(F,X){if(u!==F)return Ci(8,{from:X,to:F})}function P(F){return A(F)}function D(F){return P(De(O(F),{replace:!0}))}function L(F){const X=F.matched[F.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let ie=typeof Y=="function"?Y(F):Y;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=O(ie):{path:ie},ie.params={}),De({query:F.query,hash:F.hash,params:ie.path!=null?{}:F.params},ie)}}function A(F,X){const Y=u=M(F),ie=l.value,Ae=F.state,Ve=F.force,C=F.replace===!0,N=L(Y);if(N)return A(De(O(N),{state:typeof N=="object"?De({},Ae,N.state):Ae,force:Ve,replace:C}),X||Y);const V=Y;V.redirectedFrom=X;let H;return!Ve&&EP(r,ie,Y)&&(H=Ci(16,{to:V,from:ie}),gt(ie,ie,!0,!1)),(H?Promise.resolve(H):I(V,ie)).catch($=>Zn($)?Zn($,2)?$:Rt($):W($,V,ie)).then($=>{if($){if(Zn($,2))return A(De({replace:C},O($.to),{state:typeof $.to=="object"?De({},Ae,$.to.state):Ae,force:Ve}),X||V)}else $=R(V,ie,!0,C,Ae);return k(V,ie,$),$})}function w(F,X){const Y=v(F,X);return Y?Promise.reject(Y):Promise.resolve()}function _(F){const X=On.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(F):F()}function I(F,X){let Y;const[ie,Ae,Ve]=i1(F,X);Y=Ju(ie.reverse(),"beforeRouteLeave",F,X);for(const N of ie)N.leaveGuards.forEach(V=>{Y.push(xr(V,F,X))});const C=w.bind(null,F,X);return Y.push(C),ht(Y).then(()=>{Y=[];for(const N of i.list())Y.push(xr(N,F,X));return Y.push(C),ht(Y)}).then(()=>{Y=Ju(Ae,"beforeRouteUpdate",F,X);for(const N of Ae)N.updateGuards.forEach(V=>{Y.push(xr(V,F,X))});return Y.push(C),ht(Y)}).then(()=>{Y=[];for(const N of Ve)if(N.beforeEnter)if(Cn(N.beforeEnter))for(const V of N.beforeEnter)Y.push(xr(V,F,X));else Y.push(xr(N.beforeEnter,F,X));return Y.push(C),ht(Y)}).then(()=>(F.matched.forEach(N=>N.enterCallbacks={}),Y=Ju(Ve,"beforeRouteEnter",F,X,_),Y.push(C),ht(Y))).then(()=>{Y=[];for(const N of o.list())Y.push(xr(N,F,X));return Y.push(C),ht(Y)}).catch(N=>Zn(N,8)?N:Promise.reject(N))}function k(F,X,Y){a.list().forEach(ie=>_(()=>ie(F,X,Y)))}function R(F,X,Y,ie,Ae){const Ve=v(F,X);if(Ve)return Ve;const C=X===hn,N=Zs?history.state:{};Y&&(ie||C?s.replace(F.fullPath,De({scroll:C&&N&&N.scroll},Ae)):s.push(F.fullPath,Ae)),l.value=F,gt(F,X,Y,C),Rt()}let b;function se(){b||(b=s.listen((F,X,Y)=>{if(!cn.listening)return;const ie=M(F),Ae=L(ie);if(Ae){A(De(Ae,{replace:!0,force:!0}),ie).catch(ko);return}u=ie;const Ve=l.value;Zs&&PP(vm(Ve.fullPath,Y.delta),Vl()),I(ie,Ve).catch(C=>Zn(C,12)?C:Zn(C,2)?(A(De(O(C.to),{force:!0}),ie).then(N=>{Zn(N,20)&&!Y.delta&&Y.type===Qo.pop&&s.go(-1,!1)}).catch(ko),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),W(C,ie,Ve))).then(C=>{C=C||R(ie,Ve,!1),C&&(Y.delta&&!Zn(C,8)?s.go(-Y.delta,!1):Y.type===Qo.pop&&Zn(C,20)&&s.go(-1,!1)),k(ie,Ve,C)}).catch(ko)}))}let me=yo(),Q=yo(),te;function W(F,X,Y){Rt(F);const ie=Q.list();return ie.length?ie.forEach(Ae=>Ae(F,X,Y)):console.error(F),Promise.reject(F)}function Ee(){return te&&l.value!==hn?Promise.resolve():new Promise((F,X)=>{me.add([F,X])})}function Rt(F){return te||(te=!F,se(),me.list().forEach(([X,Y])=>F?Y(F):X()),me.reset()),F}function gt(F,X,Y,ie){const{scrollBehavior:Ae}=t;if(!Zs||!Ae)return Promise.resolve();const Ve=!Y&&kP(vm(F.fullPath,0))||(ie||!Y)&&history.state&&history.state.scroll||null;return sn().then(()=>Ae(F,X,Ve)).then(C=>C&&CP(C)).catch(C=>W(C,F,X))}const Oe=F=>s.go(F);let je;const On=new Set,cn={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:E,resolve:M,options:t,push:P,replace:D,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:Ee,install(F){const X=this;F.component("RouterLink",e1),F.component("RouterView",iE),F.config.globalProperties.$router=X,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>We(l)}),Zs&&!je&&l.value===hn&&(je=!0,P(s.location).catch(Ae=>{}));const Y={};for(const Ae in hn)Object.defineProperty(Y,Ae,{get:()=>l.value[Ae],enumerable:!0});F.provide(Fl,X),F.provide(vd,Ln(Y)),F.provide(ef,l);const ie=F.unmount;On.add(F),F.unmount=function(){On.delete(F),On.size<1&&(u=hn,b&&b(),b=null,l.value=hn,je=!1,te=!1),ie()}}};function ht(F){return F.reduce((X,Y)=>X.then(()=>_(Y)),Promise.resolve())}return cn}function i1(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ri(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ri(u,l))||s.push(l))}return[n,r,s]}function bU(){return tt(Fl)}function oE(t){return tt(vd)}const o1=/(:\w+)\([^)]+\)/g,a1=/(:\w+)[?+*]/g,c1=/:\w+/g,l1=(t,e)=>e.path.replace(o1,"$1").replace(a1,"$1").replace(c1,n=>t.params[n.slice(1)]?.toString()||""),tf=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&l1(t.route,n));return typeof r=="function"?r(t.route):r},u1=(t,e)=>({default:()=>t?et(YA,t===!0?{}:t,e):e});function wd(t){return Array.isArray(t)?t:[t]}const h1={layout:"home"},f1={layout:"noscroll"},d1={layout:"form"},p1={layout:"form"},g1={layout:"form"},m1={layout:"form"},Yu=[{name:"db",path:"/db",component:()=>Fe(()=>import("./DjLqkooJ.js"),[],import.meta.url)},{name:"200",path:"/200",component:()=>Fe(()=>import("./MG8Tprs0.js"),[],import.meta.url)},{name:"404",path:"/404",component:()=>Fe(()=>import("./BoO7RWzk.js"),[],import.meta.url)},{name:"500",path:"/500",component:()=>Fe(()=>import("./Bs7nt8Ja.js"),[],import.meta.url)},{name:"index",path:"/",meta:h1||{},component:()=>Fe(()=>import("./GhYza6RS.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"sobre",path:"/sobre",component:()=>Fe(()=>import("./DTvmMwKR.js"),__vite__mapDeps([2,3]),import.meta.url)},{name:"agenda",path:"/agenda",meta:f1||{},component:()=>Fe(()=>import("./BzDo-SR_.js"),__vite__mapDeps([4,5,6,7]),import.meta.url)},{name:"perfil",path:"/perfil",component:()=>Fe(()=>import("./CtL4jXvB.js"),__vite__mapDeps([8,9]),import.meta.url)},{name:"eventos",path:"/eventos",component:()=>Fe(()=>import("./DNYYR0E9.js"),__vite__mapDeps([10,11,12,13]),import.meta.url)},{name:"navegar",path:"/navegar",component:()=>Fe(()=>import("./CRqqTmKJ.js"),__vite__mapDeps([14,15]),import.meta.url)},{name:"recentes",path:"/recentes",component:()=>Fe(()=>import("./3NaLlxii.js"),__vite__mapDeps([16,17]),import.meta.url)},{name:"servicos",path:"/servicos",component:()=>Fe(()=>import("./_j_nq36T.js"),__vite__mapDeps([18,19]),import.meta.url)},{name:"settings",path:"/settings",component:()=>Fe(()=>import("./CYM0Fn-V.js"),__vite__mapDeps([20,21]),import.meta.url)},{name:"forms-view",path:"/forms/view",meta:d1||{},component:()=>Fe(()=>import("./Dw96M1Hv.js"),__vite__mapDeps([22,5,6,23]),import.meta.url)},{name:"lista-edit",path:"/lista/edit",component:()=>Fe(()=>import("./Ciq6TeTK.js"),[],import.meta.url)},{name:"hinos",path:"/hinos",component:()=>Fe(()=>import("./Bobta2kX.js"),__vite__mapDeps([24,25]),import.meta.url)},{name:"lista",path:"/lista",component:()=>Fe(()=>import("./C96lvtXp.js"),__vite__mapDeps([26,5,6,12,11,27]),import.meta.url)},{name:"evento",path:"/evento",component:()=>Fe(()=>import("./CYx701bw.js"),__vite__mapDeps([28,29]),import.meta.url)},{name:"forms-contato",path:"/forms/contato",meta:p1||{},component:()=>Fe(()=>import("./DM1dc1lP.js"),__vite__mapDeps([30,31]),import.meta.url)},{name:"lista-calendar",path:"/lista/calendar",component:()=>Fe(()=>import("./BJMtb_A3.js"),__vite__mapDeps([32,5,6,11,33]),import.meta.url)},{name:"evento-solicitar",path:"/evento/solicitar",component:()=>Fe(()=>import("./rlbE6R-n.js"),__vite__mapDeps([34,35]),import.meta.url)},{name:"forms-manutencao",path:"/forms/manutencao",meta:g1||{},component:()=>Fe(()=>import("./DbigeQkf.js"),__vite__mapDeps([36,37]),import.meta.url)},{name:"forms-levantamento_preventiva",path:"/forms/levantamento_preventiva",meta:m1||{},component:()=>Fe(()=>import("./Cmm5NnXP.js"),__vite__mapDeps([38,39]),import.meta.url)}],aE=(t,e)=>({default:()=>t?et(Y0,t===!0?{}:t,e):e.default?.()}),y1=/(:\w+)\([^)]+\)/g,_1=/(:\w+)[?+*]/g,v1=/:\w+/g;function Mm(t){const e=t?.meta.key??t.path.replace(y1,"$1").replace(_1,"$1").replace(v1,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function w1(t,e){return t===e||e===hn?!1:Mm(t)!==Mm(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}const E1={scrollBehavior(t,e,n){const r=Je(),s=Ht().options?.scrollBehaviorType??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:cE(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===hn){a(xm(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(xm(t,e,n,s)))})})}};function cE(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function xm(t,e,n,r){if(n)return n;const s=w1(t,e);return t.hash?{el:t.hash,top:cE(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const T1={hashMode:!1,scrollBehaviorType:"auto"},Pr={...T1,...E1},I1=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=pn(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Hr({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},b1=async t=>{let e,n;const r=([e,n]=pn(()=>md({path:t.path})),e=await e,n(),e);if(r.redirect)return Ir(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},A1=[I1,b1],nf={};function S1(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const u=i.includes(t.slice(o))?t.slice(o).length:1;let h=i.slice(u);return h[0]!=="/"&&(h="/"+h),Qg(h,"")}const a=Qg(r,t),l=!n||QS(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const R1=St({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=gr().app.baseURL;const s=Pr.history?.(r)??MP(r),i=Pr.routes?([e,n]=pn(()=>Pr.routes(Yu)),e=await e,n(),e??Yu):Yu;let o;const a=s1({...Pr,scrollBehavior:(S,M,O)=>{if(M===hn){o=O;return}if(Pr.scrollBehavior){if(a.options.scrollBehavior=Pr.scrollBehavior,"scrollRestoration"in window.history){const v=a.beforeEach(()=>{v(),window.history.scrollRestoration="manual"})}return Pr.scrollBehavior(S,hn,o||O)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=Vn(a.currentRoute.value);a.afterEach((S,M)=>{l.value=M}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=S1(r,window.location,t.payload.path),h=Vn(a.currentRoute.value),f=()=>{h.value=a.currentRoute.value};t.hook("page:finish",f),a.afterEach((S,M)=>{S.matched[0]?.components?.default===M.matched[0]?.components?.default&&f()});const p={};for(const S in h.value)Object.defineProperty(p,S,{get:()=>h.value[S],enumerable:!0});t._route=Ln(p),t._middleware||={global:[],named:{}};const g=fa();a.afterEach(async(S,M,O)=>{delete t._processingMiddleware,!t.isHydrating&&g.value&&await t.runWithContext(KR),O&&await t.callHook("page:loading:end")});try{[e,n]=pn(()=>a.isReady()),await e,n()}catch(S){[e,n]=pn(()=>t.runWithContext(()=>_s(S))),await e,n()}const y=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;f();const E=t.payload.state._layout;return a.beforeEach(async(S,M)=>{await t.callHook("page:loading:start"),S.meta=ut(S.meta),t.isHydrating&&E&&!pr(S.meta.layout)&&(S.meta.layout=E),t._processingMiddleware=!0;{const O=new Set([...A1,...t._middleware.global]);for(const v of S.matched){const P=v.meta.middleware;if(P)for(const D of wd(P))O.add(D)}{const v=await t.runWithContext(()=>md({path:S.path}));if(v.appMiddleware)for(const P in v.appMiddleware)v.appMiddleware[P]?O.add(P):O.delete(P)}for(const v of O){const P=typeof v=="string"?t._middleware.named[v]||await nf[v]?.().then(D=>D.default||D):v;if(!P)throw new Error(`Unknown route middleware: '${v}'.`);try{const D=await t.runWithContext(()=>P(S,M));if(!t.payload.serverRendered&&t.isHydrating&&(D===!1||D instanceof Error)){const L=D||Hr({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>_s(L)),!1}if(D===!0)continue;if(D===!1)return D;if(D)return Cw(D)&&D.fatal&&await t.runWithContext(()=>_s(D)),D}catch(D){const L=Hr(D);return L.fatal&&await t.runWithContext(()=>_s(L)),L}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(async(S,M)=>{S.matched.length===0&&await t.runWithContext(()=>_s(Hr({statusCode:404,fatal:!1,statusMessage:`Page not found: ${S.fullPath}`,data:{path:S.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in y&&(y.name=void 0),await a.replace({...y,force:!0}),a.options.scrollBehavior=Pr.scrollBehavior}catch(S){await t.runWithContext(()=>_s(S))}}),{provide:{router:a}}}}),rf=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),C1=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Ul=t=>{const e=Je();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{rf(()=>t())}):rf(()=>t())},P1=St({name:"nuxt:payload",setup(t){const e=new Set;Ht().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await mm(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),Ul(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await mm(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Ll,1e3)})}}),k1=St(()=>{const t=Ht();Ul(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),O1=St(t=>{let e;async function n(){const r=await Ll();e&&clearTimeout(e),e=setTimeout(n,tm);try{const s=await $fetch(dd("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}Ul(()=>{e=setTimeout(n,tm)})});function D1(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ai(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Je().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const N1=St({name:"nuxt:chunk-reload",setup(t){const e=Ht(),n=gr(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Ml(n.app.baseURL,i.fullPath);D1({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function sf(t){return typeof t=="string"?`'${t}'`:new M1().serialize(t)}const M1=(function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,l]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function x1(t,e){return t===e||sf(t)===sf(e)}const L1=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],V1=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],F1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",ms=[];let U1=class{_data=new ec;_hash=new ec([...L1]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const r=this._hash.words;let s=r[0],i=r[1],o=r[2],a=r[3],l=r[4],u=r[5],h=r[6],f=r[7];for(let p=0;p<64;p++){if(p<16)ms[p]=e[n+p]|0;else{const v=ms[p-15],P=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,D=ms[p-2],L=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;ms[p]=P+ms[p-7]+L+ms[p-16]}const g=l&u^~l&h,y=s&i^s&o^i&o,E=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),S=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),M=f+S+g+V1[p]+ms[p],O=E+y;f=h,h=u,u=l,l=a+M|0,a=o,o=i,i=s,s=M+O|0}r[0]=r[0]+s|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0,r[5]=r[5]+u|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0}_append(e){typeof e=="string"&&(e=ec.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,r=this._data.sigBytes/64;e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const s=r*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let o=0;o<s;o+=16)this._doProcessBlock(this._data.words,o);n=this._data.words.splice(0,s),this._data.sigBytes-=i}return new ec(n,i)}},ec=class lE{words;sigBytes;constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),r=n.length,s=[];for(let i=0;i<r;i++)s[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new lE(s,r)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const r=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,o=r<<16|s<<8|i;for(let a=0;a<4&&n*8+a*6<this.sigBytes*8;a++)e.push(F1.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}};function $1(t){return new U1().finalize(t).toBase64()}function ei(t){return $1(sf(t))}const B1=Symbol.for("nuxt:client-only"),j1=t=>t==="defer"||t===!1;function H1(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;q1(t[0],t[1])&&t.unshift(e);let[n,r,s={}]=t;const i=we(()=>wn(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=Je();s.server??=!0,s.default??=W1,s.getCachedData??=hE,s.lazy??=!1,s.immediate??=!0,s.deep??=ir.deep,s.dedupe??="cancel",s._functionName,o._asyncData[i.value];const a={cause:"initial",dedupe:s.dedupe};o._asyncData[i.value]?._init||(a.cachedData=s.getCachedData(i.value,o,{cause:"initial"}),o._asyncData[i.value]=Lm(o,i.value,r,s,a.cachedData));const l=o._asyncData[i.value];l._deps++;const u=()=>o._asyncData[i.value].execute(a),h=s.server!==!1&&o.payload.serverRendered;{let g=function(O){const v=o._asyncData[O];v?._deps&&(v._deps--,v._deps===0&&v?._off())};const y=Tr();if(y&&h&&s.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const O=y._nuxtOnBeforeMountCbs;Av(()=>{O.forEach(v=>{v()}),O.splice(0,O.length)}),an(()=>O.splice(0,O.length))}const E=y&&(y._nuxtClientOnly||tt(B1,!1));h&&o.isHydrating&&(l.error.value||l.data.value!=null)?(l.pending.value=!1,l.status.value=l.error.value?"error":"success"):y&&(!E&&o.payload.serverRendered&&o.isHydrating||s.lazy)&&s.immediate?y._nuxtOnBeforeMountCbs.push(u):s.immediate&&u();const S=Ui(),M=nn([i,...s.watch||[]],([O],[v])=>{if((O||v)&&O!==v){const P=o._asyncData[v]?.data.value!==ir.value,D=o._asyncDataPromises[v]!==void 0;v&&g(v);const L={cause:"initial",dedupe:s.dedupe};if(!o._asyncData[O]?._init){let A;v&&P?A=o._asyncData[v]?.data.value:(A=s.getCachedData(O,o,{cause:"initial"}),L.cachedData=A),o._asyncData[O]=Lm(o,O,r,s,A)}o._asyncData[O]._deps++,(s.immediate||P||D)&&o._asyncData[O].execute(L)}else l._execute({cause:"watch",dedupe:s.dedupe})},{flush:"sync"});S&&$o(()=>{M(),g(i.value)})}const f={data:tc(()=>o._asyncData[i.value]?.data),pending:tc(()=>o._asyncData[i.value]?.pending),status:tc(()=>o._asyncData[i.value]?.status),error:tc(()=>o._asyncData[i.value]?.error),refresh:(...g)=>o._asyncData[i.value].execute(...g),execute:(...g)=>o._asyncData[i.value].execute(...g),clear:()=>uE(o,i.value)},p=Promise.resolve(o._asyncDataPromises[i.value]).then(()=>f);return Object.assign(p,f),p}function tc(t){return we({get(){return t()?.value},set(e){const n=t();n&&(n.value=e)}})}function q1(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}function uE(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=ir.errorValue),t._asyncData[e]&&(t._asyncData[e].data.value=void 0,t._asyncData[e].error.value=ir.errorValue,t._asyncData[e].pending.value=!1,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function z1(t,e){const n={};for(const r of e)n[r]=t[r];return n}function Lm(t,e,n,r,s){t.payload._errors[e]??=ir.errorValue;const i=r.getCachedData!==hE,o=n,a=r.deep?Ke:Vn,l=s!=null,u=t.hook("app:data:refresh",async f=>{(!f||f.includes(e))&&await h.execute({cause:"refresh:hook"})}),h={data:a(l?s:r.default()),pending:Vn(!l),error:uv(t.payload._errors,e),status:Vn("idle"),execute:(...f)=>{const[p,g=void 0]=f,y=p&&g===void 0&&typeof p=="object"?p:{};if(t._asyncDataPromises[e]){if(j1(y.dedupe??r.dedupe))return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}if(y.cause==="initial"||t.isHydrating){const S="cachedData"in y?y.cachedData:r.getCachedData(e,t,{cause:y.cause??"refresh:manual"});if(S!=null)return t.payload.data[e]=h.data.value=S,h.error.value=ir.errorValue,h.status.value="success",Promise.resolve(S)}h.pending.value=!0,h.status.value="pending";const E=new Promise((S,M)=>{try{S(o(t))}catch(O){M(O)}}).then(async S=>{if(E.cancelled)return t._asyncDataPromises[e];let M=S;r.transform&&(M=await r.transform(S)),r.pick&&(M=z1(M,r.pick)),t.payload.data[e]=M,h.data.value=M,h.error.value=ir.errorValue,h.status.value="success"}).catch(S=>{if(E.cancelled)return t._asyncDataPromises[e];h.error.value=Hr(S),h.data.value=We(r.default()),h.status.value="error"}).finally(()=>{E.cancelled||(h.pending.value=!1,delete t._asyncDataPromises[e])});return t._asyncDataPromises[e]=E,t._asyncDataPromises[e]},_execute:QR((...f)=>h.execute(...f),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{u(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),i||sn(()=>{t._asyncData[e]?._init||(uE(t,e),h.execute=()=>Promise.resolve(),h.data.value=ir.value)})}};return h}const W1=()=>ir.value,hE=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function Vm(t,e,n){const[r={},s]=typeof e=="string"?[{},e]:[e,n],i=we(()=>wn(t)),o=we(()=>wn(r.key)||"$f"+ei([s,typeof i.value=="string"?i.value:"",...K1(r)]));if(!r.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:l,default:u,transform:h,pick:f,watch:p,immediate:g,getCachedData:y,deep:E,dedupe:S,...M}=r,O=ut({...PR,...M,cache:typeof r.cache=="boolean"?void 0:r.cache}),v={server:a,lazy:l,default:u,transform:h,pick:f,immediate:g,getCachedData:y,deep:E,dedupe:S,watch:p===!1?[]:[...p||[],O]};if(!g){let L=function(){v.immediate=!0};nn(o,L,{flush:"sync",once:!0}),nn([...p||[],O],L,{flush:"sync",once:!0})}let P;return H1(p===!1?o.value:o,()=>{P?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),P=typeof AbortController<"u"?new AbortController:{};const L=wn(r.timeout);let A;return L&&(A=setTimeout(()=>P.abort(new DOMException("Request aborted due to timeout.","AbortError")),L),P.signal.onabort=()=>clearTimeout(A)),(r.$fetch||globalThis.$fetch)(i.value,{signal:P.signal,...O}).finally(()=>{clearTimeout(A)})},v)}function K1(t){const e=[wn(t.method)?.toUpperCase()||"GET",wn(t.baseURL)];for(const n of[t.params||t.query]){const r=wn(n);if(!r)continue;const s={};for(const[i,o]of Object.entries(r))s[wn(i)]=wn(o);e.push(s)}if(t.body){const n=wn(t.body);if(!n)e.push(ei(n));else if(n instanceof ArrayBuffer)e.push(ei(Object.fromEntries([...new Uint8Array(n).entries()].map(([r,s])=>[r,s.toString()]))));else if(n instanceof FormData){const r={};for(const s of n.entries()){const[i,o]=s;r[i]=o instanceof File?o.name:o}e.push(ei(r))}else if(qf(n))e.push(ei(ut(n)));else try{e.push(ei(n))}catch{console.warn("[useFetch] Failed to hash body",n)}}return e}function G1(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},s=r.decode||Q1;let i=0;for(;i<t.length;){const o=t.indexOf("=",i);if(o===-1)break;let a=t.indexOf(";",i);if(a===-1)a=t.length;else if(a<o){i=t.lastIndexOf(";",o-1)+1;continue}const l=t.slice(i,o).trim();if(r?.filter&&!r?.filter(l)){i=a+1;continue}if(n[l]===void 0){let u=t.slice(o+1,a).trim();u.codePointAt(0)===34&&(u=u.slice(1,-1)),n[l]=J1(u,s)}i=a+1}return n}function Q1(t){return t.includes("%")?decodeURIComponent(t):t}function J1(t,e){try{return e(t)}catch{return t}}const nc=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Fm(t,e,n){const r=n||{},s=r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!nc.test(t))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!nc.test(i))throw new TypeError("argument val is invalid");let o=t+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!nc.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!nc.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!Y1(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function Y1(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function vn(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=vn(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:vn(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=vn(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=vn(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(s){n.add(vn(s))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(s,i){n.set(vn(i),vn(s))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(vn(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const X1={path:"/",watch:!0,decode:t=>Ai(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},rc=window.cookieStore;function Um(t,e){const n={...X1,...e};n.filter??=u=>u===t;const r=$m(n)||{};let s;n.maxAge!==void 0?s=n.maxAge*1e3:n.expires&&(s=n.expires.getTime()-Date.now());const i=s!==void 0&&s<=0,o=i||r[t]===void 0||r[t]===null,a=vn(i?void 0:r[t]??n.default?.()),l=s&&!i?tk(a,s,n.watch&&n.watch!=="shallow"):Ke(a);{let u=null;try{!rc&&typeof BroadcastChannel<"u"&&(u=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const h=(y=!1)=>{!y&&(n.readonly||x1(l.value,r[t]))||(ek(t,l.value,n),r[t]=vn(l.value),u?.postMessage({value:n.encode(l.value)}))},f=y=>{const E=y.refresh?$m(n)?.[t]:n.decode(y.value);p=!0,l.value=E,r[t]=vn(E),sn(()=>{p=!1})};let p=!1;const g=!!Ui();if(g&&$o(()=>{p=!0,h(),u?.close()}),rc){const y=E=>{const S=E.changed.find(O=>O.name===t),M=E.deleted.find(O=>O.name===t);S&&f({value:S.value}),M&&f({value:null})};rc.addEventListener("change",y),g&&$o(()=>rc.removeEventListener("change",y))}else u&&(u.onmessage=({data:y})=>f(y));n.watch&&nn(l,()=>{p||h()},{deep:n.watch!=="shallow"}),o&&h(o)}return l}function $m(t={}){return G1(document.cookie,t)}function Z1(t,e,n={}){return e==null?Fm(t,e,{...n,maxAge:-1}):Fm(t,e,n)}function ek(t,e,n={}){document.cookie=Z1(t,e,n)}const Bm=2147483647;function tk(t,e,n){let r,s,i=0;const o=n?Ke(t):{value:t};return Ui()&&$o(()=>{s?.(),clearTimeout(r)}),OA((a,l)=>{n&&(s=nn(o,l));function u(){i=0,clearTimeout(r);const h=e-i,f=h<Bm?h:Bm;r=setTimeout(()=>{if(i+=f,i<e)return u();o.value=void 0,l()},f)}return{get(){return a(),o.value},set(h){u(),o.value=h,l()}}})}function nk(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function fE(t,e=Ht()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>fE(t,e));e._routePreloaded.add(n);const i=r.map(o=>o.components?.default).filter(o=>typeof o=="function");for(const o of i){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const rk=(...t)=>t.find(e=>e!==void 0);function sk(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o,a){const l=a??t.trailingSlash;if(!i||l!=="append"&&l!=="remove")return i;if(typeof i=="string")return sc(i,l);const u="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:sc(u,l)}}function s(i){const o=Ht(),a=gr(),l=we(()=>!!i.target&&i.target!=="_self"),u=we(()=>{const S=i.to||i.href||"";return typeof S=="string"&&Ir(S,{acceptRelative:!0})}),h=Rh("RouterLink"),f=h&&typeof h!="string"?h.useLink:void 0,p=we(()=>{if(i.external)return!0;const S=i.to||i.href||"";return typeof S=="object"?!1:S===""||u.value}),g=we(()=>{const S=i.to||i.href||"";return p.value?S:r(S,o.resolve,i.trailingSlash)}),y=p.value?void 0:f?.({...i,to:g}),E=we(()=>{const S=i.trailingSlash??t.trailingSlash;if(!g.value||u.value||n(g.value))return g.value;if(p.value){const M=typeof g.value=="object"&&"path"in g.value?zh(g.value):g.value,O=typeof M=="object"?o.resolve(M).href:M;return sc(O,S)}return typeof g.value=="object"?o.resolve(g.value)?.href??null:sc(Ml(a.app.baseURL,g.value),S)});return{to:g,hasTarget:l,isAbsoluteUrl:u,isExternal:p,href:E,isActive:y?.isActive??we(()=>g.value===o.currentRoute.value.path),isExactActive:y?.isExactActive??we(()=>g.value===o.currentRoute.value.path),route:y?.route??we(()=>o.resolve(g.value)),async navigate(S){await WR(E.value,{replace:i.replace,external:p.value||l.value})}}}return rt({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=Ht(),{to:l,href:u,navigate:h,isExternal:f,hasTarget:p,isAbsoluteUrl:g}=s(i),y=Vn(!1),E=Ke(null),S=v=>{E.value=i.custom?v?.$el?.nextElementSibling:v?.$el};function M(v){return!y.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===v:i.prefetchOn?.[v]??t.prefetchOn?.[v])&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!ck()}async function O(v=Je()){if(y.value)return;y.value=!0;const P=typeof l.value=="string"?l.value:f.value?zh(l.value):a.resolve(l.value).fullPath,D=f.value?new URL(P,window.location.href).href:P;await Promise.all([v.hooks.callHook("link:prefetch",D).catch(()=>{}),!f.value&&!p.value&&fE(l.value,a).catch(()=>{})])}if(M("visibility")){const v=Je();let P,D=null;Vs(()=>{const L=ok();Ul(()=>{P=rf(()=>{E?.value?.tagName&&(D=L.observe(E.value,async()=>{D?.(),D=null,await O(v)}))})})}),Bi(()=>{P&&C1(P),D?.(),D=null})}return()=>{if(!f.value&&!p.value&&!n(l.value)){const D={ref:S,to:l.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(M("interaction")&&(D.onPointerenter=O.bind(null,void 0),D.onFocus=O.bind(null,void 0)),y.value&&(D.class=i.prefetchedClass||t.prefetchedClass),D.rel=i.rel||void 0),et(Rh("RouterLink"),D,o.default)}const v=i.target||null,P=rk(i.noRel?"":i.rel,t.externalRelAttribute,g.value||p.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:u.value,navigate:h,prefetch:O,get route(){if(!u.value)return;const D=new URL(u.value,window.location.href);return{path:D.pathname,fullPath:D.pathname,get query(){return hd(D.search)},hash:D.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:u.value}},rel:P,target:v,isExternal:f.value||p.value,isActive:!1,isExactActive:!1}):null:et("a",{ref:E,href:u.value||null,rel:P,target:v,onClick:D=>{if(!(f.value||p.value))return D.preventDefault(),i.replace?a.replace(u.value):a.push(u.value)}},o.default?.())}}})}const ik=sk(RR);function sc(t,e){const n=e==="append"?uw:Si;return Ir(t)&&!t.startsWith("http")?t:n(t,!0)}function ok(){const t=Je();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||=new IntersectionObserver(a=>{for(const l of a){const u=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&u&&u()}}),n.set(i,o),e.observe(i),()=>{n.delete(i),e?.unobserve(i),n.size===0&&(e?.disconnect(),e=null)});return t._observer={observe:r}}const ak=/2g/;function ck(){const t=navigator.connection;return!!(t&&(t.saveData||ak.test(t.effectiveType)))}const lk=St({name:"pinia",setup(t){const e=YR();return t.vueApp.use(e),da(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),uk=St({name:"nuxt:global-components"}),Ur={default:fo(()=>Fe(()=>import("./bBAceBzm.js"),__vite__mapDeps([40,41,42,43,44]),import.meta.url).then(t=>t.default||t)),form:fo(()=>Fe(()=>import("./DsqIsLsx.js"),__vite__mapDeps([45,41,42,43,46]),import.meta.url).then(t=>t.default||t)),home:fo(()=>Fe(()=>import("./D-HDC5IM.js"),__vite__mapDeps([47,41,5,6]),import.meta.url).then(t=>t.default||t)),landscape:fo(()=>Fe(()=>import("./B5LVwg-n.js"),__vite__mapDeps([48,41,42,43,49]),import.meta.url).then(t=>t.default||t)),noscroll:fo(()=>Fe(()=>import("./Berqqe1v.js"),__vite__mapDeps([50,41,42,43,51]),import.meta.url).then(t=>t.default||t))},hk=St({name:"nuxt:prefetch",setup(t){const e=Ht();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Ur[r]=="function"&&await Ur[r]()})}),t.hooks.hook("link:prefetch",n=>{if(Ir(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=wd(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof nf[o]=="function"&&nf[o]();typeof s=="string"&&s in Ur&&nk(Ur[s])})}});function Xu(...t){window.dataLayer?.push(arguments)}function fk({tags:t}){window.dataLayer=window.dataLayer||[];for(const e of t)for(const n of e.initCommands??[])Xu(...n);Xu("js",new Date);for(const e of t)Xu("config",e.id,e.config??{})}function dk(t){const e=ye(t),n=e.tags.filter(Boolean).map(r=>typeof r=="string"?{id:r}:r);if(e.id){const{id:r,config:s,initCommands:i}=e;n.unshift({id:r,config:s,initCommands:i})}return n}const pk=St({parallel:!0,setup(){const t=gr().public.gtag,e=dk(t);if(!e.length||(fk({tags:e}),t.initMode==="manual"))return;const n=t.loadingStrategy==="async"?"async":"defer";jw({link:[{rel:"preload",as:"script",href:Jc(t.url,{id:e[0].id})}],script:[{src:Jc(t.url,{id:e[0].id}),[n]:!0,"data-gtag":""}]})}});function gk(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function Ed(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=Ed(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function dE(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return Ed(t,dE(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function pE(t,e){return e.map(n=>n.split(".")).map(n=>[n,gk(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>Ed(n,r[1],r[0]),{})}function gE(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>dE(n,r),t)}function jm(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},u,h=!0){try{h&&a?.(u);const f=e.getItem(r);if(f){const p=n.deserialize(f),g=i?pE(p,i):p,y=o?gE(g,o):g;t.$patch(y)}h&&l?.(u)}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function Hm(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o}){try{const a=i?pE(t,i):t,l=o?gE(a,o):a,u=n.serialize(l);e.setItem(r,u)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function mk(t,e,n){const{pinia:r,store:s,options:{persist:i=n}}=t;if(!i)return;if(!(s.$id in r.state.value)){const l=r._s.get(s.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:l=!0}={})=>{a.forEach(u=>{jm(s,u,t,l)})},s.$persist=()=>{a.forEach(l=>{Hm(s.$state,l)})},a.forEach(l=>{jm(s,l,t),s.$subscribe((u,h)=>Hm(h,l),{detached:!0})})}function yk(t){return{getItem:e=>Um(e,{...t??gr().public.piniaPluginPersistedstate.cookieOptions??{},decode:t?.decode??decodeURIComponent,readonly:!0}).value,setItem:(e,n)=>Um(e,{...t??gr().public.piniaPluginPersistedstate.cookieOptions??{},encode:t?.encode??encodeURIComponent}).value=n}}function _k(){return{getItem:t=>window.localStorage.getItem(t),setItem:(t,e)=>window.localStorage.setItem(t,e)}}function vk(){return{getItem:t=>window.sessionStorage.getItem(t),setItem:(t,e)=>window.sessionStorage.setItem(t,e)}}const Zu={cookies:yk,localStorage:_k,sessionStorage:vk};function wk(t){const n=gr().public.piniaPluginPersistedstate;mk(t,r=>({key:n.key?n.key.replace(/%id/g,r.key??t.store.$id):r.key??t.store.$id,debug:r.debug??n.debug??!1,serializer:r.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>Ai(s)},storage:r.storage??(n.storage?n.storage==="cookies"?Zu.cookies(n.cookieOptions):Zu[n.storage]():Zu.cookies()),beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}const Ek=St({name:"pinia-plugin-persistedstate",setup({$pinia:t}){t.use(wk)}}),Tk=St(async()=>{let t,e;const n=()=>new Promise((u,h)=>{if(!navigator.serviceWorker.controller)return h("Nenhum Service Worker ativo");const f=new MessageChannel;f.port1.onmessage=p=>{p.data?.type==="DB_VERSION"&&p.data.version!==void 0?u(p.data.version):h("Verso do banco no recebida")},navigator.serviceWorker.controller.postMessage({type:"GET_DB_VERSION"},[f.port2])}),r=async()=>{try{const u=await n();return new Promise((h,f)=>{const p=indexedDB.open("Agenda",u);p.onerror=g=>f(g.target.error),p.onsuccess=g=>h(g.target.result),p.onupgradeneeded=g=>{const y=g.target.result;["eventos","tags","titles","locales","desc"].forEach(S=>{y.objectStoreNames.contains(S)||(S==="eventos"?y.createObjectStore(S,{keyPath:"id"}):S==="tags"?y.createObjectStore(S,{keyPath:"id"}):y.createObjectStore(S,{keyPath:"text"}))})}})}catch(u){return console.error("Falha ao abrir o IndexedDB no cliente:",u),new Promise((h,f)=>{const p=indexedDB.open("Agenda",7);p.onsuccess=g=>h(g.target.result),p.onerror=g=>f(g.target.error)})}},s=async(u=null)=>{const h={id:"",search:"",title:"",locale:"",start:"",end:"",calendars:[],...u},f=(se="")=>se.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),E=(await r()).transaction(["eventos"],"readonly").objectStore("eventos").openCursor(),S=[],M=new Set,O=new Set,v=new Set,P=new Set,D=[h.locale,h.title,h.search].some(se=>!!se),L=new Set(h.calendars.map(f).map(se=>se.toLowerCase())),A=new Date(h.start),w=new Date(h.end);function _(se,me,Q,te,W){isNaN(se)||se.setUTCHours(me+3,Q,te,W)}_(A,0,0,0,0),_(w,23,59,59,999);const I=new RegExp(f(h.title),"i"),k=new RegExp(`^${f(h.locale)}`,"i"),b=f(h.search).replace(/\bou\b/gi,",").split(/,|\s+/).map(se=>se.trim()).filter(Boolean).map(se=>new RegExp(`\\b${se}`,"i"));return new Promise((se,me)=>{E.onsuccess=Q=>{const te=Q.target.result;if(te){const W=te.value;let Ee=!0;const Rt=new Date(W.date),gt=`${W.normalizedTitle||""} ${W.normalizedLocale||""} ${W.normalizedDesc||""}`;(h.calendars&&!h.calendars.length&&!D||!L.has(W.normalizedList.toLowerCase())&&!D||h.start&&h.end&&(Rt<A||Rt>w)||h.title&&!I.test(W.normalizedTitle)||h.locale&&!k.test(W.normalizedLocale)||h.search&&!b.every(Oe=>Oe.test(gt)))&&(Ee=!1),h.id&&W.id===h.id&&(Ee=!0),Ee&&(S.push(W),M.add(W.list),O.add(W.title),v.add(W.locale),P.add(W.desc)),te.continue()}else se({events:S,calendars:Array.from(M).sort(),titles:Array.from(O).sort(),locales:Array.from(v).sort(),desc:Array.from(P).sort()})},E.onerror=Q=>me(`Erro ao percorrer o cursor: ${Q.target.error}`)})},i=async()=>{const u=await r();return new Promise((h,f)=>{const y=u.transaction(["titles"],"readonly").objectStore("titles").getAll();y.onsuccess=E=>{h(E.target.result.sort((S,M)=>S.id-M.id).map(S=>S.text))},y.onerror=E=>f(`Erro ao obter titles: ${E.target.error}`)})},o=async()=>{const u=await r();return new Promise((h,f)=>{const y=u.transaction(["locales"],"readonly").objectStore("locales").getAll();y.onsuccess=E=>{h(E.target.result.sort((S,M)=>S.id-M.id).map(S=>S.text))},y.onerror=E=>f(`Erro ao obter locales: ${E.target.error}`)})},a=async()=>{const u=await r();return new Promise((h,f)=>{const y=u.transaction(["desc"],"readonly").objectStore("desc").getAll();y.onsuccess=E=>{h(E.target.result.sort((S,M)=>S.id-M.id).map(S=>S.text))},y.onerror=E=>f(`Erro ao obter desc: ${E.target.error}`)})},l=async()=>{try{const u=await r();return new Promise((h,f)=>{const y=u.transaction(["tags"],"readonly").objectStore("tags").getAll();y.onsuccess=E=>{h(E.target.result)},y.onerror=E=>f(`Erro ao obter tags: ${E.target.error}`)})}catch(u){return console.error("Erro ao obter tags (fallback):",u),[]}};if("serviceWorker"in navigator){try{const u=([t,e]=pn(()=>navigator.serviceWorker.register("/service-worker.js")),t=await t,e(),t);console.log("Service Worker registrado com sucesso: ",u.scope),u.addEventListener("updatefound",()=>{const h=u.installing;h&&h.addEventListener("statechange",()=>{h.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova verso do Service Worker disponvel. ")})})}catch(u){console.error("Falha no registro do Service Worker: ",u)}if(navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("O Service Worker ativo mudou. "),window.location.reload()}),"SyncManager"in window)try{const u=([t,e]=pn(()=>navigator.serviceWorker.ready),t=await t,e(),t);[t,e]=pn(()=>u.sync.register("sync-eventos")),await t,e()}catch(u){console.error("Falha ao registrar a sincronizao:",u),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SYNC_NOW"}),window.addEventListener("online",()=>{console.log("Navegador online. Tentando sincronizao alternativa..."),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SYNC_NOW"})})}else console.warn("Background Sync API no  suportada por este navegador. Usando sincronizao alternativa."),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SYNC_NOW"})}return{provide:{sw:{getDbVersion:n,getEvents:s,getTitles:i,getLocales:o,getDesc:a,getTags:l}}}}),Ik=()=>{};var qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Ak;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sk=function(t){const e=mE(t);return yE.encodeByteArray(e,!0)},tl=function(t){return Sk(t).replace(/\./g,"")},_E=function(t){try{return yE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=()=>Rk().__FIREBASE_DEFAULTS__,Pk=()=>{if(typeof process>"u"||typeof qm>"u")return;const t=qm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_E(t[1]);return e&&JSON.parse(e)},$l=()=>{try{return Ik()||Ck()||Pk()||kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vE=t=>$l()?.emulatorHosts?.[t],Ok=t=>{const e=vE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wE=()=>$l()?.config,EE=t=>$l()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tl(JSON.stringify(n)),tl(JSON.stringify(o)),""].join(".")}const Do={};function Mk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?t.emulator.push(e):t.prod.push(e);return t}function xk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zm=!1;function IE(t,e){if(typeof window>"u"||typeof document>"u"||!ji(window.location.host)||Do[t]===e||Do[t]||zm)return;Do[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Mk().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{zm=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=xk(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),M=n("preprendIcon"),O=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const v=p.element;a(v),h(S,E);const P=u();l(O,M),v.append(O,y,S,P),document.body.appendChild(v)}i?(y.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Vk(){const t=$l()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $k(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bk(){return!Vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Td(){try{return typeof indexedDB=="object"}catch{return!1}}function Id(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function AE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jk,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}}class rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Hk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kn(s,a,r)}}function Hk(t,e){return t.replace(qk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Wm(i)&&Wm(o)){if(!Qr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Wm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wk(t,e){const n=new Kk(t,e);return n.subscribe.bind(n)}class Kk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=eh),s.error===void 0&&(s.error=eh),s.complete===void 0&&(s.complete=eh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1e3,Jk=2,Yk=14400*1e3,Xk=.5;function Km(t,e=Qk,n=Jk){const r=e*Math.pow(n,t),s=Math.round(Xk*r*(Math.random()-.5)*2);return Math.min(Yk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tO(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eO(t){return t===vs?void 0:t}function tO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const rO={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},sO=Te.INFO,iO={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},oO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bl{constructor(e){this.name=e,this._logLevel=sO,this._logHandler=oO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const aO=(t,e)=>e.some(n=>t instanceof n);let Gm,Qm;function cO(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return Qm||(Qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,of=new WeakMap,RE=new WeakMap,th=new WeakMap,bd=new WeakMap;function uO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SE.set(n,t)}).catch(()=>{}),bd.set(e,t),e}function hO(t){if(of.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});of.set(t,e)}let af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return of.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){af=t(af)}function dO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nh(this),e,...n);return RE.set(r,e.sort?e.sort():[e]),hr(r)}:lO().includes(t)?function(...e){return t.apply(nh(this),e),hr(SE.get(this))}:function(...e){return hr(t.apply(nh(this),e))}}function pO(t){return typeof t=="function"?dO(t):(t instanceof IDBTransaction&&hO(t),aO(t,cO())?new Proxy(t,af):t)}function hr(t){if(t instanceof IDBRequest)return uO(t);if(th.has(t))return th.get(t);const e=pO(t);return e!==t&&(th.set(t,e),bd.set(e,t)),e}const nh=t=>bd.get(t);function jl(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hr(o.result),l.oldVersion,l.newVersion,hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function rh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),hr(n).then(()=>{})}const gO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],sh=new Map;function Jm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sh.get(e))return sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return sh.set(e,i),i}fO(t=>({...t,get:(e,n,r)=>Jm(e,n)||t.get(e,n,r),has:(e,n)=>!!Jm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_O(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _O(t){return t.getComponent()?.type==="VERSION"}const cf="@firebase/app",Ym="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Bl("@firebase/app"),vO="@firebase/app-compat",wO="@firebase/analytics-compat",EO="@firebase/analytics",TO="@firebase/app-check-compat",IO="@firebase/app-check",bO="@firebase/auth",AO="@firebase/auth-compat",SO="@firebase/database",RO="@firebase/data-connect",CO="@firebase/database-compat",PO="@firebase/functions",kO="@firebase/functions-compat",OO="@firebase/installations",DO="@firebase/installations-compat",NO="@firebase/messaging",MO="@firebase/messaging-compat",xO="@firebase/performance",LO="@firebase/performance-compat",VO="@firebase/remote-config",FO="@firebase/remote-config-compat",UO="@firebase/storage",$O="@firebase/storage-compat",BO="@firebase/firestore",jO="@firebase/ai",HO="@firebase/firestore-compat",qO="firebase",zO="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",WO={[cf]:"fire-core",[vO]:"fire-core-compat",[EO]:"fire-analytics",[wO]:"fire-analytics-compat",[IO]:"fire-app-check",[TO]:"fire-app-check-compat",[bO]:"fire-auth",[AO]:"fire-auth-compat",[SO]:"fire-rtdb",[RO]:"fire-data-connect",[CO]:"fire-rtdb-compat",[PO]:"fire-fn",[kO]:"fire-fn-compat",[OO]:"fire-iid",[DO]:"fire-iid-compat",[NO]:"fire-fcm",[MO]:"fire-fcm-compat",[xO]:"fire-perf",[LO]:"fire-perf-compat",[VO]:"fire-rc",[FO]:"fire-rc-compat",[UO]:"fire-gcs",[$O]:"fire-gcs-compat",[BO]:"fire-fst",[HO]:"fire-fst-compat",[jO]:"fire-vertex","fire-js":"fire-js",[qO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,KO=new Map,uf=new Map;function Xm(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yn(t){const e=t.name;if(uf.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,t);for(const n of Jo.values())Xm(n,t);for(const n of KO.values())Xm(n,t);return!0}function ss(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new rs("app","Firebase",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=zO;function hf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qr.create("bad-app-name",{appName:String(s)});if(n||(n=wE()),!n)throw qr.create("no-options");const i=Jo.get(s);if(i){if(Qr(n,i.options)&&Qr(r,i.config))return i;throw qr.create("duplicate-app",{appName:s})}const o=new nO(s);for(const l of uf.values())o.addComponent(l);const a=new QO(n,r,o);return Jo.set(s,a),a}function ma(t=lf){const e=Jo.get(t);if(!e&&t===lf&&wE())return hf();if(!e)throw qr.create("no-app",{appName:t});return e}function JO(){return Array.from(Jo.values())}function Qt(t,e,n){let r=WO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(o.join(" "));return}yn(new on(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebase-heartbeat-database",XO=1,Yo="firebase-heartbeat-store";let ih=null;function CE(){return ih||(ih=jl(YO,XO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),ih}async function ZO(t){try{const n=(await CE()).transaction(Yo),r=await n.objectStore(Yo).get(PE(t));return await n.done,r}catch(e){if(e instanceof kn)mr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function Zm(t,e){try{const r=(await CE()).transaction(Yo,"readwrite");await r.objectStore(Yo).put(e,PE(t)),await r.done}catch(n){if(n instanceof kn)mr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n?.message});mr.warn(r.message)}}}function PE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1024,tD=30;class nD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ey();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>tD){const s=iD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ey(),{heartbeatsToSend:n,unsentEntries:r}=rD(this._heartbeatsCache.heartbeats),s=tl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return mr.warn(e),""}}}function ey(){return new Date().toISOString().substring(0,10)}function rD(t,e=eD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ty(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ty(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Td()?Id().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ty(t){return tl(JSON.stringify({version:2,heartbeats:t})).length}function iD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){yn(new on("platform-logger",e=>new yO(e),"PRIVATE")),yn(new on("heartbeat",e=>new nD(e),"PRIVATE")),Qt(cf,Ym,t),Qt(cf,Ym,"esm2020"),Qt("fire-js","")}oD("");var aD="firebase",cD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt(aD,cD,"app");function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lD=kE,OE=new rs("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Bl("@firebase/auth");function uD(t,...e){nl.logLevel<=Te.WARN&&nl.warn(`Auth (${Hi}): ${t}`,...e)}function yc(t,...e){nl.logLevel<=Te.ERROR&&nl.error(`Auth (${Hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Sd(t,...e)}function Sn(t,...e){return Sd(t,...e)}function Ad(t,e,n){const r={...lD(),[e]:n};return new rs("auth","Firebase",r).create(e,{appName:t.name})}function Ps(t){return Ad(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),Ad(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OE.create(t,...e)}function ge(t,e,...n){if(!t)throw Sd(e,...n)}function ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yc(e),new Error(e)}function yr(t,e){t||ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(){return typeof self<"u"&&self.location?.href||""}function fD(){return ny()==="http:"||ny()==="https:"}function ny(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fD()||bE()||"connection"in navigator)?navigator.onLine:!0}function pD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lk()||Uk()}get(){return dD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yD=new ya(3e4,6e4);function Cd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qi(t,e,n,r,s={}){return NE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ga({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return Fk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ji(t.emulatorConfig.host)&&(u.credentials="include"),DE.fetch()(await ME(t,t.config.apiHost,n,a),u)})}async function NE(t,e,n){t._canInitEmulator=!1;const r={...gD,...e};try{const s=new vD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ic(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ic(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ad(t,h,u);zn(t,h)}}catch(s){if(s instanceof kn)throw s;zn(t,"network-request-failed",{message:String(s)})}}async function _D(t,e,n,r,s={}){const i=await qi(t,e,n,r,s);return"mfaPendingCredential"in i&&zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ME(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Rd(t.config,s):`${t.config.apiScheme}://${s}`;return mD.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class vD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),yD.get())})}}function ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function rl(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ED(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=Pd(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:No(oh(s.auth_time)),issuedAtTime:No(oh(s.iat)),expirationTime:No(oh(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function oh(t){return Number(t)*1e3}function Pd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=_E(n);return s?JSON.parse(s):(yc("Failed to decode base64 JWT payload"),null)}catch(s){return yc("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ry(t){const e=Pd(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&TD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){const e=t.auth,n=await t.getIdToken(),r=await Xo(t,rl(e,{idToken:n}));ge(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?xE(s.providerUserInfo):[],o=AD(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new df(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function bD(t){const e=Ye(t);await sl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function xE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){const n=await NE(t,{},async()=>{const r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ME(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ji(t.emulatorConfig.host)&&(l.credentials="include"),DE.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RD(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Cd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=ry(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await SD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new gi;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gi,this.toJSON())}_performRefresh(){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new df(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ED(this,e)}reload(){return bD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Xo(this,wD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:y,stsTokenManager:E}=n;ge(f&&E,e,"internal-error");const S=gi.fromJSON(this.name,E);ge(typeof f=="string",e,"internal-error"),kr(r,e.name),kr(s,e.name),ge(typeof p=="boolean",e,"internal-error"),ge(typeof g=="boolean",e,"internal-error"),kr(i,e.name),kr(o,e.name),kr(a,e.name),kr(l,e.name),kr(u,e.name),kr(h,e.name);const M=new In({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:h});return y&&Array.isArray(y)&&(M.providerData=y.map(O=>({...O}))),l&&(M._redirectEventId=l),M}static async _fromIdTokenResponse(e,n,r=!1){const s=new gi;s.updateFromServerResponse(n);const i=new In({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?xE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new gi;a.updateFromIdToken(r);const l=new In({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new df(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;function cr(t){yr(t instanceof Function,"Expected a class definition");let e=sy.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const iy=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e,n){return`firebase:${t}:${e}:${n}`}class mi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_c(this.userKey,s.apiKey,i),this.fullPersistenceKey=_c("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rl(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mi(cr(iy),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||cr(iy);const o=_c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const p=await rl(e,{idToken:h}).catch(()=>{});if(!p)break;f=await In._fromGetAccountInfoResponse(e,p,h)}else f=In._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new mi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new mi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(HE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VE(t=Ft()){return/firefox\//i.test(t)}function FE(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(t=Ft()){return/crios\//i.test(t)}function $E(t=Ft()){return/iemobile/i.test(t)}function BE(t=Ft()){return/android/i.test(t)}function jE(t=Ft()){return/blackberry/i.test(t)}function HE(t=Ft()){return/webos/i.test(t)}function kd(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CD(t=Ft()){return kd(t)&&!!window.navigator?.standalone}function PD(){return $k()&&document.documentMode===10}function qE(t=Ft()){return kd(t)||BE(t)||HE(t)||jE(t)||/windows phone/i.test(t)||$E(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e=[]){let n;switch(t){case"Browser":n=oy(Ft());break;case"Worker":n=`${oy(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Cd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6;class ND{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new kD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rl(this,{idToken:e}),r=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Ps(this));const n=e?Ye(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OD(this),n=new ND(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await mi.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hl(t){return Ye(t)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wk(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(t){Od=t}function LD(t){return Od.loadJS(t)}function VD(){return Od.gapiScript}function FD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){const n=ss(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qr(i,e??{}))return s;zn(s,"already-initialized")}return n.initialize({options:e})}function $D(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function BD(t,e,n){const r=Hl(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=WE(e),{host:o,port:a}=jD(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Qr(u,r.config.emulator)&&Qr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ji(o)?(TE(`${i}//${o}${l}`),IE("Auth",!0)):HD()}function WE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jD(t){const e=WE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:cy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:cy(o)}}}function cy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(t,e){return _D(t,"POST","/v1/accounts:signInWithIdp",Cd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="http://localhost";class Ds extends KE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ds(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yi(e,n)}buildRequest(){const e={requestUri:qD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends _a{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends _a{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends _a{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends _a{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await In._fromIdTokenResponse(e,r,s),o=ly(r);return new Pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ly(r);return new Pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ly(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends kn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,il.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new il(e,n,r,s)}}function GE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?il._fromErrorAndOperation(t,i,e,r):i})}async function zD(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(Ps(r));const s="reauthenticate";try{const i=await Xo(t,GE(r,s,e,t),n);ge(i.idToken,r,"internal-error");const o=Pd(i.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Pi._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,n=!1){if(Tn(t.app))return Promise.reject(Ps(t));const r="signIn",s=await GE(t,r,e),i=await Pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){return Ye(t).setPersistence(e)}function QD(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function JD(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function YD(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function SU(t){return Ye(t).signOut()}const ol="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ol,"1"),this.storage.removeItem(ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,ZD=10;class JE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);PD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const YE=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XE.type="SESSION";const ZE=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ql(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await eN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ql.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Nd("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function nN(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function rN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function iN(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",oN=1,al="firebaseLocalStorage",nT="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zl(t,e){return t.transaction([al],e?"readwrite":"readonly").objectStore(al)}function aN(){const t=indexedDB.deleteDatabase(tT);return new va(t).toPromise()}function pf(){const t=indexedDB.open(tT,oN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(al,{keyPath:nT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(al)?e(r):(r.close(),await aN(),e(await pf()))})})}async function uy(t,e,n){const r=zl(t,!0).put({[nT]:e,value:n});return new va(r).toPromise()}async function cN(t,e){const n=zl(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function hy(t,e){const n=zl(t,!0).delete(e);return new va(n).toPromise()}const lN=800,uN=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ql._getInstance(iN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new tN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pf();return await uy(e,ol,"1"),await hy(e,ol),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zl(s,!1).getAll();return new va(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const hN=rT;new ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return e?cr(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends KE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fN(t){return KD(t.auth,new Md(t),t.bypassAuthState)}function dN(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),WD(n,new Md(t),t.bypassAuthState)}async function pN(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),zD(n,new Md(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:zn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ya(2e3,1e4);async function mN(t,e,n){if(Tn(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=Hl(t);hD(t,e,Dd);const s=sT(r,n);return new Ts(r,"signInViaPopup",e,s).executeNotNull()}class Ts extends iT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Nd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gN.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",vc=new Map;class _N extends iT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const r=await vN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vN(t,e){const n=TN(e),r=EN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wN(t,e){vc.set(t._key(),e)}function EN(t){return cr(t._redirectPersistence)}function TN(t){return _c(yN,t.config.apiKey,t.name)}async function IN(t,e,n=!1){if(Tn(t.app))return Promise.reject(Ps(t));const r=Hl(t),s=sT(r,e),o=await new _N(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=600*1e3;class AN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Sn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(e))}saveEventToCache(e){this.cachedEventUids.add(fy(e)),this.lastProcessedEventTime=Date.now()}}function fy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function kN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RN(t);for(const n of e)try{if(ON(n))return}catch{}zn(t,"unauthorized-domain")}function ON(t){const e=ff(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PN.test(n))return!1;if(CN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new ya(3e4,6e4);function dy(){const t=Fn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NN(t){return new Promise((e,n)=>{function r(){dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dy(),n(Sn(t,"network-request-failed"))},timeout:DN.get()})}if(Fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fn().gapi?.load)r();else{const s=FD("iframefcb");return Fn()[s]=()=>{gapi.load?r():n(Sn(t,"network-request-failed"))},LD(`${VD()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw wc=null,e})}let wc=null;function MN(t){return wc=wc||NN(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new ya(5e3,15e3),LN="__/auth/iframe",VN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rd(e,VN):`https://${t.config.authDomain}/${LN}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},s=UN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ga(r).slice(1)}`}async function BN(t){const e=await MN(t),n=Fn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:$N(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Fn().setTimeout(()=>{i(o)},xN.get());function l(){Fn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,qN=600,zN="_blank",WN="http://localhost";class py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(t,e,n,r=HN,s=qN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...jN,width:r.toString(),height:s.toString(),top:i,left:o},u=Ft().toLowerCase();n&&(a=UE(u)?zN:n),VE(u)&&(e=e||WN,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(CD(u)&&a!=="_self")return GN(e||"",a),new py(null);const f=window.open(e||"",a,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new py(f)}function GN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",JN="emulator/auth/handler",YN=encodeURIComponent("fac");async function gy(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:s};if(e instanceof Dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof _a){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${YN}=${encodeURIComponent(l)}`:"";return`${XN(t)}?${ga(a).slice(1)}${u}`}function XN({config:t}){return t.emulator?Rd(t,JN):`https://${t.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="webStorageSupport";class ZN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=IN,this._overrideRedirectResult=wN}async _openPopup(e,n,r,s){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await gy(e,n,r,ff(),s);return KN(e,i,Nd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await gy(e,n,r,ff(),s);return nN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BN(e),r=new AN(e);return n.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ah,{type:ah},s=>{const i=s?.[0]?.[ah];i!==void 0&&n(!!i),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||FE()||kd()}}const eM=ZN;var my="@firebase/auth",yy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(t){yn(new on("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(t)},u=new MD(r,s,i,l);return $D(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yn(new on("auth-internal",e=>{const n=Hl(e.getProvider("auth").getImmediate());return(r=>new tM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(my,yy,nM(t)),Qt(my,yy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=300,iM=EE("authIdTokenMaxAge")||sM;let _y=null;const oM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iM)return;const s=n?.token;_y!==s&&(_y=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aM(t=ma()){const e=ss(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UD(t,{popupRedirectResolver:eM,persistence:[hN,YE,ZE]}),r=EE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oM(i.toString());JD(n,o,()=>o(n.currentUser)),QD(n,a=>o(a))}}const s=vE("auth");return s&&BD(n,`http://${s}`),n}function cM(){return document.getElementsByTagName("head")?.[0]??document}xD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",cM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");var vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,aT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function _(){}_.prototype=w.prototype,A.D=w.prototype,A.prototype=new _,A.prototype.constructor=A,A.C=function(I,k,R){for(var b=Array(arguments.length-2),se=2;se<arguments.length;se++)b[se-2]=arguments[se];return w.prototype[k].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,w,_){_||(_=0);var I=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)I[k]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(k=0;16>k;++k)I[k]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=A.g[0],_=A.g[1],k=A.g[2];var R=A.g[3],b=w+(R^_&(k^R))+I[0]+3614090360&4294967295;w=_+(b<<7&4294967295|b>>>25),b=R+(k^w&(_^k))+I[1]+3905402710&4294967295,R=w+(b<<12&4294967295|b>>>20),b=k+(_^R&(w^_))+I[2]+606105819&4294967295,k=R+(b<<17&4294967295|b>>>15),b=_+(w^k&(R^w))+I[3]+3250441966&4294967295,_=k+(b<<22&4294967295|b>>>10),b=w+(R^_&(k^R))+I[4]+4118548399&4294967295,w=_+(b<<7&4294967295|b>>>25),b=R+(k^w&(_^k))+I[5]+1200080426&4294967295,R=w+(b<<12&4294967295|b>>>20),b=k+(_^R&(w^_))+I[6]+2821735955&4294967295,k=R+(b<<17&4294967295|b>>>15),b=_+(w^k&(R^w))+I[7]+4249261313&4294967295,_=k+(b<<22&4294967295|b>>>10),b=w+(R^_&(k^R))+I[8]+1770035416&4294967295,w=_+(b<<7&4294967295|b>>>25),b=R+(k^w&(_^k))+I[9]+2336552879&4294967295,R=w+(b<<12&4294967295|b>>>20),b=k+(_^R&(w^_))+I[10]+4294925233&4294967295,k=R+(b<<17&4294967295|b>>>15),b=_+(w^k&(R^w))+I[11]+2304563134&4294967295,_=k+(b<<22&4294967295|b>>>10),b=w+(R^_&(k^R))+I[12]+1804603682&4294967295,w=_+(b<<7&4294967295|b>>>25),b=R+(k^w&(_^k))+I[13]+4254626195&4294967295,R=w+(b<<12&4294967295|b>>>20),b=k+(_^R&(w^_))+I[14]+2792965006&4294967295,k=R+(b<<17&4294967295|b>>>15),b=_+(w^k&(R^w))+I[15]+1236535329&4294967295,_=k+(b<<22&4294967295|b>>>10),b=w+(k^R&(_^k))+I[1]+4129170786&4294967295,w=_+(b<<5&4294967295|b>>>27),b=R+(_^k&(w^_))+I[6]+3225465664&4294967295,R=w+(b<<9&4294967295|b>>>23),b=k+(w^_&(R^w))+I[11]+643717713&4294967295,k=R+(b<<14&4294967295|b>>>18),b=_+(R^w&(k^R))+I[0]+3921069994&4294967295,_=k+(b<<20&4294967295|b>>>12),b=w+(k^R&(_^k))+I[5]+3593408605&4294967295,w=_+(b<<5&4294967295|b>>>27),b=R+(_^k&(w^_))+I[10]+38016083&4294967295,R=w+(b<<9&4294967295|b>>>23),b=k+(w^_&(R^w))+I[15]+3634488961&4294967295,k=R+(b<<14&4294967295|b>>>18),b=_+(R^w&(k^R))+I[4]+3889429448&4294967295,_=k+(b<<20&4294967295|b>>>12),b=w+(k^R&(_^k))+I[9]+568446438&4294967295,w=_+(b<<5&4294967295|b>>>27),b=R+(_^k&(w^_))+I[14]+3275163606&4294967295,R=w+(b<<9&4294967295|b>>>23),b=k+(w^_&(R^w))+I[3]+4107603335&4294967295,k=R+(b<<14&4294967295|b>>>18),b=_+(R^w&(k^R))+I[8]+1163531501&4294967295,_=k+(b<<20&4294967295|b>>>12),b=w+(k^R&(_^k))+I[13]+2850285829&4294967295,w=_+(b<<5&4294967295|b>>>27),b=R+(_^k&(w^_))+I[2]+4243563512&4294967295,R=w+(b<<9&4294967295|b>>>23),b=k+(w^_&(R^w))+I[7]+1735328473&4294967295,k=R+(b<<14&4294967295|b>>>18),b=_+(R^w&(k^R))+I[12]+2368359562&4294967295,_=k+(b<<20&4294967295|b>>>12),b=w+(_^k^R)+I[5]+4294588738&4294967295,w=_+(b<<4&4294967295|b>>>28),b=R+(w^_^k)+I[8]+2272392833&4294967295,R=w+(b<<11&4294967295|b>>>21),b=k+(R^w^_)+I[11]+1839030562&4294967295,k=R+(b<<16&4294967295|b>>>16),b=_+(k^R^w)+I[14]+4259657740&4294967295,_=k+(b<<23&4294967295|b>>>9),b=w+(_^k^R)+I[1]+2763975236&4294967295,w=_+(b<<4&4294967295|b>>>28),b=R+(w^_^k)+I[4]+1272893353&4294967295,R=w+(b<<11&4294967295|b>>>21),b=k+(R^w^_)+I[7]+4139469664&4294967295,k=R+(b<<16&4294967295|b>>>16),b=_+(k^R^w)+I[10]+3200236656&4294967295,_=k+(b<<23&4294967295|b>>>9),b=w+(_^k^R)+I[13]+681279174&4294967295,w=_+(b<<4&4294967295|b>>>28),b=R+(w^_^k)+I[0]+3936430074&4294967295,R=w+(b<<11&4294967295|b>>>21),b=k+(R^w^_)+I[3]+3572445317&4294967295,k=R+(b<<16&4294967295|b>>>16),b=_+(k^R^w)+I[6]+76029189&4294967295,_=k+(b<<23&4294967295|b>>>9),b=w+(_^k^R)+I[9]+3654602809&4294967295,w=_+(b<<4&4294967295|b>>>28),b=R+(w^_^k)+I[12]+3873151461&4294967295,R=w+(b<<11&4294967295|b>>>21),b=k+(R^w^_)+I[15]+530742520&4294967295,k=R+(b<<16&4294967295|b>>>16),b=_+(k^R^w)+I[2]+3299628645&4294967295,_=k+(b<<23&4294967295|b>>>9),b=w+(k^(_|~R))+I[0]+4096336452&4294967295,w=_+(b<<6&4294967295|b>>>26),b=R+(_^(w|~k))+I[7]+1126891415&4294967295,R=w+(b<<10&4294967295|b>>>22),b=k+(w^(R|~_))+I[14]+2878612391&4294967295,k=R+(b<<15&4294967295|b>>>17),b=_+(R^(k|~w))+I[5]+4237533241&4294967295,_=k+(b<<21&4294967295|b>>>11),b=w+(k^(_|~R))+I[12]+1700485571&4294967295,w=_+(b<<6&4294967295|b>>>26),b=R+(_^(w|~k))+I[3]+2399980690&4294967295,R=w+(b<<10&4294967295|b>>>22),b=k+(w^(R|~_))+I[10]+4293915773&4294967295,k=R+(b<<15&4294967295|b>>>17),b=_+(R^(k|~w))+I[1]+2240044497&4294967295,_=k+(b<<21&4294967295|b>>>11),b=w+(k^(_|~R))+I[8]+1873313359&4294967295,w=_+(b<<6&4294967295|b>>>26),b=R+(_^(w|~k))+I[15]+4264355552&4294967295,R=w+(b<<10&4294967295|b>>>22),b=k+(w^(R|~_))+I[6]+2734768916&4294967295,k=R+(b<<15&4294967295|b>>>17),b=_+(R^(k|~w))+I[13]+1309151649&4294967295,_=k+(b<<21&4294967295|b>>>11),b=w+(k^(_|~R))+I[4]+4149444226&4294967295,w=_+(b<<6&4294967295|b>>>26),b=R+(_^(w|~k))+I[11]+3174756917&4294967295,R=w+(b<<10&4294967295|b>>>22),b=k+(w^(R|~_))+I[2]+718787259&4294967295,k=R+(b<<15&4294967295|b>>>17),b=_+(R^(k|~w))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var _=w-this.blockSize,I=this.B,k=this.h,R=0;R<w;){if(k==0)for(;R<=_;)s(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<w;)if(I[k++]=A.charCodeAt(R++),k==this.blockSize){s(this,I),k=0;break}}else for(;R<w;)if(I[k++]=A[R++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=w},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var _=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=_&255,_/=256;for(this.u(A),A=Array(16),w=_=0;4>w;++w)for(var I=0;32>I;I+=8)A[_++]=this.g[w]>>>I&255;return A};function i(A,w){var _=a;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=w(A)}function o(A,w){this.h=w;for(var _=[],I=!0,k=A.length-1;0<=k;k--){var R=A[k]|0;I&&R==w||(_[k]=R,I=!1)}this.g=_}var a={};function l(A){return-128<=A&&128>A?i(A,function(w){return new o([w|0],0>w?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return S(u(-A));for(var w=[],_=1,I=0;A>=_;I++)w[I]=A/_|0,_*=4294967296;return new o(w,0)}function h(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return S(h(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(w,8)),I=f,k=0;k<A.length;k+=8){var R=Math.min(8,A.length-k),b=parseInt(A.substring(k,k+R),w);8>R?(R=u(Math.pow(w,R)),I=I.j(R).add(u(b))):(I=I.j(_),I=I.add(u(b)))}return I}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var A=0,w=1,_=0;_<this.g.length;_++){var I=this.i(_);A+=(0<=I?I:4294967296+I)*w,w*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(E(this))return"-"+S(this).toString(A);for(var w=u(Math.pow(A,6)),_=this,I="";;){var k=P(_,w).g;_=M(_,k.j(w));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(A);if(_=k,y(_))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=M(this,A),E(A)?-1:y(A)?0:1};function S(A){for(var w=A.g.length,_=[],I=0;I<w;I++)_[I]=~A.g[I];return new o(_,~A.h).add(p)}t.abs=function(){return E(this)?S(this):this},t.add=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],I=0,k=0;k<=w;k++){var R=I+(this.i(k)&65535)+(A.i(k)&65535),b=(R>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);I=b>>>16,R&=65535,b&=65535,_[k]=b<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function M(A,w){return A.add(S(w))}t.j=function(A){if(y(this)||y(A))return f;if(E(this))return E(A)?S(this).j(S(A)):S(S(this).j(A));if(E(A))return S(this.j(S(A)));if(0>this.l(g)&&0>A.l(g))return u(this.m()*A.m());for(var w=this.g.length+A.g.length,_=[],I=0;I<2*w;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<A.g.length;k++){var R=this.i(I)>>>16,b=this.i(I)&65535,se=A.i(k)>>>16,me=A.i(k)&65535;_[2*I+2*k]+=b*me,O(_,2*I+2*k),_[2*I+2*k+1]+=R*me,O(_,2*I+2*k+1),_[2*I+2*k+1]+=b*se,O(_,2*I+2*k+1),_[2*I+2*k+2]+=R*se,O(_,2*I+2*k+2)}for(I=0;I<w;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=w;I<2*w;I++)_[I]=0;return new o(_,0)};function O(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function v(A,w){this.g=A,this.h=w}function P(A,w){if(y(w))throw Error("division by zero");if(y(A))return new v(f,f);if(E(A))return w=P(S(A),w),new v(S(w.g),S(w.h));if(E(w))return w=P(A,S(w)),new v(S(w.g),w.h);if(30<A.g.length){if(E(A)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var _=p,I=w;0>=I.l(A);)_=D(_),I=D(I);var k=L(_,1),R=L(I,1);for(I=L(I,2),_=L(_,2);!y(I);){var b=R.add(I);0>=b.l(A)&&(k=k.add(_),R=b),I=L(I,1),_=L(_,1)}return w=M(A,k.j(w)),new v(k,w)}for(k=f;0<=A.l(w);){for(_=Math.max(1,Math.floor(A.m()/w.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=u(_),b=R.j(w);E(b)||0<b.l(A);)_-=I,R=u(_),b=R.j(w);y(R)&&(R=p),k=k.add(R),A=M(A,b)}return new v(k,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)&A.i(I);return new o(_,this.h&A.h)},t.or=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)|A.i(I);return new o(_,this.h|A.h)},t.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),_=[],I=0;I<w;I++)_[I]=this.i(I)^A.i(I);return new o(_,this.h^A.h)};function D(A){for(var w=A.g.length+1,_=[],I=0;I<w;I++)_[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(_,A.h)}function L(A,w){var _=w>>5;w%=32;for(var I=A.g.length-_,k=[],R=0;R<I;R++)k[R]=0<w?A.i(R+_)>>>w|A.i(R+_+1)<<32-w:A.i(R+_);return new o(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,zr=o}).apply(typeof vy<"u"?vy:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT,wo,lT,Ec,gf,uT,hT,fT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,m){return c==Array.prototype||c==Object.prototype||(c[d]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var d=0;d<c.length;++d){var m=c[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,d){if(d)e:{var m=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var x=c[T];if(!(x in m))break e;m=m[x]}c=c[c.length-1],T=m[c],d=d(T),d!=T&&d!=null&&e(m,c,{configurable:!0,writable:!0,value:d})}}function i(c,d){c instanceof String&&(c+="");var m=0,T=!1,x={next:function(){if(!T&&m<c.length){var U=m++;return{value:d(U,c[U]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(c){return c||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,m){return c.call.apply(c.bind,arguments)}function f(c,d,m){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),c.apply(d,x)}}return function(){return c.apply(d,arguments)}}function p(c,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function y(c,d){function m(){}m.prototype=d.prototype,c.aa=d.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(T,x,U){for(var J=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)J[$e-2]=arguments[$e];return d.prototype[x].apply(T,J)}}function E(c){const d=c.length;if(0<d){const m=Array(d);for(let T=0;T<d;T++)m[T]=c[T];return m}return[]}function S(c,d){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(l(T)){const x=c.length||0,U=T.length||0;c.length=x+U;for(let J=0;J<U;J++)c[x+J]=T[J]}else c.push(T)}}class M{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(c){return/^[\s\xa0]*$/.test(c)}function v(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function L(c,d,m){for(const T in c)d.call(m,c[T],T,c)}function A(c,d){for(const m in c)d.call(void 0,c[m],m,c)}function w(c){const d={};for(const m in c)d[m]=c[m];return d}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let m,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(m in T)c[m]=T[m];for(let U=0;U<_.length;U++)m=_[U],Object.prototype.hasOwnProperty.call(T,m)&&(c[m]=T[m])}}function k(c){var d=1;c=c.split(":");const m=[];for(;0<d&&c.length;)m.push(c.shift()),d--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function b(){var c=Ee;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class se{constructor(){this.h=this.g=null}add(d,m){const T=me.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new M(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let te,W=!1,Ee=new se,Rt=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(gt)}};var gt=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(m){R(m)}var d=me;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}W=!1};function Oe(){this.s=this.s,this.C=this.C}Oe.prototype.s=!1,Oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var On=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return c})();function cn(c,d){if(je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(D){e:{try{P(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else m=="mouseover"?d=c.fromElement:m=="mouseout"&&(d=c.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ht[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&cn.aa.h.call(this)}}y(cn,je);var ht={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(c,d,m,T,x){this.listener=c,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=x,this.key=++X,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,d,m,T,x){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var J=C(c,d,T,x);return-1<J?(d=c[J],m||(d.fa=!1)):(d=new Y(d,this.src,U,!!T,x),d.fa=m,c.push(d)),d};function Ve(c,d){var m=d.type;if(m in c.g){var T=c.g[m],x=Array.prototype.indexOf.call(T,d,void 0),U;(U=0<=x)&&Array.prototype.splice.call(T,x,1),U&&(ie(d),c.g[m].length==0&&(delete c.g[m],c.h--))}}function C(c,d,m,T){for(var x=0;x<c.length;++x){var U=c[x];if(!U.da&&U.listener==d&&U.capture==!!m&&U.ha==T)return x}return-1}var N="closure_lm_"+(1e6*Math.random()|0),V={};function H(c,d,m,T,x){if(Array.isArray(d)){for(var U=0;U<d.length;U++)H(c,d[U],m,T,x);return null}return m=ae(m),c&&c[F]?c.K(d,m,u(T)?!!T.capture:!1,x):$(c,d,m,!1,T,x)}function $(c,d,m,T,x,U){if(!d)throw Error("Invalid event type");var J=u(x)?!!x.capture:!!x,$e=ce(c);if($e||(c[N]=$e=new Ae(c)),m=$e.add(d,m,T,J,U),m.proxy)return m;if(T=q(),m.proxy=T,T.src=c,T.listener=m,c.addEventListener)On||(x=J),x===void 0&&(x=!1),c.addEventListener(d.toString(),T,x);else if(c.attachEvent)c.attachEvent(K(d.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function q(){function c(m){return d.call(c.src,c.listener,m)}const d=z;return c}function Z(c,d,m,T,x){if(Array.isArray(d))for(var U=0;U<d.length;U++)Z(c,d[U],m,T,x);else T=u(T)?!!T.capture:!!T,m=ae(m),c&&c[F]?(c=c.i,d=String(d).toString(),d in c.g&&(U=c.g[d],m=C(U,m,T,x),-1<m&&(ie(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete c.g[d],c.h--)))):c&&(c=ce(c))&&(d=c.g[d.toString()],c=-1,d&&(c=C(d,m,T,x)),(m=-1<c?d[c]:null)&&G(m))}function G(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[F])Ve(d.i,c);else{var m=c.type,T=c.proxy;d.removeEventListener?d.removeEventListener(m,T,c.capture):d.detachEvent?d.detachEvent(K(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=ce(d))?(Ve(m,c),m.h==0&&(m.src=null,d[N]=null)):ie(c)}}}function K(c){return c in V?V[c]:V[c]="on"+c}function z(c,d){if(c.da)c=!0;else{d=new cn(d,this);var m=c.listener,T=c.ha||c.src;c.fa&&G(c),c=m.call(T,d)}return c}function ce(c){return c=c[N],c instanceof Ae?c:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function ae(c){return typeof c=="function"?c:(c[ee]||(c[ee]=function(d){return c.handleEvent(d)}),c[ee])}function oe(){Oe.call(this),this.i=new Ae(this),this.M=this,this.F=null}y(oe,Oe),oe.prototype[F]=!0,oe.prototype.removeEventListener=function(c,d,m,T){Z(this,c,d,m,T)};function he(c,d){var m,T=c.F;if(T)for(m=[];T;T=T.F)m.push(T);if(c=c.M,T=d.type||d,typeof d=="string")d=new je(d,c);else if(d instanceof je)d.target=d.target||c;else{var x=d;d=new je(T,c),I(d,x)}if(x=!0,m)for(var U=m.length-1;0<=U;U--){var J=d.g=m[U];x=Pe(J,T,!0,d)&&x}if(J=d.g=c,x=Pe(J,T,!0,d)&&x,x=Pe(J,T,!1,d)&&x,m)for(U=0;U<m.length;U++)J=d.g=m[U],x=Pe(J,T,!1,d)&&x}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var m=c.g[d],T=0;T<m.length;T++)ie(m[T]);delete c.g[d],c.h--}}this.F=null},oe.prototype.K=function(c,d,m,T){return this.i.add(String(c),d,!1,m,T)},oe.prototype.L=function(c,d,m,T){return this.i.add(String(c),d,!0,m,T)};function Pe(c,d,m,T){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,U=0;U<d.length;++U){var J=d[U];if(J&&!J.da&&J.capture==m){var $e=J.listener,_t=J.ha||J.src;J.fa&&Ve(c.i,J),x=$e.call(_t,T)!==!1&&x}}return x&&!T.defaultPrevented}function Re(c,d,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function mt(c){c.g=Re(()=>{c.g=null,c.i&&(c.i=!1,mt(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class ft extends Oe{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(c){Oe.call(this),this.h=c,this.g={}}y(yt,Oe);var Ct=[];function br(c){L(c.g,function(d,m){this.g.hasOwnProperty(m)&&G(d)},c),c.g={}}yt.prototype.N=function(){yt.aa.N.call(this),br(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=a.JSON.stringify,Ut=a.JSON.parse,ln=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function js(){}js.prototype.h=null;function Xi(c){return c.h||(c.h=c.i())}function Ip(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gu(){je.call(this,"d")}y(gu,je);function mu(){je.call(this,"c")}y(mu,je);var cs={},bp=null;function Pa(){return bp=bp||new oe}cs.La="serverreachability";function Ap(c){je.call(this,cs.La,c)}y(Ap,je);function eo(c){const d=Pa();he(d,new Ap(d))}cs.STAT_EVENT="statevent";function Sp(c,d){je.call(this,cs.STAT_EVENT,c),this.stat=d}y(Sp,je);function $t(c){const d=Pa();he(d,new Sp(d,c))}cs.Ma="timingevent";function Rp(c,d){je.call(this,cs.Ma,c),this.size=d}y(Rp,je);function to(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function no(){this.g=!0}no.prototype.xa=function(){this.g=!1};function Ab(c,d,m,T,x,U){c.info(function(){if(c.g)if(U)for(var J="",$e=U.split("&"),_t=0;_t<$e.length;_t++){var Ce=$e[_t].split("=");if(1<Ce.length){var Pt=Ce[0];Ce=Ce[1];var kt=Pt.split("_");J=2<=kt.length&&kt[1]=="type"?J+(Pt+"="+Ce+"&"):J+(Pt+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+d+`
`+m+`
`+J})}function Sb(c,d,m,T,x,U,J){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+d+`
`+m+`
`+U+" "+J})}function Hs(c,d,m,T){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Cb(c,m)+(T?" "+T:"")})}function Rb(c,d){c.info(function(){return"TIMEOUT: "+d})}no.prototype.info=function(){};function Cb(c,d){if(!c.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var T=m[c];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<x.length;J++)x[J]=""}}}}return Bs(m)}catch{return d}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yu;function Oa(){}y(Oa,js),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},yu=new Oa;function Ar(c,d,m,T){this.j=c,this.i=d,this.l=m,this.R=T||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pp}function Pp(){this.i=null,this.g="",this.h=!1}var kp={},_u={};function vu(c,d,m){c.L=1,c.v=xa(Qn(d)),c.m=m,c.P=!0,Op(c,null)}function Op(c,d){c.F=Date.now(),Da(c),c.A=Qn(c.v);var m=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),zp(m.i,"t",T),c.C=0,m=c.j.J,c.h=new Pp,c.g=lg(c.j,m?d:null,!c.m),0<c.O&&(c.M=new ft(p(c.Y,c,c.g),c.O)),d=c.U,m=c.g,T=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ct[0]=x.toString()),x=Ct);for(var U=0;U<x.length;U++){var J=H(m,x[U],T||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),eo(),Ab(c.i,c.u,c.A,c.l,c.R,c.m)}Ar.prototype.ca=function(c){c=c.target;const d=this.M;d&&Jn(c)==3?d.j():this.Y(c)},Ar.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Jn(this.g);var d=this.g.Ba();const Ws=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Xp(this.g)))){this.J||kt!=4||d==7||(d==8||0>=Ws?eo(3):eo(2)),wu(this);var m=this.g.Z();this.X=m;t:if(Dp(this)){var T=Xp(this.g);c="";var x=T.length,U=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),ro(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,c+=this.h.i.decode(T[d],{stream:!(U&&d==x-1)});T.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,Sb(this.i,this.u,this.A,this.l,this.R,kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,_t=this.g;if(($e=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O($e)){var Ce=$e;break t}}Ce=null}if(m=Ce)Hs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eu(this,m);else{this.o=!1,this.s=3,$t(12),ls(this),ro(this);break e}}if(this.P){m=!0;let _n;for(;!this.J&&this.C<J.length;)if(_n=Pb(this,J),_n==_u){kt==4&&(this.s=4,$t(14),m=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==kp){this.s=4,$t(15),Hs(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Hs(this.i,this.l,_n,null),Eu(this,_n);if(Dp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||J.length!=0||this.h.h||(this.s=1,$t(16),m=!1),this.o=this.o&&m,!m)Hs(this.i,this.l,J,"[Invalid Chunked Response]"),ls(this),ro(this);else if(0<J.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Ru(Pt),Pt.M=!0,$t(11))}}else Hs(this.i,this.l,J,null),Eu(this,J);kt==4&&ls(this),this.o&&!this.J&&(kt==4?ig(this.j,this):(this.o=!1,Da(this)))}else Wb(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),ls(this),ro(this)}}}catch{}finally{}};function Dp(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pb(c,d){var m=c.C,T=d.indexOf(`
`,m);return T==-1?_u:(m=Number(d.substring(m,T)),isNaN(m)?kp:(T+=1,T+m>d.length?_u:(d=d.slice(T,T+m),c.C=T+m,d)))}Ar.prototype.cancel=function(){this.J=!0,ls(this)};function Da(c){c.S=Date.now()+c.I,Np(c,c.I)}function Np(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=to(p(c.ba,c),d)}function wu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ar.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Rb(this.i,this.A),this.L!=2&&(eo(),$t(17)),ls(this),this.s=2,ro(this)):Np(this,this.S-c)};function ro(c){c.j.G==0||c.J||ig(c.j,c)}function ls(c){wu(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,br(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Eu(c,d){try{var m=c.j;if(m.G!=0&&(m.g==c||Tu(m.h,c))){if(!c.K&&Tu(m.h,c)&&m.G==3){try{var T=m.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ba(m),Ua(m);else break e;Su(m),$t(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=to(p(m.Za,m),6e3));if(1>=Lp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else hs(m,11)}else if((c.K||m.g==c)&&Ba(m),!O(d))for(x=m.Da.g.parse(d),d=0;d<x.length;d++){let Ce=x[d];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const Pt=Ce[3];Pt!=null&&(m.la=Pt,m.j.info("VER="+m.la));const kt=Ce[4];kt!=null&&(m.Aa=kt,m.j.info("SVER="+m.Aa));const Ws=Ce[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(T=1.5*Ws,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const _n=c.g;if(_n){const Ha=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var U=T.h;U.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Iu(U,U.h),U.h=null))}if(T.D){const Cu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(T.ya=Cu,ze(T.I,T.D,Cu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var J=c;if(T.qa=cg(T,T.J?T.ia:null,T.W),J.K){Vp(T.h,J);var $e=J,_t=T.L;_t&&($e.I=_t),$e.B&&(wu($e),Da($e)),T.g=J}else rg(T);0<m.i.length&&$a(m)}else Ce[0]!="stop"&&Ce[0]!="close"||hs(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?hs(m,7):Au(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}eo(4)}catch{}}var kb=class{constructor(c,d){this.g=c,this.map=d}};function Mp(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xp(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lp(c){return c.h?1:c.g?c.g.size:0}function Tu(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Iu(c,d){c.g?c.g.add(d):c.h=d}function Vp(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Mp.prototype.cancel=function(){if(this.i=Fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fp(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const m of c.g.values())d=d.concat(m.D);return d}return E(c.i)}function Ob(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],m=c.length,T=0;T<m;T++)d.push(c[T]);return d}d=[],m=0;for(T in c)d[m++]=c[T];return d}function Db(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var m=0;m<c;m++)d.push(m);return d}d=[],m=0;for(const T in c)d[m++]=T;return d}}}function Up(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var m=Db(c),T=Ob(c),x=T.length,U=0;U<x;U++)d.call(void 0,T[U],m&&m[U],c)}var $p=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nb(c,d){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var T=c[m].indexOf("="),x=null;if(0<=T){var U=c[m].substring(0,T);x=c[m].substring(T+1)}else U=c[m];d(U,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function us(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof us){this.h=c.h,Na(this,c.j),this.o=c.o,this.g=c.g,Ma(this,c.s),this.l=c.l;var d=c.i,m=new oo;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Bp(this,m),this.m=c.m}else c&&(d=String(c).match($p))?(this.h=!1,Na(this,d[1]||"",!0),this.o=so(d[2]||""),this.g=so(d[3]||"",!0),Ma(this,d[4]),this.l=so(d[5]||"",!0),Bp(this,d[6]||"",!0),this.m=so(d[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}us.prototype.toString=function(){var c=[],d=this.j;d&&c.push(io(d,jp,!0),":");var m=this.g;return(m||d=="file")&&(c.push("//"),(d=this.o)&&c.push(io(d,jp,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(io(m,m.charAt(0)=="/"?Lb:xb,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",io(m,Fb)),c.join("")};function Qn(c){return new us(c)}function Na(c,d,m){c.j=m?so(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ma(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Bp(c,d,m){d instanceof oo?(c.i=d,Ub(c.i,c.h)):(m||(d=io(d,Vb)),c.i=new oo(d,c.h))}function ze(c,d,m){c.i.set(d,m)}function xa(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function so(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function io(c,d,m){return typeof c=="string"?(c=encodeURI(c).replace(d,Mb),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jp=/[#\/\?@]/g,xb=/[#\?:]/g,Lb=/[#\?]/g,Vb=/[#\?@]/g,Fb=/#/g;function oo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&Nb(c.i,function(d,m){c.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=oo.prototype,t.add=function(c,d){Sr(this),this.i=null,c=qs(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(d),this.h+=1,this};function Hp(c,d){Sr(c),d=qs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function qp(c,d){return Sr(c),d=qs(c,d),c.g.has(d)}t.forEach=function(c,d){Sr(this),this.g.forEach(function(m,T){m.forEach(function(x){c.call(d,x,T,this)},this)},this)},t.na=function(){Sr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let T=0;T<d.length;T++){const x=c[T];for(let U=0;U<x.length;U++)m.push(d[T])}return m},t.V=function(c){Sr(this);let d=[];if(typeof c=="string")qp(this,c)&&(d=d.concat(this.g.get(qs(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)d=d.concat(c[m])}return d},t.set=function(c,d){return Sr(this),this.i=null,c=qs(this,c),qp(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function zp(c,d,m){Hp(c,d),0<m.length&&(c.i=null,c.g.set(qs(c,d),E(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var T=d[m];const U=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var x=U;J[T]!==""&&(x+="="+encodeURIComponent(String(J[T]))),c.push(x)}}return this.i=c.join("&")};function qs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ub(c,d){d&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(m,T){var x=T.toLowerCase();T!=x&&(Hp(this,T),zp(this,x,m))},c)),c.j=d}function $b(c,d){const m=new no;if(a.Image){const T=new Image;T.onload=g(Rr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=g(Rr,m,"TestLoadImage: error",!1,d,T),T.onabort=g(Rr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=g(Rr,m,"TestLoadImage: timeout",!1,d,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else d(!1)}function Bb(c,d){const m=new no,T=new AbortController,x=setTimeout(()=>{T.abort(),Rr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:T.signal}).then(U=>{clearTimeout(x),U.ok?Rr(m,"TestPingServer: ok",!0,d):Rr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),Rr(m,"TestPingServer: error",!1,d)})}function Rr(c,d,m,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(m)}catch{}}function jb(){this.g=new ln}function Hb(c,d,m){const T=m||"";try{Up(c,function(x,U){let J=x;u(x)&&(J=Bs(x)),d.push(T+U+"="+encodeURIComponent(J))})}catch(x){throw d.push(T+"type="+encodeURIComponent("_badmap")),x}}function La(c){this.l=c.Ub||null,this.j=c.eb||!1}y(La,js),La.prototype.g=function(){return new Va(this.l,this.j)},La.prototype.i=(function(c){return function(){return c}})({});function Va(c,d){oe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Va,oe),t=Va.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,co(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wp(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wp(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ao(this):co(this),this.readyState==3&&Wp(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ao(this))},t.Qa=function(c){this.g&&(this.response=c,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(c){c.readyState=4,c.l=null,c.j=null,c.v=null,co(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=d.next();return c.join(`\r
`)};function co(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Kp(c){let d="";return L(c,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function bu(c,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Kp(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):ze(c,d,m))}function Ze(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ze,oe);var qb=/^https?$/i,zb=["POST","PUT"];t=Ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yu.g(),this.v=this.o?Xi(this.o):Xi(yu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(U){Gp(this,U);return}if(c=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)m.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const U of T.keys())m.set(U,T.get(U));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zb,d,void 0))||T||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of m)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yp(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){Gp(this,U)}};function Gp(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Qp(c),Fa(c)}function Qp(c){c.A||(c.A=!0,he(c,"complete"),he(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,he(this,"complete"),he(this,"abort"),Fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jp(this):this.bb())},t.bb=function(){Jp(this)};function Jp(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)Re(c.Ea,0,c);else if(he(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=J===0){var x=String(c.D).match($p)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),T=!qb.test(x?x.toLowerCase():"")}m=T}if(m)he(c,"complete"),he(c,"success");else{c.m=6;try{var U=2<Jn(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",Qp(c)}}finally{Fa(c)}}}}function Fa(c,d){if(c.g){Yp(c);const m=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||he(c,"ready");try{m.onreadystatechange=T}catch{}}}function Yp(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Ut(d)}};function Xp(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wb(c){const d={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(O(c[T]))continue;var m=k(c[T]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=d[x]||[];d[x]=U,U.push(m)}A(d,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(c,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||d}function Zp(c){this.Aa=0,this.i=[],this.j=new no,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,c),this.cb=lo("retryDelaySeedMs",1e4,c),this.Wa=lo("forwardChannelMaxRetries",2,c),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mp(c&&c.concurrentRequestLimit),this.Da=new jb,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zp.prototype,t.la=8,t.G=1,t.connect=function(c,d,m,T){$t(0),this.W=c,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=cg(this,null,this.W),$a(this)};function Au(c){if(eg(c),c.G==3){var d=c.U++,m=Qn(c.I);if(ze(m,"SID",c.K),ze(m,"RID",d),ze(m,"TYPE","terminate"),uo(c,m),d=new Ar(c,c.j,d),d.L=2,d.v=xa(Qn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=lg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Da(d)}ag(c)}function Ua(c){c.g&&(Ru(c),c.g.cancel(),c.g=null)}function eg(c){Ua(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function $a(c){if(!xp(c.h)&&!c.s){c.s=!0;var d=c.Ga;te||Rt(),W||(te(),W=!0),Ee.add(d,c),c.B=0}}function Kb(c,d){return Lp(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=to(p(c.Ga,c,d),og(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const x=new Ar(this,this.j,c);let U=this.o;if(this.S&&(U?(U=w(U),I(U,this.S)):U=this.S),this.m!==null||this.O||(x.H=U,U=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=ng(this,x,d),m=Qn(this.I),ze(m,"RID",c),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),uo(this,m),U&&(this.O?d="headers="+encodeURIComponent(String(Kp(U)))+"&"+d:this.m&&bu(m,this.m,U)),Iu(this.h,x),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",d),ze(m,"SID","null"),x.T=!0,vu(x,m,null)):vu(x,m,d),this.G=2}}else this.G==3&&(c?tg(this,c):this.i.length==0||xp(this.h)||tg(this))};function tg(c,d){var m;d?m=d.l:m=c.U++;const T=Qn(c.I);ze(T,"SID",c.K),ze(T,"RID",m),ze(T,"AID",c.T),uo(c,T),c.m&&c.o&&bu(T,c.m,c.o),m=new Ar(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ng(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Iu(c.h,m),vu(m,T,d)}function uo(c,d){c.H&&L(c.H,function(m,T){ze(d,T,m)}),c.l&&Up({},function(m,T){ze(d,T,m)})}function ng(c,d,m){m=Math.min(c.i.length,m);var T=c.l?p(c.l.Na,c.l,c):null;e:{var x=c.i;let U=-1;for(;;){const J=["count="+m];U==-1?0<m?(U=x[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let $e=!0;for(let _t=0;_t<m;_t++){let Ce=x[_t].g;const Pt=x[_t].map;if(Ce-=U,0>Ce)U=Math.max(0,x[_t].g-100),$e=!1;else try{Hb(Pt,J,"req"+Ce+"_")}catch{T&&T(Pt)}}if($e){T=J.join("&");break e}}}return c=c.i.splice(0,m),d.D=c,T}function rg(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;te||Rt(),W||(te(),W=!0),Ee.add(d,c),c.v=0}}function Su(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=to(p(c.Fa,c),og(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,sg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=to(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Ua(this),sg(this))};function Ru(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sg(c){c.g=new Ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qn(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),uo(c,d),c.m&&c.o&&bu(d,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=xa(Qn(d)),m.m=null,m.P=!0,Op(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),Su(this),$t(19))};function Ba(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ig(c,d){var m=null;if(c.g==d){Ba(c),Ru(c),c.g=null;var T=2}else if(Tu(c.h,d))m=d.D,Vp(c.h,d),T=1;else return;if(c.G!=0){if(d.o)if(T==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var x=c.B;T=Pa(),he(T,new Rp(T,m)),$a(c)}else rg(c);else if(x=d.s,x==3||x==0&&0<d.X||!(T==1&&Kb(c,d)||T==2&&Su(c)))switch(m&&0<m.length&&(d=c.h,d.i=d.i.concat(m)),x){case 1:hs(c,5);break;case 4:hs(c,10);break;case 3:hs(c,6);break;default:hs(c,2)}}}function og(c,d){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*d}function hs(c,d){if(c.j.info("Error code "+d),d==2){var m=p(c.fb,c),T=c.Xa;const x=!T;T=new us(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Na(T,"https"),xa(T),x?$b(T.toString(),m):Bb(T.toString(),m)}else $t(2);c.G=0,c.l&&c.l.sa(d),ag(c),eg(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function ag(c){if(c.G=0,c.ka=[],c.l){const d=Fp(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function cg(c,d,m){var T=m instanceof us?Qn(m):new us(m);if(T.g!="")d&&(T.g=d+"."+T.g),Ma(T,T.s);else{var x=a.location;T=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var U=new us(null);T&&Na(U,T),d&&(U.g=d),x&&Ma(U,x),m&&(U.l=m),T=U}return m=c.D,d=c.ya,m&&d&&ze(T,m,d),ze(T,"VER",c.la),uo(c,T),T}function lg(c,d,m){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ze(new La({eb:m})):new Ze(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}t=ug.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ja(){}ja.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){oe.call(this),this.g=new Zp(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!O(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!O(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zs(this)}y(Yt,oe),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Au(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Bs(c),c=m);d.i.push(new kb(d.Ya++,c)),d.G==3&&$a(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Au(this.g),delete this.g,Yt.aa.N.call(this)};function hg(c){gu.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const m in d){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}y(hg,gu);function fg(){mu.call(this),this.status=1}y(fg,mu);function zs(c){this.g=c}y(zs,ug),zs.prototype.ua=function(){he(this.g,"a")},zs.prototype.ta=function(c){he(this.g,new hg(c))},zs.prototype.sa=function(c){he(this.g,new fg)},zs.prototype.ra=function(){he(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,fT=function(){return new ja},hT=function(){return Pa()},uT=cs,gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Ec=ka,Cp.COMPLETE="complete",lT=Cp,Ip.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,wo=Ip,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,cT=Ze}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",Ey="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Bl("@firebase/firestore");function ti(){return Ns.logLevel}function re(t,...e){if(Ns.logLevel<=Te.DEBUG){const n=e.map(xd);Ns.debug(`Firestore (${zi}): ${t}`,...n)}}function _r(t,...e){if(Ns.logLevel<=Te.ERROR){const n=e.map(xd);Ns.error(`Firestore (${zi}): ${t}`,...n)}}function ki(t,...e){if(Ns.logLevel<=Te.WARN){const n=e.map(xd);Ns.warn(`Firestore (${zi}): ${t}`,...n)}}function xd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dT(t,r,n)}function dT(t,e,n){let r=`FIRESTORE (${zi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _r(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||dT(e,s,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nt.UNAUTHENTICATED)))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wr,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new pT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ty(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function mf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ch(s)===ch(i)?Ie(s,i):ch(s)?1:-1}return Ie(t.length,e.length)}const mM=55296,yM=57343;function ch(t){const e=t.charCodeAt(0);return e>=mM&&e<=yM}function Oi(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Mn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),s=Mn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):mf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class qe extends Mn{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new qe(n)}static emptyPath(){return new qe([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Mn{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return _M.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iy}static keyField(){return new bt([Iy])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(qe.fromString(e))}static fromName(e){return new ue(qe.fromString(e).popFirst(5))}static empty(){return new ue(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vM(t,e,n,r){if(e===!0&&r===!0)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function by(t){if(!ue.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ay(t){if(ue.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wl(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function wa(t,e){if(!mT(t))throw new ne(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ne(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,Ry=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ry);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sy)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wa(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:ot("string",xe._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new xe(0,0))}static max(){return new _e(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=-1;function wM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new Jr(s,ue.empty(),e)}function EM(t){return new Jr(t.readTime,t.key,Zo)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(_e.min(),ue.empty(),Zo)}static max(){return new Jr(_e.max(),ue.empty(),Zo)}}function TM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==IM)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):j.reject(n)}static resolve(e){return new j(((n,r)=>{n(e)}))}static reject(e){return new j(((n,r)=>{r(e)}))}static waitFor(e){return new j(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next((s=>s?j.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new j(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((h=>{o[u]=h,++a,a===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new j(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function AM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ki(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=-1;function Gl(t){return t==null}function cl(t){return t===0&&1/t==-1/0}function SM(t){return typeof t=="number"&&Number.isInteger(t)&&!cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function RM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cy(e)),e=CM(t.get(n),e);return Cy(e)}function CM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case yT:n+="";break;default:n+=i}}return n}function Cy(t){return t+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new lt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oi(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vT("Invalid base64 string: "+i):i}})(e);return new At(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const PM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=PM.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="server_timestamp",ET="__type__",TT="__previous_value__",IT="__local_write_time__";function Fd(t){return(t?.mapValue?.fields||{})[ET]?.stringValue===wT}function Ql(t){const e=t.mapValue.fields[TT];return Fd(e)?Ql(e):e}function ea(t){const e=Yr(t.mapValue.fields[IT].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const ll="(default)";class ta{constructor(e,n){this.projectId=e,this.database=n||ll}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database===ll}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",OM="__max__",cc={mapValue:{}},AT="__vector__",ul="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fd(t)?4:NM(t)?9007199254740991:DM(t)?10:11:de(28295,{value:t})}function Wn(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ea(t).isEqual(ea(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Yr(s.timestampValue),a=Yr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Xr(s.bytesValue).isEqual(Xr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?cl(o)===cl(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Oi(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Py(o)!==Py(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wn(o[l],a[l])))return!1;return!0})(t,e);default:return de(52216,{left:t})}}function na(t,e){return(t.values||[]).find((n=>Wn(n,e)))!==void 0}function Di(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return Oy(t.timestampValue,e.timestampValue);case 4:return Oy(ea(t),ea(e));case 5:return mf(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=Xr(i),l=Xr(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ie(a[u],l[u]);if(h!==0)return h}return Ie(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=Ie(nt(i.latitude),nt(o.latitude));return a!==0?a:Ie(nt(i.longitude),nt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Dy(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},u=a[ul]?.arrayValue,h=l[ul]?.arrayValue,f=Ie(u?.values?.length||0,h?.values?.length||0);return f!==0?f:Dy(u,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===cc.mapValue&&o===cc.mapValue)return 0;if(i===cc.mapValue)return 1;if(o===cc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=mf(l[f],h[f]);if(p!==0)return p;const g=Di(a[l[f]],u[h[f]]);if(g!==0)return g}return Ie(l.length,h.length)})(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function Oy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Yr(t),r=Yr(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function Dy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Di(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Ni(t){return yf(t)}function yf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Yr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yf(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yf(n.fields[o])}`;return s+"}"})(t.mapValue):de(61005,{value:t})}function Tc(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ql(t);return e?16+Tc(e):16;case 5:return 2*t.stringValue.length;case 6:return Xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Tc(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return is(r.fields,((i,o)=>{s+=i.length+Tc(o)})),s})(t.mapValue);default:throw de(13486,{value:t})}}function Ny(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _f(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function My(t){return!!t&&"nullValue"in t}function xy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ic(t){return!!t&&"mapValue"in t}function DM(t){return(t?.mapValue?.fields||{})[bT]?.stringValue===AT}function Mo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mo(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mo(t.arrayValue.values[n]);return e}return{...t}}function NM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(n)}setAll(e){let n=bt.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Mo(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ic(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){is(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Kt(Mo(this.value))}}function ST(t){const e=[];return is(t.fields,((n,r)=>{const s=new bt([n]);if(Ic(r)){const i=ST(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Lt(e,0,_e.min(),_e.min(),_e.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new Lt(e,1,n,_e.min(),r,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,_e.min(),_e.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,_e.min(),_e.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.position=e,this.inclusive=n}}function Ly(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Di(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function MM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class it extends RT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LM(e,n,r):n==="array-contains"?new UM(e,r):n==="in"?new $M(e,r):n==="not-in"?new BM(e,r):n==="array-contains-any"?new jM(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VM(e,r):new FM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Di(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pn(e,n)}matches(e){return CT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(t){return t.op==="and"}function PT(t){return xM(t)&&CT(t)}function xM(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function vf(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ni(t.value);if(PT(t))return t.filters.map((e=>vf(e))).join(",");{const e=t.filters.map((n=>vf(n))).join(",");return`${t.op}(${e})`}}function kT(t,e){return t instanceof it?(function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Wn(r.value,s.value)})(t,e):t instanceof Pn?(function(r,s){return s instanceof Pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&kT(o,s.filters[a])),!0):!1})(t,e):void de(19439)}function OT(t){return t instanceof it?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ni(n.value)}`})(t):t instanceof Pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"})(t):"Filter"}class LM extends it{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class VM extends it{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FM extends it{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DT(t,e){return(e.arrayValue?.values||[]).map((n=>ue.fromName(n.referenceValue)))}class UM extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ud(n)&&na(n.arrayValue,this.value)}}class $M extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}}class BM extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!na(this.value.arrayValue,n)}}class jM extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>na(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Fy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HM(t,e,n,r,s,i,o)}function $d(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vf(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ni(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ni(r))).join(",")),e.Te=n}return e.Te}function Bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function wf(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qM(t,e,n,r,s,i,o,a){return new Ea(t,e,n,r,s,i,o,a)}function NT(t){return new Ea(t)}function Uy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.collectionGroup!==null}function xo(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(bt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new fl(i,r))})),n.has(bt.keyField().canonicalString())||e.Ie.push(new fl(bt.keyField(),r))}return e.Ie}function Un(t){const e=ve(t);return e.Ee||(e.Ee=zM(e,xo(t))),e.Ee}function zM(t,e){if(t.limitType==="F")return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new fl(s.field,i)}));const n=t.endAt?new hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hl(t.startAt.position,t.startAt.inclusive):null;return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ef(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tf(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return Bd(Un(t),Un(e))&&t.limitType===e.limitType}function xT(t){return`${$d(Un(t))}|lt:${t.limitType}`}function ni(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>OT(s))).join(", ")}]`),Gl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ni(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ni(s))).join(",")),`Target(${r})`})(Un(t))}; limitType=${t.limitType})`}function Yl(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of xo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=Ly(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,xo(r),s)||r.endAt&&!(function(o,a,l){const u=Ly(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,xo(r),s))})(t,e)}function WM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LT(t){return(e,n)=>{let r=!1;for(const s of xo(t)){const i=KM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function KM(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Di(l,u):de(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Xe(ue.comparator);function wr(){return GM}const VT=new Xe(ue.comparator);function Eo(...t){let e=VT;for(const n of t)e=e.insert(n.key,n);return e}function FT(t){let e=VT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Is(){return Lo()}function UT(){return Lo()}function Lo(){return new Fs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QM=new Xe(ue.comparator),JM=new lt(ue.comparator);function be(...t){let e=JM;for(const n of t)e=e.add(n);return e}const YM=new lt(Ie);function XM(){return YM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(e)?"-0":e}}function $T(t){return{integerValue:""+t}}function ZM(t,e){return SM(e)?$T(e):jd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this._=void 0}}function ex(t,e,n){return t instanceof dl?(function(s,i){const o={fields:{[ET]:{stringValue:wT},[IT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fd(i)&&(i=Ql(i)),i&&(o.fields[TT]=i),{mapValue:o}})(n,e):t instanceof ra?jT(t,e):t instanceof sa?HT(t,e):(function(s,i){const o=BT(s,i),a=$y(o)+$y(s.Ae);return _f(o)&&_f(s.Ae)?$T(a):jd(s.serializer,a)})(t,e)}function tx(t,e,n){return t instanceof ra?jT(t,e):t instanceof sa?HT(t,e):n}function BT(t,e){return t instanceof pl?(function(r){return _f(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class dl extends Xl{}class ra extends Xl{constructor(e){super(),this.elements=e}}function jT(t,e){const n=qT(e);for(const r of t.elements)n.some((s=>Wn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class sa extends Xl{constructor(e){super(),this.elements=e}}function HT(t,e){let n=qT(e);for(const r of t.elements)n=n.filter((s=>!Wn(s,r)));return{arrayValue:{values:n}}}class pl extends Xl{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $y(t){return nt(t.integerValue||t.doubleValue)}function qT(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nx(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof ra&&s instanceof ra||r instanceof sa&&s instanceof sa?Oi(r.elements,s.elements,Wn):r instanceof pl&&s instanceof pl?Wn(r.Ae,s.Ae):r instanceof dl&&s instanceof dl})(t.transform,e.transform)}class rx{constructor(e,n){this.version=e,this.transformResults=n}}class gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zl{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,gn.none()):new Ta(t.key,t.data,gn.none());{const n=t.data,r=Kt.empty();let s=new lt(bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new os(t.key,r,new tn(s.toArray()),gn.none())}}function sx(t,e,n){t instanceof Ta?(function(s,i,o){const a=s.value.clone(),l=jy(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof os?(function(s,i,o){if(!bc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=jy(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(WT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vo(t,e,n,r){return t instanceof Ta?(function(i,o,a,l){if(!bc(i.precondition,o))return a;const u=i.value.clone(),h=Hy(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof os?(function(i,o,a,l){if(!bc(i.precondition,o))return a;const u=Hy(i.fieldTransforms,l,o),h=o.data;return h.setAll(WT(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(i,o,a){return bc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function ix(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=BT(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function By(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oi(r,s,((i,o)=>nx(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ta extends Zl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class os extends Zl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jy(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tx(o,a,n[s]))}return r}function Hy(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ex(i,o,e))}return r}class Hd extends Zl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Zl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sx(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UT();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&Oi(this.mutations,e.mutations,((n,r)=>By(n,r)))&&Oi(this.baseMutations,e.baseMutations,((n,r)=>By(n,r)))}}class qd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return QM})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Se;function ux(t){switch(t){case B.OK:return de(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function KT(t){if(t===void 0)return _r("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return de(39323,{code:t})}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new zr([4294967295,4294967295],0);function qy(t){const e=hx().encode(t),n=new aT;return n.update(e),new Uint8Array(n.digest())}function zy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zr([n,r],0),new zr([s,i],0)]}class zd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(zr.fromNumber(r)));return s.compare(fx)===1&&(s=new zr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qy(e),[r,s]=zy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zd(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=qy(e),[r,s]=zy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eu(_e.min(),s,new Xe(Ie),wr(),be())}}class Ia{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ia(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class GT{constructor(e,n){this.targetId=e,this.Ce=n}}class QT{constructor(e,n,r=At.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Wy{constructor(){this.ve=0,this.Fe=Ky(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}})),new Ia(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ky()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=lc(),this.He=lc(),this.Ye=new Xe(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(wf(i))if(r===0){const o=new ue(i.path);this.et(n,o,Lt.newNoDocument(o,_e.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xr(r).toUint8Array()}catch(l){if(l instanceof vT)return ki("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zd(o,s,i)}catch(l){return ki(l instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&wf(a.target)){const l=new ue(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Lt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=be();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new eu(e,n,this.Ye,this.je,r);return this.je=wr(),this.Je=lc(),this.He=lc(),this.Ye=new Xe(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Wy,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wy),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lc(){return new Xe(ue.comparator)}function Ky(){return new Xe(ue.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mx={and:"AND",or:"OR"};class yx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function If(t,e){return t.useProto3Json||Gl(e)?e:{value:e}}function gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _x(t,e){return gl(t,e.toTimestamp())}function $n(t){return Le(!!t,49232),_e.fromTimestamp((function(n){const r=Yr(n);return new xe(r.seconds,r.nanos)})(t))}function Wd(t,e){return bf(t,e).canonicalString()}function bf(t,e){const n=(function(s){return new qe(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function YT(t){const e=qe.fromString(t);return Le(nI(e),10190,{key:e.toString()}),e}function Af(t,e){return Wd(t.databaseId,e.path)}function lh(t,e){const n=YT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(ZT(n))}function XT(t,e){return Wd(t.databaseId,e)}function vx(t){const e=YT(t);return e.length===4?qe.emptyPath():ZT(e)}function Sf(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZT(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Gy(t,e,n){return{name:Af(t,e),fields:n.value.mapValue.fields}}function wx(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),At.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),At.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const h=u.code===void 0?B.UNKNOWN:KT(u.code);return new ne(h,u.message||"")})(o);n=new QT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lh(t,r.document.name),i=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):_e.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Lt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Ac(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lh(t,r.document),i=r.readTime?$n(r.readTime):_e.min(),o=Lt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ac([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lh(t,r.document),i=r.removedTargetIds||[];n=new Ac([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new lx(s,i),a=r.targetId;n=new GT(a,o)}}return n}function Ex(t,e){let n;if(e instanceof Ta)n={update:Gy(t,e.key,e.value)};else if(e instanceof Hd)n={delete:Af(t,e.key)};else if(e instanceof os)n={update:Gy(t,e.key,e.data),updateMask:kx(e.fieldMask)};else{if(!(e instanceof ox))return de(16599,{Vt:e.type});n={verify:Af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof dl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ra)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:_x(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)})(t,e.precondition)),n}function Tx(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?$n(s.updateTime):$n(i);return o.isEqual(_e.min())&&(o=$n(i)),new rx(o,s.transformResults||[])})(n,e)))):[]}function Ix(t,e){return{documents:[XT(t,e.path)]}}function bx(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XT(t,s);const i=(function(u){if(u.length!==0)return tI(Pn.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(p){return{field:ri(p.field),direction:Rx(p.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=If(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function Ax(t){let e=vx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(f){const p=eI(f);return p instanceof Pn&&PT(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((p=>(function(y){return new fl(si(y.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(p)))})(n.orderBy));let a=null;n.limit&&(a=(function(f){let p;return p=typeof f=="object"?f.value:f,Gl(p)?null:p})(n.limit));let l=null;n.startAt&&(l=(function(f){const p=!!f.before,g=f.values||[];return new hl(g,p)})(n.startAt));let u=null;return n.endAt&&(u=(function(f){const p=!f.before,g=f.values||[];return new hl(g,p)})(n.endAt)),qM(e,s,o,i,a,"F",l,u)}function Sx(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=si(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=si(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=si(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=si(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(t):t.fieldFilter!==void 0?(function(n){return it.create(si(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pn.create(n.compositeFilter.filters.map((r=>eI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(n.compositeFilter.op))})(t):de(30097,{filter:t})}function Rx(t){return px[t]}function Cx(t){return gx[t]}function Px(t){return mx[t]}function ri(t){return{fieldPath:t.canonicalString()}}function si(t){return bt.fromServerFormat(t.fieldPath)}function tI(t){return t instanceof it?(function(n){if(n.op==="=="){if(xy(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NAN"}};if(My(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xy(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NAN"}};if(My(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(n.field),op:Cx(n.op),value:n.value}}})(t):t instanceof Pn?(function(n){const r=n.getFilters().map((s=>tI(s)));return r.length===1?r[0]:{compositeFilter:{op:Px(n.op),filters:r}}})(t):de(54877,{filter:t})}function kx(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r,s,i=_e.min(),o=_e.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.yt=e}}function Dx(t){const e=Ax({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Cn=new Mx}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Jr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Mx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new lt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rI=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(rI,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mi(0)}static cr(){return new Mi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",xx=1048576;function Yy([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class Lx{constructor(e){this.Ir=e,this.buffer=new lt(Yy),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Yy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Jy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ki(n)?re(Jy,"Ignoring IndexedDB error during garbage collection: ",n):await Wi(n)}await this.Vr(3e5)}))}}class Fx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Kl.ce);const r=new Lx(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Qy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s)))).next((f=>(r=f,a=Date.now(),this.removeTargets(e,r,n)))).next((f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(u=Date.now(),ti()<=Te.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f}))))}}function Ux(t,e){return new Fx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.changes=new Fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Vo(r.mutation,s,tn.empty(),xe.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=be()){const s=Is();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Eo();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,be())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=wr();const o=Lo(),a=(function(){return Lo()})();return n.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof os)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Vo(h.mutation,u,h.mutation.getFieldMask(),xe.now())):o.set(u.key,tn.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>a.set(u,new Bx(h,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Lo();let s=new Xe(((o,a)=>o-a)),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||tn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||be()).add(l);s=s.insert(a.batchId,f)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=UT();h.forEach((p=>{if(!i.has(p)){const g=zT(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return j.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(Is());let a=Zo,l=i;return o.next((u=>j.forEach(u,((h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next((p=>{l=l.insert(h,p)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,be()))).next((h=>({batchId:a,changes:FT(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next((r=>{let s=Eo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Eo();return this.indexManager.getCollectionParents(e,i).next((a=>j.forEach(a,(l=>{const u=(function(f,p){return new Ea(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((f,p)=>{o=o.insert(f,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Lt.newInvalidDocument(h)))}));let a=Eo();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&Vo(h.mutation,u,tn.empty(),xe.now()),Yl(n,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:$n(s.createTime)}})(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Dx(s.bundledQuery),readTime:$n(s.readTime)}})(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.overlays=new Xe(ue.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return j.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=Is(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xe(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Is(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Is(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>a.set(u,h))),!(a.size()>=s)););return j.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cx(n,r));let i=this.qr.get(n);i===void 0&&(i=be(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.Qr=new lt(dt.$r),this.Ur=new lt(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ue(new qe([])),r=new dt(n,e),s=new dt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new qe([])),r=new dt(n,e),s=new dt(n,e+1);let i=be();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(dt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ax(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Vd:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ie);return n.forEach((s=>{const i=new dt(s,0),o=new dt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new dt(new ue(i),0);let a=new lt(Ie);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)}),o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,(s=>{const i=new dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new dt(n,0),s=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.ri=e,this.docs=(function(){return new Xe(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Lt.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=wr();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TM(EM(h),r)<=0||(s.has(h.key)||Yl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return j.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Gx(this)}getSize(e){return j.resolve(this.size)}}class Gx extends $x{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.persistence=e,this.si=new Fs((n=>$d(n)),Bd),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Kd,this.targetCount=0,this.ai=Mi.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),j.waitFor(i).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kl(0),this.li=!1,this.li=!0,this.hi=new zx,this.referenceDelegate=e(this),this.Pi=new Qx(this),this.indexManager=new Nx,this.remoteDocumentCache=(function(s){return new Kx(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ox(n),this.Ii=new Hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Wx(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new Jx(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return j.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Jx extends bM{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new Kd,this.Vi=null}static mi(e){return new Gd(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,(r=>{const s=ue.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,_e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ml{constructor(e,n){this.persistence=e,this.pi=new Fs((r=>RM(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Ux(this,n)}static mi(e,n){return new ml(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return j.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?j.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,_e.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tc(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Bk()?8:AM(Ft())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new Yx;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ti()<=Te.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(ti()<=Te.DEBUG&&re("QueryEngine","Query:",ni(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ti()<=Te.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):j.resolve())}ys(e,n){if(Uy(n))return j.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Tf(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=be(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Tf(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return Uy(n)||s.isEqual(_e.min())?j.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(ti()<=Te.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ni(n)),this.vs(e,o,n,wM(s,Zo)).next((a=>a)))}))}Ds(e,n){let r=new lt(LT(e));return n.forEach(((s,i)=>{Yl(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ti()<=Te.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ni(n)),this.ps.getDocumentsMatchingQuery(e,n,Jr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="LocalStore",Zx=3e8;class eL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Xe(Ie),this.xs=new Fs((i=>$d(i)),Bd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tL(t,e,n,r){return new eL(t,e,n,r)}async function iI(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=be();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function nL(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){const f=u.batch,p=f.keys();let g=j.resolve();return p.forEach((y=>{g=g.next((()=>h.getEntry(l,y))).next((E=>{const S=u.docVersions.get(y);Le(S!==null,48541),E.version.compareTo(S)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))}))})),g.next((()=>a.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function oI(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rL(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f))));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(At.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),(function(E,S,M){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Zx?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(p,g,h)&&a.push(n.Pi.updateTargetData(i,g))}));let l=wr(),u=be();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),a.push(sL(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(_e.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(h)}return j.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function sL(t,e,n){let r=be(),s=be();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=wr();return n.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re(Jd,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function iL(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oL(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,j.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new $r(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Rf(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Ki(o))throw o;re(Jd,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Xy(t,e,n){const r=ve(t);let s=_e.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const f=ve(l),p=f.xs.get(h);return p!==void 0?j.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,h)})(r,o,Un(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:_e.min(),n?i:be()))).next((a=>(aL(r,WM(e),a),{documents:a,Qs:i})))))}function aL(t,e,n){let r=t.Os.get(e)||_e.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Zy{constructor(){this.activeTargetIds=XM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cL{constructor(){this.Mo=new Zy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="ConnectivityMonitor";class t_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(e_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(e_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Cf(){return uc===null?uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="RestConnection",uL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ll?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Cf(),a=this.zo(e,n.toUriEncodedString());re(uh,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=ji(u);return this.Jo(e,a,l,r,h).then((f=>(re(uh,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw ki(uh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zi})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=uL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class dL extends hL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Cf();return new Promise(((a,l)=>{const u=new cT;u.setWithCredentials(!0),u.listenOnce(lT.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Ec.NO_ERROR:const f=u.getResponseJson();re(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ec.TIMEOUT:re(Ot,`RPC '${e}' ${o} timed out`),l(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const p=u.getStatus();if(re(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const E=(function(M){const O=M.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(O)>=0?O:B.UNKNOWN})(y.status);l(new ne(E,y.message))}else l(new ne(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(B.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(Ot,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);re(Ot,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=Cf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fT(),a=hT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");re(Ot,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let p=!1,g=!1;const y=new fL({Yo:S=>{g?re(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(re(Ot,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),re(Ot,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),E=(S,M,O)=>{S.listen(M,(v=>{try{O(v)}catch(P){setTimeout((()=>{throw P}),0)}}))};return E(f,wo.EventType.OPEN,(()=>{g||(re(Ot,`RPC '${e}' stream ${s} transport opened.`),y.o_())})),E(f,wo.EventType.CLOSE,(()=>{g||(g=!0,re(Ot,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))})),E(f,wo.EventType.ERROR,(S=>{g||(g=!0,ki(Ot,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new ne(B.UNAVAILABLE,"The operation could not be completed")))})),E(f,wo.EventType.MESSAGE,(S=>{if(!g){const M=S.data[0];Le(!!M,16349);const O=M,v=O?.error||O[0]?.error;if(v){re(Ot,`RPC '${e}' stream ${s} received error:`,v);const P=v.status;let D=(function(w){const _=st[w];if(_!==void 0)return KT(_)})(P),L=v.message;D===void 0&&(D=B.INTERNAL,L="Unknown error status: "+P+" with message "+v.message),g=!0,y.a_(new ne(D,L)),f.close()}else re(Ot,`RPC '${e}' stream ${s} received:`,M),y.u_(M)}})),E(a,uT.STAT_EVENT,(S=>{S.stat===gf.PROXY?re(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===gf.NOPROXY&&re(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return new yx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class cI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(re(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pL extends cI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wx(this.serializer,e),r=(function(i){if(!("targetChange"in i))return _e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?$n(o.readTime):_e.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sf(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=wf(l)?{documents:Ix(i,l)}:{query:bx(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JT(i,o.resumeToken);const u=If(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=gl(i,o.snapshotVersion.toTimestamp());const u=If(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=Sx(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sf(this.serializer),n.removeTarget=e,this.q_(n)}}class gL extends cI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Tx(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ex(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{}class yL extends mL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,bf(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,bf(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _L{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class vL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Us(this)&&(re(Ms,"Restarting streams for network reachability change."),await(async function(l){const u=ve(l);u.Ea.add(4),await ba(u),u.Ra.set("Unknown"),u.Ea.delete(4),await nu(u)})(this))}))})),this.Ra=new _L(r,s)}}async function nu(t){if(Us(t))for(const e of t.da)await e(!0)}async function ba(t){for(const e of t.da)await e(!1)}function lI(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ep(n)?Zd(n):Gi(n).O_()&&Xd(n,e))}function Yd(t,e){const n=ve(t),r=Gi(n);n.Ia.delete(e),r.O_()&&uI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Us(n)&&n.Ra.set("Unknown"))}function Xd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gi(t).Y_(e)}function uI(t,e){t.Va.Ue(e),Gi(t).Z_(e)}function Zd(t){t.Va=new dx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gi(t).start(),t.Ra.ua()}function ep(t){return Us(t)&&!Gi(t).x_()&&t.Ia.size>0}function Us(t){return ve(t).Ea.size===0}function hI(t){t.Va=void 0}async function wL(t){t.Ra.set("Online")}async function EL(t){t.Ia.forEach(((e,n)=>{Xd(t,e)}))}async function TL(t,e){hI(t),ep(t)?(t.Ra.ha(e),Zd(t)):t.Ra.set("Unknown")}async function IL(t,e,n){if(t.Ra.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){re(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yl(t,r)}else if(e instanceof Ac?t.Va.Ze(e):e instanceof GT?t.Va.st(e):t.Va.tt(e),!n.isEqual(_e.min()))try{const r=await oI(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),uI(i,l);const f=new $r(h.target,l,u,h.sequenceNumber);Xd(i,f)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){re(Ms,"Failed to raise snapshot:",r),await yl(t,r)}}async function yl(t,e,n){if(!Ki(e))throw e;t.Ea.add(1),await ba(t),t.Ra.set("Offline"),n||(n=()=>oI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{re(Ms,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nu(t)}))}function fI(t,e){return e().catch((n=>yl(t,n,e)))}async function ru(t){const e=ve(t),n=es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vd;for(;bL(e);)try{const s=await iL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,AL(e,s)}catch(s){await yl(e,s)}dI(e)&&pI(e)}function bL(t){return Us(t)&&t.Ta.length<10}function AL(t,e){t.Ta.push(e);const n=es(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dI(t){return Us(t)&&!es(t).x_()&&t.Ta.length>0}function pI(t){es(t).start()}async function SL(t){es(t).ra()}async function RL(t){const e=es(t);for(const n of t.Ta)e.ea(n.mutations)}async function CL(t,e,n){const r=t.Ta.shift(),s=qd.from(r,e,n);await fI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await ru(t)}async function PL(t,e){e&&es(t).X_&&await(async function(r,s){if((function(o){return ux(o)&&o!==B.ABORTED})(s.code)){const i=r.Ta.shift();es(r).B_(),await fI(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await ru(r)}})(t,e),dI(t)&&pI(t)}async function r_(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),re(Ms,"RemoteStore received new credentials");const r=Us(n);n.Ea.add(3),await ba(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nu(n)}async function kL(t,e){const n=ve(t);e?(n.Ea.delete(2),await nu(n)):e||(n.Ea.add(2),await ba(n),n.Ra.set("Unknown"))}function Gi(t){return t.ma||(t.ma=(function(n,r,s){const i=ve(n);return i.sa(),new pL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:wL.bind(null,t),t_:EL.bind(null,t),r_:TL.bind(null,t),H_:IL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ep(t)?Zd(t):t.Ra.set("Unknown")):(await t.ma.stop(),hI(t))}))),t.ma}function es(t){return t.fa||(t.fa=(function(n,r,s){const i=ve(n);return i.sa(),new gL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SL.bind(null,t),r_:PL.bind(null,t),ta:RL.bind(null,t),na:CL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ru(t)):(await t.fa.stop(),t.Ta.length>0&&(re(Ms,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new tp(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(t,e){if(_r("AsyncQueue",`${e}: ${t}`),Ki(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{static emptySet(e){return new _i(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Eo(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.ga=new Xe(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new xi(e,n,_i.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DL{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=i_(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new ne(B.ABORTED,"Firestore shutting down"))}}function i_(){return new Fs((t=>xT(t)),Jl)}async function NL(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new OL,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=np(o,`Initialization of query '${ni(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&rp(n)}async function ML(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xL(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&rp(n)}function LL(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function rp(t){t.Ca.forEach((e=>{e.next()}))}var Pf,o_;(o_=Pf||(Pf={})).Ma="default",o_.Cache="cache";class VL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.key=e}}class mI{constructor(e){this.key=e}}class FL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=LT(e),this.tu=new _i(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new s_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,f)=>{const p=s.get(h),g=Yl(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?y!==E&&(r.track({type:3,doc:g}),S=!0):this.su(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,f)=>(function(g,y){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:S})}};return E(g)-E(y)})(h.type,f.type)||this.eu(h.doc,f.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new xi(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new mI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new gI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class UL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $L{constructor(e){this.key=e,this.hu=!1}}class BL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fs((a=>xT(a)),Jl),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(ue.comparator),this.Au=new Map,this.Ru=new Kd,this.Vu={},this.mu=new Map,this.fu=Mi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jL(t,e,n=!0){const r=TI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await yI(r,e,n,!0),s}async function HL(t,e){const n=TI(t);await yI(n,e,!0,!1)}async function yI(t,e,n,r){const s=await oL(t.localStore,Un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await qL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lI(t.remoteStore,s),a}async function qL(t,e,n,r,s){t.pu=(f,p,g)=>(async function(E,S,M,O){let v=S.view.ru(M);v.Cs&&(v=await Xy(E.localStore,S.query,!1).then((({documents:A})=>S.view.ru(A,v))));const P=O&&O.targetChanges.get(S.targetId),D=O&&O.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(v,E.isPrimaryClient,P,D);return c_(E,S.targetId,L.au),L.snapshot})(t,f,p,g);const i=await Xy(t.localStore,e,!0),o=new FL(e,i.Qs),a=o.ru(i.documents),l=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);c_(t,n,u.au);const h=new UL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function zL(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Jl(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rf(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yd(r.remoteStore,s.targetId),kf(r,s.targetId)})).catch(Wi)):(kf(r,s.targetId),await Rf(r.localStore,s.targetId,!0))}async function WL(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yd(n.remoteStore,r.targetId))}async function KL(t,e,n){const r=eV(t);try{const s=await(function(o,a){const l=ve(o),u=xe.now(),h=a.reduce(((g,y)=>g.add(y.key)),be());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let y=wr(),E=be();return l.Ns.getEntries(g,h).next((S=>{y=S,y.forEach(((M,O)=>{O.isValidDocument()||(E=E.add(M))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,y))).next((S=>{f=S;const M=[];for(const O of a){const v=ix(O,f.get(O.key).overlayedDocument);v!=null&&M.push(new os(O.key,v,ST(v.value.mapValue),gn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,M,a)})).next((S=>{p=S;const M=S.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,S.batchId,M)}))})).then((()=>({batchId:p.batchId,changes:FT(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Xe(Ie)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Aa(r,s.changes),await ru(r.remoteStore)}catch(s){const i=np(s,"Failed to persist write");n.reject(i)}}async function _I(t,e){const n=ve(t);try{const r=await rL(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))})),await Aa(n,r,e)}catch(r){await Wi(r)}}function a_(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach(((h,f)=>{for(const p of f.Sa)p.va(a)&&(u=!0)})),u&&rp(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GL(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Xe(ue.comparator);o=o.insert(i,Lt.newNoDocument(i,_e.min()));const a=be().add(i),l=new eu(_e.min(),new Map,new Xe(Ie),o,a);await _I(r,l),r.du=r.du.remove(i),r.Au.delete(e),ip(r)}else await Rf(r.localStore,e,!1).then((()=>kf(r,e,n))).catch(Wi)}async function QL(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await nL(n.localStore,e);wI(n,r,null),vI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(n,s)}catch(s){await Wi(s)}}async function JL(t,e,n){const r=ve(t);try{const s=await(function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next((f=>(Le(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);wI(r,e,n),vI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Aa(r,s)}catch(s){await Wi(s)}}function vI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wI(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function kf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||EI(t,r)}))}function EI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ip(t))}function c_(t,e,n){for(const r of n)r instanceof gI?(t.Ru.addReference(r.key,e),YL(t,r)):r instanceof mI?(re(sp,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||EI(t,r.key)):de(19791,{wu:r})}function YL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(sp,"New document in limbo: "+n),t.Eu.add(r),ip(t))}function ip(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new $L(n)),t.du=t.du.insert(n,r),lI(t.remoteStore,new $r(Un(NT(n.path)),r,"TargetPurposeLimboResolution",Kl.ce))}}async function Aa(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Qd.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>j.forEach(u,(p=>j.forEach(p.Es,(g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g))).next((()=>j.forEach(p.ds,(g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))))))}catch(f){if(!Ki(f))throw f;re(Jd,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.Ms.get(p),y=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(y);h.Ms=h.Ms.insert(p,E)}}})(r.localStore,i))}async function XL(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){re(sp,"User change. New user:",e.toKey());const r=await iI(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new ne(B.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Aa(n,r.Ls)}}function ZL(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function TI(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GL.bind(null,e),e.Pu.H_=xL.bind(null,e.eventManager),e.Pu.yu=LL.bind(null,e.eventManager),e}function eV(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JL.bind(null,e),e}class _l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tL(this.persistence,new Xx,e.initialUser,this.serializer)}Cu(e){return new sI(Gd.mi,this.serializer)}Du(e){return new cL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_l.provider={build:()=>new _l};class tV extends _l{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof ml,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new sI((r=>ml.mi(r,n)),this.serializer)}}class Of{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,this.syncEngine),await kL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DL})()}createDatastore(e){const n=tu(e.databaseInfo.databaseId),r=(function(i){return new dL(i)})(e.databaseInfo);return(function(i,o,a,l){return new yL(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new vL(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>a_(this.syncEngine,n,0)),(function(){return t_.v()?new t_:new lL})())}createSyncEngine(e,n){return(function(s,i,o,a,l,u,h){const f=new BL(s,i,o,a,l,u);return h&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ve(n);re(Ms,"RemoteStore shutting down."),r.Ea.add(5),await ba(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Of.provider={build:()=>new Of};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class rV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{re(ts,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(re(ts,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=np(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fh(t,e){t.asyncQueue.verifyOperationInProgress(),re(ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await iI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function l_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sV(t);re(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>r_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>r_(e.remoteStore,s))),t._onlineComponents=e}async function sV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(ts,"Using user provided OfflineComponentProvider");try{await fh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ki("Error using user provided cache. Falling back to memory cache: "+n),await fh(t,new _l)}}else re(ts,"Using default OfflineComponentProvider"),await fh(t,new tV(void 0));return t._offlineComponents}async function II(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(ts,"Using user provided OnlineComponentProvider"),await l_(t,t._uninitializedComponentsProvider._online)):(re(ts,"Using default OnlineComponentProvider"),await l_(t,new Of))),t._onlineComponents}function iV(t){return II(t).then((e=>e.syncEngine))}async function oV(t){const e=await II(t),n=e.eventManager;return n.onListen=jL.bind(null,e.syncEngine),n.onUnlisten=zL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WL.bind(null,e.syncEngine),n}function aV(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const h=new nV({next:p=>{h.Nu(),o.enqueueAndForget((()=>ML(i,f))),p.fromCache&&l.source==="server"?u.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new VL(a,h,{includeMetadataChanges:!0,qa:!0});return NL(i,f)})(await oV(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AI,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xx)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new dM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=u_.get(n);r&&(re("ComponentProvider","Removing Datastore"),u_.delete(n),r.terminate())})(this),Promise.resolve()}}function cV(t,e,n,r={}){t=vr(t,su);const s=ji(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(TE(`https://${a}`),IE("Firestore",!0)),i.host!==AI&&i.host!==a&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Qr(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Nt.MOCK_USER;else{u=Nk(r.mockUserToken,t._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nt(f)}t._authCredentials=new uM(new pT(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wa(n,at._jsonSchema))return new at(e,r||null,new ue(qe.fromString(n.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:ot("string",at._jsonSchemaVersion),referencePath:ot("string")};class Kr extends Qi{constructor(e,n,r){super(e,n,NT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new ue(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function lV(t,e,...n){if(t=Ye(t),gT("collection","path",e),t instanceof su){const r=qe.fromString(e,...n);return Ay(r),new Kr(t,null,r)}{if(!(t instanceof at||t instanceof Kr))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return Ay(r),new Kr(t.firestore,null,r)}}function SI(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=Ld.newId()),gT("doc","path",e),t instanceof su){const r=qe.fromString(e,...n);return by(r),new at(t,null,new ue(r))}{if(!(t instanceof at||t instanceof Kr))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return by(r),new at(t.firestore,t instanceof Kr?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class p_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aI(this,"async_queue_retry"),this._c=()=>{const r=hh();r&&re(d_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ki(e))throw e;re(d_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",g_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=tp.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ji extends su{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new p_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function uV(t,e){const n=typeof t=="object"?t:ma(),r=typeof t=="string"?t:ll,s=ss(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Ok("firestore");i&&cV(s,...i)}return s}function RI(t){if(t._terminated)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hV(t),t._firestoreClient}function hV(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new kM(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,bI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fn(At.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fn(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wa(e,fn._jsonSchema))return fn.fromBase64String(e.bytes)}}fn._jsonSchemaVersion="firestore/bytes/1.0",fn._jsonSchema={type:ot("string",fn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bn._jsonSchemaVersion}}static fromJSON(e){if(wa(e,Bn._jsonSchema))return new Bn(e.latitude,e.longitude)}}Bn._jsonSchemaVersion="firestore/geoPoint/1.0",Bn._jsonSchema={type:ot("string",Bn._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wa(e,jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new jn(e.vectorValues);throw new ne(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jn._jsonSchemaVersion="firestore/vectorValue/1.0",jn._jsonSchema={type:ot("string",jn._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=/^__.*__$/;class dV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}class CI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class ap{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PI(this.Ac)&&fV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tu(e)}Cc(e,n,r,s=!1){return new ap({Ac:e,methodName:n,Dc:r,path:bt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(t){const e=t._freezeSettings(),n=tu(t._databaseId);return new pV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);cp("Data must be an object, but it was:",o,r);const a=OI(r,o);let l,u;if(i.merge)l=new tn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Df(e,f,n);if(!o.contains(p))throw new ne(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NI(h,p)||h.push(p)}l=new tn(h),u=o.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,u=o.fieldTransforms;return new dV(new Kt(a),l,u)}class au extends op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof au}}function gV(t,e,n,r){const s=t.Cc(1,e,n);cp("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();is(r,((l,u)=>{const h=lp(e,l,n);u=Ye(u);const f=s.yc(h);if(u instanceof au)i.push(h);else{const p=Sa(u,f);p!=null&&(i.push(h),o.set(h,p))}}));const a=new tn(i);return new CI(o,a,s.fieldTransforms)}function mV(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Df(e,r,n)],l=[s];if(i.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Df(e,i[p])),l.push(i[p+1]);const u=[],h=Kt.empty();for(let p=a.length-1;p>=0;--p)if(!NI(u,a[p])){const g=a[p];let y=l[p];y=Ye(y);const E=o.yc(g);if(y instanceof au)u.push(g);else{const S=Sa(y,E);S!=null&&(u.push(g),h.set(g,S))}}const f=new tn(u);return new CI(h,f,o.fieldTransforms)}function yV(t,e,n,r=!1){return Sa(n,t.Cc(r?4:3,e))}function Sa(t,e){if(DI(t=Ye(t)))return cp("Unsupported field value:",e,t),OI(t,e);if(t instanceof op)return(function(r,s){if(!PI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=Sa(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xe.fromDate(r);return{timestampValue:gl(s.serializer,i)}}if(r instanceof xe){const i=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gl(s.serializer,i)}}if(r instanceof Bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fn)return{bytesValue:JT(s.serializer,r._byteString)};if(r instanceof at){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wd(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jn)return(function(o,a){return{mapValue:{fields:{[bT]:{stringValue:AT},[ul]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return jd(a.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Wl(r)}`)})(t,e)}function OI(t,e){const n={};return _T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,((r,s)=>{const i=Sa(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function DI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Bn||t instanceof fn||t instanceof at||t instanceof op||t instanceof jn)}function cp(t,e,n){if(!DI(n)||!mT(n)){const r=Wl(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Df(t,e,n){if((e=Ye(e))instanceof iu)return e._internalPath;if(typeof e=="string")return lp(t,e);throw vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const _V=new RegExp("[~\\*/\\[\\]]");function lp(t,e,n){if(e.search(_V)>=0)throw vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iu(...e.split("."))._internalPath}catch{throw vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(B.INVALID_ARGUMENT,a+t+l)}function NI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(up("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vV extends MI{data(){return super.data()}}function up(t,e){return typeof e=="string"?lp(t,e):e instanceof iu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class EV extends hp{}function CU(t,e,...n){let r=[];e instanceof hp&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof fp)).length,a=i.filter((l=>l instanceof cu)).length;if(o>1||o>0&&a>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class cu extends EV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cu(e,n,r)}_apply(e){const n=this._parse(e);return xI(e._query,n),new Qi(e.firestore,e.converter,Ef(e._query,n))}_parse(e){const n=ou(e.firestore);return(function(i,o,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){y_(f,h);const y=[];for(const E of f)y.push(m_(l,i,E));p={arrayValue:{values:y}}}else p=m_(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||y_(f,h),p=yV(a,o,f,h==="in"||h==="not-in");return it.create(u,h,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PU(t,e,n){const r=e,s=up("where",t);return cu._create(s,r,n)}class fp extends hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)xI(o,l),o=Ef(o,l)})(e._query,n),new Qi(e.firestore,e.converter,Ef(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function m_(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ue.isDocumentKey(r))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ny(t,new ue(r))}if(n instanceof at)return Ny(t,n._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(n)}.`)}function y_(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xI(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TV{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[ul].arrayValue?.values?.map((r=>nt(r.doubleValue)));return new jn(n)}convertGeoPoint(e){return new Bn(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ql(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Le(nI(r),9688,{name:e});const s=new ta(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||_r(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vi extends MI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(up("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",vi._jsonSchema={type:ot("string",vi._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class Sc extends vi{data(e={}){return super.data(e)}}class wi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:IV(a.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}wi._jsonSchemaVersion="firestore/querySnapshot/1.0",wi._jsonSchema={type:ot("string",wi._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class bV extends TV{constructor(e){super(),this.firestore=e}convertBytes(e){return new fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function kU(t){t=vr(t,Qi);const e=vr(t.firestore,Ji),n=RI(e),r=new bV(e);return wV(t._query),aV(n,t._query).then((s=>new wi(e,r,t,s)))}function AV(t,e,n){t=vr(t,at);const r=vr(t.firestore,Ji),s=LI(t.converter,e,n);return lu(r,[kI(ou(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gn.none())])}function OU(t,e,n,...r){t=vr(t,at);const s=vr(t.firestore,Ji),i=ou(s);let o;return o=typeof(e=Ye(e))=="string"||e instanceof iu?mV(i,"updateDoc",t._key,e,n,r):gV(i,"updateDoc",t._key,e),lu(s,[o.toMutation(t._key,gn.exists(!0))])}function DU(t){return lu(vr(t.firestore,Ji),[new Hd(t._key,gn.none())])}function NU(t,e){const n=vr(t.firestore,Ji),r=SI(t),s=LI(t.converter,e);return lu(n,[kI(ou(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then((()=>r))}function lu(t,e){return(function(r,s){const i=new Wr;return r.asyncQueue.enqueueAndForget((async()=>KL(await iV(r),s,i))),i.promise})(RI(t),e)}(function(e,n=!0){(function(s){zi=s})(Hi),yn(new on("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ji(new hM(r.getProvider("auth-internal")),new pM(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Qt(wy,Ey,e),Qt(wy,Ey,"esm2020")})();const VI="@firebase/installations",dp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1e4,UI=`w:${dp}`,$I="FIS_v2",SV="https://firebaseinstallations.googleapis.com/v1",RV=3600*1e3,CV="installations",PV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xs=new rs(CV,PV,kV);function BI(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI({projectId:t}){return`${SV}/projects/${t}/installations`}function HI(t){return{token:t.token,requestStatus:2,expiresIn:DV(t.expiresIn),creationTime:Date.now()}}async function qI(t,e){const r=(await e.json()).error;return xs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OV(t,{refreshToken:e}){const n=zI(t);return n.append("Authorization",NV(e)),n}async function WI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DV(t){return Number(t.replace("s","000"))}function NV(t){return`${$I} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=jI(t),s=zI(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:$I,appId:t.appId,sdkVersion:UI},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WI(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:HI(u.authToken)}}else throw await qI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=/^[cdef][\w-]{21}$/,Nf="";function VV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=FV(t);return LV.test(n)?n:Nf}catch{return Nf}}function FV(t){return xV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function QI(t,e){const n=uu(t);JI(n,e),UV(n,e)}function JI(t,e){const n=GI.get(t);if(n)for(const r of n)r(e)}function UV(t,e){const n=$V();n&&n.postMessage({key:t,fid:e}),BV()}let bs=null;function $V(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=t=>{JI(t.data.key,t.data.fid)}),bs}function BV(){GI.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="firebase-installations-database",HV=1,Ls="firebase-installations-store";let dh=null;function pp(){return dh||(dh=jl(jV,HV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ls)}}})),dh}async function wl(t,e){const n=uu(t),s=(await pp()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&QI(t,e.fid),e}async function YI(t){const e=uu(t),r=(await pp()).transaction(Ls,"readwrite");await r.objectStore(Ls).delete(e),await r.done}async function hu(t,e){const n=uu(t),s=(await pp()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&QI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){let e;const n=await hu(t.appConfig,r=>{const s=qV(r),i=zV(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Nf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qV(t){const e=t||{fid:VV(),registrationStatus:0};return XI(e)}function zV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=WV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KV(t)}:{installationEntry:e}}async function WV(t,e){try{const n=await MV(t,e);return wl(t.appConfig,n)}catch(n){throw BI(n)&&n.customData.serverCode===409?await YI(t.appConfig):await wl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function KV(t){let e=await __(t.appConfig);for(;e.registrationStatus===1;)await KI(100),e=await __(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gp(t);return r||n}return e}function __(t){return hu(t,e=>{if(!e)throw xs.create("installation-not-found");return XI(e)})}function XI(t){return GV(t)?{fid:t.fid,registrationStatus:0}:t}function GV(t){return t.registrationStatus===1&&t.registrationTime+FI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV({appConfig:t,heartbeatServiceProvider:e},n){const r=JV(t,n),s=OV(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:UI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WI(()=>fetch(r,a));if(l.ok){const u=await l.json();return HI(u)}else throw await qI("Generate Auth Token",l)}function JV(t,{fid:e}){return`${jI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e=!1){let n;const r=await hu(t.appConfig,i=>{if(!ZI(i))throw xs.create("not-registered");const o=i.authToken;if(!e&&ZV(o))return i;if(o.requestStatus===1)return n=YV(t,e),i;{if(!navigator.onLine)throw xs.create("app-offline");const a=t2(i);return n=XV(t,a),a}});return n?await n:r.authToken}async function YV(t,e){let n=await v_(t.appConfig);for(;n.authToken.requestStatus===1;)await KI(100),n=await v_(t.appConfig);const r=n.authToken;return r.requestStatus===0?mp(t,e):r}function v_(t){return hu(t,e=>{if(!ZI(e))throw xs.create("not-registered");const n=e.authToken;return n2(n)?{...e,authToken:{requestStatus:0}}:e})}async function XV(t,e){try{const n=await QV(t,e),r={...e,authToken:n};return await wl(t.appConfig,r),n}catch(n){if(BI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await wl(t.appConfig,r)}throw n}}function ZI(t){return t!==void 0&&t.registrationStatus===2}function ZV(t){return t.requestStatus===2&&!e2(t)}function e2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RV}function t2(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function n2(t){return t.requestStatus===1&&t.requestTime+FI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t){const e=t,{installationEntry:n,registrationPromise:r}=await gp(e);return r?r.catch(console.error):mp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e=!1){const n=t;return await i2(n),(await mp(n,e)).token}async function i2(t){const{registrationPromise:e}=await gp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){if(!t||!t.options)throw ph("App Configuration");if(!t.name)throw ph("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ph(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ph(t){return xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="installations",a2="installations-internal",c2=t=>{const e=t.getProvider("app").getImmediate(),n=o2(e),r=ss(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},l2=t=>{const e=t.getProvider("app").getImmediate(),n=ss(e,eb).getImmediate();return{getId:()=>r2(n),getToken:s=>s2(n,s)}};function u2(){yn(new on(eb,c2,"PUBLIC")),yn(new on(a2,l2,"PRIVATE"))}u2();Qt(VI,dp);Qt(VI,dp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="/firebase-messaging-sw.js",f2="/firebase-cloud-messaging-push-scope",tb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d2="https://fcmregistrations.googleapis.com/v1",nb="google.c.a.c_id",p2="google.c.a.c_l",g2="google.c.a.ts",m2="google.c.a.e",w_=1e4;var E_;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(E_||(E_={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ia;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ia||(ia={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y2(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="fcm_token_details_db",_2=5,T_="fcm_token_object_Store";async function v2(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(gh))return null;let e=null;return(await jl(gh,_2,{upgrade:async(r,s,i,o)=>{if(s<2||!r.objectStoreNames.contains(T_))return;const a=o.objectStore(T_),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(s===2){const u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:tr(u.vapidKey)}}}else if(s===3){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tr(u.auth),p256dh:tr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tr(u.vapidKey)}}}else if(s===4){const u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:tr(u.auth),p256dh:tr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:tr(u.vapidKey)}}}}}})).close(),await rh(gh),await rh("fcm_vapid_details_db"),await rh("undefined"),w2(e)?e:null}function w2(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebase-messaging-database",T2=1,oa="firebase-messaging-store";let mh=null;function rb(){return mh||(mh=jl(E2,T2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}})),mh}async function I2(t){const e=sb(t),r=await(await rb()).transaction(oa).objectStore(oa).get(e);if(r)return r;{const s=await v2(t.appConfig.senderId);if(s)return await yp(t,s),s}}async function yp(t,e){const n=sb(t),s=(await rb()).transaction(oa,"readwrite");return await s.objectStore(oa).put(e,n),await s.done,e}function sb({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Vt=new rs("messaging","Messaging",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e){const n=await vp(t),r=ib(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(_p(t.appConfig),s)).json()}catch(o){throw Vt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Vt.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Vt.create("token-subscribe-no-token");return i.token}async function S2(t,e){const n=await vp(t),r=ib(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${_p(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Vt.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Vt.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Vt.create("token-update-no-token");return i.token}async function R2(t,e){const r={method:"DELETE",headers:await vp(t)};try{const i=await(await fetch(`${_p(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw Vt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Vt.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function _p({projectId:t}){return`${d2}/projects/${t}/registrations`}async function vp({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ib({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==tb&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=10080*60*1e3;async function P2(t){const e=await O2(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:tr(e.getKey("auth")),p256dh:tr(e.getKey("p256dh"))},r=await I2(t.firebaseDependencies);if(r){if(D2(r.subscriptionOptions,n))return Date.now()>=r.createTime+C2?k2(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await R2(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return I_(t.firebaseDependencies,n)}else return I_(t.firebaseDependencies,n)}async function k2(t,e){try{const n=await S2(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await yp(t.firebaseDependencies,r),n}catch(n){throw n}}async function I_(t,e){const r={token:await A2(t,e),createTime:Date.now(),subscriptionOptions:e};return await yp(t,r),r.token}async function O2(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y2(e)})}function D2(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return N2(e,t),M2(e,t),x2(e,t),e}function N2(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function M2(t,e){e.data&&(t.data=e.data)}function x2(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){return typeof t=="object"&&!!t&&nb in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){if(!t||!t.options)throw yh("App Configuration Object");if(!t.name)throw yh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw yh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function yh(t){return Vt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=V2(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t){try{t.swRegistration=await navigator.serviceWorker.register(h2,{scope:f2}),t.swRegistration.update().catch(()=>{}),await $2(t.swRegistration)}catch(e){throw Vt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function $2(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${w_} ms`)),w_),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e){if(!e&&!t.swRegistration&&await U2(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Vt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=tb)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(t,e){if(!navigator)throw Vt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Vt.create("permission-blocked");return await j2(t,e?.vapidKey),await B2(t,e?.serviceWorkerRegistration),P2(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(t,e,n){const r=q2(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[nb],message_name:n[p2],message_time:n[g2],message_device_time:Math.floor(Date.now()/1e3)})}function q2(t){switch(t){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ia.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(b_(n)):t.onMessageHandler.next(b_(n)));const r=n.data;L2(r)&&r[m2]==="1"&&await H2(t,n.messageType,r)}const A_="@firebase/messaging",S_="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=t=>{const e=new F2(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>z2(e,n)),e},K2=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>ob(e,r)}};function G2(){yn(new on("messaging",W2,"PUBLIC")),yn(new on("messaging-internal",K2,"PRIVATE")),Qt(A_,S_),Qt(A_,S_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(){try{await Id()}catch{return!1}return typeof window<"u"&&Td()&&AE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){if(!navigator)throw Vt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t=ma()){return Q2().then(e=>{if(!e)throw Vt.create("unsupported-browser")},e=>{throw Vt.create("indexed-db-unsupported")}),ss(Ye(t),"messaging").getImmediate()}async function X2(t,e){return t=Ye(t),ob(t,e)}function Z2(t,e){return t=Ye(t),J2(t,e)}G2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="analytics",e4="firebase_id",t4="origin",n4=60*1e3,r4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new Bl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rn=new rs("analytics","Analytics",s4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){if(!t.startsWith(wp)){const e=rn.create("invalid-gtag-resource",{gtagURL:t});return Jt.warn(e.message),""}return t}function ab(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function o4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function a4(t,e){const n=o4("firebase-js-sdk-policy",{createScriptURL:i4}),r=document.createElement("script"),s=`${wp}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function c4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function l4(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await ab(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Jt.error(a)}t("config",s,i)}async function u4(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await ab(n);for(const l of o){const u=a.find(f=>f.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Jt.error(i)}}function h4(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await u4(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await l4(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Jt.error(a)}}return s}function f4(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=h4(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function d4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=30,g4=1e3;class m4{constructor(e={},n=g4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cb=new m4;function y4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _4(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:y4(n)},s=r4.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();a.error?.message&&(o=a.error.message)}catch{}throw rn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function v4(t,e=cb,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw rn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new T4;return setTimeout(async()=>{a.abort()},n4),lb({appId:r,apiKey:s,measurementId:i},o,a,e)}async function lb(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=cb){const{appId:i,measurementId:o}=t;try{await w4(r,e)}catch(a){if(o)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:i,measurementId:o};throw a}try{const a=await _4(t);return s.deleteThrottleMetadata(i),a}catch(a){const l=a;if(!E4(l)){if(s.deleteThrottleMetadata(i),o)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw a}const u=Number(l?.customData?.httpStatus)===503?Km(n,s.intervalMillis,p4):Km(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(i,h),Jt.debug(`Calling attemptFetch again in ${u} millis`),lb(t,h,r,s)}}function w4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E4(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class T4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I4(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(){if(Td())try{await Id()}catch(t){return Jt.warn(rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Jt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A4(t,e,n,r,s,i,o){const a=v4(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Jt.error(p)),e.push(a);const l=b4().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([a,l]);d4(i)||a4(i,u.measurementId),s("js",new Date);const f=o?.config??{};return f[t4]="firebase",f.update=!0,h!=null&&(f[e4]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.app=e}_delete(){return delete Fo[this.app.options.appId],Promise.resolve()}}let Fo={},R_=[];const C_={};let _h="dataLayer",R4="gtag",P_,ub,k_=!1;function C4(){const t=[];if(bE()&&t.push("This is a browser extension environment."),AE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});Jt.warn(n.message)}}function P4(t,e,n){C4();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rn.create("no-api-key");if(Fo[r]!=null)throw rn.create("already-exists",{id:r});if(!k_){c4(_h);const{wrappedGtag:i,gtagCore:o}=f4(Fo,R_,C_,_h,R4);ub=i,P_=o,k_=!0}return Fo[r]=A4(t,R_,C_,e,P_,_h,n),new S4(t)}function k4(t=ma()){t=Ye(t);const e=ss(t,El);return e.isInitialized()?e.getImmediate():O4(t)}function O4(t,e={}){const n=ss(t,El);if(n.isInitialized()){const s=n.getImmediate();if(Qr(e,n.getOptions()))return s;throw rn.create("already-initialized")}return n.initialize({options:e})}function D4(t,e,n,r){t=Ye(t),I4(ub,Fo[t.app.options.appId],e,n,r).catch(s=>Jt.error(s))}const O_="@firebase/analytics",D_="0.10.18";function N4(){yn(new on(El,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return P4(r,s,n)},"PUBLIC")),yn(new on("analytics-internal",t,"PRIVATE")),Qt(O_,D_),Qt(O_,D_,"esm2020");function t(e){try{const n=e.getProvider(El).getImmediate();return{logEvent:(r,s,i)=>D4(n,r,s,i)}}catch(n){throw rn.create("interop-component-reg-failed",{reason:n})}}}N4();const hb=pa("settingsApp",{state:()=>({theme:"light",language:"pt-BR",user:null,location:{city:null,state:null,lat:null,log:null,confirmed:!1},notifications:{status:"loading",fcmToken:null},install:{canInstall:!1,deferredPrompt:null}}),getters:{pendingConfigsCount(t){let e=0;return t.notifications.status!=="granted"&&e++,t.install.canInstall&&e++,t.user===null&&e++,e}},actions:{async init(){"Notification"in window&&navigator.permissions&&navigator.permissions.query&&(this.notifications.status=Notification.permission,navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{console.log("[settings.js] Permisso de notificao alterada:",t.state),this.notifications.status=t.state}})),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.install.deferredPrompt=t,this.install.canInstall=!0})},userChanged(t){this.user=t},sendMessage(t){console.log("[Settings Messaging] Mensagem recebida:",t),t.notification&&"Notification"in window&&Notification.permission==="granted"&&new Notification(t.notification.title,{body:t.notification.body,icon:t.notification.icon||"/favicon.ico"})}},persist:{key:"settings-app",storage:localStorage,paths:["location","language","theme","user"]}}),M4=St(async()=>{let t,e;const n={apiKey:"AIzaSyDjh-kSamZSSOA1pEwMuCB1HZxiZBgCaVE",authDomain:"agenda-408113.firebaseapp.com",projectId:"agenda-408113",storageBucket:"agenda-408113.appspot.com",messagingSenderId:"865568496873",appId:"1:865568496873:web:66e24b202af5ba7f1b6478",measurementId:"G-KDP8RZ0Z19"},r="BJt_lJHggy9DmtbU64-umpjs4jgfSZgBG21yBlXHM_rh-71-SAT27MuiWFwuNTivWIwQAHzo-CTYL3xBaCi01Rc",s=hf(n),i=hb(),o=aM(s),a=Ke(null);let l=null;try{[t,e]=pn(()=>GD(o,YE)),await t,e(),console.log("Persistncia de sesso configurada para browserLocalPersistence.")}catch(y){console.error("Erro ao configurar a persistncia de sesso:",y)}const u=uV(s),h=lV(u,"events"),f=async y=>{try{const E=SI(u,"users",y.uid);await AV(E,y,{merge:!0}),console.log("Perfil do usurio atualizado com sucesso no Firestore.")}catch(E){console.error("Erro ao atualizar perfil do usurio no Firestore:",E)}};YD(o,async y=>{if(y){a.value=y;const E={uid:y.uid,displayName:y.displayName,email:y.email,photoURL:y.photoURL,lastLogin:xe.now(),emailVerified:y.emailVerified||!1,createdAt:y.metadata?.creationTime?xe.fromDate(new Date(y.metadata.creationTime)):xe.now(),lastLoginAt:y.metadata?.lastSignInTime?xe.fromDate(new Date(y.metadata.lastSignInTime)):xe.now(),phoneNumber:y.phoneNumber||null,...i.location};i.userChanged(E),f(E)}});const p=async()=>{try{return await mN(o,new sr),window.location.reload(),!0}catch(y){console.error("Erro ao fazer login com Google:",y)}},g=async()=>{try{return await o.signOut(),console.warn("Usurio desconectado:",i.user.uid),i.user.uid=null,i.userChanged(a.value),!0}catch(y){console.error("Erro durante o logout:",y)}};if("Notification"in window&&"serviceWorker"in navigator&&Notification.permission==="granted")try{const y=([t,e]=pn(()=>navigator.serviceWorker.getRegistration()),t=await t,e(),t);if(!y){console.warn("[Firebase Messaging] Nenhum Service Worker registrado.");return}const E=JO().length?ma():hf(n);l=Y2(E),k4(E),i.notifications.fcmToken=([t,e]=pn(()=>X2(l,{vapidKey:r,serviceWorkerRegistration:y})),t=await t,e(),t),Z2(l,i.sendMessage)}catch(y){console.error("[Firebase Messaging] Erro ao inicializar:",y)}else console.log("[Firebase Messaging] Ambiente ou permisso inadequada!");return{provide:{session:{firebaseAuth:o,firebaseDb:u,eventsCollection:h,currentUser:a,loginWithGoogle:p,logoutWithGoogle:g},notifications:{fcmToken:i.notifications.fcmToken,messaging:l}}}});function N_(t,e="operao"){if(t?.error){console.error(`Erro ao ${e}:`,t.error);const n=t.error.code;throw n===401?(console.error("Token invlido ou expirado."),new Error("Token invlido ou expirado.")):n===403?(console.error("Acesso negado ao calendrio."),new Error("Acesso negado ao calendrio.")):n===404?(console.error("Calendrio no encontrado."),new Error("Calendrio no encontrado.")):n===500?(console.error("Erro interno do servidor."),new Error("Erro interno do servidor.")):new Error(t.error.message)}}function x4(){const t=new Date,e=new Date;return e.setDate(t.getDate()+70),{today:t.toISOString().split("T")[0],future:e.toISOString().split("T")[0]}}function M_(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())}function L4(t){return t.startsWith("start")||t.startsWith("end")||t.startsWith("calendarIDs")}function Js(t){return(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function V4(t,e){let n=Array.isArray(t)?t:[];const{search:r,title:s,locale:i,date:o}=e;if(r){const a=Js(r),l=new RegExp(a,"gi");n=n.filter(u=>{const h=`${u.summary||""} ${u.location||""} ${u.description||""}`,f=Js(h);return l.test(f)||a.split(" ").every(p=>new RegExp(`\\b${p}`,"i").test(f))})}if(s){const a=Js(s),l=new RegExp(a,"gi");n=n.filter(u=>{const h=`${u.summary||""}`,f=Js(h);return l.test(f)||a.split(" ").every(p=>new RegExp(`\\b${p}`,"i").test(f))})}if(i){const a=Js(i),l=new RegExp(a,"gi");n=n.filter(u=>{const h=`${u.location||""}`,f=Js(h);return l.test(f)||a.split(" ").every(p=>new RegExp(`\\b${p}`,"i").test(f))})}return o&&(n=n.filter(a=>{const l=a.start?.date||(a.start?.dateTime?a.start.dateTime.split("T")[0]:void 0);return o.startsWith(l)})),n??[]}function F4(t){try{const e=["br","p","b","strong","i","em"];let n=t.replace(/[\n\r]/g,"<br />");return n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(r,s)=>e.includes(s.toLowerCase())?r:""),n=n.replace(/<([a-z][a-z0-9]*)\b[^>]*>/gi,"<$1>"),n=n.replace(/&nbsp;/g," "),n=n.replace(/\u00A0/g," "),n}catch{return""}}function MU(t){try{return[[/(ES)\b/g,"O"],[/(ES)\b/g,"O"],[/(AIS)\b/g,"AL"],[/(EIS)\b/g,"EL"],[/(IS)\b/g,"IL"],[/(US)\b/g,"U"],[/(OS)\b/g,"O"],[/(AS)\b/g,"A"],[/(ES)\b/g,"E"],[/(S)\b/g,""]].reduce((n,[r,s])=>n.replace(r,s),t)}catch{return""}}const{today:U4,future:$4}=x4(),B4=pa("agenda",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],events:[],filters:{calendarIDs:[],title:"",locale:"",search:"",date:"",start:U4,end:$4}}),persist:{paths:["calendars","titles","locales","desc","events","filters"]},getters:{eventsLocales(t){const e=new Set;return t.events.forEach(n=>{n.location&&typeof n.location=="string"&&n.location.trim()&&e.add(n.location.trim())}),Array.from(e).sort((n,r)=>n.localeCompare(r,"pt-BR"))},eventsFiltered(t){return V4(t.events,t.filters)}},actions:{setLoading(t){this.loading=t},async awaitGapi(){for(let t=0;t<30;t++){if(window&&window?.gapi?.client?.calendar)return;await new Promise(e=>setTimeout(e,200))}throw new Error("Google Calendar API no carregou aps 30 tentativas.")},async fetchGoogleCalendars(){this.setLoading(!0);try{await this.awaitGapi();const{result:t}=await window.gapi.client.calendar.calendarList.list();return N_(t,"buscar calendrios"),this.calendars=(t.items||[]).map(e=>{let n=e.description||"";return n=n.replace(/<(?!\/?(b|br|p|u|i|em)\b)[^>]*>/gi,"").replace(/<(b|br|p|u|i|em)\s+[^>]*>/gi,"<$1>"),{...e,description:F4(n)}}),this.calendars}finally{this.setLoading(!1)}},async fetchGoogleEvents(t=null,e={}){this.setLoading(!0);try{if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const n=[];let r;const s=t||this.filters.calendarIDs;for(const i of s)do{const o={calendarId:i,timeMin:e.timeMin||this.filters.start+"T00:00:00Z",timeMax:e.timeMax||this.filters.end+"T23:59:59Z",showDeleted:!1,singleEvents:!0,maxResults:e.maxResults||1e4,orderBy:"startTime",...r&&{pageToken:r}},{result:a}=await window.gapi.client.calendar.events.list(o);N_(a,"buscar eventos"),a?.items?.length&&n.push(...a.items.map(l=>({calendarId:i,...l}))),r=a.nextPageToken}while(r);return JSON.stringify(this.events)!==JSON.stringify(n)&&(this.events=n),n}finally{this.setLoading(!1)}},async createGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:n}=await window.gapi.client.calendar.events.insert({calendarId:t,resource:e});return n&&!this.events.some(r=>r.id===n.id)&&this.events.unshift({calendarId:t,...n}),n},async updateGoogleEvent(t,e,n){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:r}=await window.gapi.client.calendar.events.update({calendarId:t,eventId:e,resource:n});if(r){const s=this.events.findIndex(i=>i.id===e);s!==-1&&JSON.stringify(this.events[s])!==JSON.stringify(r)&&(this.events[s]={calendarId:t,...r})}return r},async deleteGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");await window.gapi.client.calendar.events.delete({calendarId:t,eventId:e});const n=this.events.findIndex(r=>r.id===e);n!==-1&&this.events.splice(n,1)},async handleFilterChange(t){this.setLoading(!0);try{const{start:e,end:n}=t.filters;if(!M_(e)||!M_(n))throw t.events=[],new Error("Datas invlidas. Use o formato yyyy-mm-dd.");if(e>n)throw t.events=[],new Error("A data inicial deve ser menor ou igual  data final.");await this.fetchGoogleCalendars(),await this.fetchGoogleEvents()}finally{this.setLoading(!1)}},init(){this.$subscribe(async(t,e)=>{t.storeId==="agenda"&&t.events.key&&L4(t.events.key)&&await this.handleFilterChange(e)},{detached:!0})}}}),j4=window.setInterval;async function H4(t){const e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():null}const q4=pa("auth",{state:()=>({user:{name:"",email:"",picture:"",token:"",expires_in:0,expires_at:Date.now(),rawUserInfo:{},expires_countdown:0}}),actions:{client:null,tokenClient:null,configs:{},setUserFromToken(t){this.$patch(e=>{e.user.name=t.name||"",e.user.email=t.email||"",e.user.picture=t.picture||"",e.user.token=t.access_token||"",e.user.expires_in=t.expires_in||0,e.user.expires_at=Date.now()+(t.expires_in?t.expires_in*1e3:0),e.user.rawUserInfo=t.rawUserInfo||{}}),this.startCountdown()},clearToken(){this.user.token&&(this.user.token="")},clearUser(){this.$patch(t=>{t.user.token="",t.user.expires_in=0,t.user.expires_at=Date.now(),t.user.rawUserInfo={},t.user.expires_countdown=0}),this.stopCountdown()},startCountdown(){this.user&&this.user.token&&this.user.expires_at>Date.now()?(this.stopCountdown(),this.updateCountdown(),this.countdownInterval=j4(this.updateCountdown,1e3)):(this.clearToken(),this.user.expires_countdown=0)},stopCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null},updateCountdown(){const t=Math.max(0,Math.floor((this.user.expires_at-Date.now())/1e3));this.user.expires_countdown=t,t===0&&(this.clearToken(),this.stopCountdown())},async init({clientId:t,apiKey:e,discoveryDocs:n,scopes:r}){this.configs={clientId:t,apiKey:e,discoveryDocs:n,scopes:r};let s=0;for(;(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)&&s<50;)await new Promise(i=>setTimeout(i,100)),s++;if(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)throw new Error("Google API no carregada. Verifique se o script do Google API foi includo.");await new Promise(i=>window.gapi.load("client",i)),await window.gapi.client.init({apiKey:this.configs.apiKey,discoveryDocs:this.configs.discoveryDocs}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.configs.clientId,scope:this.configs.scopes,callback:""}),this.user.token&&this.user.expires_at&&this.user.expires_at>Date.now()&&window.gapi.client.setToken({access_token:this.user.token}),this.startCountdown()},async signIn({callback:t,errorCallback:e}={}){if(!this.tokenClient)throw new Error("Google Auth no inicializado. Chame initGoogleAuth antes.");this.tokenClient.callback=async n=>{if(n.error){e&&e(n);return}const r=await H4(n.access_token);this.setUserFromToken({...n,name:r?.name,email:r?.email,picture:r?.picture,expires_in:n.expires_in,rawUserInfo:r}),t&&t(this.user)},this.tokenClient.requestAccessToken({prompt:"consent"})},signOut(){const t=window.gapi?.client?.getToken?.();t&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken("")),this.clearUser()}},persist:{paths:["user"]}});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vh,x_;function W4(){if(x_)return vh;x_=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof fc=="object"&&fc&&fc.Object===Object&&fc,u=typeof self=="object"&&self&&self.Object===Object&&self,h=l||u||Function("return this")(),f=Object.prototype,p=f.toString,g=Math.max,y=Math.min,E=function(){return h.Date.now()};function S(D,L,A){var w,_,I,k,R,b,se=0,me=!1,Q=!1,te=!0;if(typeof D!="function")throw new TypeError(t);L=P(L)||0,M(A)&&(me=!!A.leading,Q="maxWait"in A,I=Q?g(P(A.maxWait)||0,L):I,te="trailing"in A?!!A.trailing:te);function W(F){var X=w,Y=_;return w=_=void 0,se=F,k=D.apply(Y,X),k}function Ee(F){return se=F,R=setTimeout(Oe,L),me?W(F):k}function Rt(F){var X=F-b,Y=F-se,ie=L-X;return Q?y(ie,I-Y):ie}function gt(F){var X=F-b,Y=F-se;return b===void 0||X>=L||X<0||Q&&Y>=I}function Oe(){var F=E();if(gt(F))return je(F);R=setTimeout(Oe,Rt(F))}function je(F){return R=void 0,te&&w?W(F):(w=_=void 0,k)}function On(){R!==void 0&&clearTimeout(R),se=0,w=b=_=R=void 0}function cn(){return R===void 0?k:je(E())}function ht(){var F=E(),X=gt(F);if(w=arguments,_=this,b=F,X){if(R===void 0)return Ee(b);if(Q)return R=setTimeout(Oe,L),W(b)}return R===void 0&&(R=setTimeout(Oe,L)),k}return ht.cancel=On,ht.flush=cn,ht}function M(D){var L=typeof D;return!!D&&(L=="object"||L=="function")}function O(D){return!!D&&typeof D=="object"}function v(D){return typeof D=="symbol"||O(D)&&p.call(D)==n}function P(D){if(typeof D=="number")return D;if(v(D))return e;if(M(D)){var L=typeof D.valueOf=="function"?D.valueOf():D;D=M(L)?L+"":L}if(typeof D!="string")return D===0?D:+D;D=D.replace(r,"");var A=i.test(D);return A||o.test(D)?a(D.slice(2),A?2:8):s.test(D)?e:+D}return vh=S,vh}var K4=W4();const G4=z4(K4),Br=(t="")=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),Q4=(t,e)=>{if(!Array.isArray(t)||!e)return[];let n=t;const{search:r,title:s,locale:i,date:o,start:a,end:l,calendars:u=[]}=e;if(u.length){const h=new Set(u.map(Br));n=n.filter(f=>h.has(f.normalizedList))}if(o){const h=o.slice(0,10);n=n.filter(f=>f.date instanceof Date&&f.date.toISOString().startsWith(h))}else{if(a){const h=new Date(a+"T00:00:00");n=n.filter(f=>f.date>=h)}if(l){const h=new Date(l+"T23:59:59");n=n.filter(f=>f.date<=h)}}if(r){const f=Br(r).replace(/\bou\b/gi,",").split(/,|\s+/).map(p=>p.trim()).filter(Boolean).map(p=>new RegExp(`\\b${p}`,"i"));n=n.filter(p=>{const g=`${p.normalizedTitle||""} ${p.normalizedLocale||""} ${p.normalizedDesc||""}`;return f.every(y=>y.test(g))})}if(s){const h=new RegExp(Br(s),"i");n=n.filter(f=>h.test(f.normalizedTitle))}if(i){const h=new RegExp(`^${Br(i)}`,"i");n=n.filter(f=>h.test(f.normalizedLocale))}return n};G4((t,e,n)=>{const r=Q4(t,e);n(r)},1e3);const wh={date:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),time:new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:new Intl.DateTimeFormat("pt-BR",{weekday:"short"})};function J4(t){const e=t.date?new Date(t.date):null,n=t.title==="AVISOS  IRMANDADE";t.noDate=t.desc.includes("!nodate"),t.noDate&&(t.desc=t.desc.replace(/!nodate/gi,"").trim());const r=e&&!n&&!t.noDate,s=e&&e.getHours()>=3,{title:i,locale:o,desc:a,list:l}=t,u={...t,onDate:e};return r?(u.formatDate=wh.date.format(e),u.formatWeek=wh.weekday.format(e).replace(".","")):(u.formatDate="",u.formatWeek=""),r&&s?u.formatTime=wh.time.format(e):u.formatTime="",u.normalizedTitle=Br(i),u.normalizedLocale=Br(o),u.normalizedDesc=Br(a),u.normalizedList=Br(l),u.desc=(a||"").replace(/<(?!\/?(b|br)\b)[^>]*>/gi,""),u.date=e,u.end=new Date(t.end),u}const Y4=pa("lista",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],allEvents:[]}),persist:{paths:["calendars","titles","locales","desc","allEvents"]},actions:{setLoading(t){this.loading=t},async loadEventsFromFile(){this.setLoading(!0);try{if(!this.allEvents?.length)try{let t;if(t=await $fetch(`/data/data.json?v=${new Date().toISOString().replace(/\D/g,"")}`),t?.eventos){const e=(t.eventos.items||[]).map(J4);this.locales=t.eventos.locales||[],this.titles=t.eventos.titles||[],this.desc=t.eventos.desc||[],this.allEvents=e}}catch(t){console.error("Erro ao carregar eventos:",t)}}finally{this.setLoading(!1),console.log("Lista inicializada com sucesso!")}},async init(){console.warn("Inicializando lista..."),this.loadEventsFromFile()}}}),X4=pa("tags",{state:()=>({tags:[],defaultTags:[],suggestionsTags:[]}),persist:{paths:["tags","defaultTags","suggestionsTags"]},actions:{async loadTagsFromFile(){if(!this.tags.length)try{if(!navigator.onLine){const i=await(await caches.open("v1")).match("/data/tags.json");if(i){const o=await i.json();this.tags=o.tags||[],this.defaultTags=o.defaultTags||[],this.suggestionsTags=o.suggestionsTags||[]}return}const{data:t,status:e,error:n}=await Vm(`/data/tags.json?v=${new Date().toISOString().replace(/\D/g,"")}`,{key:"tags-data",server:!1},"$Y5ByR0upLZ");this.tags=t.value.tags||[],this.defaultTags=t.value.defaultTags||[],this.suggestionsTags=t.value.suggestionsTags||[];const{data:r}=await Vm("/data/tags-circulares.json",{key:"tags-circulares",server:!1},"$MflRSbdvcv");this.tags=this.tags.concat(r.value.tags||[]),e.value==="success"&&t.value?(await caches.open("v1")).put("/data/tags.json",new Response(JSON.stringify(t.value),{headers:{"Content-Type":"application/json"}})):console.error("Erro ao carregar tags: ",n)}catch(t){console.error("Falha ao carregar tags:",t)}},async init(){this.loadTagsFromFile()}}}),Z4=()=>({agenda:B4(),lista:Y4(),auth:q4(),tags:X4(),settings:hb()}),eF=St({name:"init-app",setup(){},hooks:{"app:mounted":()=>{const{auth:t,agenda:e,settings:n}=Z4();e.init(),n.init(),t.init({clientId:"865568496873-o4enb1hhvpmj2unq7v9n6dcg94h5itp6.apps.googleusercontent.com",apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scopes:"openid profile email https://www.googleapis.com/auth/calendar"})}}}),Ra={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Li={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},qt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},tF={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},nF={dangerouslyHTMLString:!1,multiple:!0,position:Ra.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},rF={rtl:!1,newestOnTop:!1,toastClassName:""},fb={...nF,...rF};qt.DEFAULT;var Me=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Me||{}),Mf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Mf||{});const sF={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},iF={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},oF={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},aF={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},L_="Toastify--animate Toastify__none-enter";function db(t,e=!1){var n;let r=sF;if(!t||typeof t=="string")switch(t){case"flip":r=aF;break;case"zoom":r=oF;break;case"slide":r=iF;break}else r=t;if(e)r.enter=L_;else if(r.enter===L_){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function cF(t){return t.containerId||String(t.position)}const fu="will-unmount";function lF(t=Ra.TOP_RIGHT){return!!document.querySelector(`.${Me.CSS_NAMESPACE}__toast-container--${t}`)}function uF(t=Ra.TOP_RIGHT){return`${Me.CSS_NAMESPACE}__toast-container--${t}`}function hF(t,e,n=!1){const r=[`${Me.CSS_NAMESPACE}__toast-container`,`${Me.CSS_NAMESPACE}__toast-container--${t}`,n?`${Me.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ei(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function fF(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:i={}}=t,o=Me.CSS_NAMESPACE,a=uF(n),l=document.querySelector(`.${o}`),u=document.querySelector(`.${a}`),h=!!u&&!((e=u.className)!=null&&e.includes(fu)),f=l||document.createElement("div"),p=document.createElement("div");p.className=hF(n,r,s),p.dataset.testid=`${Me.CSS_NAMESPACE}__toast-container--${n}`,p.id=cF(t);for(const g in i)if(Object.prototype.hasOwnProperty.call(i,g)){const y=i[g];p.style[g]=y}return l||(f.className=Me.CSS_NAMESPACE,document.body.appendChild(f)),h||f.appendChild(p),p}function xf(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),i=document.getElementById(s);i&&i.removeEventListener("animationend",xf,!1);try{aa[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete aa[s],delete wt[s]}catch{}}const aa=ut({});function dF(t,e){const n=document.getElementById(String(e));n&&(aa[n.id]=t)}function Lf(t,e=!0){const n=String(t);if(!aa[n])return;const r=document.getElementById(n);r&&r.classList.add(fu),e?(gF(t),r&&r.addEventListener("animationend",xf,!1)):xf(n),Kn.items=Kn.items.filter(s=>s.containerId!==t)}function pF(t){for(const e in aa)Lf(e,t);Kn.items=[]}function pb(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...db(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function gF(t){for(const e in wt)if(e===t)for(const n of wt[e]||[])pb(n)}function mF(t){const e=Vi().find(n=>n.toastId===t);return e?.containerId}function Ep(t){return document.getElementById(t)}function yF(t){const e=Ep(t.containerId);return e&&e.classList.contains(fu)}function V_(t){var e;const n=Gr(t.content)?ye(t.content.props):null;return n??ye((e=t.data)!=null?e:{})}function _F(t){return t?Kn.items.filter(e=>e.containerId===t).length>0:Kn.items.length>0}function vF(){if(Kn.items.length>0){const t=Kn.items.shift();Rc(t?.toastContent,t?.toastProps)}}const wt=ut({}),Kn=ut({items:[]});function Vi(){const t=ye(wt);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function wF(t){return Vi().find(e=>e.toastId===t)}function Rc(t,e={}){if(yF(e)){const n=Ep(e.containerId);n&&n.addEventListener("animationend",Vf.bind(null,t,e),!1)}else Vf(t,e)}function Vf(t,e={}){const n=Ep(e.containerId);n&&n.removeEventListener("animationend",Vf.bind(null,t,e),!1);const r=wt[e.containerId]||[],s=r.length>0;if(!s&&!lF(e.position)){const i=fF(e),o=aw($F,e);e.useHandler&&e.useHandler(o),o.mount(i),dF(o,i.id)}s&&!e.updateId&&(e.position=r[0].position),sn(()=>{e.updateId?Zt.update(e):Zt.add(t,e)})}const Zt={add(t,e){const{containerId:n=""}=e;n&&(wt[n]=wt[n]||[],wt[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=wt[n])==null||r.unshift(e):(s=wt[n])==null||s.push(e),e.onOpen&&e.onOpen(V_(e))},e.delay||0))},remove(t){if(t){const e=mF(t);if(e){const n=wt[e];let r=n.find(s=>s.toastId===t);wt[e]=n.filter(s=>s.toastId!==t),!wt[e].length&&!_F(e)&&Lf(e,!1),vF(),sn(()=>{r!=null&&r.onClose&&(r.onClose(V_(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){wt[e]=wt[e]||[];const n=wt[e].find(i=>i.toastId===t.toastId),r=n?.position!==t.position||n?.transition!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};Zt.dismissForce(t?.toastId),setTimeout(()=>{ke(s.content,s)},t.delay||0)}},clear(t,e=!0){t?Lf(t,e):pF(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",Zt.dismissCallback,!1),setTimeout(()=>{Zt.remove(n)}))},dismiss(t){if(t){const e=Vi();for(const n of e)if(n.toastId===t){pb(n,r=>{r.addEventListener("animationend",Zt.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Vi();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",Zt.dismissCallback,!1),Zt.remove(t));break}}}},EF=ut({useHandler:void 0}),gb=ut({}),Tl=ut({});function mb(){return Math.random().toString(36).substring(2,9)}function TF(t){return typeof t=="number"&&!isNaN(t)}function Ff(t){return typeof t=="string"}function Ei(t){return typeof t=="function"}function du(...t){return Gn(...t)}function Cc(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof t?.type=="object")}function IF(t={}){gb[`${Me.CSS_NAMESPACE}-default-options`]=t}function bF(){return gb[`${Me.CSS_NAMESPACE}-default-options`]||fb}function AF(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Pc=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Pc||{});const yb={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Ra.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Li.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:qt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},SF={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:qt.DEFAULT},theme:{type:String,required:!1,default:Li.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},RF=rt({name:"ProgressBar",props:SF,setup(t,{attrs:e}){const n=Ke(),r=we(()=>t.hide?"true":"false"),s=we(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),i=we(()=>[`${Me.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Me.CSS_NAMESPACE}__progress-bar--controlled`:`${Me.CSS_NAMESPACE}__progress-bar--animated`,`${Me.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Me.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Me.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=we(()=>`${i.value} ${e?.class||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},u=we(()=>t.controlledProgress?null:l),h=we(()=>t.controlledProgress?l:null);return So(()=>{n.value&&(a(),n.value.onanimationend=u.value,n.value.ontransitionend=h.value)}),()=>pe("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:o.value,style:s.value},null)}}),CF=rt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Li.AUTO},type:{type:String,required:!1,default:Li.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>pe("button",{class:`${Me.CSS_NAMESPACE}__close-button ${Me.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[pe("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[pe("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),pu=({theme:t,type:e,path:n,...r})=>pe("svg",Gn({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[pe("path",{d:n},null)]);function PF(t){return pe(pu,Gn(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function kF(t){return pe(pu,Gn(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function OF(t){return pe(pu,Gn(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function DF(t){return pe(pu,Gn(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function NF(){return pe("div",{class:`${Me.CSS_NAMESPACE}__spinner`},null)}const kc={info:kF,warning:PF,success:OF,error:DF,spinner:NF},MF=t=>t in kc;function xF({theme:t,type:e,isLoading:n,icon:r}){let s;const i=!!n||e==="loading",o={theme:t,type:e};if(i&&(r===void 0||typeof r=="boolean"))return kc.spinner();if(r!==!1){if(Cc(r))s=ye(r);else if(Ei(r)){const a=r;o.type=i?"loading":e,s=a(o),s=!s&&i?kc.spinner():s}else Gr(r)?s=qn(r,o):Ff(r)||TF(r)?s=r:MF(e)&&(s=kc[e](o));return s}}const LF=()=>{};function VF(t,e,n=Me.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,i=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,i)})})}function FF(t){const e=Ke(!1),n=Ke(!1),r=Ke(!1),s=Ke(Pc.Enter),i=ut({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Me.COLLAPSE_DURATION}),o=i.done||LF,a=we(()=>i.appendPosition?`${i.enter}--${i.position}`:i.enter),l=we(()=>i.appendPosition?`${i.exit}--${i.position}`:i.exit),u=we(()=>t.pauseOnHover?{onMouseenter:S,onMouseleave:E}:{});function h(){const O=a.value.split(" ");p().addEventListener(Mf.ENTRANCE_ANIMATION_END,E,{once:!0});const v=D=>{const L=p();D.target===L&&(L.dispatchEvent(new Event(Mf.ENTRANCE_ANIMATION_END)),L.removeEventListener("animationend",v),L.removeEventListener("animationcancel",v),s.value===Pc.Enter&&D.type!=="animationcancel"&&L.classList.remove(...O))},P=()=>{const D=p();D.classList.add(...O),D.addEventListener("animationend",v),D.addEventListener("animationcancel",v)};t.pauseOnFocusLoss&&g(),P()}function f(){if(!p())return;const O=()=>{const P=p();P.removeEventListener("animationend",O),i.collapse?VF(P,o,i.collapseDuration):o()},v=()=>{const P=p();s.value=Pc.Exit,P&&(P.className+=` ${l.value}`,P.addEventListener("animationend",O))};n.value||(r.value?O():setTimeout(v))}function p(){return t.toastRef.value}function g(){document.hasFocus()||S(),window.addEventListener("focus",E),window.addEventListener("blur",S)}function y(){window.removeEventListener("focus",E),window.removeEventListener("blur",S)}function E(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function S(){e.value=!1}function M(O){O&&(O.stopPropagation(),O.preventDefault()),n.value=!1}return So(f),So(()=>{const O=Vi();n.value=O.findIndex(v=>v.toastId===i.toastId)>-1}),So(()=>{t.isLoading!==void 0&&(t.loading.value?S():E())}),Vs(h),an(()=>{t.pauseOnFocusLoss&&y()}),{isIn:n,isRunning:e,hideToast:M,eventHandlers:u}}const UF=rt({name:"ToastItem",inheritAttrs:!1,props:yb,setup(t){const e=Ke(),n=we(()=>!!t.isLoading),r=we(()=>t.progress!==void 0&&t.progress!==null),s=we(()=>xF(t)),i=we(()=>[`${Me.CSS_NAMESPACE}__toast`,`${Me.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Me.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Me.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:u}=FF({toastRef:e,loading:n,done:()=>{Zt.remove(t.toastId)},...db(t.transition,t.disabledEnterTransition),...t});return()=>pe("div",Gn({id:t.toastId,class:i.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:h=>{t.closeOnClick&&l(),t.onClick&&t.onClick(h)}},u.value),[pe("div",{role:t.role,"data-testid":"toast-body",class:`${Me.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&pe("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Me.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Me.CSS_NAMESPACE}--animate-icon ${Me.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Cc(s.value)?et(ye(s.value),{theme:t.theme,type:t.type}):Ei(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),pe("div",{"data-testid":"toast-content"},[Cc(t.content)?et(ye(t.content),{toastProps:ye(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ei(t.content)?t.content({toastProps:ye(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?et("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&pe(CF,{theme:t.theme,closeToast:h=>{h.stopPropagation(),h.preventDefault(),l()}},null),Cc(t.closeButton)?et(ye(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ei(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,pe(RF,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Uo=0;function _b(){typeof window>"u"||(Uo&&window.cancelAnimationFrame(Uo),Uo=window.requestAnimationFrame(_b),Tl.lastUrl!==window.location.href&&(Tl.lastUrl=window.location.href,Zt.clear()))}const $F=rt({name:"ToastifyContainer",inheritAttrs:!1,props:yb,setup(t){const e=we(()=>t.containerId),n=we(()=>wt[e.value]||[]),r=we(()=>n.value.filter(s=>s.position===t.position));return Vs(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(_b)}),an(()=>{typeof window<"u"&&Uo&&(window.cancelAnimationFrame(Uo),Tl.lastUrl="")}),()=>pe(xt,null,[r.value.map(s=>{const{toastId:i=""}=s;return pe(UF,Gn({key:i},s),null)})])}});let Eh=!1;const vb={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function wb(){const t=[];return Vi().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(fu)&&t.push(e)}),t}function BF(t){const e=wb().length,n=t??0;return n>0&&e+Kn.items.length>=n}function jF(t){BF(t.limit)&&!t.updateId&&Kn.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function as(t,e,n={}){if(Eh)return;n=du(bF(),{type:e},ye(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=mb()),n={...n,...n.type==="loading"?vb:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n?.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=AF()),jF(n),Tl.lastUrl=window.location.href,n.multiple?Kn.items.length?n.updateId&&Rc(t,n):Rc(t,n):(Eh=!0,ke.clearAll(void 0,!1),setTimeout(()=>{Rc(t,n)},0),setTimeout(()=>{Eh=!1},390)),n.toastId}const ke=(t,e)=>as(t,qt.DEFAULT,e);ke.info=(t,e)=>as(t,qt.DEFAULT,{...e,type:qt.INFO});ke.error=(t,e)=>as(t,qt.DEFAULT,{...e,type:qt.ERROR});ke.warning=(t,e)=>as(t,qt.DEFAULT,{...e,type:qt.WARNING});ke.warn=ke.warning;ke.success=(t,e)=>as(t,qt.DEFAULT,{...e,type:qt.SUCCESS});ke.loading=(t,e)=>as(t,qt.DEFAULT,du(e,vb));ke.dark=(t,e)=>as(t,qt.DEFAULT,du(e,{theme:Li.DARK}));ke.remove=t=>{t?Zt.dismiss(t):Zt.clear()};ke.clearAll=(t,e)=>{sn(()=>{Zt.clear(t,e)})};ke.isActive=t=>{let e=!1;return e=wb().findIndex(n=>n.toastId===t)>-1,e};ke.update=(t,e={})=>{setTimeout(()=>{const n=wF(t);if(n){const r=ye(n),{content:s}=r,i={...r,...e,toastId:e.toastId||t,updateId:mb()},o=i.render||s;delete i.render,as(o,i.type,i)}},0)};ke.done=t=>{ke.update(t,{isLoading:!1,progress:1})};ke.promise=HF;function HF(t,{pending:e,error:n,success:r},s){var i,o,a;let l;const u={...s||{},autoClose:!1};e&&(l=Ff(e)?ke.loading(e,u):ke.loading(e.render,{...u,...e}));const h={autoClose:(i=s?.autoClose)!=null?i:!0,closeOnClick:(o=s?.closeOnClick)!=null?o:!0,closeButton:(a=s?.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},f=(g,y,E)=>{if(y==null){ke.remove(l);return}const S={type:g,...h,...s,data:E},M=Ff(y)?{render:y}:y;return l?ke.update(l,{...S,...M,isLoading:!1}):ke(M.render,{...S,...M,isLoading:!1}),E},p=Ei(t)?t():t;return p.then(g=>{f("success",r,g)}).catch(g=>{f("error",n,g)}),p}ke.POSITION=Ra;ke.THEME=Li;ke.TYPE=qt;ke.TRANSITIONS=tF;const Eb={install(t,e={}){EF.useHandler=e.useHandler||(()=>{}),qF(e)}};typeof window<"u"&&(window.Vue3Toastify=Eb);function qF(t={}){const e=du(fb,t);IF(e)}const zF=St(t=>(t.vueApp.use(Eb,{autoClose:2e3,theme:"dark",progressStyle:{background:"#757575"},style:{opacity:.8},position:"bottom-right"}),{provide:{toast:{success:ke.success,error:ke.error,info:ke.info,warn:ke.warn,promise:ke.promise}}})),WF=[JC,XC,rP,R1,P1,k1,O1,N1,lk,uk,hk,pk,Ek,Tk,M4,eF,zF],Uf=Symbol("head-component"),Tp={body:{type:Boolean,default:void 0},tagPosition:{type:String}},Ca=t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function $s(){return tt(Uf,Tb,!0)}function Tb(){const t=tt(Uf,null);if(t)return t;const e=ut({}),n=jw(e),r={input:e,entry:n};return ur(Uf,r),r}const Yi={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};({...Yi,...Tp});({...Yi,...Tp});({...Yi});const KF=rt({name:"Title",inheritAttrs:!1,setup(t,{slots:e}){const{input:n}=$s();return an(()=>n.title=null),()=>{const r=e.default?.();return n.title=r?.[0]?.children?String(r?.[0]?.children):void 0,null}}}),GF=rt({name:"Meta",inheritAttrs:!1,props:{...Yi,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(t){const{input:e}=$s();e.meta||=[];const n=e.meta.push({})-1;return an(()=>e.meta[n]=null),()=>{const r={"http-equiv":t.httpEquiv,...Ca(t)};return"httpEquiv"in r&&delete r.httpEquiv,e.meta[n]=r,null}}}),QF=rt({name:"Style",inheritAttrs:!1,props:{...Yi,...Tp,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(t,{slots:e}){const{input:n}=$s();n.style||=[];const r=n.style.push({})-1;return an(()=>n.style[r]=null),()=>{const s=Ca(t),i=e.default?.()?.[0]?.children;return i&&(n.style[r]=s,s.textContent=i),null}}}),JF=rt({name:"Head",inheritAttrs:!1,setup:(t,e)=>(Tb(),()=>e.slots.default?.())});({...Yi});const Ib=(t="RouteProvider")=>rt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return ur(Os,Ln(s)),()=>e.vnode?et(e.vnode,{ref:e.vnodeRef}):e.vnode}}),YF=Ib(),F_=new WeakMap,XF=rt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Je(),i=Ke(),o=tt(Os,null);let a;r({pageRef:i});const l=tt(Sw,null);let u;const h=s.deferHydration();if(s.isHydrating){const p=s.hooks.hookOnce("app:error",h);Ht().beforeEach(p)}t.pageKey&&nn(()=>t.pageKey,(p,g)=>{p!==g&&s.callHook("page:loading:start")});let f=!1;{const p=Ht().beforeResolve(()=>{f=!1});Bi(()=>{p()})}return()=>et(iE,{name:t.name,route:t.route,...e},{default:p=>{const g=eU(o,p.route,p.Component),y=o&&o.matched.length===p.route.matched.length;if(!p.Component){if(u&&!y)return u;h();return}if(u&&l&&!l.isCurrent(p.route))return u;if(g&&o&&(!l||l?.isCurrent(o)))return y?u:null;const E=tf(p,t.pageKey),S=tU(o,p.route,p.Component);!s.isHydrating&&a===E&&!S&&sn(()=>{f=!0,s.callHook("page:loading:end")}),a=E;const M=!!(t.transition??p.route.meta.pageTransition??em),O=M&&ZF([t.transition,p.route.meta.pageTransition,em,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",p.Component)}}]),v=t.keepalive??p.route.meta.keepalive??SR;return u=aE(M&&O,u1(v,et(ad,{suspensible:!0,onPending:()=>{M&&(s._runningTransition=!0),s.callHook("page:start",p.Component)},onResolve:()=>{sn(()=>s.callHook("page:finish",p.Component).then(()=>{if(!f&&!S)return f=!0,s.callHook("page:loading:end")}).finally(h))}},{default:()=>{const P={key:E||void 0,vnode:n.default?nU(n.default,p):p.Component,route:p.route,renderKey:E||void 0,trackRootNodes:M,vnodeRef:i};if(!v)return et(YF,P);const D=p.Component.type,L=D;let A=F_.get(L);return A||(A=Ib(D.name||D.__name),F_.set(L,A)),et(A,P)}}))).default(),u}})}});function ZF(t){const e=t.filter(Boolean).map(n=>({...n,onAfterLeave:n.onAfterLeave?wd(n.onAfterLeave):void 0}));return bw(...e)}function eU(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&tf({route:e,Component:n})!==tf({route:t,Component:n})}function tU(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function nU(t,e){const n=t(e);return n.length===1?et(n[0]):et(xt,void 0,n)}const rU=rt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>et(Ur[t.name],t.layoutProps,e.slots)}}),sU={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},iU=rt({name:"NuxtLayout",inheritAttrs:!1,props:sU,setup(t,e){const n=Je(),r=tt(Os),i=!r||r===xl()?oE():r,o=we(()=>{let h=We(t.name)??i?.meta.layout??"default";return h&&!(h in Ur)&&t.fallback&&(h=We(t.fallback)),h}),a=Vn();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",l);Ht().beforeEach(h)}let u;return()=>{const h=o.value&&o.value in Ur,f=i?.meta.layoutTransition??AR,p=u;return u=o.value,aE(h&&f,{default:()=>et(ad,{suspensible:!0,onResolve:()=>{sn(l)}},{default:()=>et(oU,{layoutProps:Gn(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:g=>g!==p&&g===o.value,hasTransition:!!f},e.slots)})}).default()}}}),oU=rt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&ur(Sw,{isCurrent:i=>n===(i.meta.layout??"default")});const r=tt(Os);if(r&&r===xl()){const i=oE(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}ur(Os,Ln(o))}return()=>!n||typeof n=="string"&&!(n in Ur)?e.slots.default?.():et(rU,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),bb=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},aU={__name:"app",setup(t){const e=Ke("Agenda Regional Faina");return HC({title:e.value,ogTitle:"Agenda Regional Faina",description:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogDescription:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogImage:"https://congregacaocristanobrasil.org.br/assets/images/logo-ccb-light.png",twitterCard:"summary_large_image",keywords:"Agenda, Regional, Faina, Congregao, Atendimentos, Eventos, Batismos"}),(n,r)=>{const s=KF,i=GF,o=QF,a=JF,l=Rh("VitePwaManifest"),u=XF,h=iU;return xn(),cd(xt,null,[pe(a,null,{default:Es(()=>[pe(s,null,{default:Es(()=>[zo(Dc(We(e)),1)]),_:1}),pe(i,{name:"description",content:We(e)},null,8,["content"]),pe(o,null,{default:Es(()=>r[0]||(r[0]=[zo(" body {} ",-1)])),_:1,__:[0]})]),_:1}),pe(h,null,{default:Es(()=>[pe(l),pe(u)]),_:1})],64)}}},cU=bb(aU,[["__scopeId","data-v-8ea51f04"]]),lU={class:"error-page"},uU={__name:"error",setup(t){const e=fa();return(n,r)=>{const s=ik;return xn(),cd("div",lU,[Hc("h1",null,Dc(We(e).statusCode),1),Hc("p",null,Dc(We(e).message),1),pe(s,{to:"/"},{default:Es(()=>r[0]||(r[0]=[zo("Voltar para a pgina inicial",-1)])),_:1,__:[0]})])}}},hU=bb(uU,[["__scopeId","data-v-ec07901d"]]),fU={key:0},U_={__name:"nuxt-root",setup(t){const e=()=>null,n=Je(),r=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",r);Ht().beforeEach(u)}const s=!1;ur(Os,xl()),n.hooks.callHookWith(u=>u.map(h=>h()),"vue:setup");const i=fa(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Cv((u,h,f)=>{if(n.hooks.callHook("vue:error",u,h,f).catch(p=>console.error("[nuxt] Error in `vue:error` hook",p)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if(Cw(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>_s(u)),!1});const l=!1;return(u,h)=>(xn(),Xs(ad,{onResolve:We(r)},{default:Es(()=>[We(o)?(xn(),cd("div",fU)):We(i)?(xn(),Xs(We(hU),{key:1,error:We(i)},null,8,["error"])):We(l)?(xn(),Xs(We(e),{key:2,context:We(l)},null,8,["context"])):We(s)?(xn(),Xs(n0(We(s)),{key:3})):(xn(),Xs(We(cU),{key:4}))]),_:1},8,["onResolve"]))}};let $_;{let t;$_=async function(){if(t)return t;const r=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true")?ES(U_):aw(U_),s=NR({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=Hr(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await LR(s,WF)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(kR),await s.hooks.callHook("app:mounted",r),await sn()}catch(o){i(o)}return r},t=$_().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{xe as $,Xs as A,wU as B,Q4 as C,Wf as D,F4 as E,xt as F,hb as G,EU as H,rt as I,et as J,So as K,TU as L,sn as M,mU as N,Rh as O,Bi as P,x4 as Q,td as R,OA as S,Y0 as T,Tr as U,MU as V,vU as W,mN as X,sr as Y,SU as Z,bb as _,Hc as a,OU as a0,SI as a1,NU as a2,DU as a3,CU as a4,PU as a5,kU as a6,XF as a7,Ui as a8,$o as a9,Vn as aa,xn as b,cd as c,pe as d,ik as e,zo as f,Z4 as g,gU as h,oE as i,we as j,dU as k,IU as l,We as m,pU as n,Vs as o,bU as p,Kf as q,Ke as r,yU as s,Dc as t,Je as u,_U as v,Es as w,Vm as x,ut as y,nn as z};
