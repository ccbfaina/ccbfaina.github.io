import{_ as N,g as L,f as V,z,r as k,i as W,c as _,o as s,a as t,t as U,x as y,F as v,n as g,s as w,G as q,Y,j as I,b as $,m as b,e as j}from"#entry";const G={class:"agenda-container"},H={class:"month-header"},J={key:0,class:"loading-indicator"},Q={key:1},X={class:"schedule-date"},Z={class:"schedule-time"},K=["innerHTML"],ee={key:2,class:"no-results"},te={__name:"CalendarAgendaMonth",props:{year:{type:Number,default:()=>new Date().getFullYear()},month:{type:Number,required:!0}},setup(d){const o=d,p=["SANTAS CEIAS","ENSAIOS REGIONAIS","REUNIÕES PARA A MOCIDADE","REUNIÕES DIVERSAS","REUNIÕES REGIONAIS"],S=a=>(a.title||a.normalizedTitle||"").toUpperCase(),C=a=>{const c=a.title==="REUNIÕES DIVERSAS"||a.title==="REUNIÕES REGIONAIS"?": "+a.desc:"",f=a.locale?a.locale.replace(/(.+?)\s*-\s*(.+)/,"$2 ($1)"):"",D=new Date(a.date||a.start);return{time:a.formatTime||a.formatDate||"",event:q(Y(a.title||"").toUpperCase()+" - "+f+c),title:S(a),day:D.getDate(),month:D.getMonth(),year:D.getFullYear()}},h=L(),{$indexedDB:i}=V(),n=z({search:"",title:"",locale:"",calendars:[]}),e=k([]),r=k(!1),u=k("");(()=>{const a=h.query||{};["search","title","locale"].forEach(c=>{a[c]!==void 0&&(n[c]=String(a[c]))}),a.calendars&&(n.calendars=Array.isArray(a.calendars)?a.calendars.map(String):String(a.calendars).split(",").filter(Boolean))})();async function m(){r.value=!0,e.value=[],u.value=new Date(o.year,o.month-1).toLocaleString("pt-BR",{month:"long"}).toUpperCase();try{const{year:a,month:c}=o,f=new Date(a,c+1,0).getDate(),D={...n,start:`${a}-${String(c).padStart(2,"0")}-01`,end:`${a}-${String(c).padStart(2,"0")}-${f}`},{data:B}=await i.getEvents(D)||{},x=B?.events;if(!x)return;let O=[];Array.isArray(x)?O=x:Object.values(x).forEach(l=>{Array.isArray(l)&&O.push(...l)});const M=O.map(C).filter(l=>p.includes(l.title));M.sort((l,E)=>{if(l.day!==E.day)return l.day-E.day;const A=l.time||"00:00",P=E.time||"00:00";return A!==P?A.localeCompare(P):l.title.localeCompare(E.title)});const T=[];let F=null;M.forEach(l=>{const E=new Date(a,c,l.day),A=E.toLocaleString("pt-BR",{weekday:"short"}).replace(".","").toUpperCase();T.push({displayDate:l.day!==F?`${String(l.day).padStart(2,"0")} ${A}`:"",time:l.time,event:l.event,isSunday:E.getDay()===0,isEventRow:!0,day:l.day}),F=l.day}),e.value=T}catch(a){console.error("Erro ao processar agenda:",a)}finally{r.value=!1}}return W(()=>[n.search,n.title,n.locale,n.calendars.join(","),o.year,o.month],m,{immediate:!0}),(a,c)=>(s(),_("div",G,[t("div",H,y(u.value)+" - "+y(o.year),1),r.value?(s(),_("div",J,"Carregando eventos...")):(s(),_("table",Q,[t("tbody",null,[(s(!0),_(v,null,g(e.value,(f,D)=>(s(),_("tr",{key:D,class:w({sunday:f.isSunday,"event-row":f.isEventRow})},[t("td",X,y(f.displayDate),1),t("td",Z,y(f.time),1),t("td",{class:"schedule-event",innerHTML:f.event},null,8,K)],2))),128))])])),!r.value&&e.value.length===0?(s(),_("div",ee," Nenhum evento encontrado para este mês que corresponda aos filtros. ")):U("",!0)]))}},ae=N(te,[["__scopeId","data-v-5cb4a2f2"]]),_e={class:"month-card"},se={class:"month-header"},ne={class:"month-name"},re={class:"year-label"},oe={class:"weekdays-grid"},ie={class:"days-grid"},le={__name:"CalendarMonth",props:{monthName:String,monthIndex:{type:Number,required:!0},year:Number,startDayOfWeek:Number,daysInMonth:Number,holidays:{type:Array,default:()=>[]}},setup(d){const o=d,p=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],S=I(()=>o.startDayOfWeek),C=i=>{const e=new Date(o.year,o.monthIndex,i).getDay();return e===0||e===6},h=i=>o.holidays.some(n=>n.day===i);return(i,n)=>(s(),_("div",_e,[t("div",se,[t("span",ne,y(d.monthName),1),t("span",re,y(d.year),1)]),t("div",oe,[(s(),_(v,null,g(p,e=>t("span",{key:e,class:w(["weekday-label",{"is-weekend":e==="SAB"||e==="DOM"}])},y(e),3)),64))]),t("div",ie,[(s(!0),_(v,null,g(S.value,e=>(s(),_("span",{key:"blank-"+e,class:"day-cell is-blank"}))),128)),(s(!0),_(v,null,g(d.daysInMonth,e=>(s(),_("span",{key:e,class:w(["day-cell",{"is-weekend":C(e),"is-holiday":h(e)}])},y(e),3))),128))])]))}},de=N(le,[["__scopeId","data-v-c8b144f0"]]),ce={class:"calendar-container"},ye={class:"months-grid"},pe={__name:"CalendarYear",props:{year:{type:Number,default:2026,validator:d=>d>1900&&d<2100},holidays:{type:Array,required:!1,default:()=>[]}},setup(d){const o=d,p=I(()=>o.holidays),S=I(()=>["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].map((i,n)=>{const e=new Date(o.year,n+1,0).getDate(),r=new Date(o.year,n,1);return{name:i,monthIndex:n,daysInMonth:e,startDayOfWeek:r.getDay()}})),C=I(()=>{const h=Array.from({length:12},()=>[]);return p.value.forEach(i=>{const n=i.date.split("/");let e,r,u;n.length===2&&(e=Number(n[0]),r=Number(n[1])-1,u=null),n.length===3&&(e=Number(n[0]),r=Number(n[1])-1,u=Number(n[2])),r>=0&&r<12&&(u||h[r].push({day:e,description:i.description}),u===o.year&&h[r].push({day:e,description:i.description}))}),h});return(h,i)=>(s(),_("div",ce,[t("div",ye,[(s(!0),_(v,null,g(S.value,(n,e)=>(s(),_("div",{key:e,class:"month-wrapper"},[$(de,{"month-name":n.name,"month-index":n.monthIndex,year:d.year,"start-day-of-week":n.startDayOfWeek,"days-in-month":n.daysInMonth,holidays:C.value[e]},null,8,["month-name","month-index","year","start-day-of-week","days-in-month","holidays"])]))),128))])]))}},ue=N(pe,[["__scopeId","data-v-53b9f232"]]),he={},me={class:"linhas-table"};function fe(d,o){return s(),_("table",me,[t("tbody",null,[(s(),_(v,null,g(26,p=>t("tr",{key:p},[...o[0]||(o[0]=[t("td",null,null,-1)])])),64))])])}const ve=Object.assign(N(he,[["render",fe],["__scopeId","data-v-a205d622"]]),{__name:"CalendarLinhasTable"});function ge(){return{holidays:[{date:"01/01",description:"Confraternização Universal",type:"fixed"},{date:"21/04",description:"Tiradentes",type:"fixed"},{date:"01/05",description:"Dia do Trabalhador",type:"fixed"},{date:"07/09",description:"Independência do Brasil",type:"fixed"},{date:"12/10",description:"Nossa Senhora Aparecida",type:"fixed"},{date:"02/11",description:"Finados",type:"fixed"},{date:"15/11",description:"Proclamação da República",type:"fixed"},{date:"20/11",description:"Dia Nacional de Zumbi e da Consciência Negra",type:"fixed"},{date:"25/12",description:"Natal",type:"fixed"},{date:"04/03/2025",description:"Carnaval",type:"variable"},{date:"18/04/2025",description:"Paixão de Cristo",type:"variable"},{date:"19/06/2025",description:"Corpus Christi",type:"variable"},{date:"17/02/2026",description:"Carnaval",type:"variable"},{date:"03/04/2026",description:"Paixão de Cristo",type:"variable"},{date:"04/06/2026",description:"Corpus Christi",type:"variable"},{date:"09/02/2027",description:"Carnaval",type:"variable"},{date:"26/03/2027",description:"Paixão de Cristo",type:"variable"},{date:"27/05/2027",description:"Corpus Christi",type:"variable"},{date:"29/02/2028",description:"Carnaval",type:"variable"},{date:"14/04/2028",description:"Paixão de Cristo",type:"variable"},{date:"15/06/2028",description:"Corpus Christi",type:"variable"},{date:"13/02/2029",description:"Carnaval",type:"variable"},{date:"30/03/2029",description:"Paixão de Cristo",type:"variable"},{date:"31/05/2029",description:"Corpus Christi",type:"variable"},{date:"05/03/2030",description:"Carnaval",type:"variable"},{date:"19/04/2030",description:"Paixão de Cristo",type:"variable"},{date:"20/06/2030",description:"Corpus Christi",type:"variable"}]}}const be={key:0,class:"d-flex flex-column justify-end align-center",style:{"padding-bottom":"50px",height:"90%"}},Se={key:1,class:"d-flex flex-column justify-center align-center cover",style:{height:"100%"}},Ce={class:"year"},De={key:2,class:"content"},Ee={key:3,class:"d-flex items-center justify-center",style:{height:"100%"}},Ne={key:4,class:"content",style:{"line-height":"1.5","padding-top":"20px"}},xe={key:5,class:"content"},Ae={key:6,class:"content"},ke={__name:"calendar-print",setup(d){const o=new URLSearchParams(location.search),p=k(+o.get("ano")||new Date().getFullYear()),S=o.get("titulo")||"Calendário de Reuniões",C=o.get("calendars")||"",h=[{sheets:[{type:"address"},{type:"cover"},{type:"agenda",month:10},{type:"linhas"}]},{sheets:[{type:"empty"},{type:"linhas"},{type:"agenda",month:3},{type:"linhas"}]},{sheets:[{type:"empty"},{type:"dados"},{type:"agenda",month:9},{type:"linhas"}]},{sheets:[{type:"calendarYear",yearOffset:0},{type:"linhas"},{type:"agenda",month:4},{type:"linhas"}]},{sheets:[{type:"agenda",month:12},{type:"feriados"},{type:"agenda",month:8},{type:"linhas"}]},{sheets:[{type:"agenda",month:1},{type:"linhas"},{type:"agenda",month:5},{type:"linhas"}]},{sheets:[{type:"agenda",month:11},{type:"linhas"},{type:"agenda",month:7},{type:"linhas"}]},{sheets:[{type:"agenda",month:2},{type:"linhas"},{type:"agenda",month:6},{type:"linhas"}]}],{holidays:i}=ge(),n=i.filter(e=>e?.date&&(e.type==="fixed"||e.date.endsWith(String(p.value)))).map(e=>{const[r,u]=e.date.split("/");return{...e,date:`${r}/${u}`,sortValue:Number(u)*100+Number(r)}}).sort((e,r)=>e.sortValue-r.sortValue);return(e,r)=>(s(),_("div",null,[(s(),_(v,null,g(h,(u,R)=>t("div",{key:R,class:"A4"},[(s(!0),_(v,null,g(u.sheets,(m,a)=>(s(),_("div",{key:a,class:"page"},[m.type==="address"?(s(),_("div",be,[...r[0]||(r[0]=[t("p",null,"Avenida Féliz de Brito, S/N",-1),t("p",null,"Vila Vieira - Faina - GO",-1)])])):m.type==="cover"?(s(),_("div",Se,[t("h2",null,y(b(S)),1),t("div",null,y(b(C)),1),t("div",Ce,y(b(p)),1)])):U("",!0),m.type==="agenda"?(s(),_("div",De,[$(ae,{year:b(p),month:m.month,events:[],holidays:b(i)},null,8,["year","month","holidays"])])):m.type==="calendarYear"?(s(),_("div",Ee,[$(ue,{year:b(p)+(m.yearOffset||0),holidays:b(i)},null,8,["year","holidays"])])):m.type==="dados"?(s(),_("div",Ne,[...r[1]||(r[1]=[t("div",{style:{"font-weight":"bold","text-align":"center","margin-bottom":"20px"}}," DADOS PESSOAIS ",-1),t("p",null,"______________________________________________________ Nome",-1),t("p",null," ______________________________________________________ Ministério ",-1),t("p",null," ______________________________________________________ Endereço ",-1),t("p",null,"______________________________________________________ Cidade",-1),t("p",null,"______________________________________________________ Estado",-1),t("p",null,"______________________________________________________ CEP",-1),t("p",null," ______________________________________________________ Telefone ",-1),t("p",null,"______________________________________________________ E-mail",-1)])])):m.type==="linhas"?(s(),_("div",xe,[$(ve)])):m.type==="feriados"?(s(),_("div",Ae,[r[2]||(r[2]=t("div",{style:{"font-weight":"bold","text-align":"center","margin-bottom":"10px"}}," FERIADOS NACIONAIS ",-1)),t("ul",null,[(s(!0),_(v,null,g(b(n),(c,f)=>(s(),_("li",{key:f,style:{"margin-bottom":"4px"}},[t("strong",null,y(c.date),1),j(" - "+y(c.description),1)]))),128))])])):(s(),_(v,{key:7},[],64))]))),128))])),64))]))}},$e=N(ke,[["__scopeId","data-v-205e7a87"]]);export{$e as default};
