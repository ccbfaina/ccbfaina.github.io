import{L as h}from"./ZOVG8cZy.js";import{_ as L,x as S,A as T,h as x,D as A,c as r,C as H,m as w,F as g,z as k,k as y,o as a,a as i,t as f,O as b}from"./Cxi2kjoR.js";const B={key:0,class:"print-page"},C={class:"day-header"},M={class:"event-list"},N=["innerHTML"],$={__name:"proximos",setup(E){const{lista:d}=S(),v=T({}),_=x(()=>{const c=new Date,n=new Date;n.setDate(c.getDate()+7);const u=e=>String(e).padStart(2,"0"),m=e=>{const s=new Date,t=new Date;s.setHours(0,0,0,0),t.setDate(s.getDate()+1),t.setHours(0,0,0,0);const o=new Date(e);return o.setHours(0,0,0,0),o.getTime()===s.getTime()?"Hoje":o.getTime()===t.getTime()?"Amanhã":`${u(e.getDate())}/${u(e.getMonth()+1)}`},l={};return d.events.filter(e=>{if(!(e!=null&&e.onDate))return!1;const s=new Date(e.onDate);return s>=c&&s<=n}).filter(e=>!["AVISOS À IRMANDADE"].includes(e.title)).forEach(e=>{const s=new Date(e.onDate),t=m(s);l[t]||(l[t]=[]),l[t].push(e)}),Object.entries(l).map(([e,s])=>({day:e,items:s.sort((t,o)=>{const D=new Date(t.onDate),p=new Date(o.onDate);return D-p||(t.event||"").localeCompare(o.event||"")||(t.title||"").localeCompare(o.title||"")})})).sort((e,s)=>{var D,p;const t=new Date((D=e.items[0])==null?void 0:D.onDate),o=new Date((p=s.items[0])==null?void 0:p.onDate);return t-o})});return A(()=>d.events,()=>{for(const c of d.events||[]){const n=c.title||"Sem título";n in v||(v[n]=!0)}},{immediate:!0}),(c,n)=>{const u=h;return a(),r("div",null,[w(d).loading?(a(),H(u,{key:0})):(a(),r(g,{key:1},[_.value.length?(a(),r("div",B,[(a(!0),r(g,null,y(_.value,({day:m,items:l})=>(a(),r("div",{key:m,class:"day-section"},[i("h2",C,f(m)+" "+f(l[0].formatWeek),1),i("dl",M,[(a(!0),r(g,null,y(l,e=>(a(),r("div",{key:e.id,class:"event-entry"},[n[0]||(n[0]=i("dt",null,"Título",-1)),i("dd",null,f(e.title),1),n[1]||(n[1]=i("dt",null,"Local",-1)),i("dd",null,f(e.locale),1),n[2]||(n[2]=i("dt",null,"Detalhes",-1)),e.desc?(a(),r("dd",{key:0,innerHTML:`${e.formatTime} - ${w(b)(e.desc)}`},null,8,N)):k("",!0)]))),128))])]))),128))])):k("",!0)],64))])}}},V=L($,[["__scopeId","data-v-10d3eb01"]]);export{V as default};
