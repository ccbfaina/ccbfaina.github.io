import{g as f,r as v,o as h,u as l,c as u,a,q as x,t as n,m as c,b as i}from"./Gy8ebMEN.js";const y={key:0,class:"my-2 p-2 bg-red-100 text-red-700 rounded"},E={__name:"teste",setup(b){const{auth:s,agenda:o}=f(),r=v(""),d=e=>e>0?[e/3600,e%3600/60,e%60].map(t=>String(Math.floor(t)).padStart(2,"0")).join(":"):"00:00:00",g=async()=>{r.value="";try{await s.signIn()}catch(e){r.value="Erro ao entrar: "+(e?.message||e)}},p=async()=>{r.value="";try{await s.signOut()}catch(e){r.value="Erro ao sair: "+(e?.message||e)}},m=async()=>{r.value="";const{$toast:e}=l();try{await e.promise(o.fetchGoogleEvents(["47cafc18f2792c5710809aae573052af940ed0b8d6a65dc2527f2c0063460c6a@group.calendar.google.com"],{timeMin:o.filters.start,timeMax:o.filters.end}),{pending:"Carregando eventos...",success:"Eventos carregados com sucesso!",error:{render({data:t}){return`Erro (${t?.result?.error?.code||""}) ao carregar eventos: ${t?.result?.error?.message||t?.message||t}`}}})}catch(t){r.value=`Erro (${t.result?.error?.code}) ao carregar eventos: ${t.result?.error?.message}`}};return h(()=>{const{$toast:e}=l();e.success("Agenda inicializada com sucesso!",{duration:500,position:"top-right"})}),(e,t)=>(i(),u("div",null,[a("button",{class:"px-4 py-2 bg-blue-600 text-white rounded flex items-center",onClick:g}," Entrar com Google "),a("button",{class:"px-4 py-2 bg-red-600 text-white rounded flex items-center",onClick:p}," Sair "+n(d(c(s).user.expires_countdown)),1),a("button",{class:"px-4 py-2 bg-blue-600 text-white rounded flex items-center",onClick:m}," Carregar eventos "),r.value?(i(),u("div",y,n(r.value),1)):x("",!0),a("pre",null,n(c(o).$state),1),a("pre",null,n(c(s).$state),1)]))}};export{E as default};
