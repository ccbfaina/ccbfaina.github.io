import{_ as y,h as k}from"./-GTKCaOu.js";import{_ as b,u as w,r as u,g as x,j as C,i as E,c as p,d as A,a as e,n as s,f as m,t as l,b as v,E as N}from"./mtdlktKo.js";const q={class:"grid-item main"},B={style:{"margin-top":"25px"}},L={class:"card uppercase"},R={class:"title uppercase"},V={class:"title"},D={class:"card uppercase"},I={key:1,class:"flex"},T={__name:"convite",setup(G){const{$toast:f}=w(),g=u(null),t=u(null),i=u(!1),{lista:c}=x(),o=C(()=>c.allEvents.find(n=>n.id===d.query?.id)),d=E();console.log(o,d.query?.id);const _=()=>{!!navigator.share?navigator.share({title:"Agenda",text:"Lista de Atendimento",url:location.href}).then(()=>f.success("Não foi possível compartilhar.")):(navigator.clipboard.writeText(location.href),f.success("URL copiada."))},h=async()=>{if(t.value){i.value=!0;const n=t.value.style.backgroundColor;t.value.style.backgroundColor="#fff";try{const a=await k(t.value,{backgroundColor:null,useCORS:!0,scrollY:-window.scrollY}),r=document.createElement("a");r.download="convite.png",r.href=a.toDataURL("image/png"),r.click(),console.log("Imagem gerada e download iniciado.")}catch(a){t.value.style.backgroundColor=n,console.error("Erro ao gerar a imagem:",a),alert("Não foi possível gerar a imagem. Verifique o console para mais detalhes.")}finally{t.value.style.backgroundColor=n,i.value=!1}}};return(n,a)=>{const r=y;return v(),p("div",null,[A(r,{show:i.value||s(c).loading},null,8,["show"]),s(o)?(v(),p("div",{key:0,class:"convite-wrapper",ref_key:"wrapperElement",ref:g},[e("div",{class:"convite-grid",ref_key:"conviteGridElement",ref:t},[a[2]||(a[2]=e("header",{class:"grid-item header"},[e("div",{class:"between"},[e("div",{class:"title"},[e("i",{class:"las la-bullhorn",style:{transform:"rotate(-8deg)"}}),m(" Atendimento ")])])],-1)),e("main",q,[e("div",B,[e("h1",L,l(s(o).title),1),e("p",null,l(n.item.locale),1)]),e("div",R,l(s(N)(s(o).desc)),1),e("div",V,[e("p",D,l(s(o).formatWeek),1),e("p",null,[a[0]||(a[0]=e("i",{class:"las la-calendar-check"},null,-1)),m(l(s(o)?.formatDate),1)]),e("p",null,[a[1]||(a[1]=e("i",{class:"las la-clock"},null,-1)),m("às "+l(s(o)?.formatTime),1)])])]),a[3]||(a[3]=e("footer",{class:"grid-item footer"},[e("p",null,"Lei n.13.709/2018 - Por favor, não filme!")],-1))],512)],512)):(v(),p("div",I,"Evento não encontrado")),e("div",{class:"flex menu"},[e("button",{onClick:_},a[4]||(a[4]=[e("i",{class:"las la-share-alt-square","aria-label":"Compartilhar",role:"img"},[e("span",{class:"sr-only"},"Compartilhar")],-1)])),e("button",{onClick:h},a[5]||(a[5]=[e("i",{class:"las la-file-download","aria-label":"Compartilhar",role:"img"},[e("span",{class:"sr-only"},"Baixar")],-1)])),a[6]||(a[6]=e("button",null,[e("i",{class:"las la-calendar"})],-1))]),e("pre",null,"      event: "+l(s(o))+`
      id: `+l(s(d).query?.id)+`
      all: `+l(s(c).allEvents.length)+`
    `,1)])}}},Y=b(T,[["__scopeId","data-v-bafb2e3a"]]);export{Y as default};
