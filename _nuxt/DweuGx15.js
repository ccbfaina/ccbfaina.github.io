import{r as p,j as I,A as V,c as o,a as t,F as E,n as x,k as _,v as m,t as b,x as r,b as u,e as g,Q as c,o as s,s as L,B as O}from"./D2TRSquu.js";const U={class:"lista-edit-container"},$={class:"tabs-container print-hide"},z={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},P=["id","aria-selected","onClick"],G={class:"tab-content"},Q={id:"tab-content-lista",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},q={class:"text-center flex flex-col items-center mb-4"},H={key:0},J={key:1},K={id:"tab-content-filters",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},W={id:"tab-content-print",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},X={id:"tab-content-create",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},Y={key:0,class:"flex justify-center items-center h-32 text-center"},Z={key:1,class:"text-center text-gray-500"},ee={key:2},te={key:0,class:"print-only"},ne={__name:"edit",setup(ae){const v=p([]),a=p([]),h=p(!1),l=p("lista"),T=[{id:"tab-create",key:"create",label:"",icon:"la:plus"},{id:"tab-filters",key:"filters",label:"",icon:"la:filter"},{id:"tab-print",key:"print",label:"",icon:"la:print"},{id:"tab-lista",key:"lista",label:"Lista"}];function N(e){a.value=e}function j(e){v.value=e}function w(){l.value="lista",setTimeout(()=>{window.print(),l.value="print"},500)}const y=I(()=>v.value.reduce((e,{title:n,...d})=>((e[n]||=[]).push(d),e),{})),k=e=>e?.replace(/-$/,"")?.trim();function C(e){console.log("Novo item adicionado:",e),v.value.push(e)}function B(e,n,d){console.log("Objeto alterado:",{item:e,field:n,newValue:d})}function D(e){y.value[e]&&y.value[e].push({id:Date.now(),date:"",locale:"",desc:""})}return V(()=>{h.value=!0}),(e,n)=>{const d=c("ListaFilterBar"),F=c("ListaCreateEvent"),S=c("ListaLoadingSpinner"),A=c("ListaNoEventsMessage"),M=c("ListaEventTableEdit"),R=c("ListaRegionalMessagem");return s(),o("div",U,[t("div",$,[t("nav",z,[(s(),o(E,null,x(T,i=>t("button",{id:i.id,key:i.id,"aria-selected":l.value===i.key,role:"tab",type:"button",class:L(["tab",{active:l.value===i.key}]),onClick:f=>l.value=i.key},[i.icon?(s(),o("i",{key:0,class:L(`la ${i.icon}`)},null,2)):b("",!0),g(" "+r(i.label),1)],10,P)),64))])]),t("div",G,[_(t("div",Q,[t("div",q,[n[0]||(n[0]=t("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),t("b",null,r(k(a.value?.list)),1),t("b",null,r(k(a.value?.locale)),1),a.value?.date?(s(),o("p",H," Data: "+r(a.value?.date?.split("T")[0]?.split("-")?.reverse()?.join("/")),1)):b("",!0),!a.value.date&&(a.value?.start||a.value?.end)?(s(),o("p",J," Período: "+r(a.value?.start?.split("T")[0]?.split("-")?.reverse()?.join("/"))+" à "+r(a.value?.end?.split("T")[0]?.split("-")?.reverse()?.join("/")),1)):b("",!0)])],512),[[m,l.value==="lista"]]),_(t("div",K,[u(d,{"onUpdate:filters":N,"onUpdate:filteredEventos":j})],512),[[m,l.value==="filters"]]),_(t("div",W,[n[2]||(n[2]=t("p",{class:"mb-4"},"Ajustes de impressão:",-1)),t("button",{class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-center flex items-center",onClick:w},[...n[1]||(n[1]=[t("i",{class:"la la-print"},null,-1),g(" Imprimir ",-1)])])],512),[[m,l.value==="print"]]),_(t("div",X,[u(F,{onUpdate:C})],512),[[m,l.value==="create"]])]),h.value?v.value.length===0?(s(),o("div",Z,[u(A)])):(s(),o("div",ee,[(s(!0),o(E,null,x(y.value,(i,f)=>(s(),O(M,{key:f,title:f,items:i,onEditEvent:B,onAddEmptyRow:D},null,8,["title","items"]))),128)),a.value?.list?.includes("REGIONAL")?(s(),o("div",te,[u(R)])):b("",!0)])):(s(),o("div",Y,[u(S)]))])}}};export{ne as default};
