import{r as p,j as I,o as V,c as o,a as t,F as E,p as x,m as _,v as m,y as b,t as r,d as u,f as g,P as c,b as s,x as L,k as O}from"#entry";const P={class:"lista-edit-container"},U={class:"tabs-container print-hide"},$={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},z=["id","aria-selected","onClick"],G={class:"tab-content"},q={id:"tab-content-lista",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},H={class:"text-center flex flex-col items-center mb-4"},J={key:0},K={key:1},Q={id:"tab-content-filters",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},W={id:"tab-content-print",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},X={id:"tab-content-create",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},Y={key:0,class:"flex justify-center items-center h-32 text-center"},Z={key:1,class:"text-center text-gray-500"},ee={key:2},te={key:0,class:"print-only"},ne={__name:"edit",setup(ae){const v=p([]),a=p([]),h=p(!1),l=p("lista"),T=[{id:"tab-create",key:"create",label:"",icon:"la:plus"},{id:"tab-filters",key:"filters",label:"",icon:"la:filter"},{id:"tab-print",key:"print",label:"",icon:"la:print"},{id:"tab-lista",key:"lista",label:"Lista"}];function N(e){a.value=e}function j(e){v.value=e}function w(){l.value="lista",setTimeout(()=>{window.print(),l.value="print"},500)}const y=I(()=>v.value.reduce((e,{title:n,...d})=>((e[n]||=[]).push(d),e),{})),k=e=>e?.replace(/-$/,"")?.trim();function C(e){console.log("Novo item adicionado:",e),v.value.push(e)}function D(e,n,d){console.log("Objeto alterado:",{item:e,field:n,newValue:d})}function F(e){y.value[e]&&y.value[e].push({id:Date.now(),date:"",locale:"",desc:""})}return V(()=>{h.value=!0}),(e,n)=>{const d=c("ListaFilterBar"),S=c("ListaCreateEvent"),B=c("ListaLoadingSpinner"),M=c("ListaNoEventsMessage"),R=c("ListaEventTableEdit"),A=c("ListaRegionalMessagem");return s(),o("div",P,[t("div",U,[t("nav",$,[(s(),o(E,null,x(T,i=>t("button",{id:i.id,key:i.id,"aria-selected":l.value===i.key,role:"tab",type:"button",class:L(["tab",{active:l.value===i.key}]),onClick:f=>l.value=i.key},[i.icon?(s(),o("i",{key:0,class:L(`la ${i.icon}`)},null,2)):b("",!0),g(" "+r(i.label),1)],10,z)),64))])]),t("div",G,[_(t("div",q,[t("div",H,[n[0]||(n[0]=t("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),t("b",null,r(k(a.value?.list)),1),t("b",null,r(k(a.value?.locale)),1),a.value?.date?(s(),o("p",J," Data: "+r(a.value?.date?.split("T")[0]?.split("-")?.reverse()?.join("/")),1)):b("",!0),!a.value.date&&(a.value?.start||a.value?.end)?(s(),o("p",K," Período: "+r(a.value?.start?.split("T")[0]?.split("-")?.reverse()?.join("/"))+" à "+r(a.value?.end?.split("T")[0]?.split("-")?.reverse()?.join("/")),1)):b("",!0)])],512),[[m,l.value==="lista"]]),_(t("div",Q,[u(d,{"onUpdate:filters":N,"onUpdate:filteredEventos":j})],512),[[m,l.value==="filters"]]),_(t("div",W,[n[2]||(n[2]=t("p",{class:"mb-4"},"Ajustes de impressão:",-1)),t("button",{class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-center flex items-center",onClick:w},[...n[1]||(n[1]=[t("i",{class:"la la-print"},null,-1),g(" Imprimir ",-1)])])],512),[[m,l.value==="print"]]),_(t("div",X,[u(S,{onUpdate:C})],512),[[m,l.value==="create"]])]),h.value?v.value.length===0?(s(),o("div",Z,[u(M)])):(s(),o("div",ee,[(s(!0),o(E,null,x(y.value,(i,f)=>(s(),O(R,{key:f,title:f,items:i,onEditEvent:D,onAddEmptyRow:F},null,8,["title","items"]))),128)),a.value?.list?.includes("REGIONAL")?(s(),o("div",te,[u(A)])):b("",!0)])):(s(),o("div",Y,[u(B)]))])}}};export{ne as default};
