import{_ as h,f as y,r as n,h as x,c as u,t as m,B as k,m as c,x as w,p as B,g as A,o as t}from"#entry";import{L as D}from"./DbEtIfB4.js";const L={class:"form-container"},T=["src"],z={key:1,class:"erro"},C={__name:"view",async setup(F){let s,l;const{$indexedDB:_}=y(),i=A(),r=n(""),e=n(!1),f=n(!0),{data:v,pending:d}=([s,l]=x(async()=>B("index-view-form",async()=>{try{const o=await _?.getTags({href:i.fullPath})||[],a=i.query.form;return a&&o.find(p=>p.url===a)?(r.value=a,e.value=!0):e.value=!1,o}catch(o){return console.error("Erro ao carregar tags do IndexedDB:",o),e.value=!1,[]}})),s=await s,l(),s);return(o,a)=>(t(),u("div",L,[e.value&&r.value?(t(),u("iframe",{key:0,src:r.value,onLoad:a[0]||(a[0]=g=>f.value=!1)}," Carregando… ",40,T)):!c(d)&&!e.value?(t(),u("div",z,w(c(v).length===0?"Nenhum formulário autorizado.":"O formulário solicitado não está autorizado."),1)):m("",!0),c(d)||e.value&&f.value?(t(),k(D,{key:2})):m("",!0)]))}},E=h(C,[["__scopeId","data-v-31effb84"]]);export{E as default};
