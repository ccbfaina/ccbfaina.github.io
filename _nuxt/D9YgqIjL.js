import{L as ce}from"./Bt_0sVw-.js";import{_ as ve,x as pe,r as k,h as E,A as fe,D as me,f as be,P as _e,c as o,C as le,m as i,F as z,a as t,z as f,n as _,t as d,i as S,v as x,b as ge,e as T,E as ne,k as $,L as he,o as s,N as se,O as ye}from"./Cox_WgAn.js";import{F as ke}from"./4nYoCYUE.js";import{a as Se,S as De,E as Ce}from"./B9cYe9GB.js";import"./BcZQbp_F.js";const ze={class:"tabs-container print-hide"},xe={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},Te=["aria-selected"],Ee={class:"badge"},$e=["aria-selected"],Ve=["aria-selected"],Le={class:"tab-content"},Fe={id:"tab-content-lista",role:"tabpanel"},Ie={class:"text-center"},je={key:0},we={key:1},Oe={key:2},Ae={key:3},Be={key:4},Me={id:"tab-content-filters",role:"tabpanel"},Ne={id:"tab-content-print",role:"tabpanel"},Ge={class:"text-center flex col items-center gap-4"},Pe={class:"p form-group flex items-center aling-center"},Ue={class:"a4 print-hide"},qe={class:"settings-list print-hide"},He=["onDragstart","onDragover","onDrop"],Re=["onClick"],We={key:0,class:"print-page"},Ke=["onDragstart","onDragover","onDrop"],Je={class:"table-container"},Qe={colspan:"5"},Xe={class:"flex items-center aling-center justify-center"},Ye=["onClick"],Ze={key:0},et={key:0},tt={key:0},lt=["innerHTML"],nt={__name:"index",setup(st){const{lista:r}=pe(),u=k("lista"),c=k({fontSize:17}),V=k([]),v=E(()=>{const l={};return V.value.forEach(e=>{const p=e.title||"Sem título";(l[p]||(l[p]=[])).push(e)}),Object.entries(l).sort(([e],[p])=>e.localeCompare(p,"pt-BR")).map(([e,p])=>({title:e,items:p.slice().sort((h,y)=>h.onDate&&y.onDate?h.onDate-y.onDate:h.onDate?-1:y.onDate?1:0)}))});function ae(l){V.value=l}function oe(){c.value.fontSize<10&&(c.value.fontSize=10),c.value.fontSize>25&&(c.value.fontSize=25),c.value.fontSize=Math.round(c.value.fontSize*10)/10}const L=l=>{var e;return(e=l==null?void 0:l.replace(/-$/,""))==null?void 0:e.trim()},ie=l=>{if(!l)return 0;let e=0;return l.search&&e++,l.title&&e++,l.locale&&e++,l.date&&e++,l.calendars&&l.calendars.length>0&&e++,e},re=()=>{u.value="lista",setTimeout(()=>{window.print()},1e3)},ue=E(()=>ie(r.filters)),g=k(null),D=k(null),F=l=>{g.value=l},I=l=>{D.value=l},j=l=>{if(g.value===null||g.value===l){g.value=null,D.value=null;return}const e=v.value.slice(),[p]=e.splice(g.value,1);e.splice(l,0,p),v.value=e,g.value=null,D.value=null},b=fe({});me(v,()=>{v.value&&v.value.forEach(l=>{l.title in b||(b[l.title]=!0)})},{immediate:!0});const w=l=>{u.value="print",b[l]=!b[l]},O=E(()=>v.value.length>0&&v.value.every(l=>b[l.title])),de=l=>{v.value.forEach(e=>{b[e.title]=l})},C=k(null);return be(()=>{C.value=new Se({extensions:[De],content:`
      <p>Oração Santa Ceia</p>
      <p><strong>Pão:</strong> "Senhor, abençoa este Pão que vamos comer, que é a comunhão do Corpo de Cristo."</p>
      <p><strong>Cálice:</strong> "Senhor, abençoa o Cálice que vamos beber, que é a comunhão do Sangue de Cristo."</p>
    `,editable:!0})}),_e(()=>{C.value&&C.value.destroy()}),(l,e)=>{var h,y,A,B,M,N,G,P,U,q,H,R,W,K,J,Q,X,Y,Z,ee,te;const p=ce;return s(),o("div",{style:he({fontSize:c.value.fontSize+"px"})},[i(r).loading?(s(),le(p,{key:0})):(s(),o(z,{key:1},[t("div",ze,[t("nav",xe,[t("span",{id:"tab-filters","aria-selected":u.value==="filters",role:"tab",type:"button",class:_(["tab",{active:u.value==="filters"}]),style:{position:"relative"},onClick:e[0]||(e[0]=n=>u.value="filters")},[t("span",Ee,d(ue.value),1),e[6]||(e[6]=t("i",{class:"la la-filter z-10"},null,-1))],10,Te),t("span",{id:"tab-print","aria-selected":u.value==="print",role:"tab",type:"button",class:_(["tab",{active:u.value==="print"}]),onClick:e[1]||(e[1]=n=>u.value="print")},e[7]||(e[7]=[t("i",{class:"la la-print"},null,-1)]),10,$e),t("span",{id:"tab-lista","aria-selected":u.value==="lista",role:"tab",type:"button",class:_(["tab",{active:u.value==="lista"}]),onClick:e[2]||(e[2]=n=>u.value="lista")}," Lista ",10,Ve)])]),t("div",null,[t("div",Le,[S(t("div",Fe,[t("div",Ie,[e[8]||(e[8]=t("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),(h=i(r).filters)!=null&&h.calendars?(s(),o("div",je,[t("b",null,d((((y=i(r).filters)==null?void 0:y.calendars)||[]).map(n=>L(n)).join(", ")),1)])):f("",!0),(A=i(r).filters)!=null&&A.locale?(s(),o("span",we,[t("b",null,d(L((B=i(r).filters)==null?void 0:B.locale)),1)])):f("",!0),(M=i(r).filters)!=null&&M.date?(s(),o("span",Oe," Data: "+d((U=(P=(G=(N=i(r).filters.date)==null?void 0:N.split("T")[0])==null?void 0:G.split("-"))==null?void 0:P.reverse())==null?void 0:U.join("/")),1)):f("",!0),!i(r).filters.date&&((q=i(r).filters)!=null&&q.start||(H=i(r).filters)!=null&&H.end)?(s(),o("div",Ae," Período: "+d((Q=(J=(K=(W=(R=i(r).filters)==null?void 0:R.start)==null?void 0:W.split("T")[0])==null?void 0:K.split("-"))==null?void 0:J.reverse())==null?void 0:Q.join("/"))+" à "+d((te=(ee=(Z=(Y=(X=i(r).filters)==null?void 0:X.end)==null?void 0:Y.split("T")[0])==null?void 0:Z.split("-"))==null?void 0:ee.reverse())==null?void 0:te.join("/")),1)):f("",!0),i(r).filters.search?(s(),o("div",Be,d(i(r).filters.search),1)):f("",!0)])],512),[[x,u.value==="lista"]]),S(t("div",Me,[ge(ke,{"onUpdate:filtered":ae})],512),[[x,u.value==="filters"]]),S(t("div",Ne,[t("div",Ge,[e[12]||(e[12]=t("b",{class:"mb-4 p"},"Ajustes de impressão:",-1)),t("div",Pe,[e[9]||(e[9]=t("label",null,"Fonte",-1)),S(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>c.value.fontSize=n),type:"range",min:"10",max:"25",step:"0.1",placeholder:"Font Size"},null,512),[[ne,c.value.fontSize,void 0,{number:!0}]]),S(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>c.value.fontSize=n),type:"number",min:"10",max:"25",step:"0.1",style:{width:"70px","margin-left":"8px"},onInput:oe},null,544),[[ne,c.value.fontSize,void 0,{number:!0}]]),e[10]||(e[10]=T(" px "))]),t("div",{class:"p"},[t("button",{class:"success",onClick:re},e[11]||(e[11]=[t("i",{class:"la la-print"},null,-1),T(" Imprimir ")]))])]),t("div",Ue,[t("div",qe,[e[13]||(e[13]=t("b",null,"Lista",-1)),t("div",null,[t("i",{class:_(["la",O.value?"la-toggle-on":"la-toggle-off"]),title:"Ocultar todos",onClick:e[5]||(e[5]=n=>de(!O.value))},null,2)])]),(s(!0),o(z,null,$(v.value,(n,m)=>(s(),o("div",{key:n.title,class:_(["settings-list print-hide",{"drag-over":D.value===m}]),draggable:"true",onDragstart:a=>F(m),onDragover:se(a=>I(m),["prevent"]),onDrop:a=>j(m)},[T(d(n.title)+" ",1),t("i",{class:_(["la",b[n.title]?"la-toggle-on":"la-toggle-off"]),title:"Alterar visibilidade",onClick:a=>w(n.title)},null,10,Re)],42,He))),128))])],512),[[x,u.value==="print"]])])]),v.value.length?(s(),o("div",We,[(s(!0),o(z,null,$(v.value,(n,m)=>S((s(),o("div",{key:n.title,class:_(["table-list",{"drag-over":D.value===m}]),draggable:"true",style:{cursor:"move"},onDragstart:a=>F(m),onDragover:se(a=>I(m),["prevent"]),onDrop:a=>j(m)},[t("div",Je,[t("table",null,[t("thead",null,[t("tr",null,[t("th",Qe,[t("div",Xe,[T(d(n.title)+" ",1),t("i",{class:"la la-toggle-on print-hide",style:{cursor:"pointer"},onClick:a=>w(n.title)},null,8,Ye)])])])]),t("tbody",null,[(s(!0),o(z,null,$(n.items,a=>(s(),o("tr",{key:a.id},[t("td",null,[a.formatDate?(s(),o("span",Ze,d(a.formatDate),1)):f("",!0)]),t("td",null,[a.formatWeek?(s(),o("span",et,d(a.formatWeek),1)):f("",!0)]),t("td",null,[a.formatTime?(s(),o("span",tt,d(a.formatTime),1)):f("",!0)]),t("td",null,d(a.locale),1),t("td",null,[a.desc?(s(),o("span",{key:0,innerHTML:i(ye)(a.desc)},null,8,lt)):f("",!0)])]))),128))])])])],42,Ke)),[[x,b[n.title]]])),128)),C.value?(s(),le(i(Ce),{key:0,editor:C.value,class:"editable"},null,8,["editor"])):f("",!0)])):f("",!0)],64))],4)}}},ct=ve(nt,[["__scopeId","data-v-317c0518"]]);export{ct as default};
