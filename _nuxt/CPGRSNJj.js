const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C3k0K0RK.js","./index.BXC-kMxL.css","./ogIjDjE8.js","./sobre.c9vjT2Gh.css","./Dz8W_Bcg.js","./DxGekH0p.js","./LoadingSpinner.B8lNEaQd.css","./agenda.BLDgRcI3.css","./BrG3FQ9L.js","./perfil.NIbQGJpK.css","./tIJWH_xx.js","./D0Dr7phT.js","./BlSOZO3q.js","./eventos.BNNYPXRk.css","./CH_qQSz2.js","./navegar.DXE9DLXy.css","./B3TTzcI5.js","./recentes.xXa5L1-o.css","./BwU4Rk2b.js","./servicos.DXKw4MpX.css","./CD00gXOZ.js","./settings.D81KzNVB.css","./hQ6PYla6.js","./view.Cgllb6Jc.css","./CcfTsluV.js","./index.C01wgp59.css","./C-fJpana.js","./index.BsZu2C0V.css","./DhLKuG8v.js","./index.D044gGT0.css","./D3GhYwk4.js","./contato.3ci9Le7x.css","./WXRnlHAn.js","./calendar.DviLHcB8.css","./CADOhUKT.js","./solicitar.C0T4GfkF.css","./CHQnh2ww.js","./manutencao.DIm-6Bk8.css","./BiC3ZW8T.js","./levantamento_preventiva.D-3OeP-V.css","./BccrEfUY.js","./DVRzMo9P.js","./DcV_niIN.js","./menu.0lHMkiB6.css","./default.BllfGIqY.css","./C3huEMbv.js","./form.D8ztOVBm.css","./B2drjIQJ.js","./C1KcFNN8.js","./landscape.BFEAchZd.css","./CiXMYJe1.js","./noscroll.DrWb4tOw.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function um(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const St={},Ta=[],jr=()=>{},Vw=()=>!1,Cu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lm=t=>t.startsWith("onUpdate:"),dn=Object.assign,fm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},PA=Object.prototype.hasOwnProperty,vt=(t,e)=>PA.call(t,e),qe=Array.isArray,Ia=t=>ec(t)==="[object Map]",Ff=t=>ec(t)==="[object Set]",Gg=t=>ec(t)==="[object Date]",kA=t=>ec(t)==="[object RegExp]",He=t=>typeof t=="function",$t=t=>typeof t=="string",ps=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",hm=t=>(Tt(t)||He(t))&&He(t.then)&&He(t.catch),Fw=Object.prototype.toString,ec=t=>Fw.call(t),OA=t=>ec(t).slice(8,-1),dm=t=>ec(t)==="[object Object]",pm=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Aa=um(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uf=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},DA=/-\w/g,Ar=Uf(t=>t.replace(DA,e=>e.slice(1).toUpperCase())),xA=/\B([A-Z])/g,Hi=Uf(t=>t.replace(xA,"-$1").toLowerCase()),$f=Uf(t=>t.charAt(0).toUpperCase()+t.slice(1)),jh=Uf(t=>t?`on${$f(t)}`:""),ki=(t,e)=>!Object.is(t,e),Sa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Uw=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Hl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$w=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let Qg;const jf=()=>Qg||(Qg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mm(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=$t(r)?VA(r):mm(r);if(s)for(const i in s)e[i]=s[i]}return e}else if($t(t)||Tt(t))return t}const NA=/;(?![^(]*\))/g,MA=/:([^]+)/,LA=/\/\*[^]*?\*\//g;function VA(t){const e={};return t.replace(LA,"").split(NA).forEach(n=>{if(n){const r=n.split(MA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gm(t){let e="";if($t(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const r=gm(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const FA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UA=um(FA);function jw(t){return!!t||t===""}function $A(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Bf(t[r],e[r]);return n}function Bf(t,e){if(t===e)return!0;let n=Gg(t),r=Gg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ps(t),r=ps(e),n||r)return t===e;if(n=qe(t),r=qe(e),n||r)return n&&r?$A(t,e):!1;if(n=Tt(t),r=Tt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Bf(t[o],e[o]))return!1}}return String(t)===String(e)}function jA(t,e){return t.findIndex(n=>Bf(n,e))}const Bw=t=>!!(t&&t.__v_isRef===!0),Kl=t=>$t(t)?t:t==null?"":qe(t)||Tt(t)&&(t.toString===Fw||!He(t.toString))?Bw(t)?Kl(t.value):JSON.stringify(t,qw,2):String(t),qw=(t,e)=>Bw(e)?qw(t,e.value):Ia(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Bh(r,i)+" =>"]=s,n),{})}:Ff(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bh(n))}:ps(e)?Bh(e):Tt(e)&&!qe(e)&&!dm(e)?String(e):e,Bh=(t,e="")=>{var n;return ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function BA(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;class Hw{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rn,!e&&Rn&&(this.index=(Rn.scopes||(Rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Rn;try{return Rn=this,e()}finally{Rn=n}}}on(){++this._on===1&&(this.prevScope=Rn,Rn=this)}off(){this._on>0&&--this._on===0&&(Rn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ym(t){return new Hw(t)}function tc(){return Rn}function ru(t,e=!1){Rn&&Rn.cleanups.push(t)}let Rt;const qh=new WeakSet;class Kw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rn&&Rn.active&&Rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qh.has(this)&&(qh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ww(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yg(this),Gw(this);const e=Rt,n=Br;Rt=this,Br=!0;try{return this.fn()}finally{Qw(this),Rt=e,Br=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wm(e);this.deps=this.depsTail=void 0,Yg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wd(this)&&this.run()}get dirty(){return Wd(this)}}let zw=0,$c,jc;function Ww(t,e=!1){if(t.flags|=8,e){t.next=jc,jc=t;return}t.next=$c,$c=t}function _m(){zw++}function vm(){if(--zw>0)return;if(jc){let e=jc;for(jc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;$c;){let e=$c;for($c=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Gw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Qw(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),wm(r),qA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Wd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Yw(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Yw(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===su)||(t.globalVersion=su,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Wd(t))))return;t.flags|=2;const e=t.dep,n=Rt,r=Br;Rt=t,Br=!0;try{Gw(t);const s=t.fn(t._value);(e.version===0||ki(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Rt=n,Br=r,Qw(t),t.flags&=-3}}function wm(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)wm(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function qA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Br=!0;const Jw=[];function Qs(){Jw.push(Br),Br=!1}function Ys(){const t=Jw.pop();Br=t===void 0?!0:t}function Yg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Rt;Rt=void 0;try{e()}finally{Rt=n}}}let su=0;class HA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Rt||!Br||Rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Rt)n=this.activeLink=new HA(Rt,this),Rt.deps?(n.prevDep=Rt.depsTail,Rt.depsTail.nextDep=n,Rt.depsTail=n):Rt.deps=Rt.depsTail=n,Xw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Rt.depsTail,n.nextDep=void 0,Rt.depsTail.nextDep=n,Rt.depsTail=n,Rt.deps===n&&(Rt.deps=r)}return n}trigger(e){this.version++,su++,this.notify(e)}notify(e){_m();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vm()}}}function Xw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Xw(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const zl=new WeakMap,Oo=Symbol(""),Gd=Symbol(""),iu=Symbol("");function Pn(t,e,n){if(Br&&Rt){let r=zl.get(t);r||zl.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new qf),s.map=r,s.key=n),s.track()}}function $s(t,e,n,r,s,i){const o=zl.get(t);if(!o){su++;return}const a=l=>{l&&l.trigger()};if(_m(),e==="clear")o.forEach(a);else{const l=qe(t),f=l&&pm(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,y)=>{(y==="length"||y===iu||!ps(y)&&y>=d)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),f&&a(o.get(iu)),e){case"add":l?f&&a(o.get("length")):(a(o.get(Oo)),Ia(t)&&a(o.get(Gd)));break;case"delete":l||(a(o.get(Oo)),Ia(t)&&a(o.get(Gd)));break;case"set":Ia(t)&&a(o.get(Oo));break}}vm()}function KA(t,e){const n=zl.get(t);return n&&n.get(e)}function la(t){const e=Ge(t);return e===t?e:(Pn(e,"iterate",iu),br(t)?e:e.map(vn))}function Hf(t){return Pn(t=Ge(t),"iterate",iu),t}const zA={__proto__:null,[Symbol.iterator](){return Hh(this,Symbol.iterator,vn)},concat(...t){return la(this).concat(...t.map(e=>qe(e)?la(e):e))},entries(){return Hh(this,"entries",t=>(t[1]=vn(t[1]),t))},every(t,e){return Ns(this,"every",t,e,void 0,arguments)},filter(t,e){return Ns(this,"filter",t,e,n=>n.map(vn),arguments)},find(t,e){return Ns(this,"find",t,e,vn,arguments)},findIndex(t,e){return Ns(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ns(this,"findLast",t,e,vn,arguments)},findLastIndex(t,e){return Ns(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ns(this,"forEach",t,e,void 0,arguments)},includes(...t){return Kh(this,"includes",t)},indexOf(...t){return Kh(this,"indexOf",t)},join(t){return la(this).join(t)},lastIndexOf(...t){return Kh(this,"lastIndexOf",t)},map(t,e){return Ns(this,"map",t,e,void 0,arguments)},pop(){return Cc(this,"pop")},push(...t){return Cc(this,"push",t)},reduce(t,...e){return Jg(this,"reduce",t,e)},reduceRight(t,...e){return Jg(this,"reduceRight",t,e)},shift(){return Cc(this,"shift")},some(t,e){return Ns(this,"some",t,e,void 0,arguments)},splice(...t){return Cc(this,"splice",t)},toReversed(){return la(this).toReversed()},toSorted(t){return la(this).toSorted(t)},toSpliced(...t){return la(this).toSpliced(...t)},unshift(...t){return Cc(this,"unshift",t)},values(){return Hh(this,"values",vn)}};function Hh(t,e,n){const r=Hf(t),s=r[e]();return r!==t&&!br(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const WA=Array.prototype;function Ns(t,e,n,r,s,i){const o=Hf(t),a=o!==t&&!br(t),l=o[e];if(l!==WA[e]){const p=l.apply(t,i);return a?vn(p):p}let f=n;o!==t&&(a?f=function(p,y){return n.call(this,vn(p),y,t)}:n.length>2&&(f=function(p,y){return n.call(this,p,y,t)}));const d=l.call(o,f,r);return a&&s?s(d):d}function Jg(t,e,n,r){const s=Hf(t);let i=n;return s!==t&&(br(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,vn(a),l,t)}),s[e](i,...r)}function Kh(t,e,n){const r=Ge(t);Pn(r,"iterate",iu);const s=r[e](...n);return(s===-1||s===!1)&&Tm(n[0])?(n[0]=Ge(n[0]),r[e](...n)):s}function Cc(t,e,n=[]){Qs(),_m();const r=Ge(t)[e].apply(t,n);return vm(),Ys(),r}const GA=um("__proto__,__v_isRef,__isVue"),Zw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ps));function QA(t){ps(t)||(t=String(t));const e=Ge(this);return Pn(e,"has",t),e.hasOwnProperty(t)}class eb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?iS:sb:i?rb:nb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=qe(e);if(!s){let l;if(o&&(l=zA[n]))return l;if(n==="hasOwnProperty")return QA}const a=Reflect.get(e,n,Ut(e)?e:r);if((ps(n)?Zw.has(n):GA(n))||(s||Pn(e,"get",n),i))return a;if(Ut(a)){const l=o&&pm(n)?a:a.value;return s&&Tt(l)?Yd(l):l}return Tt(a)?s?Yd(a):un(a):a}}class tb extends eb{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Js(i);if(!br(r)&&!Js(r)&&(i=Ge(i),r=Ge(r)),!qe(e)&&Ut(i)&&!Ut(r))return l||(i.value=r),!0}const o=qe(e)&&pm(n)?Number(n)<e.length:vt(e,n),a=Reflect.set(e,n,r,Ut(e)?e:s);return e===Ge(s)&&(o?ki(r,i)&&$s(e,"set",n,r):$s(e,"add",n,r)),a}deleteProperty(e,n){const r=vt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&$s(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ps(n)||!Zw.has(n))&&Pn(e,"has",n),r}ownKeys(e){return Pn(e,"iterate",qe(e)?"length":Oo),Reflect.ownKeys(e)}}class YA extends eb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const JA=new tb,XA=new YA,ZA=new tb(!0);const Qd=t=>t,sl=t=>Reflect.getPrototypeOf(t);function eS(t,e,n){return function(...r){const s=this.__v_raw,i=Ge(s),o=Ia(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=s[t](...r),d=n?Qd:e?Wl:vn;return!e&&Pn(i,"iterate",l?Gd:Oo),{next(){const{value:p,done:y}=f.next();return y?{value:p,done:y}:{value:a?[d(p[0]),d(p[1])]:d(p),done:y}},[Symbol.iterator](){return this}}}}function il(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tS(t,e){const n={get(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);t||(ki(s,a)&&Pn(o,"get",s),Pn(o,"get",a));const{has:l}=sl(o),f=e?Qd:t?Wl:vn;if(l.call(o,s))return f(i.get(s));if(l.call(o,a))return f(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Pn(Ge(s),"iterate",Oo),s.size},has(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);return t||(ki(s,a)&&Pn(o,"has",s),Pn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Ge(a),f=e?Qd:t?Wl:vn;return!t&&Pn(l,"iterate",Oo),a.forEach((d,p)=>s.call(i,f(d),f(p),o))}};return dn(n,t?{add:il("add"),set:il("set"),delete:il("delete"),clear:il("clear")}:{add(s){!e&&!br(s)&&!Js(s)&&(s=Ge(s));const i=Ge(this);return sl(i).has.call(i,s)||(i.add(s),$s(i,"add",s,s)),this},set(s,i){!e&&!br(i)&&!Js(i)&&(i=Ge(i));const o=Ge(this),{has:a,get:l}=sl(o);let f=a.call(o,s);f||(s=Ge(s),f=a.call(o,s));const d=l.call(o,s);return o.set(s,i),f?ki(i,d)&&$s(o,"set",s,i):$s(o,"add",s,i),this},delete(s){const i=Ge(this),{has:o,get:a}=sl(i);let l=o.call(i,s);l||(s=Ge(s),l=o.call(i,s)),a&&a.call(i,s);const f=i.delete(s);return l&&$s(i,"delete",s,void 0),f},clear(){const s=Ge(this),i=s.size!==0,o=s.clear();return i&&$s(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=eS(s,t,e)}),n}function bm(t,e){const n=tS(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(vt(n,s)&&s in r?n:r,s,i)}const nS={get:bm(!1,!1)},rS={get:bm(!1,!0)},sS={get:bm(!0,!1)};const nb=new WeakMap,rb=new WeakMap,sb=new WeakMap,iS=new WeakMap;function oS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aS(t){return t.__v_skip||!Object.isExtensible(t)?0:oS(OA(t))}function un(t){return Js(t)?t:Em(t,!1,JA,nS,nb)}function cs(t){return Em(t,!1,ZA,rS,rb)}function Yd(t){return Em(t,!0,XA,sS,sb)}function Em(t,e,n,r,s){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=aS(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function zs(t){return Js(t)?zs(t.__v_raw):!!(t&&t.__v_isReactive)}function Js(t){return!!(t&&t.__v_isReadonly)}function br(t){return!!(t&&t.__v_isShallow)}function Tm(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function Im(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&Uw(t,"__v_skip",!0),t}const vn=t=>Tt(t)?un(t):t,Wl=t=>Tt(t)?Yd(t):t;function Ut(t){return t?t.__v_isRef===!0:!1}function Ft(t){return ib(t,!1)}function Xs(t){return ib(t,!0)}function ib(t,e){return Ut(t)?t:new cS(t,e)}class cS{constructor(e,n){this.dep=new qf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:vn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||br(e)||Js(e);e=r?e:Ge(e),ki(e,n)&&(this._rawValue=e,this._value=r?e:vn(e),this.dep.trigger())}}function Ct(t){return Ut(t)?t.value:t}function Vr(t){return He(t)?t():Ct(t)}const uS={get:(t,e,n)=>e==="__v_raw"?t:Ct(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ut(s)&&!Ut(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function ob(t){return zs(t)?t:new Proxy(t,uS)}class lS{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new qf,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function fS(t){return new lS(t)}function hS(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=cb(t,n);return e}class dS{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return KA(Ge(this._object),this._key)}}class pS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ab(t,e,n){return Ut(t)?t:He(t)?new pS(t):Tt(t)&&arguments.length>1?cb(t,e,n):Ft(t)}function cb(t,e,n){const r=t[e];return Ut(r)?r:new dS(t,e,n)}class mS{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new qf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=su-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Rt!==this)return Ww(this,!0),!0}get value(){const e=this.dep.track();return Yw(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gS(t,e,n=!1){let r,s;return He(t)?r=t:(r=t.get,s=t.set),new mS(r,s,n)}const ol={},Gl=new WeakMap;let To;function yS(t,e=!1,n=To){if(n){let r=Gl.get(n);r||Gl.set(n,r=[]),r.push(t)}}function _S(t,e,n=St){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,f=x=>s?x:br(x)||s===!1||s===0?js(x,1):js(x);let d,p,y,v,E=!1,A=!1;if(Ut(t)?(p=()=>t.value,E=br(t)):zs(t)?(p=()=>f(t),E=!0):qe(t)?(A=!0,E=t.some(x=>zs(x)||br(x)),p=()=>t.map(x=>{if(Ut(x))return x.value;if(zs(x))return f(x);if(He(x))return l?l(x,2):x()})):He(t)?e?p=l?()=>l(t,2):t:p=()=>{if(y){Qs();try{y()}finally{Ys()}}const x=To;To=d;try{return l?l(t,3,[v]):t(v)}finally{To=x}}:p=jr,e&&s){const x=p,$=s===!0?1/0:s;p=()=>js(x(),$)}const L=tc(),H=()=>{d.stop(),L&&L.active&&fm(L.effects,d)};if(i&&e){const x=e;e=(...$)=>{x(...$),H()}}let U=A?new Array(t.length).fill(ol):ol;const P=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const $=d.run();if(s||E||(A?$.some((ne,D)=>ki(ne,U[D])):ki($,U))){y&&y();const ne=To;To=d;try{const D=[$,U===ol?void 0:A&&U[0]===ol?[]:U,v];U=$,l?l(e,3,D):e(...D)}finally{To=ne}}}else d.run()};return a&&a(P),d=new Kw(p),d.scheduler=o?()=>o(P,!1):P,v=x=>yS(x,!1,d),y=d.onStop=()=>{const x=Gl.get(d);if(x){if(l)l(x,4);else for(const $ of x)$();Gl.delete(d)}},e?r?P(!0):U=d.run():o?o(P.bind(null,!0),!0):d.run(),H.pause=d.pause.bind(d),H.resume=d.resume.bind(d),H.stop=H,H}function js(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ut(t))js(t.value,e,n);else if(qe(t))for(let r=0;r<t.length;r++)js(t[r],e,n);else if(Ff(t)||Ia(t))t.forEach(r=>{js(r,e,n)});else if(dm(t)){for(const r in t)js(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&js(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pu(t,e,n,r){try{return r?t(...r):t()}catch(s){nc(s,e,n)}}function Hr(t,e,n,r){if(He(t)){const s=Pu(t,e,n,r);return s&&hm(s)&&s.catch(i=>{nc(i,e,n)}),s}if(qe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Hr(t[i],e,n,r));return s}}function nc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||St;if(e){let a=e.parent;const l=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,l,f)===!1)return}a=a.parent}if(i){Qs(),Pu(i,null,10,[t,l,f]),Ys();return}}vS(t,n,s,r,o)}function vS(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Bn=[];let ss=-1;const Ra=[];let bi=null,pa=0;const ub=Promise.resolve();let Ql=null;function cr(t){const e=Ql||ub;return t?e.then(this?t.bind(this):t):e}function wS(t){let e=ss+1,n=Bn.length;for(;e<n;){const r=e+n>>>1,s=Bn[r],i=au(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Am(t){if(!(t.flags&1)){const e=au(t),n=Bn[Bn.length-1];!n||!(t.flags&2)&&e>=au(n)?Bn.push(t):Bn.splice(wS(e),0,t),t.flags|=1,lb()}}function lb(){Ql||(Ql=ub.then(fb))}function ou(t){qe(t)?Ra.push(...t):bi&&t.id===-1?bi.splice(pa+1,0,t):t.flags&1||(Ra.push(t),t.flags|=1),lb()}function Xg(t,e,n=ss+1){for(;n<Bn.length;n++){const r=Bn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Bn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Yl(t){if(Ra.length){const e=[...new Set(Ra)].sort((n,r)=>au(n)-au(r));if(Ra.length=0,bi){bi.push(...e);return}for(bi=e,pa=0;pa<bi.length;pa++){const n=bi[pa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bi=null,pa=0}}const au=t=>t.id==null?t.flags&2?-1:1/0:t.id;function fb(t){try{for(ss=0;ss<Bn.length;ss++){const e=Bn[ss];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ss<Bn.length;ss++){const e=Bn[ss];e&&(e.flags&=-2)}ss=-1,Bn.length=0,Yl(),Ql=null,(Bn.length||Ra.length)&&fb()}}let ir=null,hb=null;function Jl(t){const e=ir;return ir=t,hb=t&&t.type.__scopeId||null,e}function Ro(t,e=ir,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&nf(-1);const i=Jl(e);let o;try{o=t(...s)}finally{Jl(i),r._d&&nf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function oj(t,e){if(ir===null)return t;const n=Gf(ir),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=St]=e[s];i&&(He(i)&&(i={mounted:i,updated:i}),i.deep&&js(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function is(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Qs(),Hr(l,n,8,[t.el,a,t,e]),Ys())}}const bS=Symbol("_vte"),db=t=>t.__isTeleport,Us=Symbol("_leaveCb"),al=Symbol("_enterCb");function ES(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qo(()=>{t.isMounted=!0}),rc(()=>{t.isUnmounting=!0}),t}const _r=[Function,Array],pb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_r,onEnter:_r,onAfterEnter:_r,onEnterCancelled:_r,onBeforeLeave:_r,onLeave:_r,onAfterLeave:_r,onLeaveCancelled:_r,onBeforeAppear:_r,onAppear:_r,onAfterAppear:_r,onAppearCancelled:_r},mb=t=>{const e=t.subTree;return e.component?mb(e.component):e},TS={name:"BaseTransition",props:pb,setup(t,{slots:e}){const n=oi(),r=ES();return()=>{const s=e.default&&_b(e.default(),!0);if(!s||!s.length)return;const i=gb(s),o=Ge(t),{mode:a}=o;if(r.isLeaving)return zh(i);const l=Zg(i);if(!l)return zh(i);let f=Jd(l,o,r,n,p=>f=p);l.type!==an&&Ua(l,f);let d=n.subTree&&Zg(n.subTree);if(d&&d.type!==an&&!Fr(d,l)&&mb(n).type!==an){let p=Jd(d,o,r,n);if(Ua(d,p),a==="out-in"&&l.type!==an)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},zh(i);a==="in-out"&&l.type!==an?p.delayLeave=(y,v,E)=>{const A=yb(r,d);A[String(d.key)]=d,y[Us]=()=>{v(),y[Us]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{E(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function gb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==an){e=n;break}}return e}const IS=TS;function yb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Jd(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:y,onLeave:v,onAfterLeave:E,onLeaveCancelled:A,onBeforeAppear:L,onAppear:H,onAfterAppear:U,onAppearCancelled:P}=e,x=String(t.key),$=yb(n,t),ne=(I,k)=>{I&&Hr(I,r,9,k)},D=(I,k)=>{const V=k[1];ne(I,k),qe(I)?I.every(M=>M.length<=1)&&V():I.length<=1&&V()},S={mode:o,persisted:a,beforeEnter(I){let k=l;if(!n.isMounted)if(i)k=L||l;else return;I[Us]&&I[Us](!0);const V=$[x];V&&Fr(t,V)&&V.el[Us]&&V.el[Us](),ne(k,[I])},enter(I){let k=f,V=d,M=p;if(!n.isMounted)if(i)k=H||f,V=U||d,M=P||p;else return;let R=!1;const Pe=I[al]=$e=>{R||(R=!0,$e?ne(M,[I]):ne(V,[I]),S.delayedLeave&&S.delayedLeave(),I[al]=void 0)};k?D(k,[I,Pe]):Pe()},leave(I,k){const V=String(t.key);if(I[al]&&I[al](!0),n.isUnmounting)return k();ne(y,[I]);let M=!1;const R=I[Us]=Pe=>{M||(M=!0,k(),Pe?ne(A,[I]):ne(E,[I]),I[Us]=void 0,$[V]===t&&delete $[V])};$[V]=t,v?D(v,[I,R]):R()},clone(I){const k=Jd(I,e,n,r,s);return s&&s(k),k}};return S}function zh(t){if(ku(t))return t=ms(t),t.children=null,t}function Zg(t){if(!ku(t))return db(t.type)&&t.children?gb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&He(n.default))return n.default()}}function Ua(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ua(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _b(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===kn?(o.patchFlag&128&&s++,r=r.concat(_b(o.children,e,a))):(e||o.type!==an)&&r.push(a!=null?ms(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Jt(t,e){return He(t)?dn({name:t.name},e,{setup:t}):t}function Sm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Xl=new WeakMap;function Ca(t,e,n,r,s=!1){if(qe(t)){t.forEach((E,A)=>Ca(E,e&&(qe(e)?e[A]:e),n,r,s));return}if(Do(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ca(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Gf(r.component):r.el,o=s?null:i,{i:a,r:l}=t,f=e&&e.r,d=a.refs===St?a.refs={}:a.refs,p=a.setupState,y=Ge(p),v=p===St?Vw:E=>vt(y,E);if(f!=null&&f!==l){if(ey(e),$t(f))d[f]=null,v(f)&&(p[f]=null);else if(Ut(f)){f.value=null;const E=e;E.k&&(d[E.k]=null)}}if(He(l))Pu(l,a,12,[o,d]);else{const E=$t(l),A=Ut(l);if(E||A){const L=()=>{if(t.f){const H=E?v(l)?p[l]:d[l]:l.value;if(s)qe(H)&&fm(H,i);else if(qe(H))H.includes(i)||H.push(i);else if(E)d[l]=[i],v(l)&&(p[l]=d[l]);else{const U=[i];l.value=U,t.k&&(d[t.k]=U)}}else E?(d[l]=o,v(l)&&(p[l]=o)):A&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const H=()=>{L(),Xl.delete(t)};H.id=-1,Xl.set(t,H),gn(H,n)}else ey(t),L()}}}function ey(t){const e=Xl.get(t);e&&(e.flags|=8,Xl.delete(t))}let ty=!1;const fa=()=>{ty||(console.error("Hydration completed but contains mismatches."),ty=!0)},AS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",SS=t=>t.namespaceURI.includes("MathML"),cl=t=>{if(t.nodeType===1){if(AS(t))return"svg";if(SS(t))return"mathml"}},Ea=t=>t.nodeType===8;function RS(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:f}}=t,d=(P,x)=>{if(!x.hasChildNodes()){n(null,P,x),Yl(),x._vnode=P;return}p(x.firstChild,P,null,null,null),Yl(),x._vnode=P},p=(P,x,$,ne,D,S=!1)=>{S=S||!!x.dynamicChildren;const I=Ea(P)&&P.data==="[",k=()=>A(P,x,$,ne,D,I),{type:V,ref:M,shapeFlag:R,patchFlag:Pe}=x;let $e=P.nodeType;x.el=P,Pe===-2&&(S=!1,x.dynamicChildren=null);let be=null;switch(V){case No:$e!==3?x.children===""?(l(x.el=s(""),o(P),P),be=P):be=k():(P.data!==x.children&&(fa(),P.data=x.children),be=i(P));break;case an:U(P)?(be=i(P),H(x.el=P.content.firstChild,P,$)):$e!==8||I?be=k():be=i(P);break;case ka:if(I&&(P=i(P),$e=P.nodeType),$e===1||$e===3){be=P;const xe=!x.children.length;for(let Re=0;Re<x.staticCount;Re++)xe&&(x.children+=be.nodeType===1?be.outerHTML:be.data),Re===x.staticCount-1&&(x.anchor=be),be=i(be);return I?i(be):be}else k();break;case kn:I?be=E(P,x,$,ne,D,S):be=k();break;default:if(R&1)($e!==1||x.type.toLowerCase()!==P.tagName.toLowerCase())&&!U(P)?be=k():be=y(P,x,$,ne,D,S);else if(R&6){x.slotScopeIds=D;const xe=o(P);if(I?be=L(P):Ea(P)&&P.data==="teleport start"?be=L(P,P.data,"teleport end"):be=i(P),e(x,xe,null,$,ne,cl(xe),S),Do(x)&&!x.type.__asyncResolved){let Re;I?(Re=ze(kn),Re.anchor=be?be.previousSibling:xe.lastChild):Re=P.nodeType===3?uu(""):ze("div"),Re.el=P,x.component.subTree=Re}}else R&64?$e!==8?be=k():be=x.type.hydrate(P,x,$,ne,D,S,t,v):R&128&&(be=x.type.hydrate(P,x,$,ne,cl(o(P)),D,S,t,p))}return M!=null&&Ca(M,null,ne,x),be},y=(P,x,$,ne,D,S)=>{S=S||!!x.dynamicChildren;const{type:I,props:k,patchFlag:V,shapeFlag:M,dirs:R,transition:Pe}=x,$e=I==="input"||I==="option";if($e||V!==-1){R&&is(x,null,$,"created");let be=!1;if(U(P)){be=jb(null,Pe)&&$&&$.vnode.props&&$.vnode.props.appear;const Re=P.content.firstChild;if(be){const ht=Re.getAttribute("class");ht&&(Re.$cls=ht),Pe.beforeEnter(Re)}H(Re,P,$),x.el=P=Re}if(M&16&&!(k&&(k.innerHTML||k.textContent))){let Re=v(P.firstChild,x,P,$,ne,D,S);for(;Re;){ul(P,1)||fa();const ht=Re;Re=Re.nextSibling,a(ht)}}else if(M&8){let Re=x.children;Re[0]===`
`&&(P.tagName==="PRE"||P.tagName==="TEXTAREA")&&(Re=Re.slice(1)),P.textContent!==Re&&(ul(P,0)||fa(),P.textContent=x.children)}if(k){if($e||!S||V&48){const Re=P.tagName.includes("-");for(const ht in k)($e&&(ht.endsWith("value")||ht==="indeterminate")||Cu(ht)&&!Aa(ht)||ht[0]==="."||Re)&&r(P,ht,null,k[ht],void 0,$)}else if(k.onClick)r(P,"onClick",null,k.onClick,void 0,$);else if(V&4&&zs(k.style))for(const Re in k.style)k.style[Re]}let xe;(xe=k&&k.onVnodeBeforeMount)&&Wn(xe,$,x),R&&is(x,null,$,"beforeMount"),((xe=k&&k.onVnodeMounted)||R||be)&&Wb(()=>{xe&&Wn(xe,$,x),be&&Pe.enter(P),R&&is(x,null,$,"mounted")},ne)}return P.nextSibling},v=(P,x,$,ne,D,S,I)=>{I=I||!!x.dynamicChildren;const k=x.children,V=k.length;for(let M=0;M<V;M++){const R=I?k[M]:k[M]=rr(k[M]),Pe=R.type===No;P?(Pe&&!I&&M+1<V&&rr(k[M+1]).type===No&&(l(s(P.data.slice(R.children.length)),$,i(P)),P.data=R.children),P=p(P,R,ne,D,S,I)):Pe&&!R.children?l(R.el=s(""),$):(ul($,1)||fa(),n(null,R,$,null,ne,D,cl($),S))}return P},E=(P,x,$,ne,D,S)=>{const{slotScopeIds:I}=x;I&&(D=D?D.concat(I):I);const k=o(P),V=v(i(P),x,k,$,ne,D,S);return V&&Ea(V)&&V.data==="]"?i(x.anchor=V):(fa(),l(x.anchor=f("]"),k,V),V)},A=(P,x,$,ne,D,S)=>{if(ul(P.parentElement,1)||fa(),x.el=null,S){const V=L(P);for(;;){const M=i(P);if(M&&M!==V)a(M);else break}}const I=i(P),k=o(P);return a(P),n(null,x,k,I,$,ne,cl(k),D),$&&($.vnode.el=x.el,Wf($,x.el)),I},L=(P,x="[",$="]")=>{let ne=0;for(;P;)if(P=i(P),P&&Ea(P)&&(P.data===x&&ne++,P.data===$)){if(ne===0)return i(P);ne--}return P},H=(P,x,$)=>{const ne=x.parentNode;ne&&ne.replaceChild(P,x);let D=$;for(;D;)D.vnode.el===x&&(D.vnode.el=D.subTree.el=P),D=D.parent},U=P=>P.nodeType===1&&P.tagName==="TEMPLATE";return[d,p]}const ny="data-allow-mismatch",CS={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ul(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ny);)t=t.parentElement;const n=t&&t.getAttribute(ny);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(CS[e])}}jf().requestIdleCallback;jf().cancelIdleCallback;function PS(t,e){if(Ea(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Ea(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Do=t=>!!t.type.__asyncLoader;function Pc(t){He(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let f=null,d,p=0;const y=()=>(p++,f=null,v()),v=()=>{let E;return f||(E=f=e().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),l)return new Promise((L,H)=>{l(A,()=>L(y()),()=>H(A),p+1)});throw A}).then(A=>E!==f&&f?f:(A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),d=A,A)))};return Jt({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(E,A,L){let H=!1;(A.bu||(A.bu=[])).push(()=>H=!0);const U=()=>{H||L()},P=i?()=>{const x=i(U,$=>PS(E,$));x&&(A.bum||(A.bum=[])).push(x)}:U;d?P():v().then(()=>!A.isUnmounted&&P())},get __asyncResolved(){return d},setup(){const E=wn;if(Sm(E),d)return()=>Wh(d,E);const A=P=>{f=null,nc(P,E,13,!r)};if(a&&E.suspense||ja)return v().then(P=>()=>Wh(P,E)).catch(P=>(A(P),()=>r?ze(r,{error:P}):null));const L=Ft(!1),H=Ft(),U=Ft(!!s);return s&&setTimeout(()=>{U.value=!1},s),o!=null&&setTimeout(()=>{if(!L.value&&!H.value){const P=new Error(`Async component timed out after ${o}ms.`);A(P),H.value=P}},o),v().then(()=>{L.value=!0,E.parent&&ku(E.parent.vnode)&&E.parent.update()}).catch(P=>{A(P),H.value=P}),()=>{if(L.value&&d)return Wh(d,E);if(H.value&&r)return ze(r,{error:H.value});if(n&&!U.value)return ze(n)}}})}function Wh(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ze(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ku=t=>t.type.__isKeepAlive,kS={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=oi(),r=n.ctx;if(!r.renderer)return()=>{const U=e.default&&e.default();return U&&U.length===1?U[0]:U};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:f,um:d,o:{createElement:p}}}=r,y=p("div");r.activate=(U,P,x,$,ne)=>{const D=U.component;f(U,P,x,0,a),l(D.vnode,U,P,x,D,a,$,U.slotScopeIds,ne),gn(()=>{D.isDeactivated=!1,D.a&&Sa(D.a);const S=U.props&&U.props.onVnodeMounted;S&&Wn(S,D.parent,U)},a)},r.deactivate=U=>{const P=U.component;ef(P.m),ef(P.a),f(U,y,null,1,a),gn(()=>{P.da&&Sa(P.da);const x=U.props&&U.props.onVnodeUnmounted;x&&Wn(x,P.parent,U),P.isDeactivated=!0},a)};function v(U){Gh(U),d(U,n,a,!0)}function E(U){s.forEach((P,x)=>{const $=ap(P.type);$&&!U($)&&A(x)})}function A(U){const P=s.get(U);P&&(!o||!Fr(P,o))?v(P):o&&Gh(o),s.delete(U),i.delete(U)}Er(()=>[t.include,t.exclude],([U,P])=>{U&&E(x=>Nc(U,x)),P&&E(x=>!Nc(P,x))},{flush:"post",deep:!0});let L=null;const H=()=>{L!=null&&(tf(n.subTree.type)?gn(()=>{s.set(L,ll(n.subTree))},n.subTree.suspense):s.set(L,ll(n.subTree)))};return qo(H),Ib(H),rc(()=>{s.forEach(U=>{const{subTree:P,suspense:x}=n,$=ll(P);if(U.type===$.type&&U.key===$.key){Gh($);const ne=$.component.da;ne&&gn(ne,x);return}v(U)})}),()=>{if(L=null,!e.default)return o=null;const U=e.default(),P=U[0];if(U.length>1)return o=null,U;if(!Li(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return o=null,P;let x=ll(P);if(x.type===an)return o=null,x;const $=x.type,ne=ap(Do(x)?x.type.__asyncResolved||{}:$),{include:D,exclude:S,max:I}=t;if(D&&(!ne||!Nc(D,ne))||S&&ne&&Nc(S,ne))return x.shapeFlag&=-257,o=x,P;const k=x.key==null?$:x.key,V=s.get(k);return x.el&&(x=ms(x),P.shapeFlag&128&&(P.ssContent=x)),L=k,V?(x.el=V.el,x.component=V.component,x.transition&&Ua(x,x.transition),x.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),I&&i.size>parseInt(I,10)&&A(i.values().next().value)),x.shapeFlag|=256,o=x,tf(P.type)?P:x}}},OS=kS;function Nc(t,e){return qe(t)?t.some(n=>Nc(n,e)):$t(t)?t.split(",").includes(e):kA(t)?(t.lastIndex=0,t.test(e)):!1}function vb(t,e){bb(t,"a",e)}function wb(t,e){bb(t,"da",e)}function bb(t,e,n=wn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Kf(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ku(s.parent.vnode)&&DS(r,e,n,s),s=s.parent}}function DS(t,e,n,r){const s=Kf(e,t,r,!0);lr(()=>{fm(r[e],s)},n)}function Gh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ll(t){return t.shapeFlag&128?t.ssContent:t}function Kf(t,e,n=wn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Qs();const a=Lo(n),l=Hr(e,n,t,o);return a(),Ys(),l});return r?s.unshift(i):s.push(i),i}}const ii=t=>(e,n=wn)=>{(!ja||t==="sp")&&Kf(t,(...r)=>e(...r),n)},Eb=ii("bm"),qo=ii("m"),Tb=ii("bu"),Ib=ii("u"),rc=ii("bum"),lr=ii("um"),xS=ii("sp"),NS=ii("rtg"),MS=ii("rtc");function Ab(t,e=wn){Kf("ec",t,e)}const Sb="components";function Xd(t,e){return Cb(Sb,t,!0,e)||t}const Rb=Symbol.for("v-ndc");function LS(t){return $t(t)?Cb(Sb,t,!1)||t:t||Rb}function Cb(t,e,n=!0,r=!1){const s=ir||wn;if(s){const i=s.type;{const a=ap(i,!1);if(a&&(a===e||a===Ar(e)||a===$f(Ar(e))))return i}const o=ry(s[t]||i[t],e)||ry(s.appContext[t],e);return!o&&r?i:o}}function ry(t,e){return t&&(t[e]||t[Ar(e)]||t[$f(Ar(e))])}function aj(t,e,n,r){let s;const i=n,o=qe(t);if(o||$t(t)){const a=o&&zs(t);let l=!1,f=!1;a&&(l=!br(t),f=Js(t),t=Hf(t)),s=new Array(t.length);for(let d=0,p=t.length;d<p;d++)s[d]=e(l?f?Wl(vn(t[d])):vn(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Tt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}const Zd=t=>t?Jb(t)?Gf(t):Zd(t.parent):null,Bc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zd(t.parent),$root:t=>Zd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>kb(t),$forceUpdate:t=>t.f||(t.f=()=>{Am(t.update)}),$nextTick:t=>t.n||(t.n=cr.bind(t.proxy)),$watch:t=>nR.bind(t)}),Qh=(t,e)=>t!==St&&!t.__isScriptSetup&&vt(t,e),VS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Qh(r,e))return o[e]=1,r[e];if(s!==St&&vt(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&vt(f,e))return o[e]=3,i[e];if(n!==St&&vt(n,e))return o[e]=4,n[e];ep&&(o[e]=0)}}const d=Bc[e];let p,y;if(d)return e==="$attrs"&&Pn(t.attrs,"get",""),d(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==St&&vt(n,e))return o[e]=4,n[e];if(y=l.config.globalProperties,vt(y,e))return y[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Qh(s,e)?(s[e]=n,!0):r!==St&&vt(r,e)?(r[e]=n,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let l,f;return!!(n[a]||t!==St&&a[0]!=="$"&&vt(t,a)||Qh(e,a)||(l=i[0])&&vt(l,a)||vt(r,a)||vt(Bc,a)||vt(s.config.globalProperties,a)||(f=o.__cssModules)&&f[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function sy(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function cj(t){const e=oi();let n=t();return ip(),hm(n)&&(n=n.catch(r=>{throw Lo(e),r})),[n,()=>Lo(e)]}let ep=!0;function FS(t){const e=kb(t),n=t.proxy,r=t.ctx;ep=!1,e.beforeCreate&&iy(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:f,created:d,beforeMount:p,mounted:y,beforeUpdate:v,updated:E,activated:A,deactivated:L,beforeDestroy:H,beforeUnmount:U,destroyed:P,unmounted:x,render:$,renderTracked:ne,renderTriggered:D,errorCaptured:S,serverPrefetch:I,expose:k,inheritAttrs:V,components:M,directives:R,filters:Pe}=e;if(f&&US(f,r,null),o)for(const xe in o){const Re=o[xe];He(Re)&&(r[xe]=Re.bind(n))}if(s){const xe=s.call(n,n);Tt(xe)&&(t.data=un(xe))}if(ep=!0,i)for(const xe in i){const Re=i[xe],ht=He(Re)?Re.bind(n,n):He(Re.get)?Re.get.bind(n,n):jr,Kt=!He(Re)&&He(Re.set)?Re.set.bind(n):jr,Tn=Ze({get:ht,set:Kt});Object.defineProperty(r,xe,{enumerable:!0,configurable:!0,get:()=>Tn.value,set:kt=>Tn.value=kt})}if(a)for(const xe in a)Pb(a[xe],r,n,xe);if(l){const xe=He(l)?l.call(n):l;Reflect.ownKeys(xe).forEach(Re=>{Ws(Re,xe[Re])})}d&&iy(d,t,"c");function be(xe,Re){qe(Re)?Re.forEach(ht=>xe(ht.bind(n))):Re&&xe(Re.bind(n))}if(be(Eb,p),be(qo,y),be(Tb,v),be(Ib,E),be(vb,A),be(wb,L),be(Ab,S),be(MS,ne),be(NS,D),be(rc,U),be(lr,x),be(xS,I),qe(k))if(k.length){const xe=t.exposed||(t.exposed={});k.forEach(Re=>{Object.defineProperty(xe,Re,{get:()=>n[Re],set:ht=>n[Re]=ht,enumerable:!0})})}else t.exposed||(t.exposed={});$&&t.render===jr&&(t.render=$),V!=null&&(t.inheritAttrs=V),M&&(t.components=M),R&&(t.directives=R),I&&Sm(t)}function US(t,e,n=jr){qe(t)&&(t=tp(t));for(const r in t){const s=t[r];let i;Tt(s)?"default"in s?i=Ht(s.from||r,s.default,!0):i=Ht(s.from||r):i=Ht(s),Ut(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function iy(t,e,n){Hr(qe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pb(t,e,n,r){let s=r.includes(".")?Hb(n,r):()=>n[r];if($t(t)){const i=e[t];He(i)&&Er(s,i)}else if(He(t))Er(s,t.bind(n));else if(Tt(t))if(qe(t))t.forEach(i=>Pb(i,e,n,r));else{const i=He(t.handler)?t.handler.bind(n):e[t.handler];He(i)&&Er(s,i,t)}}function kb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(f=>Zl(l,f,o,!0)),Zl(l,e,o)),Tt(e)&&i.set(e,l),l}function Zl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Zl(t,i,n,!0),s&&s.forEach(o=>Zl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=$S[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const $S={data:oy,props:ay,emits:ay,methods:Mc,computed:Mc,beforeCreate:jn,created:jn,beforeMount:jn,mounted:jn,beforeUpdate:jn,updated:jn,beforeDestroy:jn,beforeUnmount:jn,destroyed:jn,unmounted:jn,activated:jn,deactivated:jn,errorCaptured:jn,serverPrefetch:jn,components:Mc,directives:Mc,watch:BS,provide:oy,inject:jS};function oy(t,e){return e?t?function(){return dn(He(t)?t.call(this,this):t,He(e)?e.call(this,this):e)}:e:t}function jS(t,e){return Mc(tp(t),tp(e))}function tp(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jn(t,e){return t?[...new Set([].concat(t,e))]:e}function Mc(t,e){return t?dn(Object.create(null),t,e):e}function ay(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:dn(Object.create(null),sy(t),sy(e??{})):e}function BS(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=jn(t[r],e[r]);return n}function Ob(){return{app:null,config:{isNativeTag:Vw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qS=0;function HS(t,e){return function(r,s=null){He(r)||(r=dn({},r)),s!=null&&!Tt(s)&&(s=null);const i=Ob(),o=new WeakSet,a=[];let l=!1;const f=i.app={_uid:qS++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:SR,get config(){return i.config},set config(d){},use(d,...p){return o.has(d)||(d&&He(d.install)?(o.add(d),d.install(f,...p)):He(d)&&(o.add(d),d(f,...p))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,p){return p?(i.components[d]=p,f):i.components[d]},directive(d,p){return p?(i.directives[d]=p,f):i.directives[d]},mount(d,p,y){if(!l){const v=f._ceVNode||ze(r,s);return v.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),p&&e?e(v,d):t(v,d,y),l=!0,f._container=d,d.__vue_app__=f,Gf(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Hr(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(d,p){return i.provides[d]=p,f},runWithContext(d){const p=xo;xo=f;try{return d()}finally{xo=p}}};return f}}let xo=null;function Ws(t,e){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[t]=e}}function Ht(t,e,n=!1){const r=oi();if(r||xo){let s=xo?xo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&He(e)?e.call(r&&r.proxy):e}}function Ou(){return!!(oi()||xo)}const Db={},xb=()=>Object.create(Db),Nb=t=>Object.getPrototypeOf(t)===Db;function KS(t,e,n,r=!1){const s={},i=xb();t.propsDefaults=Object.create(null),Mb(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:cs(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function zS(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ge(s),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let y=d[p];if(zf(t.emitsOptions,y))continue;const v=e[y];if(l)if(vt(i,y))v!==i[y]&&(i[y]=v,f=!0);else{const E=Ar(y);s[E]=np(l,a,E,v,t,!1)}else v!==i[y]&&(i[y]=v,f=!0)}}}else{Mb(t,e,s,i)&&(f=!0);let d;for(const p in a)(!e||!vt(e,p)&&((d=Hi(p))===p||!vt(e,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=np(l,a,p,void 0,t,!0)):delete s[p]);if(i!==a)for(const p in i)(!e||!vt(e,p))&&(delete i[p],f=!0)}f&&$s(t.attrs,"set","")}function Mb(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Aa(l))continue;const f=e[l];let d;s&&vt(s,d=Ar(l))?!i||!i.includes(d)?n[d]=f:(a||(a={}))[d]=f:zf(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(i){const l=Ge(n),f=a||St;for(let d=0;d<i.length;d++){const p=i[d];n[p]=np(s,l,p,f[p],t,!vt(f,p))}}return o}function np(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&He(l)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=Lo(s);r=f[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Hi(n))&&(r=!0))}return r}const WS=new WeakMap;function Lb(t,e,n=!1){const r=n?WS:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!He(t)){const d=p=>{l=!0;const[y,v]=Lb(p,e,!0);dn(o,y),v&&a.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Tt(t)&&r.set(t,Ta),Ta;if(qe(i))for(let d=0;d<i.length;d++){const p=Ar(i[d]);cy(p)&&(o[p]=St)}else if(i)for(const d in i){const p=Ar(d);if(cy(p)){const y=i[d],v=o[p]=qe(y)||He(y)?{type:y}:dn({},y),E=v.type;let A=!1,L=!0;if(qe(E))for(let H=0;H<E.length;++H){const U=E[H],P=He(U)&&U.name;if(P==="Boolean"){A=!0;break}else P==="String"&&(L=!1)}else A=He(E)&&E.name==="Boolean";v[0]=A,v[1]=L,(A||vt(v,"default"))&&a.push(p)}}const f=[o,a];return Tt(t)&&r.set(t,f),f}function cy(t){return t[0]!=="$"&&!Aa(t)}const Rm=t=>t==="_"||t==="_ctx"||t==="$stable",Cm=t=>qe(t)?t.map(rr):[rr(t)],GS=(t,e,n)=>{if(e._n)return e;const r=Ro((...s)=>Cm(e(...s)),n);return r._c=!1,r},Vb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Rm(s))continue;const i=t[s];if(He(i))e[s]=GS(s,i,r);else if(i!=null){const o=Cm(i);e[s]=()=>o}}},Fb=(t,e)=>{const n=Cm(e);t.slots.default=()=>n},Ub=(t,e,n)=>{for(const r in e)(n||!Rm(r))&&(t[r]=e[r])},QS=(t,e,n)=>{const r=t.slots=xb();if(t.vnode.shapeFlag&32){const s=e._;s?(Ub(r,e,n),n&&Uw(r,"_",s,!0)):Vb(e,r)}else e&&Fb(t,e)},YS=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=St;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ub(s,e,n):(i=!e.$stable,Vb(e,s)),o=e}else e&&(Fb(t,e),o={default:1});if(i)for(const a in s)!Rm(a)&&o[a]==null&&delete s[a]},gn=Wb;function JS(t){return $b(t)}function XS(t){return $b(t,RS)}function $b(t,e){const n=jf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:f,setElementText:d,parentNode:p,nextSibling:y,setScopeId:v=jr,insertStaticContent:E}=t,A=(N,j,ee,fe=null,ae=null,he=null,Te=void 0,ye=null,pe=!!j.dynamicChildren)=>{if(N===j)return;N&&!Fr(N,j)&&(fe=oe(N),kt(N,ae,he,!0),N=null),j.patchFlag===-2&&(pe=!1,j.dynamicChildren=null);const{type:de,ref:Fe,shapeFlag:Se}=j;switch(de){case No:L(N,j,ee,fe);break;case an:H(N,j,ee,fe);break;case ka:N==null&&U(j,ee,fe,Te);break;case kn:M(N,j,ee,fe,ae,he,Te,ye,pe);break;default:Se&1?$(N,j,ee,fe,ae,he,Te,ye,pe):Se&6?R(N,j,ee,fe,ae,he,Te,ye,pe):(Se&64||Se&128)&&de.process(N,j,ee,fe,ae,he,Te,ye,pe,Le)}Fe!=null&&ae?Ca(Fe,N&&N.ref,he,j||N,!j):Fe==null&&N&&N.ref!=null&&Ca(N.ref,null,he,N,!0)},L=(N,j,ee,fe)=>{if(N==null)r(j.el=a(j.children),ee,fe);else{const ae=j.el=N.el;j.children!==N.children&&f(ae,j.children)}},H=(N,j,ee,fe)=>{N==null?r(j.el=l(j.children||""),ee,fe):j.el=N.el},U=(N,j,ee,fe)=>{[N.el,N.anchor]=E(N.children,j,ee,fe,N.el,N.anchor)},P=({el:N,anchor:j},ee,fe)=>{let ae;for(;N&&N!==j;)ae=y(N),r(N,ee,fe),N=ae;r(j,ee,fe)},x=({el:N,anchor:j})=>{let ee;for(;N&&N!==j;)ee=y(N),s(N),N=ee;s(j)},$=(N,j,ee,fe,ae,he,Te,ye,pe)=>{j.type==="svg"?Te="svg":j.type==="math"&&(Te="mathml"),N==null?ne(j,ee,fe,ae,he,Te,ye,pe):I(N,j,ae,he,Te,ye,pe)},ne=(N,j,ee,fe,ae,he,Te,ye)=>{let pe,de;const{props:Fe,shapeFlag:Se,transition:Ve,dirs:Oe}=N;if(pe=N.el=o(N.type,he,Fe&&Fe.is,Fe),Se&8?d(pe,N.children):Se&16&&S(N.children,pe,null,fe,ae,Yh(N,he),Te,ye),Oe&&is(N,null,fe,"created"),D(pe,N,N.scopeId,Te,fe),Fe){for(const ct in Fe)ct!=="value"&&!Aa(ct)&&i(pe,ct,null,Fe[ct],he,fe);"value"in Fe&&i(pe,"value",null,Fe.value,he),(de=Fe.onVnodeBeforeMount)&&Wn(de,fe,N)}Oe&&is(N,null,fe,"beforeMount");const Ue=jb(ae,Ve);Ue&&Ve.beforeEnter(pe),r(pe,j,ee),((de=Fe&&Fe.onVnodeMounted)||Ue||Oe)&&gn(()=>{de&&Wn(de,fe,N),Ue&&Ve.enter(pe),Oe&&is(N,null,fe,"mounted")},ae)},D=(N,j,ee,fe,ae)=>{if(ee&&v(N,ee),fe)for(let he=0;he<fe.length;he++)v(N,fe[he]);if(ae){let he=ae.subTree;if(j===he||tf(he.type)&&(he.ssContent===j||he.ssFallback===j)){const Te=ae.vnode;D(N,Te,Te.scopeId,Te.slotScopeIds,ae.parent)}}},S=(N,j,ee,fe,ae,he,Te,ye,pe=0)=>{for(let de=pe;de<N.length;de++){const Fe=N[de]=ye?Ei(N[de]):rr(N[de]);A(null,Fe,j,ee,fe,ae,he,Te,ye)}},I=(N,j,ee,fe,ae,he,Te)=>{const ye=j.el=N.el;let{patchFlag:pe,dynamicChildren:de,dirs:Fe}=j;pe|=N.patchFlag&16;const Se=N.props||St,Ve=j.props||St;let Oe;if(ee&&_o(ee,!1),(Oe=Ve.onVnodeBeforeUpdate)&&Wn(Oe,ee,j,N),Fe&&is(j,N,ee,"beforeUpdate"),ee&&_o(ee,!0),(Se.innerHTML&&Ve.innerHTML==null||Se.textContent&&Ve.textContent==null)&&d(ye,""),de?k(N.dynamicChildren,de,ye,ee,fe,Yh(j,ae),he):Te||Re(N,j,ye,null,ee,fe,Yh(j,ae),he,!1),pe>0){if(pe&16)V(ye,Se,Ve,ee,ae);else if(pe&2&&Se.class!==Ve.class&&i(ye,"class",null,Ve.class,ae),pe&4&&i(ye,"style",Se.style,Ve.style,ae),pe&8){const Ue=j.dynamicProps;for(let ct=0;ct<Ue.length;ct++){const rt=Ue[ct],Wt=Se[rt],Vt=Ve[rt];(Vt!==Wt||rt==="value")&&i(ye,rt,Wt,Vt,ae,ee)}}pe&1&&N.children!==j.children&&d(ye,j.children)}else!Te&&de==null&&V(ye,Se,Ve,ee,ae);((Oe=Ve.onVnodeUpdated)||Fe)&&gn(()=>{Oe&&Wn(Oe,ee,j,N),Fe&&is(j,N,ee,"updated")},fe)},k=(N,j,ee,fe,ae,he,Te)=>{for(let ye=0;ye<j.length;ye++){const pe=N[ye],de=j[ye],Fe=pe.el&&(pe.type===kn||!Fr(pe,de)||pe.shapeFlag&198)?p(pe.el):ee;A(pe,de,Fe,null,fe,ae,he,Te,!0)}},V=(N,j,ee,fe,ae)=>{if(j!==ee){if(j!==St)for(const he in j)!Aa(he)&&!(he in ee)&&i(N,he,j[he],null,ae,fe);for(const he in ee){if(Aa(he))continue;const Te=ee[he],ye=j[he];Te!==ye&&he!=="value"&&i(N,he,ye,Te,ae,fe)}"value"in ee&&i(N,"value",j.value,ee.value,ae)}},M=(N,j,ee,fe,ae,he,Te,ye,pe)=>{const de=j.el=N?N.el:a(""),Fe=j.anchor=N?N.anchor:a("");let{patchFlag:Se,dynamicChildren:Ve,slotScopeIds:Oe}=j;Oe&&(ye=ye?ye.concat(Oe):Oe),N==null?(r(de,ee,fe),r(Fe,ee,fe),S(j.children||[],ee,Fe,ae,he,Te,ye,pe)):Se>0&&Se&64&&Ve&&N.dynamicChildren?(k(N.dynamicChildren,Ve,ee,ae,he,Te,ye),(j.key!=null||ae&&j===ae.subTree)&&Bb(N,j,!0)):Re(N,j,ee,Fe,ae,he,Te,ye,pe)},R=(N,j,ee,fe,ae,he,Te,ye,pe)=>{j.slotScopeIds=ye,N==null?j.shapeFlag&512?ae.ctx.activate(j,ee,fe,Te,pe):Pe(j,ee,fe,ae,he,Te,pe):$e(N,j,pe)},Pe=(N,j,ee,fe,ae,he,Te)=>{const ye=N.component=wR(N,fe,ae);if(ku(N)&&(ye.ctx.renderer=Le),bR(ye,!1,Te),ye.asyncDep){if(ae&&ae.registerDep(ye,be,Te),!N.el){const pe=ye.subTree=ze(an);H(null,pe,j,ee),N.placeholder=pe.el}}else be(ye,N,j,ee,ae,he,Te)},$e=(N,j,ee)=>{const fe=j.component=N.component;if(uR(N,j,ee))if(fe.asyncDep&&!fe.asyncResolved){xe(fe,j,ee);return}else fe.next=j,fe.update();else j.el=N.el,fe.vnode=j},be=(N,j,ee,fe,ae,he,Te)=>{const ye=()=>{if(N.isMounted){let{next:Se,bu:Ve,u:Oe,parent:Ue,vnode:ct}=N;{const Gt=qb(N);if(Gt){Se&&(Se.el=ct.el,xe(N,Se,Te)),Gt.asyncDep.then(()=>{N.isUnmounted||ye()});return}}let rt=Se,Wt;_o(N,!1),Se?(Se.el=ct.el,xe(N,Se,Te)):Se=ct,Ve&&Sa(Ve),(Wt=Se.props&&Se.props.onVnodeBeforeUpdate)&&Wn(Wt,Ue,Se,ct),_o(N,!0);const Vt=Jh(N),Ot=N.subTree;N.subTree=Vt,A(Ot,Vt,p(Ot.el),oe(Ot),N,ae,he),Se.el=Vt.el,rt===null&&Wf(N,Vt.el),Oe&&gn(Oe,ae),(Wt=Se.props&&Se.props.onVnodeUpdated)&&gn(()=>Wn(Wt,Ue,Se,ct),ae)}else{let Se;const{el:Ve,props:Oe}=j,{bm:Ue,m:ct,parent:rt,root:Wt,type:Vt}=N,Ot=Do(j);if(_o(N,!1),Ue&&Sa(Ue),!Ot&&(Se=Oe&&Oe.onVnodeBeforeMount)&&Wn(Se,rt,j),_o(N,!0),Ve&&je){const Gt=()=>{N.subTree=Jh(N),je(Ve,N.subTree,N,ae,null)};Ot&&Vt.__asyncHydrate?Vt.__asyncHydrate(Ve,N,Gt):Gt()}else{Wt.ce&&Wt.ce._def.shadowRoot!==!1&&Wt.ce._injectChildStyle(Vt);const Gt=N.subTree=Jh(N);A(null,Gt,ee,fe,N,ae,he),j.el=Gt.el}if(ct&&gn(ct,ae),!Ot&&(Se=Oe&&Oe.onVnodeMounted)){const Gt=j;gn(()=>Wn(Se,rt,Gt),ae)}(j.shapeFlag&256||rt&&Do(rt.vnode)&&rt.vnode.shapeFlag&256)&&N.a&&gn(N.a,ae),N.isMounted=!0,j=ee=fe=null}};N.scope.on();const pe=N.effect=new Kw(ye);N.scope.off();const de=N.update=pe.run.bind(pe),Fe=N.job=pe.runIfDirty.bind(pe);Fe.i=N,Fe.id=N.uid,pe.scheduler=()=>Am(Fe),_o(N,!0),de()},xe=(N,j,ee)=>{j.component=N;const fe=N.vnode.props;N.vnode=j,N.next=null,zS(N,j.props,fe,ee),YS(N,j.children,ee),Qs(),Xg(N),Ys()},Re=(N,j,ee,fe,ae,he,Te,ye,pe=!1)=>{const de=N&&N.children,Fe=N?N.shapeFlag:0,Se=j.children,{patchFlag:Ve,shapeFlag:Oe}=j;if(Ve>0){if(Ve&128){Kt(de,Se,ee,fe,ae,he,Te,ye,pe);return}else if(Ve&256){ht(de,Se,ee,fe,ae,he,Te,ye,pe);return}}Oe&8?(Fe&16&&zt(de,ae,he),Se!==de&&d(ee,Se)):Fe&16?Oe&16?Kt(de,Se,ee,fe,ae,he,Te,ye,pe):zt(de,ae,he,!0):(Fe&8&&d(ee,""),Oe&16&&S(Se,ee,fe,ae,he,Te,ye,pe))},ht=(N,j,ee,fe,ae,he,Te,ye,pe)=>{N=N||Ta,j=j||Ta;const de=N.length,Fe=j.length,Se=Math.min(de,Fe);let Ve;for(Ve=0;Ve<Se;Ve++){const Oe=j[Ve]=pe?Ei(j[Ve]):rr(j[Ve]);A(N[Ve],Oe,ee,null,ae,he,Te,ye,pe)}de>Fe?zt(N,ae,he,!0,!1,Se):S(j,ee,fe,ae,he,Te,ye,pe,Se)},Kt=(N,j,ee,fe,ae,he,Te,ye,pe)=>{let de=0;const Fe=j.length;let Se=N.length-1,Ve=Fe-1;for(;de<=Se&&de<=Ve;){const Oe=N[de],Ue=j[de]=pe?Ei(j[de]):rr(j[de]);if(Fr(Oe,Ue))A(Oe,Ue,ee,null,ae,he,Te,ye,pe);else break;de++}for(;de<=Se&&de<=Ve;){const Oe=N[Se],Ue=j[Ve]=pe?Ei(j[Ve]):rr(j[Ve]);if(Fr(Oe,Ue))A(Oe,Ue,ee,null,ae,he,Te,ye,pe);else break;Se--,Ve--}if(de>Se){if(de<=Ve){const Oe=Ve+1,Ue=Oe<Fe?j[Oe].el:fe;for(;de<=Ve;)A(null,j[de]=pe?Ei(j[de]):rr(j[de]),ee,Ue,ae,he,Te,ye,pe),de++}}else if(de>Ve)for(;de<=Se;)kt(N[de],ae,he,!0),de++;else{const Oe=de,Ue=de,ct=new Map;for(de=Ue;de<=Ve;de++){const Ce=j[de]=pe?Ei(j[de]):rr(j[de]);Ce.key!=null&&ct.set(Ce.key,de)}let rt,Wt=0;const Vt=Ve-Ue+1;let Ot=!1,Gt=0;const fr=new Array(Vt);for(de=0;de<Vt;de++)fr[de]=0;for(de=Oe;de<=Se;de++){const Ce=N[de];if(Wt>=Vt){kt(Ce,ae,he,!0);continue}let ln;if(Ce.key!=null)ln=ct.get(Ce.key);else for(rt=Ue;rt<=Ve;rt++)if(fr[rt-Ue]===0&&Fr(Ce,j[rt])){ln=rt;break}ln===void 0?kt(Ce,ae,he,!0):(fr[ln-Ue]=de+1,ln>=Gt?Gt=ln:Ot=!0,A(Ce,j[ln],ee,null,ae,he,Te,ye,pe),Wt++)}const Mn=Ot?ZS(fr):Ta;for(rt=Mn.length-1,de=Vt-1;de>=0;de--){const Ce=Ue+de,ln=j[Ce],Kn=j[Ce+1],Gr=Ce+1<Fe?Kn.el||Kn.placeholder:fe;fr[de]===0?A(null,ln,ee,Gr,ae,he,Te,ye,pe):Ot&&(rt<0||de!==Mn[rt]?Tn(ln,ee,Gr,2):rt--)}}},Tn=(N,j,ee,fe,ae=null)=>{const{el:he,type:Te,transition:ye,children:pe,shapeFlag:de}=N;if(de&6){Tn(N.component.subTree,j,ee,fe);return}if(de&128){N.suspense.move(j,ee,fe);return}if(de&64){Te.move(N,j,ee,Le);return}if(Te===kn){r(he,j,ee);for(let Se=0;Se<pe.length;Se++)Tn(pe[Se],j,ee,fe);r(N.anchor,j,ee);return}if(Te===ka){P(N,j,ee);return}if(fe!==2&&de&1&&ye)if(fe===0)ye.beforeEnter(he),r(he,j,ee),gn(()=>ye.enter(he),ae);else{const{leave:Se,delayLeave:Ve,afterLeave:Oe}=ye,Ue=()=>{N.ctx.isUnmounted?s(he):r(he,j,ee)},ct=()=>{he._isLeaving&&he[Us](!0),Se(he,()=>{Ue(),Oe&&Oe()})};Ve?Ve(he,Ue,ct):ct()}else r(he,j,ee)},kt=(N,j,ee,fe=!1,ae=!1)=>{const{type:he,props:Te,ref:ye,children:pe,dynamicChildren:de,shapeFlag:Fe,patchFlag:Se,dirs:Ve,cacheIndex:Oe}=N;if(Se===-2&&(ae=!1),ye!=null&&(Qs(),Ca(ye,null,ee,N,!0),Ys()),Oe!=null&&(j.renderCache[Oe]=void 0),Fe&256){j.ctx.deactivate(N);return}const Ue=Fe&1&&Ve,ct=!Do(N);let rt;if(ct&&(rt=Te&&Te.onVnodeBeforeUnmount)&&Wn(rt,j,N),Fe&6)Nn(N.component,ee,fe);else{if(Fe&128){N.suspense.unmount(ee,fe);return}Ue&&is(N,null,j,"beforeUnmount"),Fe&64?N.type.remove(N,j,ee,Le,fe):de&&!de.hasOnce&&(he!==kn||Se>0&&Se&64)?zt(de,j,ee,!1,!0):(he===kn&&Se&384||!ae&&Fe&16)&&zt(pe,j,ee),fe&&pt(N)}(ct&&(rt=Te&&Te.onVnodeUnmounted)||Ue)&&gn(()=>{rt&&Wn(rt,j,N),Ue&&is(N,null,j,"unmounted")},ee)},pt=N=>{const{type:j,el:ee,anchor:fe,transition:ae}=N;if(j===kn){Rr(ee,fe);return}if(j===ka){x(N);return}const he=()=>{s(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(N.shapeFlag&1&&ae&&!ae.persisted){const{leave:Te,delayLeave:ye}=ae,pe=()=>Te(ee,he);ye?ye(N.el,he,pe):pe()}else he()},Rr=(N,j)=>{let ee;for(;N!==j;)ee=y(N),s(N),N=ee;s(j)},Nn=(N,j,ee)=>{const{bum:fe,scope:ae,job:he,subTree:Te,um:ye,m:pe,a:de}=N;ef(pe),ef(de),fe&&Sa(fe),ae.stop(),he&&(he.flags|=8,kt(Te,N,j,ee)),ye&&gn(ye,j),gn(()=>{N.isUnmounted=!0},j)},zt=(N,j,ee,fe=!1,ae=!1,he=0)=>{for(let Te=he;Te<N.length;Te++)kt(N[Te],j,ee,fe,ae)},oe=N=>{if(N.shapeFlag&6)return oe(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const j=y(N.anchor||N.el),ee=j&&j[bS];return ee?y(ee):j};let ke=!1;const se=(N,j,ee)=>{N==null?j._vnode&&kt(j._vnode,null,null,!0):A(j._vnode||null,N,j,null,null,null,ee),j._vnode=N,ke||(ke=!0,Xg(),Yl(),ke=!1)},Le={p:A,um:kt,m:Tn,r:pt,mt:Pe,mc:S,pc:Re,pbc:k,n:oe,o:t};let et,je;return e&&([et,je]=e(Le)),{render:se,hydrate:et,createApp:HS(se,et)}}function Yh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function _o({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function jb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bb(t,e,n=!1){const r=t.children,s=e.children;if(qe(r)&&qe(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ei(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Bb(o,a)),a.type===No&&a.patchFlag!==-1&&(a.el=o.el),a.type===an&&!a.el&&(a.el=o.el)}}function ZS(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<f?i=a+1:o=a;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function qb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qb(e)}function ef(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const eR=Symbol.for("v-scx"),tR=()=>Ht(eR);function qc(t,e){return Pm(t,null,e)}function Er(t,e,n){return Pm(t,e,n)}function Pm(t,e,n=St){const{immediate:r,deep:s,flush:i,once:o}=n,a=dn({},n),l=e&&r||!e&&i!=="post";let f;if(ja){if(i==="sync"){const v=tR();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=jr,v.resume=jr,v.pause=jr,v}}const d=wn;a.call=(v,E,A)=>Hr(v,d,E,A);let p=!1;i==="post"?a.scheduler=v=>{gn(v,d&&d.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(v,E)=>{E?v():Am(v)}),a.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const y=_S(t,e,a);return ja&&(f?f.push(y):l&&y()),y}function nR(t,e,n){const r=this.proxy,s=$t(t)?t.includes(".")?Hb(r,t):()=>r[t]:t.bind(r,r);let i;He(e)?i=e:(i=e.handler,n=e);const o=Lo(this),a=Pm(s,i.bind(r),n);return o(),a}function Hb(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const rR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ar(e)}Modifiers`]||t[`${Hi(e)}Modifiers`];function sR(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||St;let s=n;const i=e.startsWith("update:"),o=i&&rR(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>$t(d)?d.trim():d)),o.number&&(s=n.map(Hl)));let a,l=r[a=jh(e)]||r[a=jh(Ar(e))];!l&&i&&(l=r[a=jh(Hi(e))]),l&&Hr(l,t,6,s);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Hr(f,t,6,s)}}const iR=new WeakMap;function Kb(t,e,n=!1){const r=n?iR:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!He(t)){const l=f=>{const d=Kb(f,e,!0);d&&(a=!0,dn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Tt(t)&&r.set(t,null),null):(qe(i)?i.forEach(l=>o[l]=null):dn(o,i),Tt(t)&&r.set(t,o),o)}function zf(t,e){return!t||!Cu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,Hi(e))||vt(t,e))}function Jh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:f,renderCache:d,props:p,data:y,setupState:v,ctx:E,inheritAttrs:A}=t,L=Jl(t);let H,U;try{if(n.shapeFlag&4){const x=s||r,$=x;H=rr(f.call($,x,d,p,v,y,E)),U=a}else{const x=e;H=rr(x.length>1?x(p,{attrs:a,slots:o,emit:l}):x(p,null)),U=e.props?a:aR(a)}}catch(x){Hc.length=0,nc(x,t,1),H=ze(an)}let P=H;if(U&&A!==!1){const x=Object.keys(U),{shapeFlag:$}=P;x.length&&$&7&&(i&&x.some(lm)&&(U=cR(U,i)),P=ms(P,U,!1,!0))}return n.dirs&&(P=ms(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ua(P,n.transition),H=P,Jl(L),H}function oR(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Li(s)){if(s.type!==an||s.children==="v-if"){if(n)return;n=s}}else return}return n}const aR=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cu(n))&&((e||(e={}))[n]=t[n]);return e},cR=(t,e)=>{const n={};for(const r in t)(!lm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function uR(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?uy(r,o,f):!!o;if(l&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const y=d[p];if(o[y]!==r[y]&&!zf(f,y))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?uy(r,o,f):!0:!!o;return!1}function uy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!zf(n,i))return!0}return!1}function Wf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const tf=t=>t.__isSuspense;let rp=0;const lR={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,f){if(t==null)fR(e,n,r,s,i,o,a,l,f);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}hR(t,e,n,r,s,o,a,l,f)}},hydrate:dR,normalize:pR},km=lR;function cu(t,e){const n=t.props&&t.props[e];He(n)&&n()}function fR(t,e,n,r,s,i,o,a,l){const{p:f,o:{createElement:d}}=l,p=d("div"),y=t.suspense=zb(t,s,r,e,p,n,i,o,a,l);f(null,y.pendingBranch=t.ssContent,p,null,r,y,i,o),y.deps>0?(cu(t,"onPending"),cu(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,i,o),Pa(y,t.ssFallback)):y.resolve(!1,!0)}function hR(t,e,n,r,s,i,o,a,{p:l,um:f,o:{createElement:d}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const y=e.ssContent,v=e.ssFallback,{activeBranch:E,pendingBranch:A,isInFallback:L,isHydrating:H}=p;if(A)p.pendingBranch=y,Fr(A,y)?(l(A,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():L&&(H||(l(E,v,n,r,s,null,i,o,a),Pa(p,v)))):(p.pendingId=rp++,H?(p.isHydrating=!1,p.activeBranch=A):f(A,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),L?(l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():(l(E,v,n,r,s,null,i,o,a),Pa(p,v))):E&&Fr(E,y)?(l(E,y,n,r,s,p,i,o,a),p.resolve(!0)):(l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0&&p.resolve()));else if(E&&Fr(E,y))l(E,y,n,r,s,p,i,o,a),Pa(p,y);else if(cu(e,"onPending"),p.pendingBranch=y,y.shapeFlag&512?p.pendingId=y.component.suspenseId:p.pendingId=rp++,l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0)p.resolve();else{const{timeout:U,pendingId:P}=p;U>0?setTimeout(()=>{p.pendingId===P&&p.fallback(v)},U):U===0&&p.fallback(v)}}function zb(t,e,n,r,s,i,o,a,l,f,d=!1){const{p,m:y,um:v,n:E,o:{parentNode:A,remove:L}}=f;let H;const U=mR(t);U&&e&&e.pendingBranch&&(H=e.pendingId,e.deps++);const P=t.props?$w(t.props.timeout):void 0,x=i,$={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:rp++,timeout:typeof P=="number"?P:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(ne=!1,D=!1){const{vnode:S,activeBranch:I,pendingBranch:k,pendingId:V,effects:M,parentComponent:R,container:Pe}=$;let $e=!1;$.isHydrating?$.isHydrating=!1:ne||($e=I&&k.transition&&k.transition.mode==="out-in",$e&&(I.transition.afterLeave=()=>{V===$.pendingId&&(y(k,Pe,i===x?E(I):i,0),ou(M))}),I&&(A(I.el)===Pe&&(i=E(I)),v(I,R,$,!0)),$e||y(k,Pe,i,0)),Pa($,k),$.pendingBranch=null,$.isInFallback=!1;let be=$.parent,xe=!1;for(;be;){if(be.pendingBranch){be.effects.push(...M),xe=!0;break}be=be.parent}!xe&&!$e&&ou(M),$.effects=[],U&&e&&e.pendingBranch&&H===e.pendingId&&(e.deps--,e.deps===0&&!D&&e.resolve()),cu(S,"onResolve")},fallback(ne){if(!$.pendingBranch)return;const{vnode:D,activeBranch:S,parentComponent:I,container:k,namespace:V}=$;cu(D,"onFallback");const M=E(S),R=()=>{$.isInFallback&&(p(null,ne,k,M,I,null,V,a,l),Pa($,ne))},Pe=ne.transition&&ne.transition.mode==="out-in";Pe&&(S.transition.afterLeave=R),$.isInFallback=!0,v(S,I,null,!0),Pe||R()},move(ne,D,S){$.activeBranch&&y($.activeBranch,ne,D,S),$.container=ne},next(){return $.activeBranch&&E($.activeBranch)},registerDep(ne,D,S){const I=!!$.pendingBranch;I&&$.deps++;const k=ne.vnode.el;ne.asyncDep.catch(V=>{nc(V,ne,0)}).then(V=>{if(ne.isUnmounted||$.isUnmounted||$.pendingId!==ne.suspenseId)return;ne.asyncResolved=!0;const{vnode:M}=ne;op(ne,V),k&&(M.el=k);const R=!k&&ne.subTree.el;D(ne,M,A(k||ne.subTree.el),k?null:E(ne.subTree),$,o,S),R&&L(R),Wf(ne,M.el),I&&--$.deps===0&&$.resolve()})},unmount(ne,D){$.isUnmounted=!0,$.activeBranch&&v($.activeBranch,n,ne,D),$.pendingBranch&&v($.pendingBranch,n,ne,D)}};return $}function dR(t,e,n,r,s,i,o,a,l){const f=e.suspense=zb(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),d=l(t,f.pendingBranch=e.ssContent,n,f,i,o);return f.deps===0&&f.resolve(!1,!0),d}function pR(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=ly(r?n.default:n),t.ssFallback=r?ly(n.fallback):ze(an)}function ly(t){let e;if(He(t)){const n=$a&&t._c;n&&(t._d=!1,as()),t=t(),n&&(t._d=!0,e=Yn,Gb())}return qe(t)&&(t=oR(t)),t=rr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Wb(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):ou(t)}function Pa(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Wf(r,s))}function mR(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const kn=Symbol.for("v-fgt"),No=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),ka=Symbol.for("v-stc"),Hc=[];let Yn=null;function as(t=!1){Hc.push(Yn=t?null:[])}function Gb(){Hc.pop(),Yn=Hc[Hc.length-1]||null}let $a=1;function nf(t,e=!1){$a+=t,t<0&&Yn&&e&&(Yn.hasOnce=!0)}function Qb(t){return t.dynamicChildren=$a>0?Yn||Ta:null,Gb(),$a>0&&Yn&&Yn.push(t),t}function Om(t,e,n,r,s,i){return Qb(rf(t,e,n,r,s,i,!0))}function ma(t,e,n,r,s){return Qb(ze(t,e,n,r,s,!0))}function Li(t){return t?t.__v_isVNode===!0:!1}function Fr(t,e){return t.type===e.type&&t.key===e.key}const Yb=({key:t})=>t??null,Al=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Ut(t)||He(t)?{i:ir,r:t,k:e,f:!!n}:t:null);function rf(t,e=null,n=null,r=0,s=null,i=t===kn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yb(e),ref:e&&Al(e),scopeId:hb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ir};return a?(Dm(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),$a>0&&!o&&Yn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Yn.push(l),l}const ze=gR;function gR(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Rb)&&(t=an),Li(t)){const a=ms(t,e,!0);return n&&Dm(a,n),$a>0&&!i&&Yn&&(a.shapeFlag&6?Yn[Yn.indexOf(t)]=a:Yn.push(a)),a.patchFlag=-2,a}if(AR(t)&&(t=t.__vccOpts),e){e=yR(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=gm(a)),Tt(l)&&(Tm(l)&&!qe(l)&&(l=dn({},l)),e.style=mm(l))}const o=$t(t)?1:tf(t)?128:db(t)?64:Tt(t)?4:He(t)?2:0;return rf(t,e,n,r,s,o,i,!0)}function yR(t){return t?Tm(t)||Nb(t)?dn({},t):t:null}function ms(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,f=e?vs(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Yb(f),ref:e&&e.ref?n&&i?qe(i)?i.concat(Al(e)):[i,Al(e)]:Al(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ua(d,l.clone(d)),d}function uu(t=" ",e=0){return ze(No,null,t,e)}function uj(t,e){const n=ze(ka,null,t);return n.staticCount=e,n}function lj(t="",e=!1){return e?(as(),ma(an,null,t)):ze(an,null,t)}function rr(t){return t==null||typeof t=="boolean"?ze(an):qe(t)?ze(kn,null,t.slice()):Li(t)?Ei(t):ze(No,null,String(t))}function Ei(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function Dm(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Dm(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Nb(e)?e._ctx=ir:s===3&&ir&&(ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:ir},n=32):(e=String(e),r&64?(n=16,e=[uu(e)]):n=8);t.children=e,t.shapeFlag|=n}function vs(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=gm([e.class,r.class]));else if(s==="style")e.style=mm([e.style,r.style]);else if(Cu(s)){const i=e[s],o=r[s];o&&i!==o&&!(qe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Wn(t,e,n,r=null){Hr(t,e,7,[n,r])}const _R=Ob();let vR=0;function wR(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||_R,i={uid:vR++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lb(r,s),emitsOptions:Kb(r,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=sR.bind(null,i),t.ce&&t.ce(i),i}let wn=null;const oi=()=>wn||ir;let sf,sp;{const t=jf(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};sf=e("__VUE_INSTANCE_SETTERS__",n=>wn=n),sp=e("__VUE_SSR_SETTERS__",n=>ja=n)}const Lo=t=>{const e=wn;return sf(t),t.scope.on(),()=>{t.scope.off(),sf(e)}},ip=()=>{wn&&wn.scope.off(),sf(null)};function Jb(t){return t.vnode.shapeFlag&4}let ja=!1;function bR(t,e=!1,n=!1){e&&sp(e);const{props:r,children:s}=t.vnode,i=Jb(t);KS(t,r,i,e),QS(t,s,n||e);const o=i?ER(t,e):void 0;return e&&sp(!1),o}function ER(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,VS);const{setup:r}=n;if(r){Qs();const s=t.setupContext=r.length>1?IR(t):null,i=Lo(t),o=Pu(r,t,0,[t.props,s]),a=hm(o);if(Ys(),i(),(a||t.sp)&&!Do(t)&&Sm(t),a){if(o.then(ip,ip),e)return o.then(l=>{op(t,l)}).catch(l=>{nc(l,t,0)});t.asyncDep=o}else op(t,o)}else Xb(t)}function op(t,e,n){He(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=ob(e)),Xb(t)}function Xb(t,e,n){const r=t.type;t.render||(t.render=r.render||jr);{const s=Lo(t);Qs();try{FS(t)}finally{Ys(),s()}}}const TR={get(t,e){return Pn(t,"get",""),t[e]}};function IR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,TR),slots:t.slots,emit:t.emit,expose:e}}function Gf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ob(Im(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bc)return Bc[n](t)},has(e,n){return n in e||n in Bc}})):t.proxy}function ap(t,e=!0){return He(t)?t.displayName||t.name:t.name||e&&t.__name}function AR(t){return He(t)&&"__vccOpts"in t}const Ze=(t,e)=>gS(t,e,ja);function qt(t,e,n){try{nf(-1);const r=arguments.length;return r===2?Tt(e)&&!qe(e)?Li(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Li(n)&&(n=[n]),ze(t,e,n))}finally{nf(1)}}const SR="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cp;const fy=typeof window<"u"&&window.trustedTypes;if(fy)try{cp=fy.createPolicy("vue",{createHTML:t=>t})}catch{}const Zb=cp?t=>cp.createHTML(t):t=>t,RR="http://www.w3.org/2000/svg",CR="http://www.w3.org/1998/Math/MathML",Vs=typeof document<"u"?document:null,hy=Vs&&Vs.createElement("template"),PR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Vs.createElementNS(RR,t):e==="mathml"?Vs.createElementNS(CR,t):n?Vs.createElement(t,{is:n}):Vs.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Vs.createTextNode(t),createComment:t=>Vs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{hy.innerHTML=Zb(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=hy.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},gi="transition",kc="animation",lu=Symbol("_vtc"),eE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kR=dn({},pb,eE),OR=t=>(t.displayName="Transition",t.props=kR,t),DR=OR((t,{slots:e})=>qt(IS,xR(t),e)),vo=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},dy=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function xR(t){const e={};for(const M in t)M in eE||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:f=o,appearToClass:d=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,E=NR(s),A=E&&E[0],L=E&&E[1],{onBeforeEnter:H,onEnter:U,onEnterCancelled:P,onLeave:x,onLeaveCancelled:$,onBeforeAppear:ne=H,onAppear:D=U,onAppearCancelled:S=P}=e,I=(M,R,Pe,$e)=>{M._enterCancelled=$e,wo(M,R?d:a),wo(M,R?f:o),Pe&&Pe()},k=(M,R)=>{M._isLeaving=!1,wo(M,p),wo(M,v),wo(M,y),R&&R()},V=M=>(R,Pe)=>{const $e=M?D:U,be=()=>I(R,M,Pe);vo($e,[R,be]),py(()=>{wo(R,M?l:i),Ms(R,M?d:a),dy($e)||my(R,r,A,be)})};return dn(e,{onBeforeEnter(M){vo(H,[M]),Ms(M,i),Ms(M,o)},onBeforeAppear(M){vo(ne,[M]),Ms(M,l),Ms(M,f)},onEnter:V(!1),onAppear:V(!0),onLeave(M,R){M._isLeaving=!0;const Pe=()=>k(M,R);Ms(M,p),M._enterCancelled?(Ms(M,y),_y(M)):(_y(M),Ms(M,y)),py(()=>{M._isLeaving&&(wo(M,p),Ms(M,v),dy(x)||my(M,r,L,Pe))}),vo(x,[M,Pe])},onEnterCancelled(M){I(M,!1,void 0,!0),vo(P,[M])},onAppearCancelled(M){I(M,!0,void 0,!0),vo(S,[M])},onLeaveCancelled(M){k(M),vo($,[M])}})}function NR(t){if(t==null)return null;if(Tt(t))return[Xh(t.enter),Xh(t.leave)];{const e=Xh(t);return[e,e]}}function Xh(t){return $w(t)}function Ms(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[lu]||(t[lu]=new Set)).add(e)}function wo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[lu];n&&(n.delete(e),n.size||(t[lu]=void 0))}function py(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let MR=0;function my(t,e,n,r){const s=t._endId=++MR,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=LR(t,e);if(!o)return r();const f=o+"end";let d=0;const p=()=>{t.removeEventListener(f,y),i()},y=v=>{v.target===t&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},a+1),t.addEventListener(f,y)}function LR(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${gi}Delay`),i=r(`${gi}Duration`),o=gy(s,i),a=r(`${kc}Delay`),l=r(`${kc}Duration`),f=gy(a,l);let d=null,p=0,y=0;e===gi?o>0&&(d=gi,p=o,y=i.length):e===kc?f>0&&(d=kc,p=f,y=l.length):(p=Math.max(o,f),d=p>0?o>f?gi:kc:null,y=d?d===gi?i.length:l.length:0);const v=d===gi&&/\b(?:transform|all)(?:,|$)/.test(r(`${gi}Property`).toString());return{type:d,timeout:p,propCount:y,hasTransform:v}}function gy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>yy(n)+yy(t[r])))}function yy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function _y(t){return(t?t.ownerDocument:document).body.offsetHeight}function VR(t,e,n){const r=t[lu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const of=Symbol("_vod"),tE=Symbol("_vsh"),fj={name:"show",beforeMount(t,{value:e},{transition:n}){t[of]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Oc(t,!0),r.enter(t)):r.leave(t,()=>{Oc(t,!1)}):Oc(t,e))},beforeUnmount(t,{value:e}){Oc(t,e)}};function Oc(t,e){t.style.display=e?t[of]:"none",t[tE]=!e}const nE=Symbol("");function hj(t){const e=oi();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>af(i,s))},r=()=>{const s=t(e.proxy);e.ce?af(e.ce,s):up(e.subTree,s),n(s)};Tb(()=>{ou(r)}),qo(()=>{Er(r,jr,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),lr(()=>s.disconnect())})}function up(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{up(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)af(t.el,e);else if(t.type===kn)t.children.forEach(n=>up(n,e));else if(t.type===ka){let{el:n,anchor:r}=t;for(;n&&(af(n,e),n!==r);)n=n.nextSibling}}function af(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=BA(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[nE]=r}}const FR=/(?:^|;)\s*display\s*:/;function UR(t,e,n){const r=t.style,s=$t(n);let i=!1;if(n&&!s){if(e)if($t(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Sl(r,a,"")}else for(const o in e)n[o]==null&&Sl(r,o,"");for(const o in n)o==="display"&&(i=!0),Sl(r,o,n[o])}else if(s){if(e!==n){const o=r[nE];o&&(n+=";"+o),r.cssText=n,i=FR.test(n)}}else e&&t.removeAttribute("style");of in t&&(t[of]=i?r.display:"",t[tE]&&(r.display="none"))}const vy=/\s*!important$/;function Sl(t,e,n){if(qe(n))n.forEach(r=>Sl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=$R(t,e);vy.test(n)?t.setProperty(Hi(r),n.replace(vy,""),"important"):t[r]=n}}const wy=["Webkit","Moz","ms"],Zh={};function $R(t,e){const n=Zh[e];if(n)return n;let r=Ar(e);if(r!=="filter"&&r in t)return Zh[e]=r;r=$f(r);for(let s=0;s<wy.length;s++){const i=wy[s]+r;if(i in t)return Zh[e]=i}return e}const by="http://www.w3.org/1999/xlink";function Ey(t,e,n,r,s,i=UA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(by,e.slice(6,e.length)):t.setAttributeNS(by,e,n):n==null||i&&!jw(n)?t.removeAttribute(e):t.setAttribute(e,i?"":ps(n)?String(n):n)}function Ty(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Zb(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=jw(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function So(t,e,n,r){t.addEventListener(e,n,r)}function jR(t,e,n,r){t.removeEventListener(e,n,r)}const Iy=Symbol("_vei");function BR(t,e,n,r,s=null){const i=t[Iy]||(t[Iy]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=qR(e);if(r){const f=i[e]=zR(r,s);So(t,a,f,l)}else o&&(jR(t,a,o,l),i[e]=void 0)}}const Ay=/(?:Once|Passive|Capture)$/;function qR(t){let e;if(Ay.test(t)){e={};let r;for(;r=t.match(Ay);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hi(t.slice(2)),e]}let ed=0;const HR=Promise.resolve(),KR=()=>ed||(HR.then(()=>ed=0),ed=Date.now());function zR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Hr(WR(r,n.value),e,5,[r])};return n.value=t,n.attached=KR(),n}function WR(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Sy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,GR=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?VR(t,r,o):e==="style"?UR(t,n,r):Cu(e)?lm(e)||BR(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):QR(t,e,r,o))?(Ty(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ey(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(r))?Ty(t,Ar(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ey(t,e,r,o))};function QR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sy(e)&&He(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Sy(e)&&$t(n)?!1:e in t}const cf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>Sa(e,n):e};function YR(t){t.target.composing=!0}function Ry(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Oa=Symbol("_assign"),dj={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Oa]=cf(s);const i=r||s.props&&s.props.type==="number";So(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Hl(a)),t[Oa](a)}),n&&So(t,"change",()=>{t.value=t.value.trim()}),e||(So(t,"compositionstart",YR),So(t,"compositionend",Ry),So(t,"change",Ry))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Oa]=cf(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Hl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},pj={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ff(e);So(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hl(uf(o)):uf(o));t[Oa](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,cr(()=>{t._assigning=!1})}),t[Oa]=cf(r)},mounted(t,{value:e}){Cy(t,e)},beforeUpdate(t,e,n){t[Oa]=cf(n)},updated(t,{value:e}){t._assigning||Cy(t,e)}};function Cy(t,e){const n=t.multiple,r=qe(e);if(!(n&&!r&&!Ff(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=uf(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(f=>String(f)===String(a)):o.selected=jA(e,a)>-1}else o.selected=e.has(a);else if(Bf(uf(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function uf(t){return"_value"in t?t._value:t.value}const JR=["ctrl","shift","alt","meta"],XR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>JR.some(n=>t[`${n}Key`]&&!e.includes(n))},mj=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=XR[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},ZR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},gj=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Hi(s.key);if(e.some(o=>o===i||ZR[o]===i))return t(s)}))},rE=dn({patchProp:GR},PR);let Kc,Py=!1;function eC(){return Kc||(Kc=JS(rE))}function tC(){return Kc=Py?Kc:XS(rE),Py=!0,Kc}const sE=((...t)=>{const e=eC().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=oE(r);if(!s)return;const i=e._component;!He(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,iE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),nC=((...t)=>{const e=tC().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=oE(r);if(s)return n(s,!0,iE(s))},e});function iE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function oE(t){return $t(t)?document.querySelector(t):t}const rC=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sC=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,iC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function oC(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){aC(t);return}return e}function aC(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ba(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!iC.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(rC.test(t)||sC.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,oC)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const cC=/#/g,uC=/&/g,lC=/\//g,fC=/=/g,xm=/\+/g,hC=/%5e/gi,dC=/%60/gi,pC=/%7c/gi,mC=/%20/gi;function gC(t){return encodeURI(""+t).replace(pC,"|")}function lp(t){return gC(typeof t=="string"?t:JSON.stringify(t)).replace(xm,"%2B").replace(mC,"+").replace(cC,"%23").replace(uC,"%26").replace(dC,"`").replace(hC,"^").replace(lC,"%2F")}function td(t){return lp(t).replace(fC,"%3D")}function lf(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function yC(t){return lf(t.replace(xm," "))}function _C(t){return lf(t.replace(xm," "))}function Nm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=yC(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=_C(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function vC(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${td(t)}=${lp(n)}`).join("&"):`${td(t)}=${lp(e)}`:td(t)}function wC(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>vC(e,t[e])).filter(Boolean).join("&")}const bC=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,EC=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,TC=/^([/\\]\s*){2,}[^/\\]/,IC=/^[\s\0]*(blob|data|javascript|vbscript):$/i,AC=/\/$|\/\?|\/#/,SC=/^\.?\//;function ai(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?bC.test(t):EC.test(t)||(e.acceptRelative?TC.test(t):!1)}function RC(t){return!!t&&IC.test(t)}function fp(t="",e){return e?AC.test(t):t.endsWith("/")}function fu(t="",e){if(!e)return(fp(t)?t.slice(0,-1):t)||"/";if(!fp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function aE(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(fp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function CC(t,e){if(cE(e)||ai(t))return t;const n=fu(e);return t.startsWith(n)?t:Qf(n,t)}function ky(t,e){if(cE(e))return t;const n=fu(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function ff(t,e){const n=fE(t),r={...Nm(n.search),...e};return n.search=wC(r),OC(n)}function cE(t){return!t||t==="/"}function PC(t){return t&&t!=="/"}function Qf(t,...e){let n=t||"";for(const r of e.filter(s=>PC(s)))if(n){const s=r.replace(SC,"");n=aE(n)+s}else n=r;return n}function uE(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&ai(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function kC(t,e){return lf(fu(t))===lf(fu(e))}const lE=Symbol.for("ufo:protocolRelative");function fE(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,y=""]=n;return{protocol:p.toLowerCase(),pathname:y,href:p+y,auth:"",host:"",search:"",hash:""}}if(!ai(t,{acceptRelative:!0}))return Oy(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:f,hash:d}=Oy(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:f,hash:d,[lE]:!r}}function Oy(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function OC(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[lE]?(t.protocol||"")+"//":"")+s+i+e+n+r}class DC extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function xC(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new DC(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[f]}});return a}const NC=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Dy(t="GET"){return NC.has(t.toUpperCase())}function MC(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const LC=new Set(["image/svg","application/xml","application/xhtml","application/html"]),VC=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function FC(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return VC.test(e)?"json":LC.has(e)||e.startsWith("text/")?"text":"blob"}function UC(t,e,n,r){const s=$C(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function $C(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function fl(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const jC=new Set([408,409,425,429,500,502,503,504]),BC=new Set([101,204,205,304]);function hE(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let d;typeof a.options.retry=="number"?d=a.options.retry:d=Dy(a.options.method)?0:1;const p=a.response&&a.response.status||500;if(d>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(p):jC.has(p))){const y=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return y>0&&await new Promise(v=>setTimeout(v,y)),i(a.request,{...a.options,retry:d-1})}}const f=xC(a);throw Error.captureStackTrace&&Error.captureStackTrace(f,i),f}const i=async function(l,f={}){const d={request:l,options:UC(l,f,t.defaults,n),response:void 0,error:void 0};d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&await fl(d,d.options.onRequest),typeof d.request=="string"&&(d.options.baseURL&&(d.request=CC(d.request,d.options.baseURL)),d.options.query&&(d.request=ff(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&Dy(d.options.method)&&(MC(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half")));let p;if(!d.options.signal&&d.options.timeout){const v=new r;p=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,v.abort(E)},d.options.timeout),d.options.signal=v.signal}try{d.response=await e(d.request,d.options)}catch(v){return d.error=v,d.options.onRequestError&&await fl(d,d.options.onRequestError),await s(d)}finally{p&&clearTimeout(p)}if((d.response.body||d.response._bodyInit)&&!BC.has(d.response.status)&&d.options.method!=="HEAD"){const v=(d.options.parseResponse?"json":d.options.responseType)||FC(d.response.headers.get("content-type")||"");switch(v){case"json":{const E=await d.response.text(),A=d.options.parseResponse||Ba;d.response._data=A(E);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[v]()}}return d.options.onResponse&&await fl(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await fl(d,d.options.onResponseError),await s(d)):d.response},o=async function(l,f){return(await i(l,f))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>hE({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const hf=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),qC=hf.fetch?(...t)=>hf.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),HC=hf.Headers,KC=hf.AbortController,zC=hE({fetch:qC,Headers:HC,AbortController:KC}),WC=zC,GC=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Mm=()=>GC().app,QC=()=>Mm().baseURL,YC=()=>Mm().buildAssetsDir,Lm=(...t)=>uE(dE(),YC(),...t),dE=(...t)=>{const e=Mm(),n=e.cdnURL||e.baseURL;return t.length?uE(n,...t):n};globalThis.__buildAssetsURL=Lm,globalThis.__publicAssetsURL=dE;globalThis.$fetch||(globalThis.$fetch=WC.create({baseURL:QC()}));"global"in globalThis||(globalThis.global=globalThis);function hp(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?hp(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const JC={run:t=>t()},XC=()=>JC,pE=typeof console.createTask<"u"?console.createTask:XC;function ZC(t,e){const n=e.shift(),r=pE(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function eP(t,e){const n=e.shift(),r=pE(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function nd(t,e){for(const n of[...t])n(e)}class tP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=hp(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=hp(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(ZC,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(eP,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&nd(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&nd(this._after,s)}):(this._after&&s&&nd(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function mE(){return new tP}function nP(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},f=()=>e===o?l:void 0;dp.add(f);try{const d=s?s.run(o,a):a();return n||(e=void 0),await d}finally{dp.delete(f)}}}}function rP(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=nP({...t,...r})),e[n]}}}const df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},xy="__unctx__",sP=df[xy]||(df[xy]=rP()),iP=(t,e={})=>sP.get(t,e),Ny="__unctx_async_handlers__",dp=df[Ny]||(df[Ny]=new Set);function Tr(t){const e=[];for(const s of dp){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const oP=!1,My=!1,aP=!1,Ly={id:"__nuxt-loader"},cP={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},uP={deep:!1},lP={},fP="#__nuxt",gE="nuxt-app",Vy=36e5,hP="vite:preloadError";function yE(t=gE){return iP(t,{asyncContext:!1})}const dP="__nuxt_plugin";function pP(t){let e=0;const n={_id:t.id||gE||"nuxt-app",_scope:ym(),provide:void 0,versions:{get nuxt(){return"4.1.3"},get vue(){return n.vueApp.version}},payload:cs({...t.ssrContext?.payload||{},data:cs({}),state:un({}),once:new Set,_errors:cs({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!tc()?n._scope.run(()=>Fy(n,s)):Fy(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:cs({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=mE(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;hl(n,o,i),hl(n.vueApp.config.globalProperties,o,i)},hl(n.vueApp,"$nuxt",n),hl(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(hP,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Lt;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function mP(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function gP(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function yP(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const f=l.dependsOn?.filter(d=>e.some(p=>p._name===d)&&!n.has(d))??[];if(f.length>0)r.push([new Set(f),l]);else{const d=gP(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([p,y])=>{p.has(l._name)&&(p.delete(l._name),p.size===0&&(o++,await a(y)))})))}).catch(p=>{if(!l.parallel&&!t.payload.error)throw p;i||=p});l.parallel?s.push(d):await d}}for(const l of e)mP(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function pn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[dP]:!0,_name:e})}const _P=pn;function Fy(t,e,n){const r=()=>e();return yE(t._id).set(t),t.vueApp.runWithContext(r)}function vP(t){let e;return Ou()&&(e=oi()?.appContext.app.$nuxt),e||=yE(t).tryUse(),e||null}function Lt(t){const e=vP(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Zs(t){return Lt().$config}function hl(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function wP(t,e){return{ctx:{table:t},matchAll:n=>vE(n,t)}}function _E(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,_E(s)])):new Map(Object.entries(t[n]));return e}function bP(t){return wP(_E(t))}function vE(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Uy(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Uy(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...vE(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Uy(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function rd(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function pp(t,e,n=".",r){if(!rd(e))return pp(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:rd(o)&&rd(s[i])?s[i]=pp(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function EP(t){return(...e)=>e.reduce((n,r)=>pp(n,r,"",t),{})}const wE=EP();function TP(t,e){try{return e in t}catch{return!1}}class $y extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:mp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=bE(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function IP(t){if(typeof t=="string")return new $y(t);if(AP(t))return t;const e=new $y(t.message??t.statusMessage??"",{cause:t.cause||t});if(TP(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=mp(t.statusCode,e.statusCode):t.status&&(e.statusCode=mp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;bE(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function AP(t){return t?.constructor?.__h3_error__===!0}const SP=/[^\u0009\u0020-\u007E]/g;function bE(t=""){return t.replace(SP,"")}function mp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const EE=Symbol("layout-meta"),Vo=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const qn=()=>Lt()?.$router,Yf=()=>Ou()?Ht(Vo,Lt()._route):Lt()._route;const RP=()=>{try{if(Lt()._processingMiddleware)return!0}catch{return!1}return!1},CP=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?gp(t):qn().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:f={}}=e.open,d=[];for(const[p,y]of Object.entries(f))y!==void 0&&d.push(`${p.toLowerCase()}=${y}`);return open(n,l,d.join(", ")),Promise.resolve()}const r=ai(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&RC(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=RP();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:f,hash:d}=fE(t);return{path:l,...f&&{query:Nm(f)},...d&&{hash:d},replace:!0}}return{...t,replace:!0}}return t}const o=qn(),a=Lt();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function gp(t){return ff(t.path||"",t.query||{})+(t.hash||"")}const TE="__nuxt_error",Du=()=>ab(Lt().payload,"error"),Io=t=>{const e=Oi(t);try{const n=Du();Lt().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},PP=async(t={})=>{const e=Lt(),n=Du();e.callHook("app:error:cleared",t),t.redirect&&await qn().replace(t.redirect),n.value=void 0},IE=t=>!!t&&typeof t=="object"&&TE in t,Oi=t=>{const e=IP(t);return Object.defineProperty(e,TE,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let AE;const xu=t=>AE=t,SE=Symbol();function yp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zc||(zc={}));function kP(){const t=ym(!0),e=t.run(()=>Ft({}));let n=[],r=[];const s=Im({install(i){xu(s),s._a=i,i.provide(SE,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const RE=()=>{};function jy(t,e,n,r=RE){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&tc()&&ru(s),s}function ha(t,...e){t.slice().forEach(n=>{n(...e)})}const OP=t=>t(),By=Symbol(),sd=Symbol();function _p(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];yp(s)&&yp(r)&&t.hasOwnProperty(n)&&!Ut(r)&&!zs(r)?t[n]=_p(s,r):t[n]=r}return t}const DP=Symbol();function xP(t){return!yp(t)||!Object.prototype.hasOwnProperty.call(t,DP)}const{assign:vi}=Object;function NP(t){return!!(Ut(t)&&t.effect)}function MP(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function f(){a||(n.state.value[t]=s?s():{});const d=hS(n.state.value[t]);return vi(d,i,Object.keys(o||{}).reduce((p,y)=>(p[y]=Im(Ze(()=>{xu(n);const v=n._s.get(t);return o[y].call(v,v)})),p),{}))}return l=CE(t,f,e,n,r,!0),l}function CE(t,e,n={},r,s,i){let o;const a=vi({actions:{}},n),l={deep:!0};let f,d,p=[],y=[],v;const E=r.state.value[t];!i&&!E&&(r.state.value[t]={}),Ft({});let A;function L(S){let I;f=d=!1,typeof S=="function"?(S(r.state.value[t]),I={type:zc.patchFunction,storeId:t,events:v}):(_p(r.state.value[t],S),I={type:zc.patchObject,payload:S,storeId:t,events:v});const k=A=Symbol();cr().then(()=>{A===k&&(f=!0)}),d=!0,ha(p,I,r.state.value[t])}const H=i?function(){const{state:I}=n,k=I?I():{};this.$patch(V=>{vi(V,k)})}:RE;function U(){o.stop(),p=[],y=[],r._s.delete(t)}const P=(S,I="")=>{if(By in S)return S[sd]=I,S;const k=function(){xu(r);const V=Array.from(arguments),M=[],R=[];function Pe(xe){M.push(xe)}function $e(xe){R.push(xe)}ha(y,{args:V,name:k[sd],store:$,after:Pe,onError:$e});let be;try{be=S.apply(this&&this.$id===t?this:$,V)}catch(xe){throw ha(R,xe),xe}return be instanceof Promise?be.then(xe=>(ha(M,xe),xe)).catch(xe=>(ha(R,xe),Promise.reject(xe))):(ha(M,be),be)};return k[By]=!0,k[sd]=I,k},x={_p:r,$id:t,$onAction:jy.bind(null,y),$patch:L,$reset:H,$subscribe(S,I={}){const k=jy(p,S,I.detached,()=>V()),V=o.run(()=>Er(()=>r.state.value[t],M=>{(I.flush==="sync"?d:f)&&S({storeId:t,type:zc.direct,events:v},M)},vi({},l,I)));return k},$dispose:U},$=un(x);r._s.set(t,$);const D=(r._a&&r._a.runWithContext||OP)(()=>r._e.run(()=>(o=ym()).run(()=>e({action:P}))));for(const S in D){const I=D[S];if(Ut(I)&&!NP(I)||zs(I))i||(E&&xP(I)&&(Ut(I)?I.value=E[S]:_p(I,E[S])),r.state.value[t][S]=I);else if(typeof I=="function"){const k=P(I,S);D[S]=k,a.actions[S]=I}}return vi($,D),vi(Ge($),D),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:S=>{L(I=>{vi(I,S)})}}),r._p.forEach(S=>{vi($,o.run(()=>S({store:$,app:r._a,pinia:r,options:a})))}),E&&i&&n.hydrate&&n.hydrate($.$state,E),f=!0,d=!0,$}/*! #__NO_SIDE_EFFECTS__ */function Nu(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=Ou();return o=o||(l?Ht(SE,null):null),o&&xu(o),o=AE,o._s.has(t)||(s?CE(t,e,r,o):MP(t,r,o)),o._s.get(t)}return i.$id=t,i}function LP(t){const e=FP(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const VP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function FP(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=VP.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const UP=-1,$P=-2,jP=-3,BP=-4,qP=-5,HP=-6;function KP(t,e){return zP(JSON.parse(t),e)}function zP(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===UP)return;if(i===jP)return NaN;if(i===BP)return 1/0;if(i===qP)return-1/0;if(i===HP)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],f=e?.[l];if(f)return r[i]=f(s(a[1]));switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const d=new Set;r[i]=d;for(let v=1;v<a.length;v+=1)d.add(s(a[v]));break;case"Map":const p=new Map;r[i]=p;for(let v=1;v<a.length;v+=2)p.set(s(a[v]),s(a[v+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const y=Object.create(null);r[i]=y;for(let v=1;v<a.length;v+=2)y[a[v]]=s(a[v+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const v=globalThis[l],E=new v(s(a[1]));r[i]=a[2]!==void 0?E.subarray(a[2],a[3]):E;break}case"ArrayBuffer":{const v=a[1],E=LP(v);r[i]=E;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const v=l.slice(9);r[i]=Temporal[v].from(a[1]);break}case"URL":{const v=new URL(a[1]);r[i]=v;break}case"URLSearchParams":{const v=new URLSearchParams(a[1]);r[i]=v;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let f=0;f<a.length;f+=1){const d=a[f];d!==$P&&(l[f]=s(d))}}else{const l={};r[i]=l;for(const f in a){if(f==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const d=a[f];l[f]=s(d)}}return r[i]}return s(0)}const WP=new Set(["link","style","script","noscript"]),GP=new Set(["title","titleTemplate","script","style","noscript"]),qy=new Set(["base","meta","link","style","script","noscript"]),QP=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),YP=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),JP=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),XP=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Vm=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),hu={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},ZP={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},PE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${qs(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?qs(t):`${qs(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${qs(t)} ${e}`}},charset:{}};function qs(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:hu.META.has(e.slice(0,n))||hu.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function kE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function vp(t){return Array.isArray(t)?t.map(vp):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[qs(e),vp(n)]))}function OE(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const f=i({key:o,value:a});if(f!==void 0)return f}const l=typeof a=="object"?OE(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${l}`}).join(n)}function Hy(t,e){const n=kE(e),r=qs(t),s=DE(r);if(!Vm.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return pf(i||{}).sort((o,a)=>(o[s]?.length||0)-(a[s]?.length||0))}function DE(t){if(PE[t]?.metaKey==="http-equiv"||hu.HTTP_EQUIV.has(t))return"http-equiv";const e=qs(t),n=e.indexOf(":");return n===-1?"name":hu.OG.has(e.slice(0,n))?"property":"name"}function e1(t){return ZP[t]||qs(t)}function t1(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:OE(vp(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...PE[e]?.unpack})}function pf(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[f,d]of Object.entries(o)){const p=`${s}${f==="url"?"":`:${f}`}`,y=pf({[p]:d});(f==="url"?a:l).push(...y)}e.push(...a,...l)}else e.push(...typeof o=="string"?pf({[s]:o}):Hy(s,o));continue}if(typeof i=="object"&&i)if(hu.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";i.url&&e.push({[l]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[f,d]of Object.entries(i))f!=="url"&&f!=="secureUrl"&&e.push({[l]:`${o}:${a}:${f}`,content:d})}else Vm.has(qs(s))?e.push(...Hy(s,i)):n[s]=kE(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=DE(s),a=e1(s),l=i===null?"_null":typeof i=="object"?t1(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const n1={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(pf(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},r1=["name","property","http-equiv"],s1=new Set(["viewport","description","keywords","robots"]);function xE(t){const e=t.split(":");return e.length?Vm.has(e[1]):!1}function wp(t){const{props:e,tag:n}=t;if(YP.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of r1)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=s1.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(GP.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Ky(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function mf(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>mf(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=mf(s[o],e,o);return i}return s}function i1(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function NE(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=i1(n,r);return}if(JP.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function o1(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=NE({tag:t,props:{}},n);return r.key&&WP.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function a1(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=mf(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(o1(s,o))}),r.flat()}const zy=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wy={base:-10,title:10},c1={critical:-8,high:-1,low:2},Gy={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},u1=/@import/,Dc=t=>t===""||t===!0;function l1(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=c1[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Gy;if(e.tag in Wy)n=Wy[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Gy.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Dc(e.props.async)?n=s.script.async:e.props.src&&!Dc(e.props.defer)&&!Dc(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:Dc(e.props.defer)&&e.props.src&&!Dc(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&u1.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Qy(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function f1(t={}){const e=mE();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Qy(o,a),push(a,l){const f={...l||{}};delete f.head;const d=f._index??o._entryCount++,p={_i:d,input:a,options:f},y={_poll(v=!1){o.dirty=!0,!v&&i.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(v){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=v,r.set(d,p),y._poll())}};return y.patch(a),y},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const y=i.values().next().value;i.delete(y);const v=r.get(y);if(v){const E={tags:a1(v.input,t.propResolvers||[]).map(A=>Object.assign(A,v.options)),entry:v};await e.callHook("entries:normalize",E),v._tags=E.tags.map((A,L)=>(A._w=l1(o,A),A._p=(v._i<<10)+L,A._d=wp(A),A))}}let l=!1;a.entries.flatMap(y=>(y._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(zy).reduce((y,v)=>{const E=String(v._d||v._p);if(!y.has(E))return y.set(E,v);const A=y.get(E);if((v?.tagDuplicateStrategy||(XP.has(v.tag)?"merge":null)||(v.key&&v.key===A.key?"merge":null))==="merge"){const H={...A.props};Object.entries(v.props).forEach(([U,P])=>H[U]=U==="style"?new Map([...A.props.style||new Map,...P]):U==="class"?new Set([...A.props.class||new Set,...P]):P),y.set(E,{...v,props:H})}else v._p>>10===A._p>>10&&v.tag==="meta"&&xE(E)?(y.set(E,Object.assign([...Array.isArray(A)?A:[A],v],v)),l=!0):(v._w===A._w?v._p>A._p:v?._w<A?._w)&&y.set(E,v);return y},a.tagMap);const f=a.tagMap.get("title"),d=a.tagMap.get("titleTemplate");if(o._title=f?.textContent,d){const y=d?.textContent;if(o._titleTemplate=y,y){let v=typeof y=="function"?y(f?.textContent):y;typeof v=="string"&&!o.plugins.has("template-params")&&(v=v.replace("%s",f?.textContent||"")),f?v===null?a.tagMap.delete("title"):a.tagMap.set("title",{...f,textContent:v}):(d.tag="title",d.textContent=v)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(zy)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const p=[];for(const y of a.tags){const{innerHTML:v,tag:E,props:A}=y;if(QP.has(E)&&!(Object.keys(A).length===0&&!y.innerHTML&&!y.textContent)&&!(E==="meta"&&!A.content&&!A["http-equiv"]&&!A.charset)){if(E==="script"&&v){if(A.type?.endsWith("json")){const L=typeof v=="string"?v:JSON.stringify(v);y.innerHTML=L.replace(/</g,"\\u003C")}else typeof v=="string"&&(y.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));y._d=wp(y)}p.push(y)}}return p},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Qy(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const h1=(t,e)=>Ut(e)?Vr(e):e,Fm="usehead";function d1(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Fm,t)}}.install}function ME(){if(Ou()){const t=Ht(Fm);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function LE(t,e={}){const n=e.head||ME();return n.ssr?n.push(t||{},e):p1(n,t,e)}function p1(t,e,n={}){const r=Ft(!1);let s;return qc(()=>{const o=r.value?{}:mf(e,h1);s?s.patch(o):s=t.push(o,n)}),oi()&&(rc(()=>{s.dispose()}),wb(()=>{r.value=!0}),vb(()=>{r.value=!1})),s}function m1(t={},e={}){(e.head||ME()).use(n1);const{title:r,titleTemplate:s,...i}=t;return LE({title:r,titleTemplate:s,_flatMeta:i},e)}function VE(t){const e=t||Lt();return e.ssrContext?.head||e.runWithContext(()=>{if(Ou()){const n=Ht(Fm);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function FE(t,e={}){const n=e.head||VE(e.nuxt);return LE(t,{head:n,...e})}function g1(t,e={}){const n=e.head||VE(e.nuxt);return m1(t,{head:n,...e})}const y1="modulepreload",_1=function(t,e){return new URL(t,e).href},Yy={},At=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=f(n.map(d=>{if(d=_1(d,r),d in Yy)return;Yy[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const A=o[E];if(A.href===d&&(!p||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":y1,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((E,A)=>{v.addEventListener("load",E),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let Rl,Cl;function v1(){return Rl=$fetch(Lm(`builds/meta/${Zs().app.buildId}.json`),{responseType:"json"}),Rl.then(t=>{Cl=bP(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Rl}function Jf(){return Rl||v1()}async function Um(t){const e=typeof t=="string"?t:t.path;if(await Jf(),!Cl)return console.error("[nuxt] Error creating app manifest matcher.",Cl),{};try{return wE({},...Cl.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Jy(t,e={}){if(!await $E(t))return null;const r=await b1(t,e);return await UE(r)||null}const w1="_payload.json";async function b1(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ai(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Zs(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await $E(t)?i:r.app.baseURL;return Qf(o,n.pathname,w1+(s?`?${s}`:""))}async function UE(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(jE));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function $E(t=Yf().path){const e=Lt();return t=t.replace(/\/$/,""),(await Jf()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Um({path:t});return!!r.prerender&&!r.redirect})}let bo=null;async function E1(){if(bo)return bo;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await jE(t.textContent||""),n=t.dataset.src?await UE(t.dataset.src):void 0;return bo={...e,...n,...window.__NUXT__},bo.config?.public&&(bo.config.public=un(bo.config.public)),bo}async function jE(t){return await KP(t,Lt()._payloadRevivers)}function BE(t,e){Lt()._payloadRevivers[t]=e}const T1=_P(()=>{BE("skipHydrate",t=>{})}),I1=[["NuxtError",t=>Oi(t)],["EmptyShallowRef",t=>Xs(t==="_"?void 0:t==="0n"?BigInt(0):Ba(t))],["EmptyRef",t=>Ft(t==="_"?void 0:t==="0n"?BigInt(0):Ba(t))],["ShallowRef",t=>Xs(t)],["ShallowReactive",t=>cs(t)],["Ref",t=>Ft(t)],["Reactive",t=>un(t)]],A1=pn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of I1)BE(r,s);Object.assign(t.payload,([e,n]=Tr(()=>t.runWithContext(E1)),e=await e,n(),e)),delete window.__NUXT__}});async function $m(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(v=>{t.resolveTags().then(E=>{v(E.map(A=>{const L=i.get(A._d)||0,H={tag:A,id:(L?`${A._d}:${L}`:A._d)||Ky(A),shouldRender:!0};return A._d&&xE(A._d)&&i.set(A._d,L+1),H}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const v of["body","head"]){const E=n[v]?.children;for(const A of E){const L=A.tagName.toLowerCase();if(!qy.has(L))continue;const H=NE({tag:L,props:{}},{innerHTML:A.innerHTML,...A.getAttributeNames().reduce((U,P)=>(U[P]=A.getAttribute(P),U),{})||{}});if(H.key=A.getAttribute("data-hid")||void 0,H._d=wp(H)||Ky(H),a.elMap.has(H._d)){let U=1,P=H._d;for(;a.elMap.has(P);)P=`${H._d}:${U++}`;a.elMap.set(P,A)}else a.elMap.set(H._d,A)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(v,E,A){const L=`${v}:${E}`;a.sideEffects[L]=A,delete a.pendingSideEffects[L]}function f({id:v,$el:E,tag:A}){const L=A.tag.endsWith("Attrs");a.elMap.set(v,E),L||(A.textContent&&A.textContent!==E.textContent&&(E.textContent=A.textContent),A.innerHTML&&A.innerHTML!==E.innerHTML&&(E.innerHTML=A.innerHTML),l(v,"el",()=>{E?.remove(),a.elMap.delete(v)}));for(const H in A.props){if(!Object.prototype.hasOwnProperty.call(A.props,H))continue;const U=A.props[H];if(H.startsWith("on")&&typeof U=="function"){const x=E?.dataset;if(x&&x[`${H}fired`]){const $=H.slice(0,-5);U.call(E,new Event($.substring(2)))}E.getAttribute(`data-${H}`)!==""&&((A.tag==="bodyAttrs"?n.defaultView:E).addEventListener(H.substring(2),U.bind(E)),E.setAttribute(`data-${H}`,""));continue}const P=`attr:${H}`;if(H==="class"){if(!U)continue;for(const x of U)L&&l(v,`${P}:${x}`,()=>E.classList.remove(x)),!E.classList.contains(x)&&E.classList.add(x)}else if(H==="style"){if(!U)continue;for(const[x,$]of U)l(v,`${P}:${x}`,()=>{E.style.removeProperty(x)}),E.style.setProperty(x,$)}else U!==!1&&U!==null&&(E.getAttribute(H)!==U&&E.setAttribute(H,U===!0?"":String(U)),L&&l(v,P,()=>E.removeAttribute(H)))}}const d=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},y=await o;for(const v of y){const{tag:E,shouldRender:A,id:L}=v;if(A){if(E.tag==="title"){n.title=E.textContent,l("title","",()=>n.title=a.title);continue}v.$el=v.$el||a.elMap.get(L),v.$el?f(v):qy.has(E.tag)&&d.push(v)}}for(const v of d){const E=v.tag.tagPosition||"head";v.$el=n.createElement(v.tag.tag),f(v),p[E]=p[E]||n.createDocumentFragment(),p[E].appendChild(v.$el)}for(const v of y)await t.hooks.callHook("dom:renderTag",v,n,l);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const v in a.pendingSideEffects)a.pendingSideEffects[v]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:y}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function S1(t={}){const e=t.domOptions?.render||$m;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return f1({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function R1(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function C1(t={}){const e=S1({domOptions:{render:R1(()=>$m(e),n=>setTimeout(n,0))},...t});return e.install=d1(e),e}const P1={disableDefaults:!0},k1=pn({name:"nuxt:head",enforce:"pre",setup(t){const e=C1(P1);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await $m(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ga=typeof document<"u";function qE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function O1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&qE(t.default)}const _t=Object.assign;function id(t,e){const n={};for(const r in e){const s=e[r];n[r]=Kr(s)?s.map(t):t(s)}return n}const Wc=()=>{},Kr=Array.isArray,HE=/#/g,D1=/&/g,x1=/\//g,N1=/=/g,M1=/\?/g,KE=/\+/g,L1=/%5B/g,V1=/%5D/g,zE=/%5E/g,F1=/%60/g,WE=/%7B/g,U1=/%7C/g,GE=/%7D/g,$1=/%20/g;function jm(t){return encodeURI(""+t).replace(U1,"|").replace(L1,"[").replace(V1,"]")}function j1(t){return jm(t).replace(WE,"{").replace(GE,"}").replace(zE,"^")}function bp(t){return jm(t).replace(KE,"%2B").replace($1,"+").replace(HE,"%23").replace(D1,"%26").replace(F1,"`").replace(WE,"{").replace(GE,"}").replace(zE,"^")}function B1(t){return bp(t).replace(N1,"%3D")}function q1(t){return jm(t).replace(HE,"%23").replace(M1,"%3F")}function H1(t){return t==null?"":q1(t).replace(x1,"%2F")}function du(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const K1=/\/$/,z1=t=>t.replace(K1,"");function od(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Y1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:du(o)}}function W1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function G1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&qa(e.matched[r],n.matched[s])&&QE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function QE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Q1(t[n],e[n]))return!1;return!0}function Q1(t,e){return Kr(t)?Zy(t,e):Kr(e)?Zy(e,t):t===e}function Zy(t,e){return Kr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Y1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pu;(function(t){t.pop="pop",t.push="push"})(pu||(pu={}));var Gc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gc||(Gc={}));function J1(t){if(!t)if(ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),z1(t)}const X1=/^[^#]+#/;function Z1(t,e){return t.replace(X1,"#")+e}function ek(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xf=()=>({left:window.scrollX,top:window.scrollY});function tk(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=ek(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function e_(t,e){return(history.state?history.state.position-e:-1)+t}const Ep=new Map;function nk(t,e){Ep.set(t,e)}function rk(t){const e=Ep.get(t);return Ep.delete(t),e}let sk=()=>location.protocol+"//"+location.host;function YE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Xy(l,"")}return Xy(n,t)+r+s}function ik(t,e,n,r){let s=[],i=[],o=null;const a=({state:y})=>{const v=YE(t,location),E=n.value,A=e.value;let L=0;if(y){if(n.value=v,e.value=y,o&&o===E){o=null;return}L=A?y.position-A.position:0}else r(v);s.forEach(H=>{H(n.value,E,{delta:L,type:pu.pop,direction:L?L>0?Gc.forward:Gc.back:Gc.unknown})})};function l(){o=n.value}function f(y){s.push(y);const v=()=>{const E=s.indexOf(y);E>-1&&s.splice(E,1)};return i.push(v),v}function d(){const{history:y}=window;y.state&&y.replaceState(_t({},y.state,{scroll:Xf()}),"")}function p(){for(const y of i)y();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:f,destroy:p}}function t_(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Xf():null}}function ok(t){const{history:e,location:n}=window,r={value:YE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,f,d){const p=t.indexOf("#"),y=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:sk()+t+l;try{e[d?"replaceState":"pushState"](f,"",y),s.value=f}catch(v){console.error(v),n[d?"replace":"assign"](y)}}function o(l,f){const d=_t({},e.state,t_(s.value.back,l,s.value.forward,!0),f,{position:s.value.position});i(l,d,!0),r.value=l}function a(l,f){const d=_t({},s.value,e.state,{forward:l,scroll:Xf()});i(d.current,d,!0);const p=_t({},t_(r.value,l,null),{position:d.position+1},f);i(l,p,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function ak(t){t=J1(t);const e=ok(t),n=ik(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:t,go:r,createHref:Z1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function ck(t){return typeof t=="string"||t&&typeof t=="object"}function JE(t){return typeof t=="string"||typeof t=="symbol"}const XE=Symbol("");var n_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(n_||(n_={}));function Ha(t,e){return _t(new Error,{type:t,[XE]:!0},e)}function Ls(t,e){return t instanceof Error&&XE in t&&(e==null||!!(t.type&e))}const r_="[^/]+?",uk={sensitive:!1,strict:!1,start:!0,end:!0},lk=/[.+*?^${}()[\]/\\]/g;function fk(t,e){const n=_t({},uk,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const d=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let p=0;p<f.length;p++){const y=f[p];let v=40+(n.sensitive?.25:0);if(y.type===0)p||(s+="/"),s+=y.value.replace(lk,"\\$&"),v+=40;else if(y.type===1){const{value:E,repeatable:A,optional:L,regexp:H}=y;i.push({name:E,repeatable:A,optional:L});const U=H||r_;if(U!==r_){v+=10;try{new RegExp(`(${U})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${E}" (${U}): `+x.message)}}let P=A?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;p||(P=L&&f.length<2?`(?:/${P})`:"/"+P),L&&(P+="?"),s+=P,v+=20,L&&(v+=-8),A&&(v+=-20),U===".*"&&(v+=-50)}d.push(v)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(f){const d=f.match(o),p={};if(!d)return null;for(let y=1;y<d.length;y++){const v=d[y]||"",E=i[y-1];p[E.name]=v&&E.repeatable?v.split("/"):v}return p}function l(f){let d="",p=!1;for(const y of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of y)if(v.type===0)d+=v.value;else if(v.type===1){const{value:E,repeatable:A,optional:L}=v,H=E in f?f[E]:"";if(Kr(H)&&!A)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const U=Kr(H)?H.join("/"):H;if(!U)if(L)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);d+=U}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function hk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ZE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=hk(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(s_(r))return 1;if(s_(s))return-1}return s.length-r.length}function s_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dk={type:0,value:""},pk=/[a-zA-Z0-9_]/;function mk(t){if(!t)return[[]];if(t==="/")return[[dk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,f="",d="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&p(),o()):l===":"?(p(),n=1):y();break;case 4:y(),n=r;break;case 1:l==="("?n=2:pk.test(l)?y():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),o(),s}function gk(t,e,n){const r=fk(mk(t.path),n),s=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function yk(t,e){const n=[],r=new Map;e=c_({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,y,v){const E=!v,A=o_(p);A.aliasOf=v&&v.record;const L=c_(e,p),H=[A];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const $ of x)H.push(o_(_t({},A,{components:v?v.record.components:A.components,path:$,aliasOf:v?v.record:A})))}let U,P;for(const x of H){const{path:$}=x;if(y&&$[0]!=="/"){const ne=y.record.path,D=ne[ne.length-1]==="/"?"":"/";x.path=y.record.path+($&&D+$)}if(U=gk(x,y,L),v?v.alias.push(U):(P=P||U,P!==U&&P.alias.push(U),E&&p.name&&!a_(U)&&o(p.name)),eT(U)&&l(U),A.children){const ne=A.children;for(let D=0;D<ne.length;D++)i(ne[D],U,v&&v.children[D])}v=v||U}return P?()=>{o(P)}:Wc}function o(p){if(JE(p)){const y=r.get(p);y&&(r.delete(p),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(p);y>-1&&(n.splice(y,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return n}function l(p){const y=wk(p,n);n.splice(y,0,p),p.record.name&&!a_(p)&&r.set(p.record.name,p)}function f(p,y){let v,E={},A,L;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Ha(1,{location:p});L=v.record.name,E=_t(i_(y.params,v.keys.filter(P=>!P.optional).concat(v.parent?v.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),p.params&&i_(p.params,v.keys.map(P=>P.name))),A=v.stringify(E)}else if(p.path!=null)A=p.path,v=n.find(P=>P.re.test(A)),v&&(E=v.parse(A),L=v.record.name);else{if(v=y.name?r.get(y.name):n.find(P=>P.re.test(y.path)),!v)throw Ha(1,{location:p,currentLocation:y});L=v.record.name,E=_t({},y.params,p.params),A=v.stringify(E)}const H=[];let U=v;for(;U;)H.unshift(U.record),U=U.parent;return{name:L,path:A,params:E,matched:H,meta:vk(H)}}t.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function i_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function o_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_k(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _k(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function a_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vk(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function c_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function wk(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;ZE(t,e[i])<0?r=i:n=i+1}const s=bk(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function bk(t){let e=t;for(;e=e.parent;)if(eT(e)&&ZE(t,e)===0)return e}function eT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ek(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(KE," "),o=i.indexOf("="),a=du(o<0?i:i.slice(0,o)),l=o<0?null:du(i.slice(o+1));if(a in e){let f=e[a];Kr(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function u_(t){let e="";for(let n in t){const r=t[n];if(n=B1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kr(r)?r.map(i=>i&&bp(i)):[r&&bp(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Tk(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Kr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Ik=Symbol(""),l_=Symbol(""),Zf=Symbol(""),Bm=Symbol(""),Tp=Symbol("");function xc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ti(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const f=y=>{y===!1?l(Ha(4,{from:n,to:e})):y instanceof Error?l(y):ck(y)?l(Ha(2,{from:e,to:y})):(o&&r.enterCallbacks[s]===o&&typeof y=="function"&&o.push(y),a())},d=i(()=>t.call(r&&r.instances[s],e,n,f));let p=Promise.resolve(d);t.length<3&&(p=p.then(f)),p.catch(y=>l(y))})}function ad(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(qE(l)){const d=(l.__vccOpts||l)[e];d&&i.push(Ti(d,n,r,o,a,s))}else{let f=l();i.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=O1(d)?d.default:d;o.mods[a]=d,o.components[a]=p;const v=(p.__vccOpts||p)[e];return v&&Ti(v,n,r,o,a,s)()}))}}return i}function f_(t){const e=Ht(Zf),n=Ht(Bm),r=Ze(()=>{const l=Ct(t.to);return e.resolve(l)}),s=Ze(()=>{const{matched:l}=r.value,{length:f}=l,d=l[f-1],p=n.matched;if(!d||!p.length)return-1;const y=p.findIndex(qa.bind(null,d));if(y>-1)return y;const v=h_(l[f-2]);return f>1&&h_(d)===v&&p[p.length-1].path!==v?p.findIndex(qa.bind(null,l[f-2])):y}),i=Ze(()=>s.value>-1&&Pk(n.params,r.value.params)),o=Ze(()=>s.value>-1&&s.value===n.matched.length-1&&QE(n.params,r.value.params));function a(l={}){if(Ck(l)){const f=e[Ct(t.replace)?"replace":"push"](Ct(t.to)).catch(Wc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ak(t){return t.length===1?t[0]:t}const Sk=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:f_,setup(t,{slots:e}){const n=un(f_(t)),{options:r}=Ht(Zf),s=Ze(()=>({[d_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[d_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Ak(e.default(n));return t.custom?i:qt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Rk=Sk;function Ck(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Pk(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Kr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function h_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const d_=(t,e,n)=>t??e??n,kk=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ht(Tp),s=Ze(()=>t.route||r.value),i=Ht(l_,0),o=Ze(()=>{let f=Ct(i);const{matched:d}=s.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),a=Ze(()=>s.value.matched[o.value]);Ws(l_,Ze(()=>o.value+1)),Ws(Ik,a),Ws(Tp,s);const l=Ft();return Er(()=>[l.value,a.value,t.name],([f,d,p],[y,v,E])=>{d&&(d.instances[p]=f,v&&v!==d&&f&&f===y&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),f&&d&&(!v||!qa(d,v)||!y)&&(d.enterCallbacks[p]||[]).forEach(A=>A(f))},{flush:"post"}),()=>{const f=s.value,d=t.name,p=a.value,y=p&&p.components[d];if(!y)return p_(n.default,{Component:y,route:f});const v=p.props[d],E=v?v===!0?f.params:typeof v=="function"?v(f):v:null,L=qt(y,_t({},E,e,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return p_(n.default,{Component:L,route:f})||L}}});function p_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const tT=kk;function Ok(t){const e=yk(t.routes,t),n=t.parseQuery||Ek,r=t.stringifyQuery||u_,s=t.history,i=xc(),o=xc(),a=xc(),l=Xs(vr);let f=vr;ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=id.bind(null,oe=>""+oe),p=id.bind(null,H1),y=id.bind(null,du);function v(oe,ke){let se,Le;return JE(oe)?(se=e.getRecordMatcher(oe),Le=ke):Le=oe,e.addRoute(Le,se)}function E(oe){const ke=e.getRecordMatcher(oe);ke&&e.removeRoute(ke)}function A(){return e.getRoutes().map(oe=>oe.record)}function L(oe){return!!e.getRecordMatcher(oe)}function H(oe,ke){if(ke=_t({},ke||l.value),typeof oe=="string"){const j=od(n,oe,ke.path),ee=e.resolve({path:j.path},ke),fe=s.createHref(j.fullPath);return _t(j,ee,{params:y(ee.params),hash:du(j.hash),redirectedFrom:void 0,href:fe})}let se;if(oe.path!=null)se=_t({},oe,{path:od(n,oe.path,ke.path).path});else{const j=_t({},oe.params);for(const ee in j)j[ee]==null&&delete j[ee];se=_t({},oe,{params:p(j)}),ke.params=p(ke.params)}const Le=e.resolve(se,ke),et=oe.hash||"";Le.params=d(y(Le.params));const je=W1(r,_t({},oe,{hash:j1(et),path:Le.path})),N=s.createHref(je);return _t({fullPath:je,hash:et,query:r===u_?Tk(oe.query):oe.query||{}},Le,{redirectedFrom:void 0,href:N})}function U(oe){return typeof oe=="string"?od(n,oe,l.value.path):_t({},oe)}function P(oe,ke){if(f!==oe)return Ha(8,{from:ke,to:oe})}function x(oe){return D(oe)}function $(oe){return x(_t(U(oe),{replace:!0}))}function ne(oe){const ke=oe.matched[oe.matched.length-1];if(ke&&ke.redirect){const{redirect:se}=ke;let Le=typeof se=="function"?se(oe):se;return typeof Le=="string"&&(Le=Le.includes("?")||Le.includes("#")?Le=U(Le):{path:Le},Le.params={}),_t({query:oe.query,hash:oe.hash,params:Le.path!=null?{}:oe.params},Le)}}function D(oe,ke){const se=f=H(oe),Le=l.value,et=oe.state,je=oe.force,N=oe.replace===!0,j=ne(se);if(j)return D(_t(U(j),{state:typeof j=="object"?_t({},et,j.state):et,force:je,replace:N}),ke||se);const ee=se;ee.redirectedFrom=ke;let fe;return!je&&G1(r,Le,se)&&(fe=Ha(16,{to:ee,from:Le}),Tn(Le,Le,!0,!1)),(fe?Promise.resolve(fe):k(ee,Le)).catch(ae=>Ls(ae)?Ls(ae,2)?ae:Kt(ae):Re(ae,ee,Le)).then(ae=>{if(ae){if(Ls(ae,2))return D(_t({replace:N},U(ae.to),{state:typeof ae.to=="object"?_t({},et,ae.to.state):et,force:je}),ke||ee)}else ae=M(ee,Le,!0,N,et);return V(ee,Le,ae),ae})}function S(oe,ke){const se=P(oe,ke);return se?Promise.reject(se):Promise.resolve()}function I(oe){const ke=Rr.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(oe):oe()}function k(oe,ke){let se;const[Le,et,je]=Dk(oe,ke);se=ad(Le.reverse(),"beforeRouteLeave",oe,ke);for(const j of Le)j.leaveGuards.forEach(ee=>{se.push(Ti(ee,oe,ke))});const N=S.bind(null,oe,ke);return se.push(N),zt(se).then(()=>{se=[];for(const j of i.list())se.push(Ti(j,oe,ke));return se.push(N),zt(se)}).then(()=>{se=ad(et,"beforeRouteUpdate",oe,ke);for(const j of et)j.updateGuards.forEach(ee=>{se.push(Ti(ee,oe,ke))});return se.push(N),zt(se)}).then(()=>{se=[];for(const j of je)if(j.beforeEnter)if(Kr(j.beforeEnter))for(const ee of j.beforeEnter)se.push(Ti(ee,oe,ke));else se.push(Ti(j.beforeEnter,oe,ke));return se.push(N),zt(se)}).then(()=>(oe.matched.forEach(j=>j.enterCallbacks={}),se=ad(je,"beforeRouteEnter",oe,ke,I),se.push(N),zt(se))).then(()=>{se=[];for(const j of o.list())se.push(Ti(j,oe,ke));return se.push(N),zt(se)}).catch(j=>Ls(j,8)?j:Promise.reject(j))}function V(oe,ke,se){a.list().forEach(Le=>I(()=>Le(oe,ke,se)))}function M(oe,ke,se,Le,et){const je=P(oe,ke);if(je)return je;const N=ke===vr,j=ga?history.state:{};se&&(Le||N?s.replace(oe.fullPath,_t({scroll:N&&j&&j.scroll},et)):s.push(oe.fullPath,et)),l.value=oe,Tn(oe,ke,se,N),Kt()}let R;function Pe(){R||(R=s.listen((oe,ke,se)=>{if(!Nn.listening)return;const Le=H(oe),et=ne(Le);if(et){D(_t(et,{replace:!0,force:!0}),Le).catch(Wc);return}f=Le;const je=l.value;ga&&nk(e_(je.fullPath,se.delta),Xf()),k(Le,je).catch(N=>Ls(N,12)?N:Ls(N,2)?(D(_t(U(N.to),{force:!0}),Le).then(j=>{Ls(j,20)&&!se.delta&&se.type===pu.pop&&s.go(-1,!1)}).catch(Wc),Promise.reject()):(se.delta&&s.go(-se.delta,!1),Re(N,Le,je))).then(N=>{N=N||M(Le,je,!1),N&&(se.delta&&!Ls(N,8)?s.go(-se.delta,!1):se.type===pu.pop&&Ls(N,20)&&s.go(-1,!1)),V(Le,je,N)}).catch(Wc)}))}let $e=xc(),be=xc(),xe;function Re(oe,ke,se){Kt(oe);const Le=be.list();return Le.length?Le.forEach(et=>et(oe,ke,se)):console.error(oe),Promise.reject(oe)}function ht(){return xe&&l.value!==vr?Promise.resolve():new Promise((oe,ke)=>{$e.add([oe,ke])})}function Kt(oe){return xe||(xe=!oe,Pe(),$e.list().forEach(([ke,se])=>oe?se(oe):ke()),$e.reset()),oe}function Tn(oe,ke,se,Le){const{scrollBehavior:et}=t;if(!ga||!et)return Promise.resolve();const je=!se&&rk(e_(oe.fullPath,0))||(Le||!se)&&history.state&&history.state.scroll||null;return cr().then(()=>et(oe,ke,je)).then(N=>N&&tk(N)).catch(N=>Re(N,oe,ke))}const kt=oe=>s.go(oe);let pt;const Rr=new Set,Nn={currentRoute:l,listening:!0,addRoute:v,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:A,resolve:H,options:t,push:x,replace:$,go:kt,back:()=>kt(-1),forward:()=>kt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:ht,install(oe){const ke=this;oe.component("RouterLink",Rk),oe.component("RouterView",tT),oe.config.globalProperties.$router=ke,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>Ct(l)}),ga&&!pt&&l.value===vr&&(pt=!0,x(s.location).catch(et=>{}));const se={};for(const et in vr)Object.defineProperty(se,et,{get:()=>l.value[et],enumerable:!0});oe.provide(Zf,ke),oe.provide(Bm,cs(se)),oe.provide(Tp,l);const Le=oe.unmount;Rr.add(oe),oe.unmount=function(){Rr.delete(oe),Rr.size<1&&(f=vr,R&&R(),R=null,l.value=vr,pt=!1,xe=!1),Le()}}};function zt(oe){return oe.reduce((ke,se)=>ke.then(()=>I(se)),Promise.resolve())}return Nn}function Dk(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(f=>qa(f,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>qa(f,l))||s.push(l))}return[n,r,s]}function yj(){return Ht(Zf)}function nT(t){return Ht(Bm)}const xk=/(:\w+)\([^)]+\)/g,Nk=/(:\w+)[?+*]/g,Mk=/:\w+/g,Lk=(t,e)=>e.path.replace(xk,"$1").replace(Nk,"$1").replace(Mk,n=>t.params[n.slice(1)]?.toString()||""),Ip=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&Lk(t.route,n));return typeof r=="function"?r(t.route):r},Vk=(t,e)=>({default:()=>t?qt(OS,t===!0?{}:t,e):e});function qm(t){return Array.isArray(t)?t:[t]}const Fk={layout:"home"},Uk={layout:"noscroll"},$k={layout:"form"},jk={layout:"form"},Bk={layout:"form"},qk={layout:"form"},cd=[{name:"db",path:"/db",component:()=>At(()=>import("./CvdAHn_p.js"),[],import.meta.url)},{name:"200",path:"/200",component:()=>At(()=>import("./BTifWfq9.js"),[],import.meta.url)},{name:"404",path:"/404",component:()=>At(()=>import("./DCd5pDUq.js"),[],import.meta.url)},{name:"500",path:"/500",component:()=>At(()=>import("./NFVe2y4Y.js"),[],import.meta.url)},{name:"index",path:"/",meta:Fk||{},component:()=>At(()=>import("./C3k0K0RK.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"sobre",path:"/sobre",component:()=>At(()=>import("./ogIjDjE8.js"),__vite__mapDeps([2,3]),import.meta.url)},{name:"agenda",path:"/agenda",meta:Uk||{},component:()=>At(()=>import("./Dz8W_Bcg.js"),__vite__mapDeps([4,5,6,7]),import.meta.url)},{name:"perfil",path:"/perfil",component:()=>At(()=>import("./BrG3FQ9L.js"),__vite__mapDeps([8,9]),import.meta.url)},{name:"eventos",path:"/eventos",component:()=>At(()=>import("./tIJWH_xx.js"),__vite__mapDeps([10,11,12,13]),import.meta.url)},{name:"navegar",path:"/navegar",component:()=>At(()=>import("./CH_qQSz2.js"),__vite__mapDeps([14,15]),import.meta.url)},{name:"recentes",path:"/recentes",component:()=>At(()=>import("./B3TTzcI5.js"),__vite__mapDeps([16,17]),import.meta.url)},{name:"servicos",path:"/servicos",component:()=>At(()=>import("./BwU4Rk2b.js"),__vite__mapDeps([18,19]),import.meta.url)},{name:"settings",path:"/settings",component:()=>At(()=>import("./CD00gXOZ.js"),__vite__mapDeps([20,21]),import.meta.url)},{name:"forms-view",path:"/forms/view",meta:$k||{},component:()=>At(()=>import("./hQ6PYla6.js"),__vite__mapDeps([22,5,6,23]),import.meta.url)},{name:"lista-edit",path:"/lista/edit",component:()=>At(()=>import("./Be_91HnF.js"),[],import.meta.url)},{name:"hinos",path:"/hinos",component:()=>At(()=>import("./CcfTsluV.js"),__vite__mapDeps([24,25]),import.meta.url)},{name:"lista",path:"/lista",component:()=>At(()=>import("./C-fJpana.js"),__vite__mapDeps([26,5,6,12,11,27]),import.meta.url)},{name:"evento",path:"/evento",component:()=>At(()=>import("./DhLKuG8v.js"),__vite__mapDeps([28,29]),import.meta.url)},{name:"forms-contato",path:"/forms/contato",meta:jk||{},component:()=>At(()=>import("./D3GhYwk4.js"),__vite__mapDeps([30,31]),import.meta.url)},{name:"lista-calendar",path:"/lista/calendar",component:()=>At(()=>import("./WXRnlHAn.js"),__vite__mapDeps([32,5,6,11,33]),import.meta.url)},{name:"evento-solicitar",path:"/evento/solicitar",component:()=>At(()=>import("./CADOhUKT.js"),__vite__mapDeps([34,35]),import.meta.url)},{name:"forms-manutencao",path:"/forms/manutencao",meta:Bk||{},component:()=>At(()=>import("./CHQnh2ww.js"),__vite__mapDeps([36,37]),import.meta.url)},{name:"forms-levantamento_preventiva",path:"/forms/levantamento_preventiva",meta:qk||{},component:()=>At(()=>import("./BiC3ZW8T.js"),__vite__mapDeps([38,39]),import.meta.url)}],rT=(t,e)=>({default:()=>t?qt(DR,t===!0?{}:t,e):e.default?.()}),Hk=/(:\w+)\([^)]+\)/g,Kk=/(:\w+)[?+*]/g,zk=/:\w+/g;function m_(t){const e=t?.meta.key??t.path.replace(Hk,"$1").replace(Kk,"$1").replace(zk,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function Wk(t,e){return t===e||e===vr?!1:m_(t)!==m_(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}const Gk={scrollBehavior(t,e,n){const r=Lt(),s=qn().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:sT(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===vr){a(g_(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(g_(t,e,n,s)))})})}};function sT(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function g_(t,e,n,r){if(n)return n;const s=Wk(t,e);return t.hash?{el:t.hash,top:sT(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const Qk={hashMode:!1,scrollBehaviorType:"auto"},yi={...Qk,...Gk},Yk=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=Tr(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Oi({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},Jk=async t=>{let e,n;const r=([e,n]=Tr(()=>Um({path:t.path})),e=await e,n(),e);if(r.redirect)return ai(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},Xk=[Yk,Jk],Ap={};function Zk(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const f=i.includes(t.slice(o))?t.slice(o).length:1;let d=i.slice(f);return d[0]!=="/"&&(d="/"+d),ky(d,"")}const a=ky(r,t),l=!n||kC(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const eO=pn({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=Zs().app.baseURL;const s=yi.history?.(r)??ak(r),i=yi.routes?([e,n]=Tr(()=>yi.routes(cd)),e=await e,n(),e??cd):cd;let o;const a=Ok({...yi,scrollBehavior:(L,H,U)=>{if(H===vr){o=U;return}if(yi.scrollBehavior){if(a.options.scrollBehavior=yi.scrollBehavior,"scrollRestoration"in window.history){const P=a.beforeEach(()=>{P(),window.history.scrollRestoration="manual"})}return yi.scrollBehavior(L,vr,o||U)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=Xs(a.currentRoute.value);a.afterEach((L,H)=>{l.value=H}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const f=Zk(r,window.location,t.payload.path),d=Xs(a.currentRoute.value),p=()=>{d.value=a.currentRoute.value};t.hook("page:finish",p),a.afterEach((L,H)=>{L.matched[L.matched.length-1]?.components?.default===H.matched[H.matched.length-1]?.components?.default&&p()});const y={};for(const L in d.value)Object.defineProperty(y,L,{get:()=>d.value[L],enumerable:!0});t._route=cs(y),t._middleware||={global:[],named:{}};const v=Du();a.afterEach(async(L,H,U)=>{delete t._processingMiddleware,!t.isHydrating&&v.value&&await t.runWithContext(PP),U&&await t.callHook("page:loading:end")});try{[e,n]=Tr(()=>a.isReady()),await e,n()}catch(L){[e,n]=Tr(()=>t.runWithContext(()=>Io(L))),await e,n()}const E=f!==a.currentRoute.value.fullPath?a.resolve(f):a.currentRoute.value;p();const A=t.payload.state._layout;return a.beforeEach(async(L,H)=>{await t.callHook("page:loading:start"),L.meta=un(L.meta),t.isHydrating&&A&&!Js(L.meta.layout)&&(L.meta.layout=A),t._processingMiddleware=!0;{const U=new Set([...Xk,...t._middleware.global]);for(const P of L.matched){const x=P.meta.middleware;if(x)for(const $ of qm(x))U.add($)}{const P=await t.runWithContext(()=>Um({path:L.path}));if(P.appMiddleware)for(const x in P.appMiddleware)P.appMiddleware[x]?U.add(x):U.delete(x)}for(const P of U){const x=typeof P=="string"?t._middleware.named[P]||await Ap[P]?.().then($=>$.default||$):P;if(!x)throw new Error(`Unknown route middleware: '${P}'.`);try{const $=await t.runWithContext(()=>x(L,H));if(!t.payload.serverRendered&&t.isHydrating&&($===!1||$ instanceof Error)){const ne=$||Oi({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await t.runWithContext(()=>Io(ne)),!1}if($===!0)continue;if($===!1)return $;if($)return IE($)&&$.fatal&&await t.runWithContext(()=>Io($)),$}catch($){const ne=Oi($);return ne.fatal&&await t.runWithContext(()=>Io(ne)),ne}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(L=>{if(L.matched.length===0)return t.runWithContext(()=>Io(Oi({statusCode:404,fatal:!1,statusMessage:`Page not found: ${L.fullPath}`,data:{path:L.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await a.replace({...E,force:!0}),a.options.scrollBehavior=yi.scrollBehavior}catch(L){await t.runWithContext(()=>Io(L))}}),{provide:{router:a}}}}),Sp=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),tO=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),eh=t=>{const e=Lt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Sp(()=>t())}):Sp(()=>t())},nO=pn({name:"nuxt:payload",setup(t){const e=new Set;qn().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Jy(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),eh(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Jy(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Jf,1e3)})}}),rO=pn(()=>{const t=qn();eh(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),sO=pn(t=>{let e;async function n(){let r;try{r=await Jf()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Vy);try{const s=await $fetch(Lm("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}eh(()=>{e=setTimeout(n,Vy)})});function iO(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ba(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Lt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const oO=pn({name:"nuxt:chunk-reload",setup(t){const e=qn(),n=Zs(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Qf(n.app.baseURL,i.fullPath);iO({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function Rp(t){return typeof t=="string"?`'${t}'`:new aO().serialize(t)}const aO=(function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,l]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function cO(t,e){return t===e||Rp(t)===Rp(e)}const uO=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],lO=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],fO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Eo=[];let hO=class{_data=new dl;_hash=new dl([...uO]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const r=this._hash.words;let s=r[0],i=r[1],o=r[2],a=r[3],l=r[4],f=r[5],d=r[6],p=r[7];for(let y=0;y<64;y++){if(y<16)Eo[y]=e[n+y]|0;else{const P=Eo[y-15],x=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,$=Eo[y-2],ne=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;Eo[y]=x+Eo[y-7]+ne+Eo[y-16]}const v=l&f^~l&d,E=s&i^s&o^i&o,A=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),L=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),H=p+L+v+lO[y]+Eo[y],U=A+E;p=d,d=f,f=l,l=a+H|0,a=o,o=i,i=s,s=H+U|0}r[0]=r[0]+s|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0,r[5]=r[5]+f|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0}_append(e){typeof e=="string"&&(e=dl.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,r=this._data.sigBytes/64;e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const s=r*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let o=0;o<s;o+=16)this._doProcessBlock(this._data.words,o);n=this._data.words.splice(0,s),this._data.sigBytes-=i}return new dl(n,i)}},dl=class iT{words;sigBytes;constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),r=n.length,s=[];for(let i=0;i<r;i++)s[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new iT(s,r)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const r=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,o=r<<16|s<<8|i;for(let a=0;a<4&&n*8+a*6<this.sigBytes*8;a++)e.push(fO.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}};function dO(t){return new hO().finalize(t).toBase64()}function ya(t){return dO(Rp(t))}const pO={trailing:!0};function mO(t,e=25,n={}){if(n={...pO,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,s,i=[],o,a;const l=(p,y)=>(o=gO(t,p,y),o.finally(()=>{if(o=null,n.trailing&&a&&!s){const v=l(p,a);return a=null,v}}),o),f=function(...p){return n.trailing&&(a=p),o||new Promise(y=>{const v=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const E=n.leading?r:l(this,p);a=null;for(const A of i)A(E);i=[]},e),v?(r=l(this,p),y(r)):i.push(y)})},d=p=>{p&&(clearTimeout(p),s=null)};return f.isPending=()=>!!s,f.cancel=()=>{d(s),i=[],a=null},f.flush=()=>{if(d(s),!a||o)return;const p=a;return a=null,l(this,p)},f}async function gO(t,e,n){return await t.apply(e,n)}const yO=Symbol.for("nuxt:client-only");function _O(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;vO(t[0],t[1])&&t.unshift(e);let[n,r,s={}]=t,i=!1;const o=Ze(()=>Vr(n));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Lt();s.server??=!0,s.default??=bO,s.getCachedData??=aT,s.lazy??=!1,s.immediate??=!0,s.deep??=uP.deep,s.dedupe??="cancel",s._functionName,a._asyncData[o.value];function l(){const E={cause:"initial",dedupe:s.dedupe};return a._asyncData[o.value]?._init||(E.cachedData=s.getCachedData(o.value,a,{cause:"initial"}),a._asyncData[o.value]=y_(a,o.value,r,s,E.cachedData)),()=>a._asyncData[o.value].execute(E)}const f=l(),d=a._asyncData[o.value];d._deps++;const p=s.server!==!1&&a.payload.serverRendered;{let E=function(x){const $=a._asyncData[x];$?._deps&&($._deps--,$._deps===0&&$?._off())};const A=oi();if(A&&p&&s.immediate&&!A.sp&&(A.sp=[]),A&&!A._nuxtOnBeforeMountCbs){A._nuxtOnBeforeMountCbs=[];const x=A._nuxtOnBeforeMountCbs;Eb(()=>{x.forEach($=>{$()}),x.splice(0,x.length)}),lr(()=>x.splice(0,x.length))}const L=A&&(A._nuxtClientOnly||Ht(yO,!1));p&&a.isHydrating&&(d.error.value||d.data.value!==void 0)?d.status.value=d.error.value?"error":"success":A&&(!L&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?A._nuxtOnBeforeMountCbs.push(f):s.immediate&&d.status.value!=="success"&&f();const H=tc(),U=Er(o,(x,$)=>{if((x||$)&&x!==$){i=!0;const ne=a._asyncData[$]?.data.value!==void 0,D=a._asyncDataPromises[$]!==void 0,S={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[x]?._init){let I;$&&ne?I=a._asyncData[$].data.value:(I=s.getCachedData(x,a,{cause:"initial"}),S.cachedData=I),a._asyncData[x]=y_(a,x,r,s,I)}a._asyncData[x]._deps++,$&&E($),(s.immediate||ne||D)&&a._asyncData[x].execute(S),ou(()=>{i=!1})}},{flush:"sync"}),P=s.watch?Er(s.watch,()=>{i||d._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};H&&ru(()=>{U(),P(),E(o.value)})}const y={data:pl(()=>a._asyncData[o.value]?.data),pending:pl(()=>a._asyncData[o.value]?.pending),status:pl(()=>a._asyncData[o.value]?.status),error:pl(()=>a._asyncData[o.value]?.error),refresh:(...E)=>a._asyncData[o.value]?._init?a._asyncData[o.value].execute(...E):l()(),execute:(...E)=>y.refresh(...E),clear:()=>oT(a,o.value)},v=Promise.resolve(a._asyncDataPromises[o.value]).then(()=>y);return Object.assign(v,y),v}function pl(t){return Ze({get(){return t()?.value},set(e){const n=t();n&&(n.value=e)}})}function vO(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}function oT(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=void 0),t._asyncData[e]&&(t._asyncData[e].data.value=Ct(t._asyncData[e]._default()),t._asyncData[e].error.value=void 0,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function wO(t,e){const n={};for(const r of e)n[r]=t[r];return n}function y_(t,e,n,r,s){t.payload._errors[e]??=void 0;const i=r.getCachedData!==aT,o=n,a=r.deep?Ft:Xs,l=s!==void 0,f=t.hook("app:data:refresh",async p=>{(!p||p.includes(e))&&await d.execute({cause:"refresh:hook"})}),d={data:a(l?s:r.default()),pending:Ze(()=>d.status.value==="pending"),error:ab(t.payload._errors,e),status:Xs("idle"),execute:(...p)=>{const[y,v=void 0]=p,E=y&&v===void 0&&typeof y=="object"?y:{};if(t._asyncDataPromises[e]){if((E.dedupe??r.dedupe)==="defer")return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}{const L="cachedData"in E?E.cachedData:r.getCachedData(e,t,{cause:E.cause??"refresh:manual"});if(L!==void 0)return t.payload.data[e]=d.data.value=L,d.error.value=void 0,d.status.value="success",Promise.resolve(L)}d.status.value="pending";const A=new Promise((L,H)=>{try{L(o(t))}catch(U){H(U)}}).then(async L=>{if(A.cancelled)return t._asyncDataPromises[e];let H=L;r.transform&&(H=await r.transform(L)),r.pick&&(H=wO(H,r.pick)),t.payload.data[e]=H,d.data.value=H,d.error.value=void 0,d.status.value="success"}).catch(L=>{if(A.cancelled)return t._asyncDataPromises[e];d.error.value=Oi(L),d.data.value=Ct(r.default()),d.status.value="error"}).finally(()=>{A.cancelled||delete t._asyncDataPromises[e]});return t._asyncDataPromises[e]=A,t._asyncDataPromises[e]},_execute:mO((...p)=>d.execute(...p),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),i||cr(()=>{t._asyncData[e]?._init||(oT(t,e),d.execute=()=>Promise.resolve())})}};return d}const bO=()=>{},aT=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function __(t,e,n){const[r={},s]=typeof e=="string"?[{},e]:[e,n],i=Ze(()=>Vr(t)),o=Ze(()=>Vr(r.key)||"$f"+ya([s,typeof i.value=="string"?i.value:"",...EO(r)]));if(!r.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:l,default:f,transform:d,pick:p,watch:y,immediate:v,getCachedData:E,deep:A,dedupe:L,...H}=r,U=un({...lP,...H,cache:typeof r.cache=="boolean"?void 0:r.cache}),P={server:a,lazy:l,default:f,transform:d,pick:p,immediate:v,getCachedData:E,deep:A,dedupe:L,watch:y===!1?[]:[...y||[],U]};let x;return _O(y===!1?o.value:o,()=>{x?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),x=typeof AbortController<"u"?new AbortController:{};const ne=Vr(r.timeout);let D;return ne&&(D=setTimeout(()=>x.abort(new DOMException("Request aborted due to timeout.","AbortError")),ne),x.signal.onabort=()=>clearTimeout(D)),(r.$fetch||globalThis.$fetch)(i.value,{signal:x.signal,...U}).finally(()=>{clearTimeout(D)})},P)}function EO(t){const e=[Vr(t.method)?.toUpperCase()||"GET",Vr(t.baseURL)];for(const n of[t.params||t.query]){const r=Vr(n);if(!r)continue;const s={};for(const[i,o]of Object.entries(r))s[Vr(i)]=Vr(o);e.push(s)}if(t.body){const n=Vr(t.body);if(!n)e.push(ya(n));else if(n instanceof ArrayBuffer)e.push(ya(Object.fromEntries([...new Uint8Array(n).entries()].map(([r,s])=>[r,s.toString()]))));else if(n instanceof FormData){const r={};for(const s of n.entries()){const[i,o]=s;r[i]=o instanceof File?o.name:o}e.push(ya(r))}else if(dm(n))e.push(ya(un(n)));else try{e.push(ya(n))}catch{console.warn("[useFetch] Failed to hash body",n)}}return e}function TO(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},s=r.decode||IO;let i=0;for(;i<t.length;){const o=t.indexOf("=",i);if(o===-1)break;let a=t.indexOf(";",i);if(a===-1)a=t.length;else if(a<o){i=t.lastIndexOf(";",o-1)+1;continue}const l=t.slice(i,o).trim();if(r?.filter&&!r?.filter(l)){i=a+1;continue}if(n[l]===void 0){let f=t.slice(o+1,a).trim();f.codePointAt(0)===34&&(f=f.slice(1,-1)),n[l]=AO(f,s)}i=a+1}return n}function IO(t){return t.includes("%")?decodeURIComponent(t):t}function AO(t,e){try{return e(t)}catch{return t}}const ml=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function v_(t,e,n){const r=n||{},s=r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!ml.test(t))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!ml.test(i))throw new TypeError("argument val is invalid");let o=t+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!ml.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!ml.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!SO(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function SO(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function Lr(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=Lr(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Lr(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=Lr(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=Lr(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(s){n.add(Lr(s))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(s,i){n.set(Lr(i),Lr(s))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(Lr(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const RO={path:"/",watch:!0,decode:t=>Ba(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},gl=globalThis.cookieStore;function w_(t,e){const n={...RO,...e};n.filter??=f=>f===t;const r=b_(n)||{};let s;n.maxAge!==void 0?s=n.maxAge*1e3:n.expires&&(s=n.expires.getTime()-Date.now());const i=s!==void 0&&s<=0,o=i||r[t]===void 0||r[t]===null,a=Lr(i?void 0:r[t]??n.default?.()),l=s&&!i?kO(a,s,n.watch&&n.watch!=="shallow"):Ft(a);{let f=null;try{!gl&&typeof BroadcastChannel<"u"&&(f=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const d=(E=!1)=>{!E&&(n.readonly||cO(l.value,r[t]))||(PO(t,l.value,n),r[t]=Lr(l.value),f?.postMessage({value:n.encode(l.value)}))},p=E=>{const A=E.refresh?b_(n)?.[t]:n.decode(E.value);y=!0,l.value=A,r[t]=Lr(A),cr(()=>{y=!1})};let y=!1;const v=!!tc();if(v&&ru(()=>{y=!0,d(),f?.close()}),gl){const E=A=>{const L=A.changed.find(U=>U.name===t),H=A.deleted.find(U=>U.name===t);L&&p({value:L.value}),H&&p({value:null})};gl.addEventListener("change",E),v&&ru(()=>gl.removeEventListener("change",E))}else f&&(f.onmessage=({data:E})=>p(E));n.watch&&Er(l,()=>{y||d()},{deep:n.watch!=="shallow"}),o&&d(o)}return l}function b_(t={}){return TO(document.cookie,t)}function CO(t,e,n={}){return e==null?v_(t,e,{...n,maxAge:-1}):v_(t,e,n)}function PO(t,e,n={}){document.cookie=CO(t,e,n)}const E_=2147483647;function kO(t,e,n){let r,s,i=0;const o=n?Ft(t):{value:t};return tc()&&ru(()=>{s?.(),clearTimeout(r)}),fS((a,l)=>{n&&(s=Er(o,l));function f(){i=0,clearTimeout(r);const d=e-i,p=d<E_?d:E_;r=setTimeout(()=>{if(i+=p,i<e)return f();o.value=void 0,l()},p)}return{get(){return a(),o.value},set(d){f(),o.value=d,l()}}})}function OO(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function cT(t,e=qn()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>cT(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const DO=(...t)=>t.find(e=>e!==void 0);function xO(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o,a){const l=a??t.trailingSlash;if(!i||l!=="append"&&l!=="remove")return i;if(typeof i=="string")return yl(i,l);const f="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:yl(f,l)}}function s(i){const o=qn(),a=Zs(),l=Ze(()=>!!i.target&&i.target!=="_self"),f=Ze(()=>{const L=i.to||i.href||"";return typeof L=="string"&&ai(L,{acceptRelative:!0})}),d=Xd("RouterLink"),p=d&&typeof d!="string"?d.useLink:void 0,y=Ze(()=>{if(i.external)return!0;const L=i.to||i.href||"";return typeof L=="object"?!1:L===""||f.value}),v=Ze(()=>{const L=i.to||i.href||"";return y.value?L:r(L,o.resolve,i.trailingSlash)}),E=y.value?void 0:p?.({...i,to:v}),A=Ze(()=>{const L=i.trailingSlash??t.trailingSlash;if(!v.value||f.value||n(v.value))return v.value;if(y.value){const H=typeof v.value=="object"&&"path"in v.value?gp(v.value):v.value,U=typeof H=="object"?o.resolve(H).href:H;return yl(U,L)}return typeof v.value=="object"?o.resolve(v.value)?.href??null:yl(Qf(a.app.baseURL,v.value),L)});return{to:v,hasTarget:l,isAbsoluteUrl:f,isExternal:y,href:A,isActive:E?.isActive??Ze(()=>v.value===o.currentRoute.value.path),isExactActive:E?.isExactActive??Ze(()=>v.value===o.currentRoute.value.path),route:E?.route??Ze(()=>o.resolve(v.value)),async navigate(L){await CP(A.value,{replace:i.replace,external:y.value||l.value})}}}return Jt({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=qn(),{to:l,href:f,navigate:d,isExternal:p,hasTarget:y,isAbsoluteUrl:v}=s(i),E=Xs(!1),A=Ft(null),L=P=>{A.value=i.custom?P?.$el?.nextElementSibling:P?.$el};function H(P){return!E.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===P:i.prefetchOn?.[P]??t.prefetchOn?.[P])&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!VO()}async function U(P=Lt()){if(E.value)return;E.value=!0;const x=typeof l.value=="string"?l.value:p.value?gp(l.value):a.resolve(l.value).fullPath,$=p.value?new URL(x,window.location.href).href:x;await Promise.all([P.hooks.callHook("link:prefetch",$).catch(()=>{}),!p.value&&!y.value&&cT(l.value,a).catch(()=>{})])}if(H("visibility")){const P=Lt();let x,$=null;qo(()=>{const ne=MO();eh(()=>{x=Sp(()=>{A?.value?.tagName&&($=ne.observe(A.value,async()=>{$?.(),$=null,await U(P)}))})})}),rc(()=>{x&&tO(x),$?.(),$=null})}return()=>{if(!p.value&&!y.value&&!n(l.value)){const $={ref:L,to:l.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(H("interaction")&&($.onPointerenter=U.bind(null,void 0),$.onFocus=U.bind(null,void 0)),E.value&&($.class=i.prefetchedClass||t.prefetchedClass),$.rel=i.rel||void 0),qt(Xd("RouterLink"),$,o.default)}const P=i.target||null,x=DO(i.noRel?"":i.rel,t.externalRelAttribute,v.value||y.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:f.value,navigate:d,prefetch:U,get route(){if(!f.value)return;const $=new URL(f.value,window.location.href);return{path:$.pathname,fullPath:$.pathname,get query(){return Nm($.search)},hash:$.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:x,target:P,isExternal:p.value||y.value,isActive:!1,isExactActive:!1}):null:qt("a",{ref:A,href:f.value||null,rel:x,target:P,onClick:$=>{if(!(p.value||y.value))return $.preventDefault(),i.replace?a.replace(f.value):a.push(f.value)}},o.default?.())}}})}const NO=xO(cP);function yl(t,e){const n=e==="append"?aE:fu;return ai(t)&&!t.startsWith("http")?t:n(t,!0)}function MO(){const t=Lt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||=new IntersectionObserver(a=>{for(const l of a){const f=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&f&&f()}}),n.set(i,o),e.observe(i),()=>{n.delete(i),e?.unobserve(i),n.size===0&&(e?.disconnect(),e=null)});return t._observer={observe:r}}const LO=/2g/;function VO(){const t=navigator.connection;return!!(t&&(t.saveData||LO.test(t.effectiveType)))}const FO=pn({name:"pinia",setup(t){const e=kP();return t.vueApp.use(e),xu(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),UO=pn({name:"nuxt:global-components"}),Ri={default:Pc(()=>At(()=>import("./BccrEfUY.js"),__vite__mapDeps([40,41,42,43,44]),import.meta.url).then(t=>t.default||t)),form:Pc(()=>At(()=>import("./C3huEMbv.js"),__vite__mapDeps([45,41,42,43,46]),import.meta.url).then(t=>t.default||t)),home:Pc(()=>At(()=>import("./B2drjIQJ.js"),__vite__mapDeps([47,41,5,6]),import.meta.url).then(t=>t.default||t)),landscape:Pc(()=>At(()=>import("./C1KcFNN8.js"),__vite__mapDeps([48,41,42,43,49]),import.meta.url).then(t=>t.default||t)),noscroll:Pc(()=>At(()=>import("./CiXMYJe1.js"),__vite__mapDeps([50,41,42,43,51]),import.meta.url).then(t=>t.default||t))},$O=pn({name:"nuxt:prefetch",setup(t){const e=qn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Ri[r]=="function"&&await Ri[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ai(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=qm(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Ap[o]=="function"&&Ap[o]();typeof s=="string"&&s in Ri&&OO(Ri[s])})}});function ud(...t){window.dataLayer?.push(arguments)}function jO({tags:t}){window.dataLayer=window.dataLayer||[];for(const e of t)for(const n of e.initCommands??[])ud(...n);ud("js",new Date);for(const e of t)ud("config",e.id,e.config??{})}function BO(t){const e=Ge(t),n=e.tags.filter(Boolean).map(r=>typeof r=="string"?{id:r}:r);if(e.id){const{id:r,config:s,initCommands:i}=e;n.unshift({id:r,config:s,initCommands:i})}return n}const qO=pn({parallel:!0,setup(){const t=Zs().public.gtag,e=BO(t);if(!e.length||(jO({tags:e}),t.initMode==="manual"))return;const n=t.loadingStrategy==="async"?"async":"defer";FE({link:[{rel:"preload",as:"script",href:ff(t.url,{id:e[0].id})}],script:[{src:ff(t.url,{id:e[0].id}),[n]:!0,"data-gtag":""}]})}});function HO(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function Hm(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=Hm(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function uT(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return Hm(t,uT(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function lT(t,e){return e.map(n=>n.split(".")).map(n=>[n,HO(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>Hm(n,r[1],r[0]),{})}function fT(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>uT(n,r),t)}function T_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},f,d=!0){try{d&&a?.(f);const p=e.getItem(r);if(p){const y=n.deserialize(p),v=i?lT(y,i):y,E=o?fT(v,o):v;t.$patch(E)}d&&l?.(f)}catch(p){s&&console.error("[pinia-plugin-persistedstate]",p)}}function I_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o}){try{const a=i?lT(t,i):t,l=o?fT(a,o):a,f=n.serialize(l);e.setItem(r,f)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function KO(t,e,n){const{pinia:r,store:s,options:{persist:i=n}}=t;if(!i)return;if(!(s.$id in r.state.value)){const l=r._s.get(s.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:l=!0}={})=>{a.forEach(f=>{T_(s,f,t,l)})},s.$persist=()=>{a.forEach(l=>{I_(s.$state,l)})},a.forEach(l=>{T_(s,l,t),s.$subscribe((f,d)=>I_(d,l),{detached:!0})})}function zO(t){return{getItem:e=>w_(e,{...t??Zs().public.piniaPluginPersistedstate.cookieOptions??{},decode:t?.decode??decodeURIComponent,readonly:!0}).value,setItem:(e,n)=>w_(e,{...t??Zs().public.piniaPluginPersistedstate.cookieOptions??{},encode:t?.encode??encodeURIComponent}).value=n}}function WO(){return{getItem:t=>window.localStorage.getItem(t),setItem:(t,e)=>window.localStorage.setItem(t,e)}}function GO(){return{getItem:t=>window.sessionStorage.getItem(t),setItem:(t,e)=>window.sessionStorage.setItem(t,e)}}const ld={cookies:zO,localStorage:WO,sessionStorage:GO};function QO(t){const n=Zs().public.piniaPluginPersistedstate;KO(t,r=>({key:n.key?n.key.replace(/%id/g,r.key??t.store.$id):r.key??t.store.$id,debug:r.debug??n.debug??!1,serializer:r.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>Ba(s)},storage:r.storage??(n.storage?n.storage==="cookies"?ld.cookies(n.cookieOptions):ld[n.storage]():ld.cookies()),beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}const YO=pn({name:"pinia-plugin-persistedstate",setup({$pinia:t}){t.use(QO)}});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pl={exports:{}},JO=Pl.exports,A_;function XO(){return A_||(A_=1,(function(t,e){(function(n,r){t.exports=r()})(JO,function(){var n=function(u,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])})(u,h)},r=function(){return(r=Object.assign||function(u){for(var h,m=1,_=arguments.length;m<_;m++)for(var b in h=arguments[m])Object.prototype.hasOwnProperty.call(h,b)&&(u[b]=h[b]);return u}).apply(this,arguments)};function s(u,h,m){for(var _,b=0,T=h.length;b<T;b++)!_&&b in h||((_=_||Array.prototype.slice.call(h,0,b))[b]=h[b]);return u.concat(_||Array.prototype.slice.call(h))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lc,o=Object.keys,a=Array.isArray;function l(u,h){return typeof h!="object"||o(h).forEach(function(m){u[m]=h[m]}),u}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function p(u,h){return d.call(u,h)}function y(u,h){typeof h=="function"&&(h=h(f(u))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(m){E(u,m,h[m])})}var v=Object.defineProperty;function E(u,h,m,_){v(u,h,l(m&&p(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},_))}function A(u){return{from:function(h){return u.prototype=Object.create(h.prototype),E(u.prototype,"constructor",u),{extend:y.bind(null,u.prototype)}}}}var L=Object.getOwnPropertyDescriptor,H=[].slice;function U(u,h,m){return H.call(u,h,m)}function P(u,h){return h(u)}function x(u){if(!u)throw new Error("Assertion Failed")}function $(u){i.setImmediate?setImmediate(u):setTimeout(u,0)}function ne(u,h){if(typeof h=="string"&&p(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var m=[],_=0,b=h.length;_<b;++_){var T=ne(u,h[_]);m.push(T)}return m}var O=h.indexOf(".");if(O!==-1){var F=u[h.substr(0,O)];return F==null?void 0:ne(F,h.substr(O+1))}}function D(u,h,m){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){x(typeof m!="string"&&"length"in m);for(var _=0,b=h.length;_<b;++_)D(u,h[_],m[_])}else{var T,O,F=h.indexOf(".");F!==-1?(T=h.substr(0,F),(O=h.substr(F+1))===""?m===void 0?a(u)&&!isNaN(parseInt(T))?u.splice(T,1):delete u[T]:u[T]=m:D(F=!(F=u[T])||!p(u,T)?u[T]={}:F,O,m)):m===void 0?a(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=m}}function S(u){var h,m={};for(h in u)p(u,h)&&(m[h]=u[h]);return m}var I=[].concat;function k(u){return I.apply([],u)}var Oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return i[u]}),V=new Set(Oe.map(function(u){return i[u]})),M=null;function R(u){return M=new WeakMap,u=(function h(m){if(!m||typeof m!="object")return m;var _=M.get(m);if(_)return _;if(a(m)){_=[],M.set(m,_);for(var b=0,T=m.length;b<T;++b)_.push(h(m[b]))}else if(V.has(m.constructor))_=m;else{var O,F=f(m);for(O in _=F===Object.prototype?{}:Object.create(F),M.set(m,_),m)p(m,O)&&(_[O]=h(m[O]))}return _})(u),M=null,u}var Pe={}.toString;function $e(u){return Pe.call(u).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xe=typeof be=="symbol"?function(u){var h;return u!=null&&(h=u[be])&&h.apply(u)}:function(){return null};function Re(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var ht={};function Kt(u){var h,m,_,b;if(arguments.length===1){if(a(u))return u.slice();if(this===ht&&typeof u=="string")return[u];if(b=xe(u)){for(m=[];!(_=b.next()).done;)m.push(_.value);return m}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(m=new Array(h);h--;)m[h]=u[h];return m}for(h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return m}var Tn=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ve=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ve),kt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pt(u,h){this.name=u,this.message=h}function Rr(u,h){return u+". Errors: "+Object.keys(h).map(function(m){return h[m].toString()}).filter(function(m,_,b){return b.indexOf(m)===_}).join(`
`)}function Nn(u,h,m,_){this.failures=h,this.failedKeys=_,this.successCount=m,this.message=Rr(u,h)}function zt(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(m){return h[m]}),this.failuresByPos=h,this.message=Rr(u,this.failures)}A(pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(Nn).from(pt),A(zt).from(pt);var oe=yr.reduce(function(u,h){return u[h]=h+"Error",u},{}),ke=pt,se=yr.reduce(function(u,h){var m=h+"Error";function _(b,T){this.name=m,b?typeof b=="string"?(this.message="".concat(b).concat(T?`
 `+T:""),this.inner=T||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=kt[h]||m,this.inner=null)}return A(_).from(ke),u[h]=_,u},{});se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError;var Le=Ve.reduce(function(u,h){return u[h+"Error"]=se[h],u},{}),et=yr.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=se[h]),u},{});function je(){}function N(u){return u}function j(u,h){return u==null||u===N?h:function(m){return h(u(m))}}function ee(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function fe(u,h){return u===je?h:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var _=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var T=h.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?ee(_,this.onsuccess):_),b&&(this.onerror=this.onerror?ee(b,this.onerror):b),T!==void 0?T:m}}function ae(u,h){return u===je?h:function(){u.apply(this,arguments);var m=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ee(m,this.onsuccess):m),_&&(this.onerror=this.onerror?ee(_,this.onerror):_)}}function he(u,h){return u===je?h:function(m){var _=u.apply(this,arguments);l(m,_);var b=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,m=h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ee(b,this.onsuccess):b),T&&(this.onerror=this.onerror?ee(T,this.onerror):T),_===void 0?m===void 0?void 0:m:l(_,m)}}function Te(u,h){return u===je?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function ye(u,h){return u===je?h:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var _=this,b=arguments.length,T=new Array(b);b--;)T[b]=arguments[b];return m.then(function(){return h.apply(_,T)})}return h.apply(this,arguments)}}et.ModifyError=Nn,et.DexieError=pt,et.BulkError=zt;var pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(u){pe=u}var Fe={},Se=100,Oe=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,f(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,f(h),u]})(),Ve=Oe[0],yr=Oe[1],Oe=Oe[2],yr=yr&&yr.then,Ue=Ve&&Ve.constructor,ct=!!Oe,rt=function(u,h){ln.push([u,h]),Vt&&(queueMicrotask(Qu),Vt=!1)},Wt=!0,Vt=!0,Ot=[],Gt=[],fr=N,Mn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:je,pgp:!1,env:{},finalize:je},Ce=Mn,ln=[],Kn=0,Gr=[];function Ae(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Ce;if(typeof u!="function"){if(u!==Fe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Yi(this,this._value))}this._state=null,this._value=null,++h.ref,(function m(_,b){try{b(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var O=_._lib&&hr();T&&typeof T.then=="function"?m(_,function(F,q){T instanceof Ae?T._then(F,q):T.then(F,q)}):(_._state=!0,_._value=T,Qr(_)),O&&bs()}},Yi.bind(null,_))}catch(T){Yi(_,T)}})(this,u)}var ws={get:function(){var u=Ce,h=Jo;function m(_,b){var T=this,O=!u.global&&(u!==Ce||h!==Jo),F=O&&!dr(),q=new Ae(function(K,Q){Go(T,new Wo(Xo(_,u,O,F),Xo(b,u,O,F),K,Q,u))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return m.prototype=Fe,m},set:function(u){E(this,"then",u&&u.prototype===Fe?ws:{get:function(){return u},set:ws.set})}};function Wo(u,h,m,_,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=m,this.reject=_,this.psd=b}function Yi(u,h){var m,_;Gt.push(h),u._state===null&&(m=u._lib&&hr(),h=fr(h),u._state=!1,u._value=h,_=u,Ot.some(function(b){return b._value===_._value})||Ot.push(_),Qr(u),m&&bs())}function Qr(u){var h=u._listeners;u._listeners=[];for(var m=0,_=h.length;m<_;++m)Go(u,h[m]);var b=u._PSD;--b.ref||b.finalize(),Kn===0&&(++Kn,rt(function(){--Kn==0&&rn()},[]))}function Go(u,h){if(u._state!==null){var m=u._state?h.onFulfilled:h.onRejected;if(m===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++Kn,rt(Qo,[m,u,h])}else u._listeners.push(h)}function Qo(u,h,m){try{var _,b=h._value;!h._state&&Gt.length&&(Gt=[]),_=pe&&h._consoleTask?h._consoleTask.run(function(){return u(b)}):u(b),h._state||Gt.indexOf(b)!==-1||(function(T){for(var O=Ot.length;O;)if(Ot[--O]._value===T._value)return Ot.splice(O,1)})(h),m.resolve(_)}catch(T){m.reject(T)}finally{--Kn==0&&rn(),--m.psd.ref||m.psd.finalize()}}function Qu(){kr(Mn,function(){hr()&&bs()})}function hr(){var u=Wt;return Vt=Wt=!1,u}function bs(){var u,h,m;do for(;0<ln.length;)for(u=ln,ln=[],m=u.length,h=0;h<m;++h){var _=u[h];_[0].apply(null,_[1])}while(0<ln.length);Vt=Wt=!0}function rn(){var u=Ot;Ot=[],u.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var h=Gr.slice(0),m=h.length;m;)h[--m]()}function Ji(u){return new Ae(Fe,!1,u)}function mt(u,h){var m=Ce;return function(){var _=hr(),b=Ce;try{return Pr(m,!0),u.apply(this,arguments)}catch(T){h&&h(T)}finally{Pr(b,!1),_&&bs()}}}y(Ae.prototype,{then:ws,_then:function(u,h){Go(this,new Wo(null,null,u,h,Ce))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,m=arguments[1];return typeof h=="function"?this.then(null,function(_){return(_ instanceof h?m:Ji)(_)}):this.then(null,function(_){return(_&&_.name===h?m:Ji)(_)})},finally:function(u){return this.then(function(h){return Ae.resolve(u()).then(function(){return h})},function(h){return Ae.resolve(u()).then(function(){return Ji(h)})})},timeout:function(u,h){var m=this;return u<1/0?new Ae(function(_,b){var T=setTimeout(function(){return b(new se.Timeout(h))},u);m.then(_,b).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Mn.env=pc(),y(Ae,{all:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.length===0&&h([]);var _=u.length;u.forEach(function(b,T){return Ae.resolve(b).then(function(O){u[T]=O,--_||h(u)},m)})})},resolve:function(u){return u instanceof Ae?u:u&&typeof u.then=="function"?new Ae(function(h,m){u.then(h,m)}):new Ae(Fe,!0,u)},reject:Ji,race:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.map(function(_){return Ae.resolve(_).then(h,m)})})},PSD:{get:function(){return Ce},set:function(u){return Ce=u}},totalEchoes:{get:function(){return Jo}},newPSD:Zn,usePSD:kr,scheduler:{get:function(){return rt},set:function(u){rt=u}},rejectionMapper:{get:function(){return fr},set:function(u){fr=u}},follow:function(u,h){return new Ae(function(m,_){return Zn(function(b,T){var O=Ce;O.unhandleds=[],O.onunhandled=T,O.finalize=ee(function(){var F,q=this;F=function(){q.unhandleds.length===0?b():T(q.unhandleds[0])},Gr.push(function K(){F(),Gr.splice(Gr.indexOf(K),1)}),++Kn,rt(function(){--Kn==0&&rn()},[])},O.finalize),u()},h,m,_)})}}),Ue&&(Ue.allSettled&&E(Ae,"allSettled",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h){u.length===0&&h([]);var m=u.length,_=new Array(m);u.forEach(function(b,T){return Ae.resolve(b).then(function(O){return _[T]={status:"fulfilled",value:O}},function(O){return _[T]={status:"rejected",reason:O}}).then(function(){return--m||h(_)})})})}),Ue.any&&typeof AggregateError<"u"&&E(Ae,"any",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.length===0&&m(new AggregateError([]));var _=u.length,b=new Array(_);u.forEach(function(T,O){return Ae.resolve(T).then(function(F){return h(F)},function(F){b[O]=F,--_||m(new AggregateError(b))})})})}),Ue.withResolvers&&(Ae.withResolvers=Ue.withResolvers));var xt={awaits:0,echoes:0,id:0},kh=0,Yo=[],Cr=0,Jo=0,Oh=0;function Zn(u,h,m,_){var b=Ce,T=Object.create(b);return T.parent=b,T.ref=0,T.global=!1,T.id=++Oh,Mn.env,T.env=ct?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},h&&l(T,h),++b.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=kr(T,u,m,_),T.ref===0&&T.finalize(),_}function Es(){return xt.id||(xt.id=++kh),++xt.awaits,xt.echoes+=Se,xt.id}function dr(){return!!xt.awaits&&(--xt.awaits==0&&(xt.id=0),xt.echoes=xt.awaits*Se,!0)}function Ts(u){return xt.echoes&&u&&u.constructor===Ue?(Es(),u.then(function(h){return dr(),h},function(h){return dr(),Nt(h)})):u}function Yr(){var u=Yo[Yo.length-1];Yo.pop(),Pr(u,!1)}function Pr(u,h){var m,_=Ce;(h?!xt.echoes||Cr++&&u===Ce:!Cr||--Cr&&u===Ce)||queueMicrotask(h?(function(b){++Jo,xt.echoes&&--xt.echoes!=0||(xt.echoes=xt.awaits=xt.id=0),Yo.push(Ce),Pr(b,!0)}).bind(null,u):Yr),u!==Ce&&(Ce=u,_===Mn&&(Mn.env=pc()),ct&&(m=Mn.env.Promise,h=u.env,(_.global||u.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),m.all=h.all,m.race=h.race,m.resolve=h.resolve,m.reject=h.reject,h.allSettled&&(m.allSettled=h.allSettled),h.any&&(m.any=h.any))))}function pc(){var u=i.Promise;return ct?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function kr(u,h,m,_,b){var T=Ce;try{return Pr(u,!0),h(m,_,b)}finally{Pr(T,!1)}}function Xo(u,h,m,_){return typeof u!="function"?u:function(){var b=Ce;m&&Es(),Pr(h,!0);try{return u.apply(this,arguments)}finally{Pr(b,!1),_&&queueMicrotask(dr)}}}function Zo(u){Promise===Ue&&xt.echoes===0?Cr===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+yr).indexOf("[native code]")===-1&&(Es=dr=je);var Nt=Ae.reject,Is="",zn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mc="String expected.",Jr=[],Xr="__dbnames",Or="readonly",Xi="readwrite";function As(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var gc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zi(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=R(h))[u],h}}function yc(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(u,h){try{var m=ea(u),_=ea(h);if(m!==_)return m==="Array"?1:_==="Array"?-1:m==="binary"?1:_==="binary"?-1:m==="string"?1:_==="string"?-1:m==="Date"?1:_!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return(function(b,T){for(var O=b.length,F=T.length,q=O<F?O:F,K=0;K<q;++K)if(b[K]!==T[K])return b[K]<T[K]?-1:1;return O===F?0:O<F?-1:1})(_c(u),_c(h));case"Array":return(function(b,T){for(var O=b.length,F=T.length,q=O<F?O:F,K=0;K<q;++K){var Q=nt(b[K],T[K]);if(Q!==0)return Q}return O===F?0:O<F?-1:1})(u,h)}}catch{}return NaN}function ea(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=$e(u),u==="ArrayBuffer"?"binary":u)}function _c(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function eo(u,h,m){var _=u.schema.yProps;return _?(h&&0<m.numFailures&&(h=h.filter(function(b,T){return!m.failures[T]})),Promise.all(_.map(function(b){return b=b.updatesTable,h?u.db.table(b).where("k").anyOf(h).delete():u.db.table(b).clear()})).then(function(){return m})):m}var to=(Yu.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var m=h.add;if(a(m))return s(s([],a(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(h.remove!==void 0){var _=h.remove;if(a(_))return a(u)?u.filter(function(b){return!_.includes(b)}).sort():[];if(typeof _=="number")return Number(u)-_;if(typeof _=="bigint")try{return BigInt(u)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return m=(m=h.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?h.replacePrefix[1]+u.substring(m.length):u},Yu);function Yu(u){this["@@propmod"]=u}function vc(u,h){for(var m=o(h),_=m.length,b=!1,T=0;T<_;++T){var O=m[T],F=h[O],q=ne(u,O);F instanceof to?(D(u,O,F.execute(q)),b=!0):q!==F&&(D(u,O,F),b=!0)}return b}var wc=(It.prototype._trans=function(u,h,m){var _=this._tx||Ce.trans,b=this.name,T=pe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function O(K,Q,B){if(!B.schema[b])throw new se.NotFound("Table "+b+" not part of transaction");return h(B.idbtrans,B)}var F=hr();try{var q=_&&_.db._novip===this.db._novip?_===Ce.trans?_._promise(u,O,m):Zn(function(){return _._promise(u,O,m)},{trans:_,transless:Ce.transless||Ce}):(function K(Q,B,J,z){if(Q.idbdb&&(Q._state.openComplete||Ce.letThrough||Q._vip)){var W=Q._createTransaction(B,J,Q._dbSchema);try{W.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,z)})):Nt(G)}return W._promise(B,function(G,Y){return Zn(function(){return Ce.trans=W,z(G,Y,W)})}).then(function(G){if(B==="readwrite")try{W.idbtrans.commit()}catch{}return B==="readonly"?G:W._completion.then(function(){return G})})}if(Q._state.openComplete)return Nt(new se.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Nt(new se.DatabaseClosed);Q.open().catch(je)}return Q._state.dbReadyPromise.then(function(){return K(Q,B,J,z)})})(this.db,u,[this.name],O);return T&&(q._consoleTask=T,q=q.catch(function(K){return console.trace(K),Nt(K)})),q}finally{F&&bs()}},It.prototype.get=function(u,h){var m=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?Nt(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return m.core.get({trans:_,key:u}).then(function(b){return m.hook.reading.fire(b)})}).then(h)},It.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(a(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=o(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(F){if(F.compound&&h.every(function(K){return 0<=F.keyPath.indexOf(K)})){for(var q=0;q<h.length;++q)if(h.indexOf(F.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(F,q){return F.keyPath.length-q.keyPath.length})[0];if(m&&this.db._maxKey!==Is){var T=m.keyPath.slice(0,h.length);return this.where(T).equals(T.map(function(q){return u[q]}))}!m&&pe&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var _=this.schema.idxByName;function b(F,q){return nt(F,q)===0}var O=h.reduce(function(B,q){var K=B[0],Q=B[1],B=_[q],J=u[q];return[K||B,K||!B?As(Q,B&&B.multi?function(z){return z=ne(z,q),a(z)&&z.some(function(W){return b(J,W)})}:function(z){return b(J,ne(z,q))}):Q]},[null,null]),T=O[0],O=O[1];return T?this.where(T.name).equals(u[T.keyPath]).filter(O):m?this.filter(O):this.where(h).equals("")},It.prototype.filter=function(u){return this.toCollection().and(u)},It.prototype.count=function(u){return this.toCollection().count(u)},It.prototype.offset=function(u){return this.toCollection().offset(u)},It.prototype.limit=function(u){return this.toCollection().limit(u)},It.prototype.each=function(u){return this.toCollection().each(u)},It.prototype.toArray=function(u){return this.toCollection().toArray(u)},It.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},It.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,a(u)?"[".concat(u.join("+"),"]"):u))},It.prototype.reverse=function(){return this.toCollection().reverse()},It.prototype.mapToClass=function(u){var h,m=this.db,_=this.name;function b(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof yc&&((function(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Q(){this.constructor=q}n(q,K),q.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)})(b,h=u),Object.defineProperty(b.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),b.prototype.table=function(){return _},u=b);for(var T=new Set,O=u.prototype;O;O=f(O))Object.getOwnPropertyNames(O).forEach(function(q){return T.add(q)});function F(q){if(!q)return q;var K,Q=Object.create(u.prototype);for(K in q)if(!T.has(K))try{Q[K]=q[K]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=F,this.hook("reading",F),u},It.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},It.prototype.add=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,O=u;return T&&b&&(O=Zi(T)(u)),this._trans("readwrite",function(F){return m.core.mutate({trans:F,type:"add",keys:h!=null?[h]:null,values:[O]})}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):F.lastResult}).then(function(F){if(T)try{D(u,T,F)}catch{}return F})},It.prototype.upsert=function(u,h){var m=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(b){return m.core.get({trans:b,key:u}).then(function(T){var O=T??{};return vc(O,h),_&&D(O,_,u),m.core.mutate({trans:b,type:"put",values:[O],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[h]}}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):!!T})})})},It.prototype.update=function(u,h){return typeof u!="object"||a(u)?this.where(":id").equals(u).modify(h):(u=ne(u,this.schema.primKey.keyPath),u===void 0?Nt(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},It.prototype.put=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,O=u;return T&&b&&(O=Zi(T)(u)),this._trans("readwrite",function(F){return m.core.mutate({trans:F,type:"put",values:[O],keys:h!=null?[h]:null})}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):F.lastResult}).then(function(F){if(T)try{D(u,T,F)}catch{}return F})},It.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"delete",keys:[u]}).then(function(_){return eo(h,[u],_)}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})})},It.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:gc}).then(function(m){return eo(u,null,m)})}).then(function(h){return h.numFailures?Ae.reject(h.failures[0]):void 0})},It.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(m){return h.core.getMany({keys:u,trans:m}).then(function(_){return _.map(function(b){return h.hook.reading.fire(b)})})})},It.prototype.bulkAdd=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(O){var K=_.schema.primKey,F=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var q=u.length,K=K&&F?u.map(Zi(K)):u;return _.core.mutate({trans:O,type:"add",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkAdd(): ").concat(B," of ").concat(q," operations failed"),W)})})},It.prototype.bulkPut=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(O){var K=_.schema.primKey,F=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var q=u.length,K=K&&F?u.map(Zi(K)):u;return _.core.mutate({trans:O,type:"put",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkPut(): ").concat(B," of ").concat(q," operations failed"),W)})})},It.prototype.bulkUpdate=function(u){var h=this,m=this.core,_=u.map(function(O){return O.key}),b=u.map(function(O){return O.changes}),T=[];return this._trans("readwrite",function(O){return m.getMany({trans:O,keys:_,cache:"clone"}).then(function(F){var q=[],K=[];u.forEach(function(B,J){var z=B.key,W=B.changes,G=F[J];if(G){for(var Y=0,Z=Object.keys(W);Y<Z.length;Y++){var te=Z[Y],ie=W[te];if(te===h.schema.primKey.keyPath){if(nt(ie,z)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else D(G,te,ie)}T.push(J),q.push(z),K.push(G)}});var Q=q.length;return m.mutate({trans:O,type:"put",keys:q,values:K,updates:{keys:_,changeSpecs:b}}).then(function(B){var J=B.numFailures,z=B.failures;if(J===0)return Q;for(var W=0,G=Object.keys(z);W<G.length;W++){var Y,Z=G[W],te=T[Number(Z)];te!=null&&(Y=z[Z],delete z[Z],z[te]=Y)}throw new zt("".concat(h.name,".bulkUpdate(): ").concat(J," of ").concat(Q," operations failed"),z)})})})},It.prototype.bulkDelete=function(u){var h=this,m=u.length;return this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"delete",keys:u}).then(function(b){return eo(h,u,b)})}).then(function(O){var b=O.numFailures,T=O.lastResult,O=O.failures;if(b===0)return T;throw new zt("".concat(h.name,".bulkDelete(): ").concat(b," of ").concat(m," operations failed"),O)})},It);function It(){}function er(u){function h(O,F){if(F){for(var q=arguments.length,K=new Array(q-1);--q;)K[q-1]=arguments[q];return m[O].subscribe.apply(null,K),u}if(typeof O=="string")return m[O]}var m={};h.addEventType=T;for(var _=1,b=arguments.length;_<b;++_)T(arguments[_]);return h;function T(O,F,q){if(typeof O!="object"){var K;F=F||Te;var Q={subscribers:[],fire:q=q||je,subscribe:function(B){Q.subscribers.indexOf(B)===-1&&(Q.subscribers.push(B),Q.fire=F(Q.fire,B))},unsubscribe:function(B){Q.subscribers=Q.subscribers.filter(function(J){return J!==B}),Q.fire=Q.subscribers.reduce(F,q)}};return m[O]=h[O]=Q}o(K=O).forEach(function(B){var J=K[B];if(a(J))T(B,K[B][0],K[B][1]);else{if(J!=="asap")throw new se.InvalidArgument("Invalid event config");var z=T(B,N,function(){for(var W=arguments.length,G=new Array(W);W--;)G[W]=arguments[W];z.subscribers.forEach(function(Y){$(function(){Y.apply(null,G)})})})}})}}function Ln(u,h){return A(h).from({prototype:u}),h}function Dr(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function ci(u,h){u.filter=As(u.filter,h)}function ta(u,h,m){var _=u.replayFilter;u.replayFilter=_?function(){return As(_(),h())}:h,u.justLimit=m&&!_}function gt(u,h){if(u.isPrimKey)return h.primaryKey;var m=h.getIndexByKeyPath(u.index);if(!m)throw new se.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return m}function no(u,h,m){var _=gt(u,h.schema);return h.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:_,range:u.range}})}function Zr(u,h,m,_){var b=u.replayFilter?As(u.filter,u.replayFilter()):u.filter;if(u.or){var T={},O=function(F,q,K){var Q,B;b&&!b(q,K,function(J){return q.stop(J)},function(J){return q.fail(J)})||((B=""+(Q=q.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(Q)),p(T,B)||(T[B]=!0,h(F,q,K)))};return Promise.all([u.or._iterate(O,m),ui(no(u,_,m),u.algorithm,O,!u.keysOnly&&u.valueMapper)])}return ui(no(u,_,m),As(u.algorithm,b),h,!u.keysOnly&&u.valueMapper)}function ui(u,h,m,_){var b=mt(_?function(T,O,F){return m(_(T),O,F)}:m);return u.then(function(T){if(T)return T.start(function(){var O=function(){return T.continue()};h&&!h(T,function(F){return O=F},function(F){T.stop(F),O=je},function(F){T.fail(F),O=je})||b(T.value,T,function(F){return O=F}),O()})})}var Dh=(ut.prototype._read=function(u,h){var m=this._ctx;return m.error?m.table._trans(null,Nt.bind(null,m.error)):m.table._trans("readonly",u).then(h)},ut.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,Nt.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},ut.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=As(h.algorithm,u)},ut.prototype._iterate=function(u,h){return Zr(this._ctx,u,h,this._ctx.table.core)},ut.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&l(m,u),h._ctx=m,h},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(u){var h=this._ctx;return this._read(function(m){return Zr(h,u,m,h.table.core)})},ut.prototype.count=function(u){var h=this;return this._read(function(m){var _=h._ctx,b=_.table.core;if(Dr(_,!0))return b.count({trans:m,query:{index:gt(_,b.schema),range:_.range}}).then(function(O){return Math.min(O,_.limit)});var T=0;return Zr(_,function(){return++T,!1},m,b).then(function(){return T})}).then(u)},ut.prototype.sortBy=function(u,h){var m=u.split(".").reverse(),_=m[0],b=m.length-1;function T(q,K){return K?T(q[m[K]],K-1):q[_]}var O=this._ctx.dir==="next"?1:-1;function F(q,K){return nt(T(q,b),T(K,b))*O}return this.toArray(function(q){return q.sort(F)}).then(h)},ut.prototype.toArray=function(u){var h=this;return this._read(function(m){var _=h._ctx;if(_.dir==="next"&&Dr(_,!0)&&0<_.limit){var b=_.valueMapper,T=gt(_,_.table.core.schema);return _.table.core.query({trans:m,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(F){return F=F.result,b?F.map(b):F})}var O=[];return Zr(_,function(F){return O.push(F)},m,_.table.core).then(function(){return O})},u)},ut.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Dr(h)?ta(h,function(){var m=u;return function(_,b){return m===0||(m===1?--m:b(function(){_.advance(m),m=0}),!1)}}):ta(h,function(){var m=u;return function(){return--m<0}})),this},ut.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),ta(this._ctx,function(){var h=u;return function(m,_,b){return--h<=0&&_(b),0<=h}},!0),this},ut.prototype.until=function(u,h){return ci(this._ctx,function(m,_,b){return!u(m.value)||(_(b),h)}),this},ut.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},ut.prototype.last=function(u){return this.reverse().first(u)},ut.prototype.filter=function(u){var h;return ci(this._ctx,function(m){return u(m.value)}),(h=this._ctx).isMatch=As(h.isMatch,u),this},ut.prototype.and=function(u){return this.filter(u)},ut.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.key,_)})},ut.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ut.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.primaryKey,_)})},ut.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.key)}).then(function(){return m}).then(u)},ut.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Dr(h,!0)&&0<h.limit)return this._read(function(_){var b=gt(h,h.table.core.schema);return h.table.core.query({trans:_,values:!1,limit:h.limit,query:{index:b,range:h.range}})}).then(function(_){return _.result}).then(u);h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.primaryKey)}).then(function(){return m}).then(u)},ut.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ut.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},ut.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ut.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return ci(this._ctx,function(b){var _=b.primaryKey.toString(),b=p(h,_);return h[_]=!0,!b}),this},ut.prototype.modify=function(u){var h=this,m=this._ctx;return this._write(function(_){var b=typeof u=="function"?u:function(G){return vc(G,u)},T=m.table.core,K=T.schema.primaryKey,O=K.outbound,F=K.extractKey,q=200,K=h.db._options.modifyChunkSize;K&&(q=typeof K=="object"?K[T.name]||K["*"]||200:K);function Q(G,te){var Z=te.failures,te=te.numFailures;J+=G-te;for(var ie=0,ce=o(Z);ie<ce.length;ie++){var ge=ce[ie];B.push(Z[ge])}}var B=[],J=0,z=[],W=u===Ju;return h.clone().primaryKeys().then(function(G){function Y(te){var ie=Math.min(q,G.length-te),ce=G.slice(te,te+ie);return(W?Promise.resolve([]):T.getMany({trans:_,keys:ce,cache:"immutable"})).then(function(ge){var Ee=[],me=[],_e=O?[]:null,Ie=W?ce:[];if(!W)for(var we=0;we<ie;++we){var Me=ge[we],Xe={value:R(Me),primKey:G[te+we]};b.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?Ie.push(G[te+we]):O||nt(F(Me),F(Xe.value))===0?(me.push(Xe.value),O&&_e.push(G[te+we])):(Ie.push(G[te+we]),Ee.push(Xe.value)))}return Promise.resolve(0<Ee.length&&T.mutate({trans:_,type:"add",values:Ee}).then(function(tt){for(var st in tt.failures)Ie.splice(parseInt(st),1);Q(Ee.length,tt)})).then(function(){return(0<me.length||Z&&typeof u=="object")&&T.mutate({trans:_,type:"put",keys:_e,values:me,criteria:Z,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<te}).then(function(tt){return Q(me.length,tt)})}).then(function(){return(0<Ie.length||Z&&W)&&T.mutate({trans:_,type:"delete",keys:Ie,criteria:Z,isAdditionalChunk:0<te}).then(function(tt){return eo(m.table,Ie,tt)}).then(function(tt){return Q(Ie.length,tt)})}).then(function(){return G.length>te+ie&&Y(te+q)})})}var Z=Dr(m)&&m.limit===1/0&&(typeof u!="function"||W)&&{index:m.index,range:m.range};return Y(0).then(function(){if(0<B.length)throw new Nn("Error modifying one or more objects",B,J,z);return G.length})})})},ut.prototype.delete=function(){var u=this._ctx,h=u.range;return!Dr(u)||u.table.schema.yProps||!u.isPrimKey&&h.type!==3?this.modify(Ju):this._write(function(m){var _=u.table.core.schema.primaryKey,b=h;return u.table.core.count({trans:m,query:{index:_,range:b}}).then(function(T){return u.table.core.mutate({trans:m,type:"deleteRange",range:b}).then(function(q){var F=q.failures,q=q.numFailures;if(q)throw new Nn("Could not delete some values",Object.keys(F).map(function(K){return F[K]}),T-q);return T-q})})})},ut);function ut(){}var Ju=function(u,h){return h.value=null};function xh(u,h){return u<h?-1:u===h?0:1}function Nh(u,h){return h<u?-1:u===h?0:1}function Vn(u,h,m){return u=u instanceof Ec?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(h),u}function pr(u){return new u.Collection(u,function(){return bc("")}).limit(0)}function tr(u,h,m,_){var b,T,O,F,q,K,Q,B=m.length;if(!m.every(function(W){return typeof W=="string"}))return Vn(u,mc);function J(W){b=W==="next"?function(Y){return Y.toUpperCase()}:function(Y){return Y.toLowerCase()},T=W==="next"?function(Y){return Y.toLowerCase()}:function(Y){return Y.toUpperCase()},O=W==="next"?xh:Nh;var G=m.map(function(Y){return{lower:T(Y),upper:b(Y)}}).sort(function(Y,Z){return O(Y.lower,Z.lower)});F=G.map(function(Y){return Y.upper}),q=G.map(function(Y){return Y.lower}),Q=(K=W)==="next"?"":_}J("next"),u=new u.Collection(u,function(){return xr(F[0],q[B-1]+_)}),u._ondirectionchange=function(W){J(W)};var z=0;return u._addAlgorithm(function(W,G,Y){var Z=W.key;if(typeof Z!="string")return!1;var te=T(Z);if(h(te,q,z))return!0;for(var ie=null,ce=z;ce<B;++ce){var ge=(function(Ee,me,_e,Ie,we,Me){for(var Xe=Math.min(Ee.length,Ie.length),tt=-1,st=0;st<Xe;++st){var nr=me[st];if(nr!==Ie[st])return we(Ee[st],_e[st])<0?Ee.substr(0,st)+_e[st]+_e.substr(st+1):we(Ee[st],Ie[st])<0?Ee.substr(0,st)+Ie[st]+_e.substr(st+1):0<=tt?Ee.substr(0,tt)+me[tt]+_e.substr(tt+1):null;we(Ee[st],nr)<0&&(tt=st)}return Xe<Ie.length&&Me==="next"?Ee+_e.substr(Ee.length):Xe<Ee.length&&Me==="prev"?Ee.substr(0,_e.length):tt<0?null:Ee.substr(0,tt)+Ie[tt]+_e.substr(tt+1)})(Z,te,F[ce],q[ce],O,K);ge===null&&ie===null?z=ce+1:(ie===null||0<O(ie,ge))&&(ie=ge)}return G(ie!==null?function(){W.continue(ie+Q)}:Y),!1}),u}function xr(u,h,m,_){return{type:2,lower:u,upper:h,lowerOpen:m,upperOpen:_}}function bc(u){return{type:1,lower:u,upper:u}}var Ec=(Object.defineProperty(Dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dt.prototype.between=function(u,h,m,_){m=m!==!1,_=_===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(m||_)&&(!m||!_)?pr(this):new this.Collection(this,function(){return xr(u,h,!m,!_)})}catch{return Vn(this,zn)}},Dt.prototype.equals=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return bc(u)})},Dt.prototype.above=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return xr(u,void 0,!0)})},Dt.prototype.aboveOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return xr(u,void 0,!1)})},Dt.prototype.below=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return xr(void 0,u,!1,!0)})},Dt.prototype.belowOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return xr(void 0,u)})},Dt.prototype.startsWith=function(u){return typeof u!="string"?Vn(this,mc):this.between(u,u+Is,!0,!0)},Dt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):tr(this,function(h,m){return h.indexOf(m[0])===0},[u],Is)},Dt.prototype.equalsIgnoreCase=function(u){return tr(this,function(h,m){return h===m[0]},[u],"")},Dt.prototype.anyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.indexOf(h)!==-1},u,"")},Dt.prototype.startsWithAnyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.some(function(_){return h.indexOf(_)===0})},u,Is)},Dt.prototype.anyOf=function(){var u=this,h=Kt.apply(ht,arguments),m=this._cmp;try{h.sort(m)}catch{return Vn(this,zn)}if(h.length===0)return pr(this);var _=new this.Collection(this,function(){return xr(h[0],h[h.length-1])});_._ondirectionchange=function(T){m=T==="next"?u._ascending:u._descending,h.sort(m)};var b=0;return _._addAlgorithm(function(T,O,F){for(var q=T.key;0<m(q,h[b]);)if(++b===h.length)return O(F),!1;return m(q,h[b])===0||(O(function(){T.continue(h[b])}),!1)}),_},Dt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dt.prototype.noneOf=function(){var u=Kt.apply(ht,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return Vn(this,zn)}var h=u.reduce(function(m,_){return m?m.concat([[m[m.length-1][1],_]]):[[-1/0,_]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Dt.prototype.inAnyRange=function(Z,h){var m=this,_=this._cmp,b=this._ascending,T=this._descending,O=this._min,F=this._max;if(Z.length===0)return pr(this);if(!Z.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&b(te[0],te[1])<=0}))return Vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var q=!h||h.includeLowers!==!1,K=h&&h.includeUppers===!0,Q,B=b;function J(te,ie){return B(te[0],ie[0])}try{(Q=Z.reduce(function(te,ie){for(var ce=0,ge=te.length;ce<ge;++ce){var Ee=te[ce];if(_(ie[0],Ee[1])<0&&0<_(ie[1],Ee[0])){Ee[0]=O(Ee[0],ie[0]),Ee[1]=F(Ee[1],ie[1]);break}}return ce===ge&&te.push(ie),te},[])).sort(J)}catch{return Vn(this,zn)}var z=0,W=K?function(te){return 0<b(te,Q[z][1])}:function(te){return 0<=b(te,Q[z][1])},G=q?function(te){return 0<T(te,Q[z][0])}:function(te){return 0<=T(te,Q[z][0])},Y=W,Z=new this.Collection(this,function(){return xr(Q[0][0],Q[Q.length-1][1],!q,!K)});return Z._ondirectionchange=function(te){B=te==="next"?(Y=W,b):(Y=G,T),Q.sort(J)},Z._addAlgorithm(function(te,ie,ce){for(var ge,Ee=te.key;Y(Ee);)if(++z===Q.length)return ie(ce),!1;return!W(ge=Ee)&&!G(ge)||(m._cmp(Ee,Q[z][1])===0||m._cmp(Ee,Q[z][0])===0||ie(function(){B===b?te.continue(Q[z][0]):te.continue(Q[z][1])}),!1)}),Z},Dt.prototype.startsWithAnyOf=function(){var u=Kt.apply(ht,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?pr(this):this.inAnyRange(u.map(function(h){return[h,h+Is]})):Vn(this,"startsWithAnyOf() only works with strings")},Dt);function Dt(){}function mr(u){return mt(function(h){return ro(h),u(h.target.error),!1})}function ro(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var so="storagemutated",gr="x-storagemutated-1",es=er(null,so),Mh=(Fn.prototype._lock=function(){return x(!Ce.global),++this._reculock,this._reculock!==1||Ce.global||(Ce.lockOwnerFor=this),this},Fn.prototype._unlock=function(){if(x(!Ce.global),--this._reculock==0)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{kr(u[1],u[0])}catch{}}return this},Fn.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},Fn.prototype.create=function(u){var h=this;if(!this.mode)return this;var m=this.db.idbdb,_=this.db._state.dbOpenError;if(x(!this.idbtrans),!u&&!m)switch(_&&_.name){case"DatabaseClosedError":throw new se.DatabaseClosed(_);case"MissingAPIError":throw new se.MissingAPI(_.message,_);default:throw new se.OpenFailed(_)}if(!this.active)throw new se.TransactionInactive;return x(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(b){ro(b),h._reject(u.error)}),u.onabort=mt(function(b){ro(b),h.active&&h._reject(new se.Abort(u.error)),h.active=!1,h.on("abort").fire(b)}),u.oncomplete=mt(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&es.storagemutated.fire(u.mutatedParts)}),this},Fn.prototype._promise=function(u,h,m){var _=this;if(u==="readwrite"&&this.mode!=="readwrite")return Nt(new se.ReadOnly("Transaction is readonly"));if(!this.active)return Nt(new se.TransactionInactive);if(this._locked())return new Ae(function(T,O){_._blockedFuncs.push([function(){_._promise(u,h,m).then(T,O)},Ce])});if(m)return Zn(function(){var T=new Ae(function(O,F){_._lock();var q=h(O,F,_);q&&q.then&&q.then(O,F)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var b=new Ae(function(T,O){var F=h(T,O,_);F&&F.then&&F.then(T,O)});return b._lib=!0,b},Fn.prototype._root=function(){return this.parent?this.parent._root():this},Fn.prototype.waitFor=function(u){var h,m=this._root(),_=Ae.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return _}):(m._waitingFor=_,m._waitingQueue=[],h=m.idbtrans.objectStore(m.storeNames[0]),(function T(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(h.get(-1/0).onsuccess=T)})());var b=m._waitingFor;return new Ae(function(T,O){_.then(function(F){return m._waitingQueue.push(mt(T.bind(null,F)))},function(F){return m._waitingQueue.push(mt(O.bind(null,F)))}).finally(function(){m._waitingFor===b&&(m._waitingFor=null)})})},Fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Fn.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(p(h,u))return h[u];var m=this.schema[u];if(!m)throw new se.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),h[u]=m},Fn);function Fn(){}function li(u,h,m,_,b,T,O,F){return{name:u,keyPath:h,unique:m,multi:_,auto:b,compound:T,src:(m&&!O?"&":"")+(_?"*":"")+(b?"++":"")+Tc(h),type:F}}function Tc(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Ss(u,h,m){return{name:u,primKey:h,indexes:m,mappedClass:null,idxByName:(_=function(b){return[b.name,b]},m.reduce(function(b,T,O){return O=_(T,O),O&&(b[O[0]]=O[1]),b},{}))};var _}var Nr=function(u){try{return u.only([[]]),Nr=function(){return[[]]},[[]]}catch{return Nr=function(){return Is},Is}};function na(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(m){return m[h]}:function(m){return ne(m,h)}:function(m){return ne(m,u)};var h}function ra(u){return[].slice.call(u)}var Mt=0;function io(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Lh(u,h,q){function _(Y){if(Y.type===3)return null;if(Y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=Y.lower,W=Y.upper,G=Y.lowerOpen,Y=Y.upperOpen;return z===void 0?W===void 0?null:h.upperBound(W,!!Y):W===void 0?h.lowerBound(z,!!G):h.bound(z,W,!!G,!!Y)}function b(J){var z,W=J.name;return{name:W,schema:J,mutate:function(G){var Y=G.trans,Z=G.type,te=G.keys,ie=G.values,ce=G.range;return new Promise(function(ge,Ee){ge=mt(ge);var me=Y.objectStore(W),_e=me.keyPath==null,Ie=Z==="put"||Z==="add";if(!Ie&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var we,Me=(te||ie||{length:1}).length;if(te&&ie&&te.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Xe($n){++nr,ro($n)}var tt=[],st=[],nr=0;if(Z==="deleteRange"){if(ce.type===4)return ge({numFailures:nr,failures:st,results:[],lastResult:void 0});ce.type===3?tt.push(we=me.clear()):tt.push(we=me.delete(_(ce)))}else{var _e=Ie?_e?[ie,te]:[ie,null]:[te,null],Je=_e[0],In=_e[1];if(Ie)for(var An=0;An<Me;++An)tt.push(we=In&&In[An]!==void 0?me[Z](Je[An],In[An]):me[Z](Je[An])),we.onerror=Xe;else for(An=0;An<Me;++An)tt.push(we=me[Z](Je[An])),we.onerror=Xe}function rl($n){$n=$n.target.result,tt.forEach(function(yo,$h){return yo.error!=null&&(st[$h]=yo.error)}),ge({numFailures:nr,failures:st,results:Z==="delete"?te:tt.map(function(yo){return yo.result}),lastResult:$n})}we.onerror=function($n){Xe($n),rl($n)},we.onsuccess=rl})},getMany:function(G){var Y=G.trans,Z=G.keys;return new Promise(function(te,ie){te=mt(te);for(var ce,ge=Y.objectStore(W),Ee=Z.length,me=new Array(Ee),_e=0,Ie=0,we=function(tt){tt=tt.target,me[tt._pos]=tt.result,++Ie===_e&&te(me)},Me=mr(ie),Xe=0;Xe<Ee;++Xe)Z[Xe]!=null&&((ce=ge.get(Z[Xe]))._pos=Xe,ce.onsuccess=we,ce.onerror=Me,++_e);_e===0&&te(me)})},get:function(G){var Y=G.trans,Z=G.key;return new Promise(function(te,ie){te=mt(te);var ce=Y.objectStore(W).get(Z);ce.onsuccess=function(ge){return te(ge.target.result)},ce.onerror=mr(ie)})},query:(z=K,function(G){return new Promise(function(Y,Z){Y=mt(Y);var te,ie,ce,_e=G.trans,ge=G.values,Ee=G.limit,we=G.query,me=Ee===1/0?void 0:Ee,Ie=we.index,we=we.range,_e=_e.objectStore(W),Ie=Ie.isPrimaryKey?_e:_e.index(Ie.name),we=_(we);if(Ee===0)return Y({result:[]});z?((me=ge?Ie.getAll(we,me):Ie.getAllKeys(we,me)).onsuccess=function(Me){return Y({result:Me.target.result})},me.onerror=mr(Z)):(te=0,ie=!ge&&"openKeyCursor"in Ie?Ie.openKeyCursor(we):Ie.openCursor(we),ce=[],ie.onsuccess=function(Me){var Xe=ie.result;return Xe?(ce.push(ge?Xe.value:Xe.primaryKey),++te===Ee?Y({result:ce}):void Xe.continue()):Y({result:ce})},ie.onerror=mr(Z))})}),openCursor:function(G){var Y=G.trans,Z=G.values,te=G.query,ie=G.reverse,ce=G.unique;return new Promise(function(ge,Ee){ge=mt(ge);var Ie=te.index,me=te.range,_e=Y.objectStore(W),_e=Ie.isPrimaryKey?_e:_e.index(Ie.name),Ie=ie?ce?"prevunique":"prev":ce?"nextunique":"next",we=!Z&&"openKeyCursor"in _e?_e.openKeyCursor(_(me),Ie):_e.openCursor(_(me),Ie);we.onerror=mr(Ee),we.onsuccess=mt(function(Me){var Xe,tt,st,nr,Je=we.result;Je?(Je.___id=++Mt,Je.done=!1,Xe=Je.continue.bind(Je),tt=(tt=Je.continuePrimaryKey)&&tt.bind(Je),st=Je.advance.bind(Je),nr=function(){throw new Error("Cursor not stopped")},Je.trans=Y,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=mt(Ee),Je.next=function(){var In=this,An=1;return this.start(function(){return An--?In.continue():In.stop()}).then(function(){return In})},Je.start=function(In){function An(){if(we.result)try{In()}catch($n){Je.fail($n)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var rl=new Promise(function($n,yo){$n=mt($n),we.onerror=mr(yo),Je.fail=yo,Je.stop=function($h){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=nr,$n($h)}});return we.onsuccess=mt(function($n){we.onsuccess=An,An()}),Je.continue=Xe,Je.continuePrimaryKey=tt,Je.advance=st,An(),rl},ge(Je)):ge(null)},Ee)})},count:function(G){var Y=G.query,Z=G.trans,te=Y.index,ie=Y.range;return new Promise(function(ce,ge){var Ee=Z.objectStore(W),me=te.isPrimaryKey?Ee:Ee.index(te.name),Ee=_(ie),me=Ee?me.count(Ee):me.count();me.onsuccess=mt(function(_e){return ce(_e.target.result)}),me.onerror=mr(ge)})}}}var T,O,F,Q=(O=q,F=ra((T=u).objectStoreNames),{schema:{name:T.name,tables:F.map(function(J){return O.objectStore(J)}).map(function(J){var z=J.keyPath,Y=J.autoIncrement,W=a(z),G={},Y={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:W,keyPath:z,autoIncrement:Y,unique:!0,extractKey:na(z)},indexes:ra(J.indexNames).map(function(Z){return J.index(Z)}).map(function(ce){var te=ce.name,ie=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,ge={name:te,compound:a(ce),keyPath:ce,unique:ie,multiEntry:ge,extractKey:na(ce)};return G[io(ce)]=ge}),getIndexByKeyPath:function(Z){return G[io(Z)]}};return G[":id"]=Y.primaryKey,z!=null&&(G[io(z)]=Y.primaryKey),Y})},hasGetAll:0<F.length&&"getAll"in O.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=Q.schema,K=Q.hasGetAll,Q=q.tables.map(b),B={};return Q.forEach(function(J){return B[J.name]=J}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(J){if(!B[J])throw new Error("Table '".concat(J,"' not found"));return B[J]},MIN_KEY:-1/0,MAX_KEY:Nr(h),schema:q}}function Xu(u,h,m,_){var b=m.IDBKeyRange;return m.indexedDB,{dbcore:(_=Lh(h,b,_),u.dbcore.reduce(function(T,O){return O=O.create,r(r({},T),O(T))},_))}}function oo(u,_){var m=_.db,_=Xu(u._middlewares,m,u._deps,_);u.core=_.dbcore,u.tables.forEach(function(b){var T=b.name;u.core.schema.tables.some(function(O){return O.name===T})&&(b.core=u.core.table(T),u[T]instanceof u.Table&&(u[T].core=b.core))})}function ao(u,h,m,_){m.forEach(function(b){var T=_[b];h.forEach(function(O){var F=(function q(K,Q){return L(K,Q)||(K=f(K))&&q(K,Q)})(O,b);(!F||"value"in F&&F.value===void 0)&&(O===u.Transaction.prototype||O instanceof u.Transaction?E(O,b,{get:function(){return this.table(b)},set:function(q){v(this,b,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):O[b]=new u.Table(b,T))})})}function fi(u,h){h.forEach(function(m){for(var _ in m)m[_]instanceof u.Table&&delete m[_]})}function Zu(u,h){return u._cfg.version-h._cfg.version}function Mr(u,h,m,_){var b=u._dbSchema;m.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Ss("$meta",uo("")[0],[]),u._storeNames.push("$meta"));var T=u._createTransaction("readwrite",u._storeNames,b);T.create(m),T._completion.catch(_);var O=T._reject.bind(T),F=Ce.transless||Ce;Zn(function(){return Ce.trans=T,Ce.transless=F,h!==0?(oo(u,m),K=h,((q=T).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(Q){return Q??K}):Ae.resolve(K)).then(function(Q){return J=Q,z=T,W=m,G=[],Q=(B=u)._versions,Y=B._dbSchema=Cs(0,B.idbdb,W),(Q=Q.filter(function(Z){return Z._cfg.version>=J})).length!==0?(Q.forEach(function(Z){G.push(function(){var te=Y,ie=Z._cfg.dbschema;co(B,te,W),co(B,ie,W),Y=B._dbSchema=ie;var ce=Ic(te,ie);ce.add.forEach(function(Ie){Rs(W,Ie[0],Ie[1].primKey,Ie[1].indexes)}),ce.change.forEach(function(Ie){if(Ie.recreate)throw new se.Upgrade("Not yet support for changing primary key");var we=W.objectStore(Ie.name);Ie.add.forEach(function(Me){return hi(we,Me)}),Ie.change.forEach(function(Me){we.deleteIndex(Me.name),hi(we,Me)}),Ie.del.forEach(function(Me){return we.deleteIndex(Me)})});var ge=Z._cfg.contentUpgrade;if(ge&&Z._cfg.version>J){oo(B,W),z._memoizedTables={};var Ee=S(ie);ce.del.forEach(function(Ie){Ee[Ie]=te[Ie]}),fi(B,[B.Transaction.prototype]),ao(B,[B.Transaction.prototype],o(Ee),Ee),z.schema=Ee;var me,_e=Tn(ge);return _e&&Es(),ce=Ae.follow(function(){var Ie;(me=ge(z))&&_e&&(Ie=dr.bind(null,null),me.then(Ie,Ie))}),me&&typeof me.then=="function"?Ae.resolve(me):ce.then(function(){return me})}}),G.push(function(te){var ie,ce,ge=Z._cfg.dbschema;ie=ge,ce=te,[].slice.call(ce.db.objectStoreNames).forEach(function(Ee){return ie[Ee]==null&&ce.db.deleteObjectStore(Ee)}),fi(B,[B.Transaction.prototype]),ao(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),z.schema=B._dbSchema}),G.push(function(te){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===Z._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ie){return ie!=="$meta"})):te.objectStore("$meta").put(Z._cfg.version,"version"))})}),(function Z(){return G.length?Ae.resolve(G.shift()(z.idbtrans)).then(Z):Ae.resolve()})().then(function(){Ac(Y,W)})):Ae.resolve();var B,J,z,W,G,Y}).catch(O)):(o(b).forEach(function(Q){Rs(m,Q,b[Q].primKey,b[Q].indexes)}),oo(u,m),void Ae.follow(function(){return u.on.populate.fire(T)}).catch(O));var q,K})}function el(u,h){Ac(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var m=Cs(0,u.idbdb,h);co(u,u._dbSchema,h);for(var _=0,b=Ic(m,u._dbSchema).change;_<b.length;_++){var T=(function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var F=h.objectStore(O.name);O.add.forEach(function(q){pe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(q.src)),hi(F,q)})})(b[_]);if(typeof T=="object")return T.value}}function Ic(u,h){var m,_={del:[],add:[],change:[]};for(m in u)h[m]||_.del.push(m);for(m in h){var b=u[m],T=h[m];if(b){var O={name:m,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||b.primKey.auto!==T.primKey.auto)O.recreate=!0,_.change.push(O);else{var F=b.idxByName,q=T.idxByName,K=void 0;for(K in F)q[K]||O.del.push(K);for(K in q){var Q=F[K],B=q[K];Q?Q.src!==B.src&&O.change.push(B):O.add.push(B)}(0<O.del.length||0<O.add.length||0<O.change.length)&&_.change.push(O)}}else _.add.push([m,T])}return _}function Rs(u,h,m,_){var b=u.db.createObjectStore(h,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return _.forEach(function(T){return hi(b,T)}),b}function Ac(u,h){o(u).forEach(function(m){h.db.objectStoreNames.contains(m)||(pe&&console.debug("Dexie: Creating missing table",m),Rs(h,m,u[m].primKey,u[m].indexes))})}function hi(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Cs(u,h,m){var _={};return U(h.objectStoreNames,0).forEach(function(b){for(var T=m.objectStore(b),O=li(Tc(K=T.keyPath),K||"",!0,!1,!!T.autoIncrement,K&&typeof K!="string",!0),F=[],q=0;q<T.indexNames.length;++q){var Q=T.index(T.indexNames[q]),K=Q.keyPath,Q=li(Q.name,K,!!Q.unique,!!Q.multiEntry,!1,K&&typeof K!="string",!1);F.push(Q)}_[b]=Ss(b,O,F)}),_}function co(u,h,m){for(var _=m.db.objectStoreNames,b=0;b<_.length;++b){var T=_[b],O=m.objectStore(T);u._hasGetAll="getAll"in O;for(var F=0;F<O.indexNames.length;++F){var q=O.indexNames[F],K=O.index(q).keyPath,Q=typeof K=="string"?K:"["+U(K).join("+")+"]";!h[T]||(K=h[T].idxByName[Q])&&(K.name=q,delete h[T].idxByName[Q],h[T].idxByName[q]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function uo(u){return u.split(",").map(function(h,m){var T=h.split(":"),_=(b=T[1])===null||b===void 0?void 0:b.trim(),b=(h=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return li(b,T||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(T),m===0,_)})}var Vh=(Ps.prototype._createTableSchema=Ss,Ps.prototype._parseIndexSyntax=uo,Ps.prototype._parseStoresSpec=function(u,h){var m=this;o(u).forEach(function(_){if(u[_]!==null){var b=m._parseIndexSyntax(u[_]),T=b.shift();if(!T)throw new se.Schema("Invalid schema for table "+_+": "+u[_]);if(T.unique=!0,T.multi)throw new se.Schema("Primary key cannot be multiEntry*");b.forEach(function(O){if(O.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),b=m._createTableSchema(_,T,b),h[_]=b}})},Ps.prototype.stores=function(m){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,m):m;var m=h._versions,_={},b={};return m.forEach(function(T){l(_,T._cfg.storesSource),b=T._cfg.dbschema={},T._parseStoresSpec(_,b)}),h._dbSchema=b,fi(h,[h._allTables,h,h.Transaction.prototype]),ao(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(b),b),h._storeNames=o(b),this},Ps.prototype.upgrade=function(u){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||je,u),this},Ps);function Ps(){}function ks(u,h){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new xs(Xr,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function sa(u){return u&&typeof u.databases=="function"}function ia(u){return Zn(function(){return Ce.letThrough=!0,u()})}function lo(u){return!("from"in u)}var Xt=function(u,h){if(!this){var m=new Xt;return u&&"d"in u&&l(m,u),m}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function di(u,h,m){var _=nt(h,m);if(!isNaN(_)){if(0<_)throw RangeError();if(lo(u))return l(u,{from:h,to:m,d:1});var b=u.l,_=u.r;if(nt(m,u.from)<0)return b?di(b,h,m):u.l={from:h,to:m,d:1,l:null,r:null},ns(u);if(0<nt(h,u.to))return _?di(_,h,m):u.r={from:h,to:m,d:1,l:null,r:null},ns(u);nt(h,u.from)<0&&(u.from=h,u.l=null,u.d=_?_.d+1:1),0<nt(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,b&&!u.l&&ts(u,b),_&&m&&ts(u,_)}}function ts(u,h){lo(h)||(function m(_,q){var T=q.from,O=q.to,F=q.l,q=q.r;di(_,T,O),F&&m(_,F),q&&m(_,q)})(u,h)}function Sc(u,h){var m=fo(h),_=m.next();if(_.done)return!1;for(var b=_.value,T=fo(u),O=T.next(b.from),F=O.value;!_.done&&!O.done;){if(nt(F.from,b.to)<=0&&0<=nt(F.to,b.from))return!0;nt(b.from,F.from)<0?b=(_=m.next(F.from)).value:F=(O=T.next(b.from)).value}return!1}function fo(u){var h=lo(u)?null:{s:0,n:u};return{next:function(m){for(var _=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,_)for(;h.n.l&&nt(m,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!_||nt(m,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function ns(u){var h,m,_=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),b=1<_?"r":_<-1?"l":"";b&&(h=b=="r"?"l":"r",m=r({},u),_=u[b],u.from=_.from,u.to=_.to,u[b]=_[b],m[b]=_[h],(u[h]=m).d=Rc(m)),u.d=Rc(u)}function Rc(m){var h=m.r,m=m.l;return(h?m?Math.max(h.d,m.d):h.d:m?m.d:0)+1}function ho(u,h){return o(h).forEach(function(m){u[m]?ts(u[m],h[m]):u[m]=(function _(b){var T,O,F={};for(T in b)p(b,T)&&(O=b[T],F[T]=!O||typeof O!="object"||V.has(O.constructor)?O:_(O));return F})(h[m])}),u}function oa(u,h){return u.all||h.all||Object.keys(u).some(function(m){return h[m]&&Sc(h[m],u[m])})}y(Xt.prototype,((yr={add:function(u){return ts(this,u),this},addKey:function(u){return di(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(m){return di(h,m,m)}),this},hasKey:function(u){var h=fo(this).next(u).value;return h&&nt(h.from,u)<=0&&0<=nt(h.to,u)}})[be]=function(){return fo(this)},yr));var rs={},pi={},mn=!1;function po(u){ho(pi,u),mn||(mn=!0,setTimeout(function(){mn=!1,aa(pi,!(pi={}))},0))}function aa(u,h){h===void 0&&(h=!1);var m=new Set;if(u.all)for(var _=0,b=Object.values(rs);_<b.length;_++)Os(O=b[_],u,m,h);else for(var T in u){var O,F=/^idb\:\/\/(.*)\/(.*)\//.exec(T);F&&(T=F[1],F=F[2],(O=rs["idb://".concat(T,"/").concat(F)])&&Os(O,u,m,h))}m.forEach(function(q){return q()})}function Os(u,h,m,_){for(var b=[],T=0,O=Object.entries(u.queries.query);T<O.length;T++){for(var F=O[T],q=F[0],K=[],Q=0,B=F[1];Q<B.length;Q++){var J=B[Q];oa(h,J.obsSet)?J.subscribers.forEach(function(Y){return m.add(Y)}):_&&K.push(J)}_&&b.push([q,K])}if(_)for(var z=0,W=b;z<W.length;z++){var G=W[z],q=G[0],K=G[1];u.queries.query[q]=K}}function c(u){var h=u._state,m=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Nt(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var _=h.openCanceller,b=Math.round(10*u.verno),T=!1;function O(){if(h.openCanceller!==_)throw new se.DatabaseClosed("db.open() was cancelled")}function F(){return new Ae(function(J,z){if(O(),!m)throw new se.MissingAPI;var W=u.name,G=h.autoSchema||!b?m.open(W):m.open(W,b);if(!G)throw new se.MissingAPI;G.onerror=mr(z),G.onblocked=mt(u._fireOnBlocked),G.onupgradeneeded=mt(function(Y){var Z;Q=G.transaction,h.autoSchema&&!u._options.allowEmptyDB?(G.onerror=ro,Q.abort(),G.result.close(),(Z=m.deleteDatabase(W)).onsuccess=Z.onerror=mt(function(){z(new se.NoSuchDatabase("Database ".concat(W," doesnt exist")))})):(Q.onerror=mr(z),Y=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,B=Y<1,u.idbdb=G.result,T&&el(u,Q),Mr(u,Y/10,Q,z))},z),G.onsuccess=mt(function(){Q=null;var Y,Z,te,ie,ce,ge=u.idbdb=G.result,Ee=U(ge.objectStoreNames);if(0<Ee.length)try{var me=ge.transaction((ie=Ee).length===1?ie[0]:ie,"readonly");if(h.autoSchema)Z=ge,te=me,(Y=u).verno=Z.version/10,te=Y._dbSchema=Cs(0,Z,te),Y._storeNames=U(Z.objectStoreNames,0),ao(Y,[Y._allTables],o(te),te);else if(co(u,u._dbSchema,me),((ce=Ic(Cs(0,(ce=u).idbdb,me),ce._dbSchema)).add.length||ce.change.some(function(_e){return _e.add.length||_e.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),b=ge.version+1,T=!0,J(F());oo(u,me)}catch{}Jr.push(u),ge.onversionchange=mt(function(_e){h.vcFired=!0,u.on("versionchange").fire(_e)}),ge.onclose=mt(function(){u.close({disableAutoOpen:!1})}),B&&(ce=u._deps,me=W,ge=ce.indexedDB,ce=ce.IDBKeyRange,sa(ge)||me===Xr||ks(ge,ce).put({name:me}).catch(je)),J()},z)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),F();break;case"VersionError":if(0<b)return b=0,F()}return Ae.reject(J)})}var q,K=h.dbReadyResolve,Q=null,B=!1;return Ae.race([_,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function z(){return indexedDB.databases().finally(J)}q=setInterval(z,100),z()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(F)]).then(function(){return O(),h.onReadyBeingFired=[],Ae.resolve(ia(function(){return u.on.ready.fire(u.vip)})).then(function J(){if(0<h.onReadyBeingFired.length){var z=h.onReadyBeingFired.reduce(ye,je);return h.onReadyBeingFired=[],Ae.resolve(ia(function(){return z(u.vip)})).then(J)}})}).finally(function(){h.openCanceller===_&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(J){h.dbOpenError=J;try{Q&&Q.abort()}catch{}return _===h.openCanceller&&u._close(),Nt(J)}).finally(function(){h.openComplete=!0,K()}).then(function(){var J;return B&&(J={},u.tables.forEach(function(z){z.schema.indexes.forEach(function(W){W.name&&(J["idb://".concat(u.name,"/").concat(z.name,"/").concat(W.name)]=new Xt(-1/0,[[[]]]))}),J["idb://".concat(u.name,"/").concat(z.name,"/")]=J["idb://".concat(u.name,"/").concat(z.name,"/:dels")]=new Xt(-1/0,[[[]]])}),es(so).fire(J),aa(J,!0)),u})}function g(u){function h(T){return u.next(T)}var m=b(h),_=b(function(T){return u.throw(T)});function b(T){return function(q){var F=T(q),q=F.value;return F.done?q:q&&typeof q.then=="function"?q.then(m,_):a(q)?Promise.all(q).then(m,_):m(q)}}return b(h)()}function w(u,h,m){for(var _=a(u)?u.slice():[u],b=0;b<m;++b)_.push(h);return _}var C={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema,b={},T=[];function O(B,J,z){var W=io(B),G=b[W]=b[W]||[],Y=B==null?0:typeof B=="string"?1:B.length,Z=0<J,Z=r(r({},z),{name:Z?"".concat(W,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:Z,keyTail:J,keyLength:Y,extractKey:na(B),unique:!Z&&z.unique});return G.push(Z),Z.isPrimaryKey||T.push(Z),1<Y&&O(Y===2?B[0]:B.slice(0,Y-1),J+1,z),G.sort(function(te,ie){return te.keyTail-ie.keyTail}),Z}h=O(_.primaryKey.keyPath,0,_.primaryKey),b[":id"]=[h];for(var F=0,q=_.indexes;F<q.length;F++){var K=q[F];O(K.keyPath,0,K)}function Q(B){var J,z=B.query.index;return z.isVirtual?r(r({},B),{query:{index:z.lowLevelIndex,range:(J=B.query.range,z=z.keyTail,{type:J.type===1?2:J.type,lower:w(J.lower,J.lowerOpen?u.MAX_KEY:u.MIN_KEY,z),lowerOpen:!0,upper:w(J.upper,J.upperOpen?u.MIN_KEY:u.MAX_KEY,z),upperOpen:!0})}}):B}return r(r({},m),{schema:r(r({},_),{primaryKey:h,indexes:T,getIndexByKeyPath:function(B){return(B=b[io(B)])&&B[0]}}),count:function(B){return m.count(Q(B))},query:function(B){return m.query(Q(B))},openCursor:function(B){var J=B.query.index,z=J.keyTail,W=J.isVirtual,G=J.keyLength;return W?m.openCursor(Q(B)).then(function(Z){return Z&&Y(Z)}):m.openCursor(B);function Y(Z){return Object.create(Z,{continue:{value:function(te){te!=null?Z.continue(w(te,B.reverse?u.MAX_KEY:u.MIN_KEY,z)):B.unique?Z.continue(Z.key.slice(0,G).concat(B.reverse?u.MIN_KEY:u.MAX_KEY,z)):Z.continue()}},continuePrimaryKey:{value:function(te,ie){Z.continuePrimaryKey(w(te,u.MAX_KEY,z),ie)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var te=Z.key;return G===1?te[0]:te.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function X(u,h,m,_){return m=m||{},_=_||"",o(u).forEach(function(b){var T,O,F;p(h,b)?(T=u[b],O=h[b],typeof T=="object"&&typeof O=="object"&&T&&O?(F=$e(T))!==$e(O)?m[_+b]=h[b]:F==="Object"?X(T,O,m,_+b+"."):T!==O&&(m[_+b]=h[b]):T!==O&&(m[_+b]=h[b])):m[_+b]=void 0}),o(h).forEach(function(b){p(u,b)||(m[_+b]=h[b])}),m}function re(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var ve={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema.primaryKey;return r(r({},m),{mutate:function(b){var T=Ce.trans,O=T.table(h).hook,F=O.deleting,q=O.creating,K=O.updating;switch(b.type){case"add":if(q.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"put":if(q.fire===je&&K.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"delete":if(F.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"deleteRange":if(F.fire===je)break;return T._promise("readwrite",function(){return(function B(J,z,W){return m.query({trans:J,values:!1,query:{index:_,range:z},limit:W}).then(function(G){var Y=G.result;return Q({type:"delete",keys:Y,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):Y.length<W?{failures:[],numFailures:0,lastResult:void 0}:B(J,r(r({},z),{lower:Y[Y.length-1],lowerOpen:!0}),W)})})})(b.trans,b.range,1e4)},!0)}return m.mutate(b);function Q(B){var J,z,W,G=Ce.trans,Y=B.keys||re(_,B);if(!Y)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:Y}):r({},B)).type!=="delete"&&(B.values=s([],B.values)),B.keys&&(B.keys=s([],B.keys)),J=m,W=Y,((z=B).type==="add"?Promise.resolve([]):J.getMany({trans:z.trans,keys:W,cache:"immutable"})).then(function(Z){var te=Y.map(function(ie,ce){var ge,Ee,me,_e=Z[ce],Ie={onerror:null,onsuccess:null};return B.type==="delete"?F.fire.call(Ie,ie,_e,G):B.type==="add"||_e===void 0?(ge=q.fire.call(Ie,ie,B.values[ce],G),ie==null&&ge!=null&&(B.keys[ce]=ie=ge,_.outbound||D(B.values[ce],_.keyPath,ie))):(ge=X(_e,B.values[ce]),(Ee=K.fire.call(Ie,ge,ie,_e,G))&&(me=B.values[ce],Object.keys(Ee).forEach(function(we){p(me,we)?me[we]=Ee[we]:D(me,we,Ee[we])}))),Ie});return m.mutate(B).then(function(ie){for(var ce=ie.failures,ge=ie.results,Ee=ie.numFailures,ie=ie.lastResult,me=0;me<Y.length;++me){var _e=(ge||Y)[me],Ie=te[me];_e==null?Ie.onerror&&Ie.onerror(ce[me]):Ie.onsuccess&&Ie.onsuccess(B.type==="put"&&Z[me]?B.values[me]:_e)}return{failures:ce,results:ge,numFailures:Ee,lastResult:ie}}).catch(function(ie){return te.forEach(function(ce){return ce.onerror&&ce.onerror(ie)}),Promise.reject(ie)})})}}})}})}};function yt(u,h,m){try{if(!h||h.keys.length<u.length)return null;for(var _=[],b=0,T=0;b<h.keys.length&&T<u.length;++b)nt(h.keys[b],u[T])===0&&(_.push(m?R(h.values[b]):h.values[b]),++T);return _.length===u.length?_:null}catch{return null}}var sn={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var m=u.table(h);return r(r({},m),{getMany:function(_){if(!_.cache)return m.getMany(_);var b=yt(_.keys,_.trans._cache,_.cache==="clone");return b?Ae.resolve(b):m.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?R(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),m.mutate(_)}})}}}};function lt(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function on(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fn={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,m=new Xt(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(_,b,T){if(Ce.subscr&&b!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return u.transaction(_,b,T)},table:function(_){var b=u.table(_),T=b.schema,O=T.primaryKey,B=T.indexes,F=O.extractKey,q=O.outbound,K=O.autoIncrement&&B.filter(function(z){return z.compound&&z.keyPath.includes(O.keyPath)}),Q=r(r({},b),{mutate:function(z){function W(we){return we="idb://".concat(h,"/").concat(_,"/").concat(we),ie[we]||(ie[we]=new Xt)}var G,Y,Z,te=z.trans,ie=z.mutatedParts||(z.mutatedParts={}),ce=W(""),ge=W(":dels"),Ee=z.type,Ie=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[re(O,z).filter(function(we){return we}),z.values]:[],me=Ie[0],_e=Ie[1],Ie=z.trans._cache;return a(me)?(ce.addKeys(me),(Ie=Ee==="delete"||me.length===_e.length?yt(me,Ie):null)||ge.addKeys(me),(Ie||_e)&&(G=W,Y=Ie,Z=_e,T.indexes.forEach(function(we){var Me=G(we.name||"");function Xe(st){return st!=null?we.extractKey(st):null}function tt(st){return we.multiEntry&&a(st)?st.forEach(function(nr){return Me.addKey(nr)}):Me.addKey(st)}(Y||Z).forEach(function(st,In){var Je=Y&&Xe(Y[In]),In=Z&&Xe(Z[In]);nt(Je,In)!==0&&(Je!=null&&tt(Je),In!=null&&tt(In))})}))):me?(_e={from:(_e=me.lower)!==null&&_e!==void 0?_e:u.MIN_KEY,to:(_e=me.upper)!==null&&_e!==void 0?_e:u.MAX_KEY},ge.add(_e),ce.add(_e)):(ce.add(m),ge.add(m),T.indexes.forEach(function(we){return W(we.name).add(m)})),b.mutate(z).then(function(we){return!me||z.type!=="add"&&z.type!=="put"||(ce.addKeys(we.results),K&&K.forEach(function(Me){for(var Xe=z.values.map(function(Je){return Me.extractKey(Je)}),tt=Me.keyPath.findIndex(function(Je){return Je===O.keyPath}),st=0,nr=we.results.length;st<nr;++st)Xe[st][tt]=we.results[st];W(Me.name).addKeys(Xe)})),te.mutatedParts=ho(te.mutatedParts||{},ie),we})}}),B=function(W){var G=W.query,W=G.index,G=G.range;return[W,new Xt((W=G.lower)!==null&&W!==void 0?W:u.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:u.MAX_KEY)]},J={get:function(z){return[O,new Xt(z.key)]},getMany:function(z){return[O,new Xt().addKeys(z.keys)]},count:B,query:B,openCursor:B};return o(J).forEach(function(z){Q[z]=function(W){var G=Ce.subscr,Y=!!G,Z=lt(Ce,b)&&on(z,W)?W.obsSet={}:G;if(Y){var te=function(_e){return _e="idb://".concat(h,"/").concat(_,"/").concat(_e),Z[_e]||(Z[_e]=new Xt)},ie=te(""),ce=te(":dels"),G=J[z](W),Y=G[0],G=G[1];if((z==="query"&&Y.isPrimaryKey&&!W.values?ce:te(Y.name||"")).add(G),!Y.isPrimaryKey){if(z!=="count"){var ge=z==="query"&&q&&W.values&&b.query(r(r({},W),{values:!1}));return b[z].apply(this,arguments).then(function(_e){if(z==="query"){if(q&&W.values)return ge.then(function(Xe){return Xe=Xe.result,ie.addKeys(Xe),_e});var Ie=W.values?_e.result.map(F):_e.result;(W.values?ie:ce).addKeys(Ie)}else if(z==="openCursor"){var we=_e,Me=W.values;return we&&Object.create(we,{key:{get:function(){return ce.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Xe=we.primaryKey;return ce.addKey(Xe),Xe}},value:{get:function(){return Me&&ie.addKey(we.primaryKey),we.value}}})}return _e})}ce.add(m)}}return b[z].apply(this,arguments)}}),Q}})}};function Ds(u,h,m){if(m.numFailures===0)return h;if(h.type==="deleteRange")return null;var _=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return m.numFailures===_?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(b,T){return!(T in m.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(b,T){return!(T in m.failures)})),h)}function Un(u,h){return m=u,((_=h).lower===void 0||(_.lowerOpen?0<nt(m,_.lower):0<=nt(m,_.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?nt(u,h.upper)<0:nt(u,h.upper)<=0));var m,_}function mo(u,h,J,_,b,T){if(!J||J.length===0)return u;var O=h.query.index,F=O.multiEntry,q=h.query.range,K=_.schema.primaryKey.extractKey,Q=O.extractKey,B=(O.lowLevelIndex||O).extractKey,J=J.reduce(function(z,W){var G=z,Y=[];if(W.type==="add"||W.type==="put")for(var Z=new Xt,te=W.values.length-1;0<=te;--te){var ie,ce=W.values[te],ge=K(ce);Z.hasKey(ge)||(ie=Q(ce),(F&&a(ie)?ie.some(function(we){return Un(we,q)}):Un(ie,q))&&(Z.addKey(ge),Y.push(ce)))}switch(W.type){case"add":var Ee=new Xt().addKeys(h.values?z.map(function(Me){return K(Me)}):z),G=z.concat(h.values?Y.filter(function(Me){return Me=K(Me),!Ee.hasKey(Me)&&(Ee.addKey(Me),!0)}):Y.map(function(Me){return K(Me)}).filter(function(Me){return!Ee.hasKey(Me)&&(Ee.addKey(Me),!0)}));break;case"put":var me=new Xt().addKeys(W.values.map(function(Me){return K(Me)}));G=z.filter(function(Me){return!me.hasKey(h.values?K(Me):Me)}).concat(h.values?Y:Y.map(function(Me){return K(Me)}));break;case"delete":var _e=new Xt().addKeys(W.keys);G=z.filter(function(Me){return!_e.hasKey(h.values?K(Me):Me)});break;case"deleteRange":var Ie=W.range;G=z.filter(function(Me){return!Un(K(Me),Ie)})}return G},u);return J===u?u:(J.sort(function(z,W){return nt(B(z),B(W))||nt(K(z),K(W))}),h.limit&&h.limit<1/0&&(J.length>h.limit?J.length=h.limit:u.length===h.limit&&J.length<h.limit&&(b.dirty=!0)),T?Object.freeze(J):J)}function ca(u,h){return nt(u.lower,h.lower)===0&&nt(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function AA(u,h){return(function(m,_,b,T){if(m===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return 1;if(T)return-1}return _})(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=(function(m,_,b,T){if(m===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return-1;if(T)return 1}return _})(u.upper,h.upper,u.upperOpen,h.upperOpen)}function SA(u,h,m,_){u.subscribers.add(m),_.addEventListener("abort",function(){var b,T;u.subscribers.delete(m),u.subscribers.size===0&&(b=u,T=h,setTimeout(function(){b.subscribers.size===0&&Re(T,b)},3e3))})}var RA={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return r(r({},u),{transaction:function(m,_,b){var T,O,F=u.transaction(m,_,b);return _==="readwrite"&&(O=(T=new AbortController).signal,b=function(q){return function(){if(T.abort(),_==="readwrite"){for(var K=new Set,Q=0,B=m;Q<B.length;Q++){var J=B[Q],z=rs["idb://".concat(h,"/").concat(J)];if(z){var W=u.table(J),G=z.optimisticOps.filter(function(Me){return Me.trans===F});if(F._explicit&&q&&F.mutatedParts)for(var Y=0,Z=Object.values(z.queries.query);Y<Z.length;Y++)for(var te=0,ie=(Ee=Z[Y]).slice();te<ie.length;te++)oa((me=ie[te]).obsSet,F.mutatedParts)&&(Re(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)}));else if(0<G.length){z.optimisticOps=z.optimisticOps.filter(function(Me){return Me.trans!==F});for(var ce=0,ge=Object.values(z.queries.query);ce<ge.length;ce++)for(var Ee,me,_e,Ie=0,we=(Ee=ge[ce]).slice();Ie<we.length;Ie++)(me=we[Ie]).res!=null&&F.mutatedParts&&(q&&!me.dirty?(_e=Object.isFrozen(me.res),_e=mo(me.res,me.req,G,W,me,_e),me.dirty?(Re(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)})):_e!==me.res&&(me.res=_e,me.promise=Ae.resolve({result:_e}))):(me.dirty&&Re(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)})))}}}K.forEach(function(Me){return Me()})}}},F.addEventListener("abort",b(!1),{signal:O}),F.addEventListener("error",b(!1),{signal:O}),F.addEventListener("complete",b(!0),{signal:O})),F},table:function(m){var _=u.table(m),b=_.schema.primaryKey;return r(r({},_),{mutate:function(T){var O=Ce.trans;if(b.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return _.mutate(T);var F=rs["idb://".concat(h,"/").concat(m)];return F?(O=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||re(b,T).some(function(q){return q==null}))?(F.optimisticOps.push(T),T.mutatedParts&&po(T.mutatedParts),O.then(function(q){0<q.numFailures&&(Re(F.optimisticOps,T),(q=Ds(0,T,q))&&F.optimisticOps.push(q),T.mutatedParts&&po(T.mutatedParts))}),O.catch(function(){Re(F.optimisticOps,T),T.mutatedParts&&po(T.mutatedParts)})):O.then(function(q){var K=Ds(0,r(r({},T),{values:T.values.map(function(Q,B){var J;return q.failures[B]?Q:(Q=(J=b.keyPath)!==null&&J!==void 0&&J.includes(".")?R(Q):r({},Q),D(Q,b.keyPath,q.results[B]),Q)})}),q);F.optimisticOps.push(K),queueMicrotask(function(){return T.mutatedParts&&po(T.mutatedParts)})}),O):_.mutate(T)},query:function(T){if(!lt(Ce,_)||!on("query",T))return _.query(T);var O=((K=Ce.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",B=Ce,F=B.requery,q=B.signal,K=(function(W,G,Y,Z){var te=rs["idb://".concat(W,"/").concat(G)];if(!te)return[];if(!(G=te.queries[Y]))return[null,!1,te,null];var ie=G[(Z.query?Z.query.index.name:null)||""];if(!ie)return[null,!1,te,null];switch(Y){case"query":var ce=ie.find(function(ge){return ge.req.limit===Z.limit&&ge.req.values===Z.values&&ca(ge.req.query.range,Z.query.range)});return ce?[ce,!0,te,ie]:[ie.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Z.limit&&(!Z.values||ge.req.values)&&AA(ge.req.query.range,Z.query.range)}),!1,te,ie];case"count":return ce=ie.find(function(ge){return ca(ge.req.query.range,Z.query.range)}),[ce,!!ce,te,ie]}})(h,m,"query",T),Q=K[0],B=K[1],J=K[2],z=K[3];return Q&&B?Q.obsSet=T.obsSet:(B=_.query(T).then(function(W){var G=W.result;if(Q&&(Q.res=G),O){for(var Y=0,Z=G.length;Y<Z;++Y)Object.freeze(G[Y]);Object.freeze(G)}else W.result=R(G);return W}).catch(function(W){return z&&Q&&Re(z,Q),Promise.reject(W)}),Q={obsSet:T.obsSet,promise:B,subscribers:new Set,type:"query",req:T,dirty:!1},z?z.push(Q):(z=[Q],(J=J||(rs["idb://".concat(h,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=z)),SA(Q,z,F,q),Q.promise.then(function(W){return{result:mo(W.result,T,J?.optimisticOps,_,Q,O)}})}})}})}};function tl(u,h){return new Proxy(u,{get:function(m,_,b){return _==="db"?h:Reflect.get(m,_,b)}})}var xs=(Qt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new se.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,m=h.filter(function(_){return _._cfg.version===u})[0];return m||(m=new this.Version(u),h.push(m),h.sort(Zu),m.stores({}),this._state.autoSchema=!1,m)},Qt.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?u():new Ae(function(m,_){if(h._state.openComplete)return _(new se.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void _(new se.DatabaseClosed);h.open().catch(je)}h._state.dbReadyPromise.then(m,_)}).then(u)},Qt.prototype.use=function(u){var h=u.stack,m=u.create,_=u.level,b=u.name;return b&&this.unuse({stack:h,name:b}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:m,level:_??10,name:b}),u.sort(function(T,O){return T.level-O.level}),this},Qt.prototype.unuse=function(u){var h=u.stack,m=u.name,_=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(b){return _?b.create!==_:!!m&&b.name!==m})),this},Qt.prototype.open=function(){var u=this;return kr(Mn,function(){return c(u)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,h=Jr.indexOf(this);if(0<=h&&Jr.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ae(function(m){u.dbReadyResolve=m}),u.openCanceller=new Ae(function(m,_){u.cancelOpen=_}))},Qt.prototype.close=function(m){var h=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;h?(m.isBeingOpened&&m.cancelOpen(new se.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new se.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Qt.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ae(function(b,T){function O(){h.close(u);var F=h._deps.indexedDB.deleteDatabase(h.name);F.onsuccess=mt(function(){var q,K,Q;q=h._deps,K=h.name,Q=q.indexedDB,q=q.IDBKeyRange,sa(Q)||K===Xr||ks(Q,q).delete(K).catch(je),b()}),F.onerror=mr(T),F.onblocked=h._fireOnBlocked}if(m)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(O):O()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var u=this;return o(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var u=(function(h,m,_){var b=arguments.length;if(b<2)throw new se.InvalidArgument("Too few arguments");for(var T=new Array(b-1);--b;)T[b-1]=arguments[b];return _=T.pop(),[h,k(T),_]}).apply(this,arguments);return this._transaction.apply(this,u)},Qt.prototype._transaction=function(u,h,m){var _=this,b=Ce.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var T,O,F=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(O=h.map(function(K){if(K=K instanceof _.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),u=="r"||u===Or)T=Or;else{if(u!="rw"&&u!=Xi)throw new se.InvalidArgument("Invalid transaction mode: "+u);T=Xi}if(b){if(b.mode===Or&&T===Xi){if(!F)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&O.forEach(function(K){if(b&&b.storeNames.indexOf(K)===-1){if(!F)throw new se.SubTransaction("Table "+K+" not included in parent transaction.");b=null}}),F&&b&&!b.active&&(b=null)}}catch(K){return b?b._promise(null,function(Q,B){B(K)}):Nt(K)}var q=(function K(Q,B,J,z,W){return Ae.resolve().then(function(){var G=Ce.transless||Ce,Y=Q._createTransaction(B,J,Q._dbSchema,z);if(Y.explicit=!0,G={trans:Y,transless:G},z)Y.idbtrans=z.idbtrans;else try{Y.create(),Y.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ie){return ie.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,null,W)})):Nt(ie)}var Z,te=Tn(W);return te&&Es(),G=Ae.follow(function(){var ie;(Z=W.call(Y,Y))&&(te?(ie=dr.bind(null,null),Z.then(ie,ie)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=g(Z)))},G),(Z&&typeof Z.then=="function"?Ae.resolve(Z).then(function(ie){return Y.active?ie:Nt(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(ie){return z&&Y._resolve(),Y._completion.then(function(){return ie})}).catch(function(ie){return Y._reject(ie),Nt(ie)})})}).bind(null,this,T,O,b,m);return b?b._promise(T,q,"lock"):Ce.trans?kr(Ce.transless,function(){return _._whenReady(q)}):this._whenReady(q)},Qt.prototype.table=function(u){if(!p(this._allTables,u))throw new se.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Qt);function Qt(u,h){var m=this;this._middlewares={},this.verno=0;var _=Qt.dependencies;this._options=h=r({addons:Qt.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},_=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,T,O,F,q,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:je,dbReadyPromise:null,cancelOpen:je,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};K.dbReadyPromise=new Ae(function(B){K.dbReadyResolve=B}),K.openCanceller=new Ae(function(B,J){K.cancelOpen=J}),this._state=K,this.name=u,this.on=er(this,"populate","blocked","versionchange","close",{ready:[ye,je]}),this.once=function(B,J){var z=function(){for(var W=[],G=0;G<arguments.length;G++)W[G]=arguments[G];m.on(B).unsubscribe(z),J.apply(m,W)};return m.on(B,z)},this.on.ready.subscribe=P(this.on.ready.subscribe,function(B){return function(J,z){Qt.vip(function(){var W,G=m._state;G.openComplete?(G.dbOpenError||Ae.resolve().then(J),z&&B(J)):G.onReadyBeingFired?(G.onReadyBeingFired.push(J),z&&B(J)):(B(J),W=m,z||B(function Y(){W.on.ready.unsubscribe(J),W.on.ready.unsubscribe(Y)}))})}}),this.Collection=(b=this,Ln(Dh.prototype,function(Z,Y){this.db=b;var z=gc,W=null;if(Y)try{z=Y()}catch(te){W=te}var G=Z._ctx,Y=G.table,Z=Y.hook.reading.fire;this._ctx={table:Y,index:G.index,isPrimKey:!G.index||Y.schema.primKey.keyPath&&G.index===Y.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:W,or:G.or,valueMapper:Z!==N?Z:null}})),this.Table=(T=this,Ln(wc.prototype,function(B,J,z){this.db=T,this._tx=z,this.name=B,this.schema=J,this.hook=T._allTables[B]?T._allTables[B].hook:er(null,{creating:[fe,je],reading:[j,N],updating:[he,je],deleting:[ae,je]})})),this.Transaction=(O=this,Ln(Mh.prototype,function(B,J,z,W,G){var Y=this;B!=="readonly"&&J.forEach(function(Z){Z=(Z=z[Z])===null||Z===void 0?void 0:Z.yProps,Z&&(J=J.concat(Z.map(function(te){return te.updatesTable})))}),this.db=O,this.mode=B,this.storeNames=J,this.schema=z,this.chromeTransactionDurability=W,this.idbtrans=null,this.on=er(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(Z,te){Y._resolve=Z,Y._reject=te}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(Z){var te=Y.active;return Y.active=!1,Y.on.error.fire(Z),Y.parent?Y.parent._reject(Z):te&&Y.idbtrans&&Y.idbtrans.abort(),Nt(Z)})})),this.Version=(F=this,Ln(Vh.prototype,function(B){this.db=F,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,Ln(Ec.prototype,function(B,J,z){if(this.db=q,this._ctx={table:B,index:J===":id"?null:J,or:z},this._cmp=this._ascending=nt,this._descending=function(W,G){return nt(G,W)},this._max=function(W,G){return 0<nt(W,G)?W:G},this._min=function(W,G){return nt(W,G)<0?W:G},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Nr(h.IDBKeyRange),this._createTransaction=function(B,J,z,W){return new m.Transaction(B,J,z,m._options.chromeTransactionDurability,W)},this._fireOnBlocked=function(B){m.on("blocked").fire(B),Jr.filter(function(J){return J.name===m.name&&J!==m&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(B)})},this.use(sn),this.use(RA),this.use(fn),this.use(C),this.use(ve);var Q=new Proxy(this,{get:function(B,J,z){if(J==="_vip")return!0;if(J==="table")return function(G){return tl(m.table(G),Q)};var W=Reflect.get(B,J,z);return W instanceof wc?tl(W,Q):J==="tables"?W.map(function(G){return tl(G,Q)}):J==="_createTransaction"?function(){return tl(W.apply(this,arguments),Q)}:W}});this.vip=Q,_.forEach(function(B){return B(m)})}var nl,yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",CA=(Fh.prototype.subscribe=function(u,h,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:m})},Fh.prototype[yr]=function(){return this},Fh);function Fh(u){this._subscribe=u}try{nl={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{nl={indexedDB:null,IDBKeyRange:null}}function zg(u){var h,m=!1,_=new CA(function(b){var T=Tn(u),O,F=!1,q={},K={},Q={get closed(){return F},unsubscribe:function(){F||(F=!0,O&&O.abort(),B&&es.storagemutated.unsubscribe(z))}};b.start&&b.start(Q);var B=!1,J=function(){return Zo(W)},z=function(G){ho(q,G),oa(K,q)&&J()},W=function(){var G,Y,Z;!F&&nl.indexedDB&&(q={},G={},O&&O.abort(),O=new AbortController,Z=(function(te){var ie=hr();try{T&&Es();var ce=Zn(u,te);return ce=T?ce.finally(dr):ce}finally{ie&&bs()}})(Y={subscr:G,signal:O.signal,requery:J,querier:u,trans:null}),Promise.resolve(Z).then(function(te){m=!0,h=te,F||Y.signal.aborted||(q={},(function(ie){for(var ce in ie)if(p(ie,ce))return;return 1})(K=G)||B||(es(so,z),B=!0),Zo(function(){return!F&&b.next&&b.next(te)}))},function(te){m=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||F||Zo(function(){F||b.error&&b.error(te)})}))};return setTimeout(J,0),Q});return _.hasValue=function(){return m},_.getValue=function(){return h},_}var go=xs;function Uh(u){var h=mi;try{mi=!0,es.storagemutated.fire(u),aa(u,!0)}finally{mi=h}}y(go,r(r({},et),{delete:function(u){return new go(u,{addons:[]}).delete()},exists:function(u){return new go(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=go.dependencies,m=h.indexedDB,h=h.IDBKeyRange,(sa(m)?Promise.resolve(m.databases()).then(function(_){return _.map(function(b){return b.name}).filter(function(b){return b!==Xr})}):ks(m,h).toCollection().primaryKeys()).then(u)}catch{return Nt(new se.MissingAPI)}var h,m},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return Ce.trans?kr(Ce.transless,u):u()},vip:ia,async:function(u){return function(){try{var h=g(u.apply(this,arguments));return h&&typeof h.then=="function"?h:Ae.resolve(h)}catch(m){return Nt(m)}}},spawn:function(u,h,m){try{var _=g(u.apply(m,h||[]));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(b){return Nt(b)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(u,h){return h=Ae.resolve(typeof u=="function"?go.ignoreTransaction(u):u).timeout(h||6e4),Ce.trans?Ce.trans.waitFor(h):h},Promise:Ae,debug:{get:function(){return pe},set:function(u){de(u)}},derive:A,extend:l,props:y,override:P,Events:er,on:es,liveQuery:zg,extendObservabilitySet:ho,getByKeyPath:ne,setByKeyPath:D,delByKeyPath:function(u,h){typeof h=="string"?D(u,h,void 0):"length"in h&&[].map.call(h,function(m){D(u,m,void 0)})},shallowClone:S,deepClone:R,getObjectDiff:X,cmp:nt,asap:$,minKey:-1/0,addons:[],connections:Jr,errnames:oe,dependencies:nl,cache:rs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,m){return u+h/Math.pow(10,2*m)})})),go.maxKey=Nr(go.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(es(so,function(u){mi||(u=new CustomEvent(gr,{detail:u}),mi=!0,dispatchEvent(u),mi=!1)}),addEventListener(gr,function(u){u=u.detail,mi||Uh(u)}));var ua,mi=!1,Wg=function(){};return typeof BroadcastChannel<"u"&&((Wg=function(){(ua=new BroadcastChannel(gr)).onmessage=function(u){return u.data&&Uh(u.data)}})(),typeof ua.unref=="function"&&ua.unref(),es(so,function(u){mi||ua.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!xs.disableBfCache&&u.persisted){pe&&console.debug("Dexie: handling persisted pagehide"),ua?.close();for(var h=0,m=Jr;h<m.length;h++)m[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!xs.disableBfCache&&u.persisted&&(pe&&console.debug("Dexie: handling persisted pageshow"),Wg(),Uh({all:new Xt(-1/0,[[]])}))})),Ae.rejectionMapper=function(u,h){return!u||u instanceof pt||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Le[u.name]?u:(h=new Le[u.name](h||u.message,u),"stack"in u&&E(h,"stack",{get:function(){return this.inner.stack}}),h)},de(pe),r(xs,Object.freeze({__proto__:null,Dexie:xs,liveQuery:zg,Entity:yc,cmp:nt,PropModification:to,replacePrefix:function(u,h){return new to({replacePrefix:[u,h]})},add:function(u){return new to({add:u})},remove:function(u){return new to({remove:u})},default:xs,RangeSet:Xt,mergeRanges:ts,rangesOverlap:Sc}),{default:xs}),xs})})(Pl)),Pl.exports}var ZO=XO();const Cp=hT(ZO),S_=Symbol.for("Dexie"),mu=globalThis[S_]||(globalThis[S_]=Cp);if(Cp.semVer!==mu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cp.semVer} and ${mu.semVer}`);const{liveQuery:vj,mergeRanges:wj,rangesOverlap:bj,RangeSet:Ej,cmp:Tj,Entity:Ij,PropModification:Aj,replacePrefix:Sj,add:Rj,remove:Cj,DexieYProvider:Pj}=mu,wi=new mu("Agenda2DB");wi.version(9).stores({eventos:"id, group, date, normalizedList, normalizedTitle, normalizedLocale, normalizedDesc",tags:"&id, group, title",notificacoesEnviadas:"id",desc:"&id, text",titles:"&id, text",locales:"&id, text"});const eD=async()=>{const t=new mu("Agenda");try{return await t.delete(),!0}catch{return!1}};eD();const fd="full-data-sync",tD="SYNC_DATA_READY";function nD(){console.warn(">>> [RESTART] Tags no encontradas anteriormente. Reiniciando o aplicativo..."),window.location.reload()}async function rD(){"serviceWorker"in navigator&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage({type:fd}),navigator.serviceWorker.ready.then(t=>{t.sync.register(fd).then(()=>{console.warn("[[DEXIE]] Sync de background registrada:",fd)}).catch(e=>{console.warn("[[DEXIE]] Falha ao registrar sync de background:",e)})})):console.warn("[[DEXIE]] Service Worker no est pronto ou no  suportado.")}function sD(t){navigator.serviceWorker.addEventListener("message",async e=>{if(e.data&&e.data.type===tD){const r=await t.tags.count()===0,{events:s,tags:i,lookup:o}=e.data.payload;try{const a={eventos:s,tags:i,desc:o?.desc,locales:o?.locales,titles:o?.titles||[]},l=Object.keys(a).map(f=>t[f]);if(await t.transaction("rw",l,async()=>{for(const f in a)try{const d=a[f];if(Array.isArray(d)&&d.length>0){const p=t[f];await p.clear(),await p.bulkPut(d)}}catch(d){console.error(`[[DEXIE]] Erro ao processar a store ${f}: `,d)}}),console.warn(">>> [[DEXIE]] IndexedDB totalmente atualizado com sucesso via Service Worker.",e.data),r){console.warn("[[DEXIE]] Dever realizar o reload...."),nD();return}}catch(a){console.error("[[DEXIE]] Erro ao salvar dados do SW no IndexedDB:",a)}}})}const iD=pn(async t=>{let e,n;try{[e,n]=Tr(()=>wi.open()),await e,n(),sD(wi,t),[e,n]=Tr(()=>rD()),await e,n()}catch(p){console.warn("[[DEXIE]] ERRO CRTICO ao abrir o IndexedDB:",p)}const r=(p="")=>p.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim();function s(p,y,v,E,A){isNaN(p.getTime())||p.setUTCHours(y+3,v,E,A)}const i=async(p=null)=>{const y={id:"",search:"",title:"",locale:"",date:"",start:"",end:"",calendars:[],...p},v=[],E=new Set,A=new Set,L=new Set,H=new Set,U=[y.locale,y.title,y.search,y.start].some(R=>!!R),P=new Set(y.calendars.map(r).map(R=>R.toLowerCase())),x=new Date(y.start),$=new Date(y.end);s(x,0,0,0,0),s($,23,59,59,999);const ne=new RegExp(r(y.title),"i"),D=new RegExp(`^${r(y.locale)}`,"i"),S=r(y.search).replace(/\bou\b/gi,",").split(/,|\s+/).map(R=>R.trim()).filter(Boolean),I=[],k=[];S.forEach(R=>{if(R.startsWith("!")){const Pe=R.substring(1).trim();Pe&&k.push(Pe)}else I.push(R)});const V=I.map(R=>new RegExp(`\\b${R}`,"i")),M=k.map(R=>new RegExp(`\\b${R}`,"i"));console.log(">>>> Filtros de busca de eventos:",V,M);try{let R=wi.eventos.toCollection();return y.start&&y.end&&!isNaN(x.getTime())&&!isNaN($.getTime())&&(R=wi.eventos.where("date").between(x,$,!0,!0)),await R.each(Pe=>{let $e=!0;const be=`${Pe.normalizedTitle||""} ${Pe.normalizedLocale||""} ${Pe.normalizedDesc||""}`;(y.calendars&&!y.calendars.length&&!U||y.calendars.length&&!P.has(Pe.normalizedList?.toLowerCase())||y.title&&!ne.test(Pe.normalizedTitle)||y.locale&&!D.test(Pe.normalizedLocale)||y.search&&!V.every(xe=>xe.test(be))||y.search&&M.some(xe=>xe.test(be)))&&($e=!1),y.id&&Pe.id===y.id&&($e=!0),$e&&(v.push(Pe),E.add(Pe.list),A.add(Pe.title),L.add(Pe.locale),H.add(Pe.desc))}),{events:v,calendars:Array.from(E),titles:Array.from(A),locales:Array.from(L),desc:Array.from(H)}}catch(R){console.warn(">>>> Erro na busca de eventos com Dexie:",R)}},o=async p=>{try{return(await wi.table(p).toArray()).sort((v,E)=>v.id-E.id).map(v=>v.text)}catch(y){throw new Error(`Erro ao obter ${p}: ${y.message}`)}};return{provide:{indexedDB:{db:wi,getEvents:i,getTitles:async()=>o("titles"),getLocales:async()=>o("locales"),getDesc:async()=>o("desc"),getTags:async()=>{try{return await wi.tags.toArray()}catch(p){console.error("Erro ao obter tags:",p)}}}}}}),oD=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,f=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let y=(a&15)<<2|f>>6,v=f&63;l||(v=64,o||(y=64)),r.push(n[d],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||f==null||p==null)throw new cD;const y=i<<2|a>>4;if(r.push(y),f!==64){const v=a<<4&240|f>>2;if(r.push(v),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uD=function(t){const e=dT(t);return pT.encodeByteArray(e,!0)},gf=function(t){return uD(t).replace(/\./g,"")},mT=function(t){try{return pT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=()=>lD().__FIREBASE_DEFAULTS__,hD=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},th=()=>{try{return oD()||fD()||hD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>th()?.emulatorHosts?.[t],pD=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yT=()=>th()?.config,_T=t=>th()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gf(JSON.stringify(n)),gf(JSON.stringify(o)),""].join(".")}const Qc={};function yD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qc))Qc[e]?t.emulator.push(e):t.prod.push(e);return t}function _D(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C_=!1;function wT(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||Qc[t]===e||Qc[t]||C_)return;Qc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=yD().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{C_=!0,o()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=_D(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),A=n("learnmore"),L=document.getElementById(A)||document.createElement("a"),H=n("preprendIcon"),U=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;a(P),d(L,A);const x=f();l(U,H),P.append(U,E,L,x),document.body.appendChild(P)}i?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function wD(){const t=th()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ID(){return!wD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Km(){try{return typeof indexedDB=="object"}catch{return!1}}function zm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function ET(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AD,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ki.prototype.create)}}class Ki{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?SD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function SD(t,e){return t.replace(RD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const RD=/\{\$([^}]+)}/g;function CD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(P_(i)&&P_(o)){if(!Vi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function P_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PD(t,e){const n=new kD(t,e);return n.subscribe.bind(n)}class kD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hd),s.error===void 0&&(s.error=hd),s.complete===void 0&&(s.complete=hd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1e3,xD=2,ND=14400*1e3,MD=.5;function k_(t,e=DD,n=xD){const r=e*Math.pow(n,t),s=Math.round(MD*r*(Math.random()-.5)*2);return Math.min(ND,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FD(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VD(t){return t===Ao?void 0:t}function FD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const $D={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},jD=it.INFO,BD={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},qD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=BD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nh{constructor(e){this.name=e,this._logLevel=jD,this._logHandler=qD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$D[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const HD=(t,e)=>e.some(n=>t instanceof n);let O_,D_;function KD(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Pp=new WeakMap,IT=new WeakMap,dd=new WeakMap,Wm=new WeakMap;function WD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function GD(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pp.set(t,e)}let kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QD(t){kp=t(kp)}function YD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pd(this),e,...n);return IT.set(r,e.sort?e.sort():[e]),Gs(r)}:zD().includes(t)?function(...e){return t.apply(pd(this),e),Gs(TT.get(this))}:function(...e){return Gs(t.apply(pd(this),e))}}function JD(t){return typeof t=="function"?YD(t):(t instanceof IDBTransaction&&GD(t),HD(t,KD())?new Proxy(t,kp):t)}function Gs(t){if(t instanceof IDBRequest)return WD(t);if(dd.has(t))return dd.get(t);const e=JD(t);return e!==t&&(dd.set(t,e),Wm.set(e,t)),e}const pd=t=>Wm.get(t);function rh(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}function md(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Gs(n).then(()=>{})}const XD=["get","getKey","getAll","getAllKeys","count"],ZD=["put","add","delete","clear"],gd=new Map;function x_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ZD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),s&&l.done]))[0]};return gd.set(e,i),i}QD(t=>({...t,get:(e,n,r)=>x_(e,n)||t.get(e,n,r),has:(e,n)=>!!x_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tx(t){return t.getComponent()?.type==="VERSION"}const Op="@firebase/app",N_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new nh("@firebase/app"),nx="@firebase/app-compat",rx="@firebase/analytics-compat",sx="@firebase/analytics",ix="@firebase/app-check-compat",ox="@firebase/app-check",ax="@firebase/auth",cx="@firebase/auth-compat",ux="@firebase/database",lx="@firebase/data-connect",fx="@firebase/database-compat",hx="@firebase/functions",dx="@firebase/functions-compat",px="@firebase/installations",mx="@firebase/installations-compat",gx="@firebase/messaging",yx="@firebase/messaging-compat",_x="@firebase/performance",vx="@firebase/performance-compat",wx="@firebase/remote-config",bx="@firebase/remote-config-compat",Ex="@firebase/storage",Tx="@firebase/storage-compat",Ix="@firebase/firestore",Ax="@firebase/ai",Sx="@firebase/firestore-compat",Rx="firebase",Cx="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",Px={[Op]:"fire-core",[nx]:"fire-core-compat",[sx]:"fire-analytics",[rx]:"fire-analytics-compat",[ox]:"fire-app-check",[ix]:"fire-app-check-compat",[ax]:"fire-auth",[cx]:"fire-auth-compat",[ux]:"fire-rtdb",[lx]:"fire-data-connect",[fx]:"fire-rtdb-compat",[hx]:"fire-fn",[dx]:"fire-fn-compat",[px]:"fire-iid",[mx]:"fire-iid-compat",[gx]:"fire-fcm",[yx]:"fire-fcm-compat",[_x]:"fire-perf",[vx]:"fire-perf-compat",[wx]:"fire-rc",[bx]:"fire-rc-compat",[Ex]:"fire-gcs",[Tx]:"fire-gcs-compat",[Ix]:"fire-fst",[Sx]:"fire-fst-compat",[Ax]:"fire-vertex","fire-js":"fire-js",[Rx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,kx=new Map,xp=new Map;function M_(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(xp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(const n of gu.values())M_(n,t);for(const n of kx.values())M_(n,t);return!0}function zi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Ki("app","Firebase",Ox);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=Cx;function Np(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Di.create("bad-app-name",{appName:String(s)});if(n||(n=yT()),!n)throw Di.create("no-options");const i=gu.get(s);if(i){if(Vi(n,i.options)&&Vi(r,i.config))return i;throw Di.create("duplicate-app",{appName:s})}const o=new UD(s);for(const l of xp.values())o.addComponent(l);const a=new Dx(n,r,o);return gu.set(s,a),a}function Lu(t=Dp){const e=gu.get(t);if(!e&&t===Dp&&yT())return Np();if(!e)throw Di.create("no-app",{appName:t});return e}function xx(){return Array.from(gu.values())}function Jn(t,e,n){let r=Px[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(o.join(" "));return}Sr(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firebase-heartbeat-database",Mx=1,yu="firebase-heartbeat-store";let yd=null;function AT(){return yd||(yd=rh(Nx,Mx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),yd}async function Lx(t){try{const n=(await AT()).transaction(yu),r=await n.objectStore(yu).get(ST(t));return await n.done,r}catch(e){if(e instanceof Wr)ei.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e?.message});ei.warn(n.message)}}}async function L_(t,e){try{const r=(await AT()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,ST(t)),await r.done}catch(n){if(n instanceof Wr)ei.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n?.message});ei.warn(r.message)}}}function ST(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1024,Fx=30;class Ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Fx){const s=Bx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V_(),{heartbeatsToSend:n,unsentEntries:r}=$x(this._heartbeatsCache.heartbeats),s=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ei.warn(e),""}}}function V_(){return new Date().toISOString().substring(0,10)}function $x(t,e=Vx){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),F_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),F_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Km()?zm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function F_(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}function Bx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){Sr(new ur("platform-logger",e=>new ex(e),"PRIVATE")),Sr(new ur("heartbeat",e=>new Ux(e),"PRIVATE")),Jn(Op,N_,t),Jn(Op,N_,"esm2020"),Jn("fire-js","")}qx("");var Hx="firebase",Kx="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(Hx,Kx,"app");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zx=RT,CT=new Ki("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new nh("@firebase/auth");function Wx(t,...e){yf.logLevel<=it.WARN&&yf.warn(`Auth (${ic}): ${t}`,...e)}function kl(t,...e){yf.logLevel<=it.ERROR&&yf.error(`Auth (${ic}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,...e){throw Qm(t,...e)}function qr(t,...e){return Qm(t,...e)}function Gm(t,e,n){const r={...zx(),[e]:n};return new Ki("auth","Firebase",r).create(e,{appName:t.name})}function Mo(t){return Gm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),Gm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CT.create(t,...e)}function We(t,e,...n){if(!t)throw Qm(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function ti(t,e){t||Hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){return typeof self<"u"&&self.location?.href||""}function Qx(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qx()||bT()||"connection"in navigator)?navigator.onLine:!0}function Jx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=vD()||ED()}get(){return Yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eN=new Vu(3e4,6e4);function Jm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oc(t,e,n,r,s={}){return kT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Mu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:l,...i};return bD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(f.credentials="include"),PT.fetch()(await OT(t,t.config.apiHost,n,a),f)})}async function kT(t,e,n){t._canInitEmulator=!1;const r={...Xx,...e};try{const s=new nN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _l(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _l(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Gm(t,d,f);gs(t,d)}}catch(s){if(s instanceof Wr)throw s;gs(t,"network-request-failed",{message:String(s)})}}async function tN(t,e,n,r,s={}){const i=await oc(t,e,n,r,s);return"mfaPendingCredential"in i&&gs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function OT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ym(t.config,s):`${t.config.apiScheme}://${s}`;return Zx.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class nN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),eN.get())})}}function _l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=qr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e){return oc(t,"POST","/v1/accounts:delete",e)}async function _f(t,e){return oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(t,e=!1){const n=jt(t),r=await n.getIdToken(e),s=Xm(r);We(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Yc(_d(s.auth_time)),issuedAtTime:Yc(_d(s.iat)),expirationTime:Yc(_d(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function _d(t){return Number(t)*1e3}function Xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{const s=mT(n);return s?JSON.parse(s):(kl("Failed to decode base64 JWT payload"),null)}catch(s){return kl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $_(t){const e=Xm(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&iN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){const e=t.auth,n=await t.getIdToken(),r=await _u(t,_f(e,{idToken:n}));We(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?DT(s.providerUserInfo):[],o=cN(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,f=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Lp(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function aN(t){const e=jt(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e){const n=await kT(t,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await OT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&sc(t.emulatorConfig.host)&&(l.credentials="include"),PT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lN(t,e){return oc(t,"POST","/v2/accounts:revokeToken",Jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Da;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sN(this,e)}reload(){return aN(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await _u(this,rN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:A}=n;We(p&&A,e,"internal-error");const L=Da.fromJSON(this.name,A);We(typeof p=="string",e,"internal-error"),_i(r,e.name),_i(s,e.name),We(typeof y=="boolean",e,"internal-error"),We(typeof v=="boolean",e,"internal-error"),_i(i,e.name),_i(o,e.name),_i(a,e.name),_i(l,e.name),_i(f,e.name),_i(d,e.name);const H=new $r({uid:p,auth:e,email:s,emailVerified:y,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:L,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(H.providerData=E.map(U=>({...U}))),l&&(H._redirectEventId=l),H}static async _fromIdTokenResponse(e,n,r=!1){const s=new Da;s.updateFromServerResponse(n);const i=new $r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?DT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Da;a.updateFromIdToken(r);const l=new $r({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Ks(t){ti(t instanceof Function,"Expected a class definition");let e=j_.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const B_=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ol(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ol("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _f(this.auth,{idToken:e}).catch(()=>{});return n?$r._fromGetAccountInfoResponse(this.auth,n,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa(Ks(B_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||Ks(B_);const o=Ol(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const y=await _f(e,{idToken:d}).catch(()=>{});if(!y)break;p=await $r._fromGetAccountInfoResponse(e,y,d)}else p=$r._fromJSON(e,d);f!==i&&(a=p),i=f;break}}catch{}const l=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new xa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if($T(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(FT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NT(t=xn()){return/firefox\//i.test(t)}function MT(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(t=xn()){return/crios\//i.test(t)}function VT(t=xn()){return/iemobile/i.test(t)}function FT(t=xn()){return/android/i.test(t)}function UT(t=xn()){return/blackberry/i.test(t)}function $T(t=xn()){return/webos/i.test(t)}function Zm(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fN(t=xn()){return Zm(t)&&!!window.navigator?.standalone}function hN(){return TD()&&document.documentMode===10}function jT(t=xn()){return Zm(t)||FT(t)||$T(t)||UT(t)||/windows phone/i.test(t)||VT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e=[]){let n;switch(t){case"Browser":n=q_(xn());break;case"Worker":n=`${q_(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e={}){return oc(t,"GET","/v2/passwordPolicy",Jm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=6;class gN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new dN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _f(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Mo(this));const n=e?jt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pN(this),n=new gN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ki("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sh(t){return jt(t)}class H_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PD(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _N(t){eg=t}function vN(t){return eg.loadJS(t)}function wN(){return eg.gapiScript}function bN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){const n=zi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vi(i,e??{}))return s;gs(s,"already-initialized")}return n.initialize({options:e})}function TN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function IN(t,e,n){const r=sh(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=qT(e),{host:o,port:a}=AN(e),l=a===null?"":`:${a}`,f={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Vi(f,r.config.emulator)&&Vi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,sc(o)?(vT(`${i}//${o}${l}`),wT("Auth",!0)):SN()}function qT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AN(t){const e=qT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:K_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:K_(o)}}}function K_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return tN(t,"POST","/v1/accounts:signInWithIdp",Jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="http://localhost";class Fo extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Fo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:RN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Fu{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Fu{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Fu{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $r._fromIdTokenResponse(e,r,s),o=z_(r);return new Ka({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=z_(r);return new Ka({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wf(e,n,r,s)}}function KT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(t,i,e,r):i})}async function CN(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Mo(r));const s="reauthenticate";try{const i=await _u(t,KT(r,s,e,t),n);We(i.idToken,r,"internal-error");const o=Xm(i.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Ka._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e,n=!1){if(Ur(t.app))return Promise.reject(Mo(t));const r="signIn",s=await KT(t,r,e),i=await Ka._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){return jt(t).setPersistence(e)}function DN(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function xN(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function NN(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function kj(t){return jt(t).signOut()}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1e3,LN=10;class WT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const GT=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async f=>f(n.origin,i)),l=await VN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const f=ng("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(y.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function UN(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function $N(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){return navigator?.serviceWorker?.controller||null}function BN(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",qN=1,Ef="firebaseLocalStorage",ZT="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function HN(){const t=indexedDB.deleteDatabase(XT);return new Uu(t).toPromise()}function Vp(){const t=indexedDB.open(XT,qN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ef,{keyPath:ZT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ef)?e(r):(r.close(),await HN(),e(await Vp()))})})}async function W_(t,e,n){const r=oh(t,!0).put({[ZT]:e,value:n});return new Uu(r).toPromise()}async function KN(t,e){const n=oh(t,!1).get(e),r=await new Uu(n).toPromise();return r===void 0?null:r.value}function G_(t,e){const n=oh(t,!0).delete(e);return new Uu(n).toPromise()}const zN=800,WN=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(BN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $N(),!this.activeServiceWorker)return;this.sender=new FN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await W_(e,bf,"1"),await G_(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=oh(s,!1).getAll();return new Uu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e0.type="LOCAL";const GN=e0;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){return e?Ks(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends HT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QN(t){return kN(t.auth,new rg(t),t.bypassAuthState)}function YN(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),PN(n,new rg(t),t.bypassAuthState)}async function JN(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),CN(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return JN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:gs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Vu(2e3,1e4);async function ZN(t,e,n){if(Ur(t.app))return Promise.reject(qr(t,"operation-not-supported-in-this-environment"));const r=sh(t);Gx(t,e,tg);const s=t0(r,n);return new Co(r,"signInViaPopup",e,s).executeNotNull()}class Co extends n0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XN.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="pendingRedirect",Dl=new Map;class tM extends n0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dl.get(this.auth._key());if(!e){try{const r=await nM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dl.set(this.auth._key(),e)}return this.bypassAuthState||Dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nM(t,e){const n=iM(e),r=sM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function rM(t,e){Dl.set(t._key(),e)}function sM(t){return Ks(t._redirectPersistence)}function iM(t){return Ol(eM,t.config.apiKey,t.name)}async function oM(t,e,n=!1){if(Ur(t.app))return Promise.reject(Mo(t));const r=sh(t),s=t0(r,e),o=await new tM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=600*1e3;class cM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!r0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(e))}saveEventToCache(e){this.cachedEventUids.add(Q_(e)),this.lastProcessedEventTime=Date.now()}}function Q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e={}){return oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hM=/^https?/;async function dM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lM(t);for(const n of e)try{if(pM(n))return}catch{}gs(t,"unauthorized-domain")}function pM(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hM.test(n))return!1;if(fM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Vu(3e4,6e4);function Y_(){const t=us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gM(t){return new Promise((e,n)=>{function r(){Y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y_(),n(qr(t,"network-request-failed"))},timeout:mM.get()})}if(us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(us().gapi?.load)r();else{const s=bN("iframefcb");return us()[s]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},vN(`${wN()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw xl=null,e})}let xl=null;function yM(t){return xl=xl||gM(t),xl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Vu(5e3,15e3),vM="__/auth/iframe",wM="emulator/auth/iframe",bM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TM(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,wM):`https://${t.config.authDomain}/${vM}`,r={apiKey:e.apiKey,appName:t.name,v:ic},s=EM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Mu(r).slice(1)}`}async function IM(t){const e=await yM(t),n=us().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:TM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=qr(t,"network-request-failed"),a=us().setTimeout(()=>{i(o)},_M.get());function l(){us().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SM=500,RM=600,CM="_blank",PM="http://localhost";class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kM(t,e,n,r=SM,s=RM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...AM,width:r.toString(),height:s.toString(),top:i,left:o},f=xn().toLowerCase();n&&(a=LT(f)?CM:n),NT(f)&&(e=e||PM,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(fN(f)&&a!=="_self")return OM(e||"",a),new J_(null);const p=window.open(e||"",a,d);We(p,t,"popup-blocked");try{p.focus()}catch{}return new J_(p)}function OM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="__/auth/handler",xM="emulator/auth/handler",NM=encodeURIComponent("fac");async function X_(t,e,n,r,s,i){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ic,eventId:s};if(e instanceof tg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Fu){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),f=l?`#${NM}=${encodeURIComponent(l)}`:"";return`${MM(t)}?${Mu(a).slice(1)}${f}`}function MM({config:t}){return t.emulator?Ym(t,xM):`https://${t.authDomain}/${DM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="webStorageSupport";class LM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=oM,this._overrideRedirectResult=rM}async _openPopup(e,n,r,s){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await X_(e,n,r,Mp(),s);return kM(e,i,ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X_(e,n,r,Mp(),s);return UN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ti(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IM(e),r=new cM(e);return n.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vd,{type:vd},s=>{const i=s?.[0]?.[vd];i!==void 0&&n(!!i),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||MT()||Zm()}}const VM=LM;var Z_="@firebase/auth",ev="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $M(t){Sr(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(t)},f=new yN(r,s,i,l);return TN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new ur("auth-internal",e=>{const n=sh(e.getProvider("auth").getImmediate());return(r=>new FM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(Z_,ev,UM(t)),Jn(Z_,ev,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=300,BM=_T("authIdTokenMaxAge")||jM;let tv=null;const qM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BM)return;const s=n?.token;tv!==s&&(tv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HM(t=Lu()){const e=zi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EN(t,{popupRedirectResolver:VM,persistence:[GN,GT,YT]}),r=_T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=qM(i.toString());xN(n,o,()=>o(n.currentUser)),DN(n,a=>o(a))}}const s=gT("auth");return s&&IN(n,`http://${s}`),n}function KM(){return document.getElementsByTagName("head")?.[0]??document}_N({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=qr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",KM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$M("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,s0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function I(){}I.prototype=S.prototype,D.D=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(k,V,M){for(var R=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)R[Pe-2]=arguments[Pe];return S.prototype[V].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,S,I){I||(I=0);var k=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)k[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)k[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],V=D.g[2];var M=D.g[3],R=S+(M^I&(V^M))+k[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=M+(V^S&(I^V))+k[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(I^M&(S^I))+k[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=I+(S^V&(M^S))+k[3]+3250441966&4294967295,I=V+(R<<22&4294967295|R>>>10),R=S+(M^I&(V^M))+k[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(V^S&(I^V))+k[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(I^M&(S^I))+k[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=I+(S^V&(M^S))+k[7]+4249261313&4294967295,I=V+(R<<22&4294967295|R>>>10),R=S+(M^I&(V^M))+k[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(V^S&(I^V))+k[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(I^M&(S^I))+k[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=I+(S^V&(M^S))+k[11]+2304563134&4294967295,I=V+(R<<22&4294967295|R>>>10),R=S+(M^I&(V^M))+k[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(V^S&(I^V))+k[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(I^M&(S^I))+k[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=I+(S^V&(M^S))+k[15]+1236535329&4294967295,I=V+(R<<22&4294967295|R>>>10),R=S+(V^M&(I^V))+k[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^V&(S^I))+k[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^I&(M^S))+k[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(V^M))+k[0]+3921069994&4294967295,I=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(I^V))+k[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^V&(S^I))+k[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^I&(M^S))+k[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(V^M))+k[4]+3889429448&4294967295,I=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(I^V))+k[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^V&(S^I))+k[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^I&(M^S))+k[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(V^M))+k[8]+1163531501&4294967295,I=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(I^V))+k[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^V&(S^I))+k[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^I&(M^S))+k[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(V^M))+k[12]+2368359562&4294967295,I=V+(R<<20&4294967295|R>>>12),R=S+(I^V^M)+k[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^V)+k[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^I)+k[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=I+(V^M^S)+k[14]+4259657740&4294967295,I=V+(R<<23&4294967295|R>>>9),R=S+(I^V^M)+k[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^V)+k[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^I)+k[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=I+(V^M^S)+k[10]+3200236656&4294967295,I=V+(R<<23&4294967295|R>>>9),R=S+(I^V^M)+k[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^V)+k[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^I)+k[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=I+(V^M^S)+k[6]+76029189&4294967295,I=V+(R<<23&4294967295|R>>>9),R=S+(I^V^M)+k[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^V)+k[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^I)+k[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=I+(V^M^S)+k[2]+3299628645&4294967295,I=V+(R<<23&4294967295|R>>>9),R=S+(V^(I|~M))+k[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~V))+k[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~I))+k[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=I+(M^(V|~S))+k[5]+4237533241&4294967295,I=V+(R<<21&4294967295|R>>>11),R=S+(V^(I|~M))+k[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~V))+k[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~I))+k[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=I+(M^(V|~S))+k[1]+2240044497&4294967295,I=V+(R<<21&4294967295|R>>>11),R=S+(V^(I|~M))+k[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~V))+k[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~I))+k[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=I+(M^(V|~S))+k[13]+1309151649&4294967295,I=V+(R<<21&4294967295|R>>>11),R=S+(V^(I|~M))+k[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~V))+k[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~I))+k[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=I+(M^(V|~S))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var I=S-this.blockSize,k=this.B,V=this.h,M=0;M<S;){if(V==0)for(;M<=I;)s(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(k[V++]=D.charCodeAt(M++),V==this.blockSize){s(this,k),V=0;break}}else for(;M<S;)if(k[V++]=D[M++],V==this.blockSize){s(this,k),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var I=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=I&255,I/=256;for(this.u(D),D=Array(16),S=I=0;4>S;++S)for(var k=0;32>k;k+=8)D[I++]=this.g[S]>>>k&255;return D};function i(D,S){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function o(D,S){this.h=S;for(var I=[],k=!0,V=D.length-1;0<=V;V--){var M=D[V]|0;k&&M==S||(I[V]=M,k=!1)}this.g=I}var a={};function l(D){return-128<=D&&128>D?i(D,function(S){return new o([S|0],0>S?-1:0)}):new o([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return L(f(-D));for(var S=[],I=1,k=0;D>=I;k++)S[k]=D/I|0,I*=4294967296;return new o(S,0)}function d(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return L(d(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(S,8)),k=p,V=0;V<D.length;V+=8){var M=Math.min(8,D.length-V),R=parseInt(D.substring(V,V+M),S);8>M?(M=f(Math.pow(S,M)),k=k.j(M).add(f(R))):(k=k.j(I),k=k.add(f(R)))}return k}var p=l(0),y=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-L(this).m();for(var D=0,S=1,I=0;I<this.g.length;I++){var k=this.i(I);D+=(0<=k?k:4294967296+k)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(A(this))return"-"+L(this).toString(D);for(var S=f(Math.pow(D,6)),I=this,k="";;){var V=x(I,S).g;I=H(I,V.j(S));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=V,E(I))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=H(this,D),A(D)?-1:E(D)?0:1};function L(D){for(var S=D.g.length,I=[],k=0;k<S;k++)I[k]=~D.g[k];return new o(I,~D.h).add(y)}t.abs=function(){return A(this)?L(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0,V=0;V<=S;V++){var M=k+(this.i(V)&65535)+(D.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);k=R>>>16,M&=65535,R&=65535,I[V]=R<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function H(D,S){return D.add(L(S))}t.j=function(D){if(E(this)||E(D))return p;if(A(this))return A(D)?L(this).j(L(D)):L(L(this).j(D));if(A(D))return L(this.j(L(D)));if(0>this.l(v)&&0>D.l(v))return f(this.m()*D.m());for(var S=this.g.length+D.g.length,I=[],k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<D.g.length;V++){var M=this.i(k)>>>16,R=this.i(k)&65535,Pe=D.i(V)>>>16,$e=D.i(V)&65535;I[2*k+2*V]+=R*$e,U(I,2*k+2*V),I[2*k+2*V+1]+=M*$e,U(I,2*k+2*V+1),I[2*k+2*V+1]+=R*Pe,U(I,2*k+2*V+1),I[2*k+2*V+2]+=M*Pe,U(I,2*k+2*V+2)}for(k=0;k<S;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=S;k<2*S;k++)I[k]=0;return new o(I,0)};function U(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function P(D,S){this.g=D,this.h=S}function x(D,S){if(E(S))throw Error("division by zero");if(E(D))return new P(p,p);if(A(D))return S=x(L(D),S),new P(L(S.g),L(S.h));if(A(S))return S=x(D,L(S)),new P(L(S.g),S.h);if(30<D.g.length){if(A(D)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var I=y,k=S;0>=k.l(D);)I=$(I),k=$(k);var V=ne(I,1),M=ne(k,1);for(k=ne(k,2),I=ne(I,2);!E(k);){var R=M.add(k);0>=R.l(D)&&(V=V.add(I),M=R),k=ne(k,1),I=ne(I,1)}return S=H(D,V.j(S)),new P(V,S)}for(V=p;0<=D.l(S);){for(I=Math.max(1,Math.floor(D.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=f(I),R=M.j(S);A(R)||0<R.l(D);)I-=k,M=f(I),R=M.j(S);E(M)&&(M=y),V=V.add(M),D=H(D,R)}return new P(V,D)}t.A=function(D){return x(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)&D.i(k);return new o(I,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)|D.i(k);return new o(I,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)^D.i(k);return new o(I,this.h^D.h)};function $(D){for(var S=D.g.length+1,I=[],k=0;k<S;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new o(I,D.h)}function ne(D,S){var I=S>>5;S%=32;for(var k=D.g.length-I,V=[],M=0;M<k;M++)V[M]=0<S?D.i(M+I)>>>S|D.i(M+I+1)<<32-S:D.i(M+I);return new o(V,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,xi=o}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,Vc,o0,Nl,Fp,a0,c0,u0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vl=="object"&&vl];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var X=c[C];if(!(X in w))break e;w=w[X]}c=c[c.length-1],C=w[c],g=g(C),g!=C&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function i(c,g){c instanceof String&&(c+="");var w=0,C=!1,X={next:function(){if(!C&&w<c.length){var re=w++;return{value:g(re,c[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(c){return c||function(){return i(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function f(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,w){return c.call.apply(c.bind,arguments)}function p(c,g,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,C),c.apply(g,X)}}return function(){return c.apply(g,arguments)}}function y(c,g,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function v(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function E(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,X,re){for(var ve=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ve[yt-2]=arguments[yt];return g.prototype[X].apply(C,ve)}}function A(c){const g=c.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=c[C];return w}return[]}function L(c,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(l(C)){const X=c.length||0,re=C.length||0;c.length=X+re;for(let ve=0;ve<re;ve++)c[X+ve]=C[ve]}else c.push(C)}}class H{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ne(c,g,w){for(const C in c)g.call(w,c[C],C,c)}function D(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function S(c){const g={};for(const w in c)g[w]=c[w];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,g){let w,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(w in C)c[w]=C[w];for(let re=0;re<I.length;re++)w=I[re],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function V(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function M(c){a.setTimeout(()=>{throw c},0)}function R(){var c=ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Pe{constructor(){this.h=this.g=null}add(g,w){const C=$e.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var $e=new H(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Re=!1,ht=new Pe,Kt=()=>{const c=a.Promise.resolve(void 0);xe=()=>{c.then(Tn)}};var Tn=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){M(w)}var g=$e;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Re=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Rr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return c})();function Nn(c,g){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if($){e:{try{x(g.nodeName);var X=!0;break e}catch{}X=!1}X||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Nn.aa.h.call(this)}}E(Nn,pt);var zt={2:"touch",3:"pen",4:"mouse"};Nn.prototype.h=function(){Nn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function se(c,g,w,C,X){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=X,this.key=++ke,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,g,w,C,X){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ve=N(c,g,C,X);return-1<ve?(g=c[ve],w||(g.fa=!1)):(g=new se(g,this.src,re,!!C,X),g.fa=w,c.push(g)),g};function je(c,g){var w=g.type;if(w in c.g){var C=c.g[w],X=Array.prototype.indexOf.call(C,g,void 0),re;(re=0<=X)&&Array.prototype.splice.call(C,X,1),re&&(Le(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function N(c,g,w,C){for(var X=0;X<c.length;++X){var re=c[X];if(!re.da&&re.listener==g&&re.capture==!!w&&re.ha==C)return X}return-1}var j="closure_lm_"+(1e6*Math.random()|0),ee={};function fe(c,g,w,C,X){if(Array.isArray(g)){for(var re=0;re<g.length;re++)fe(c,g[re],w,C,X);return null}return w=Ve(w),c&&c[oe]?c.K(g,w,f(C)?!!C.capture:!1,X):ae(c,g,w,!1,C,X)}function ae(c,g,w,C,X,re){if(!g)throw Error("Invalid event type");var ve=f(X)?!!X.capture:!!X,yt=Fe(c);if(yt||(c[j]=yt=new et(c)),w=yt.add(g,w,C,ve,re),w.proxy)return w;if(C=he(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Rr||(X=ve),X===void 0&&(X=!1),c.addEventListener(g.toString(),C,X);else if(c.attachEvent)c.attachEvent(pe(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function he(){function c(w){return g.call(c.src,c.listener,w)}const g=de;return c}function Te(c,g,w,C,X){if(Array.isArray(g))for(var re=0;re<g.length;re++)Te(c,g[re],w,C,X);else C=f(C)?!!C.capture:!!C,w=Ve(w),c&&c[oe]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],w=N(re,w,C,X),-1<w&&(Le(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=Fe(c))&&(g=c.g[g.toString()],c=-1,g&&(c=N(g,w,C,X)),(w=-1<c?g[c]:null)&&ye(w))}function ye(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[oe])je(g.i,c);else{var w=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(w,C,c.capture):g.detachEvent?g.detachEvent(pe(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=Fe(g))?(je(w,c),w.h==0&&(w.src=null,g[j]=null)):Le(c)}}}function pe(c){return c in ee?ee[c]:ee[c]="on"+c}function de(c,g){if(c.da)c=!0;else{g=new Nn(g,this);var w=c.listener,C=c.ha||c.src;c.fa&&ye(c),c=w.call(C,g)}return c}function Fe(c){return c=c[j],c instanceof et?c:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(c){return typeof c=="function"?c:(c[Se]||(c[Se]=function(g){return c.handleEvent(g)}),c[Se])}function Oe(){kt.call(this),this.i=new et(this),this.M=this,this.F=null}E(Oe,kt),Oe.prototype[oe]=!0,Oe.prototype.removeEventListener=function(c,g,w,C){Te(this,c,g,w,C)};function Ue(c,g){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new pt(g,c);else if(g instanceof pt)g.target=g.target||c;else{var X=g;g=new pt(C,c),k(g,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ve=g.g=w[re];X=ct(ve,C,!0,g)&&X}if(ve=g.g=c,X=ct(ve,C,!0,g)&&X,X=ct(ve,C,!1,g)&&X,w)for(re=0;re<w.length;re++)ve=g.g=w[re],X=ct(ve,C,!1,g)&&X}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],C=0;C<w.length;C++)Le(w[C]);delete c.g[g],c.h--}}this.F=null},Oe.prototype.K=function(c,g,w,C){return this.i.add(String(c),g,!1,w,C)},Oe.prototype.L=function(c,g,w,C){return this.i.add(String(c),g,!0,w,C)};function ct(c,g,w,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var X=!0,re=0;re<g.length;++re){var ve=g[re];if(ve&&!ve.da&&ve.capture==w){var yt=ve.listener,sn=ve.ha||ve.src;ve.fa&&je(c.i,ve),X=yt.call(sn,C)!==!1&&X}}return X&&!C.defaultPrevented}function rt(c,g,w){if(typeof c=="function")w&&(c=y(c,w));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function Wt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,Wt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Vt extends kt{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(c){kt.call(this),this.h=c,this.g={}}E(Ot,kt);var Gt=[];function fr(c){ne(c.g,function(g,w){this.g.hasOwnProperty(w)&&ye(g)},c),c.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),fr(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=a.JSON.stringify,Ce=a.JSON.parse,ln=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kn(){}Kn.prototype.h=null;function Gr(c){return c.h||(c.h=c.i())}function Ae(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wo(){pt.call(this,"d")}E(Wo,pt);function Yi(){pt.call(this,"c")}E(Yi,pt);var Qr={},Go=null;function Qo(){return Go=Go||new Oe}Qr.La="serverreachability";function Qu(c){pt.call(this,Qr.La,c)}E(Qu,pt);function hr(c){const g=Qo();Ue(g,new Qu(g))}Qr.STAT_EVENT="statevent";function bs(c,g){pt.call(this,Qr.STAT_EVENT,c),this.stat=g}E(bs,pt);function rn(c){const g=Qo();Ue(g,new bs(g,c))}Qr.Ma="timingevent";function Ji(c,g){pt.call(this,Qr.Ma,c),this.size=g}E(Ji,pt);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function xt(){this.g=!0}xt.prototype.xa=function(){this.g=!1};function kh(c,g,w,C,X,re){c.info(function(){if(c.g)if(re)for(var ve="",yt=re.split("&"),sn=0;sn<yt.length;sn++){var lt=yt[sn].split("=");if(1<lt.length){var on=lt[0];lt=lt[1];var fn=on.split("_");ve=2<=fn.length&&fn[1]=="type"?ve+(on+"="+lt+"&"):ve+(on+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+g+`
`+w+`
`+ve})}function Yo(c,g,w,C,X,re,ve){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+g+`
`+w+`
`+re+" "+ve})}function Cr(c,g,w,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Oh(c,w)+(C?" "+C:"")})}function Jo(c,g){c.info(function(){return"TIMEOUT: "+g})}xt.prototype.info=function(){};function Oh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var X=C[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Mn(w)}catch{return g}}var Zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function Ts(){}E(Ts,Kn),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},dr=new Ts;function Yr(c,g,w,C){this.j=c,this.i=g,this.l=w,this.R=C||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var pc={},kr={};function Xo(c,g,w){c.L=1,c.v=no(Ln(g)),c.m=w,c.P=!0,Zo(c,null)}function Zo(c,g){c.F=Date.now(),zn(c),c.A=Ln(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Ec(w.i,"t",C),c.C=0,w=c.j.J,c.h=new Pr,c.g=oa(c.j,w?g:null,!c.m),0<c.O&&(c.M=new Vt(y(c.Y,c,c.g),c.O)),g=c.U,w=c.g,C=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gt[0]=X.toString()),X=Gt);for(var re=0;re<X.length;re++){var ve=fe(w,X[re],C||g.handleEvent,!1,g.h||g);if(!ve)break;g.g[ve.key]=ve}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hr(),kh(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Mr(c)==3?g.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const fn=Mr(this.g);var g=this.g.Ba();const Ds=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||fn!=4||g==7||(g==8||0>=Ds?hr(3):hr(2)),Jr(this);var w=this.g.Z();this.X=w;t:if(Nt(this)){var C=el(this.g);c="";var X=C.length,re=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Xr(this);var ve="";break t}this.h.i=new a.TextDecoder}for(g=0;g<X;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(re&&g==X-1)});C.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,Yo(this.i,this.u,this.A,this.l,this.R,fn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,sn=this.g;if((yt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(yt)){var lt=yt;break t}}lt=null}if(w=lt)Cr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xi(this,w);else{this.o=!1,this.s=3,rn(12),Or(this),Xr(this);break e}}if(this.P){w=!0;let Un;for(;!this.J&&this.C<ve.length;)if(Un=Is(this,ve),Un==kr){fn==4&&(this.s=4,rn(14),w=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==pc){this.s=4,rn(15),Cr(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Cr(this.i,this.l,Un,null),Xi(this,Un);if(Nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ve.length!=0||this.h.h||(this.s=1,rn(16),w=!1),this.o=this.o&&w,!w)Cr(this.i,this.l,ve,"[Invalid Chunked Response]"),Or(this),Xr(this);else if(0<ve.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Xt(on),on.M=!0,rn(11))}}else Cr(this.i,this.l,ve,null),Xi(this,ve);fn==4&&Or(this),this.o&&!this.J&&(fn==4?Sc(this.j,this):(this.o=!1,zn(this)))}else Ic(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Or(this),Xr(this)}}}catch{}finally{}};function Nt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Is(c,g){var w=c.C,C=g.indexOf(`
`,w);return C==-1?kr:(w=Number(g.substring(w,C)),isNaN(w)?pc:(C+=1,C+w>g.length?kr:(g=g.slice(C,C+w),c.C=C+w,g)))}Yr.prototype.cancel=function(){this.J=!0,Or(this)};function zn(c){c.S=Date.now()+c.I,mc(c,c.I)}function mc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(y(c.ba,c),g)}function Jr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jo(this.i,this.A),this.L!=2&&(hr(),rn(17)),Or(this),this.s=2,Xr(this)):mc(this,this.S-c)};function Xr(c){c.j.G==0||c.J||Sc(c.j,c)}function Or(c){Jr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,fr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Xi(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||nt(w.h,c))){if(!c.K&&nt(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ts(w),Cs(w);else break e;lo(w),rn(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=mt(y(w.Za,w),6e3));if(1>=yc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ns(w,11)}else if((c.K||w.g==c)&&ts(w),!U(g))for(X=w.Da.g.parse(g),g=0;g<X.length;g++){let lt=X[g];if(w.T=lt[0],lt=lt[1],w.G==2)if(lt[0]=="c"){w.K=lt[1],w.ia=lt[2];const on=lt[3];on!=null&&(w.la=on,w.j.info("VER="+w.la));const fn=lt[4];fn!=null&&(w.Aa=fn,w.j.info("SVER="+w.Aa));const Ds=lt[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(C=1.5*Ds,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Un=c.g;if(Un){const mo=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var re=C.h;re.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ea(re,re.h),re.h=null))}if(C.D){const ca=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(C.ya=ca,gt(C.I,C.D,ca))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ve=c;if(C.qa=ho(C,C.J?C.ia:null,C.W),ve.K){_c(C.h,ve);var yt=ve,sn=C.L;sn&&(yt.I=sn),yt.B&&(Jr(yt),zn(yt)),C.g=ve}else ia(C);0<w.i.length&&uo(w)}else lt[0]!="stop"&&lt[0]!="close"||ns(w,7);else w.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ns(w,7):hi(w):lt[0]!="noop"&&w.l&&w.l.ta(lt),w.v=0)}}hr(4)}catch{}}var As=class{constructor(c,g){this.g=c,this.map=g}};function gc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yc(c){return c.h?1:c.g?c.g.size:0}function nt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ea(c,g){c.g?c.g.add(g):c.h=g}function _c(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gc.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function eo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return A(c.i)}function to(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],w=c.length,C=0;C<w;C++)g.push(c[C]);return g}g=[],w=0;for(C in c)g[w++]=c[C];return g}function Yu(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const C in c)g[w++]=C;return g}}}function vc(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=Yu(c),C=to(c),X=C.length,re=0;re<X;re++)g.call(void 0,C[re],w&&w[re],c)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function It(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),X=null;if(0<=C){var re=c[w].substring(0,C);X=c[w].substring(C+1)}else re=c[w];g(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof er){this.h=c.h,Dr(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,w=new pr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),ta(this,w),this.m=c.m}else c&&(g=String(c).match(wc))?(this.h=!1,Dr(this,g[1]||"",!0),this.o=Zr(g[2]||""),this.g=Zr(g[3]||"",!0),ci(this,g[4]),this.l=Zr(g[5]||"",!0),ta(this,g[6]||"",!0),this.m=Zr(g[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}er.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,ut,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,ut,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ui(w,w.charAt(0)=="/"?xh:Ju,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ui(w,Vn)),c.join("")};function Ln(c){return new er(c)}function Dr(c,g,w){c.j=w?Zr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ta(c,g,w){g instanceof pr?(c.i=g,mr(c.i,c.h)):(w||(g=ui(g,Nh)),c.i=new pr(g,c.h))}function gt(c,g,w){c.i.set(g,w)}function no(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Dh),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ut=/[#\/\?@]/g,Ju=/[#\?:]/g,xh=/[#\?]/g,Nh=/[#\?@]/g,Vn=/#/g;function pr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&It(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=pr.prototype,t.add=function(c,g){tr(this),this.i=null,c=Dt(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function xr(c,g){tr(c),g=Dt(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bc(c,g){return tr(c),g=Dt(c,g),c.g.has(g)}t.forEach=function(c,g){tr(this),this.g.forEach(function(w,C){w.forEach(function(X){c.call(g,X,C,this)},this)},this)},t.na=function(){tr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const X=c[C];for(let re=0;re<X.length;re++)w.push(g[C])}return w},t.V=function(c){tr(this);let g=[];if(typeof c=="string")bc(this,c)&&(g=g.concat(this.g.get(Dt(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return tr(this),this.i=null,c=Dt(this,c),bc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ec(c,g,w){xr(c,g),0<w.length&&(c.i=null,c.g.set(Dt(c,g),A(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const re=encodeURIComponent(String(C)),ve=this.V(C);for(C=0;C<ve.length;C++){var X=re;ve[C]!==""&&(X+="="+encodeURIComponent(String(ve[C]))),c.push(X)}}return this.i=c.join("&")};function Dt(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function mr(c,g){g&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(w,C){var X=C.toLowerCase();C!=X&&(xr(this,C),Ec(this,X,w))},c)),c.j=g}function ro(c,g){const w=new xt;if(a.Image){const C=new Image;C.onload=v(gr,w,"TestLoadImage: loaded",!0,g,C),C.onerror=v(gr,w,"TestLoadImage: error",!1,g,C),C.onabort=v(gr,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=v(gr,w,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function so(c,g){const w=new xt,C=new AbortController,X=setTimeout(()=>{C.abort(),gr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(re=>{clearTimeout(X),re.ok?gr(w,"TestPingServer: ok",!0,g):gr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(X),gr(w,"TestPingServer: error",!1,g)})}function gr(c,g,w,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(w)}catch{}}function es(){this.g=new ln}function Mh(c,g,w){const C=w||"";try{vc(c,function(X,re){let ve=X;f(X)&&(ve=Mn(X)),g.push(C+re+"="+encodeURIComponent(ve))})}catch(X){throw g.push(C+"type="+encodeURIComponent("_badmap")),X}}function Fn(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Fn,Kn),Fn.prototype.g=function(){return new li(this.l,this.j)},Fn.prototype.i=(function(c){return function(){return c}})({});function li(c,g){Oe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(li,Oe),t=li.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Nr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ss(this):Nr(this),this.readyState==3&&Tc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ss(this))},t.Qa=function(c){this.g&&(this.response=c,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Nr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function na(c){let g="";return ne(c,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function ra(c,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=na(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):gt(c,g,w))}function Mt(c){Oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Mt,Oe);var io=/^https?$/i,Lh=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Gr(this.o):Gr(dr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){Xu(this,re);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)w.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())w.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Lh,g,void 0))||C||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of w)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zu(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){Xu(this,re)}};function Xu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),fi(c)}function oo(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},t.bb=function(){ao(this)};function ao(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mr(c)!=4||c.Z()!=2)){if(c.u&&Mr(c)==4)rt(c.Ea,0,c);else if(Ue(c,"readystatechange"),Mr(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=ve===0){var X=String(c.D).match(wc)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),C=!io.test(X?X.toLowerCase():"")}w=C}if(w)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var re=2<Mr(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",oo(c)}}finally{fi(c)}}}}function fi(c,g){if(c.g){Zu(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ue(c,"ready");try{w.onreadystatechange=C}catch{}}}function Zu(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ce(g)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(c){const g={};c=(c.g&&2<=Mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(U(c[C]))continue;var w=V(c[C]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=g[X]||[];g[X]=re,re.push(w)}D(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Ac(c){this.Aa=0,this.i=[],this.j=new xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gc(c&&c.concurrentRequestLimit),this.Da=new es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ac.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,C){rn(0),this.W=c,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ho(this,null,this.W),uo(this)};function hi(c){if(co(c),c.G==3){var g=c.U++,w=Ln(c.I);if(gt(w,"SID",c.K),gt(w,"RID",g),gt(w,"TYPE","terminate"),ks(c,w),g=new Yr(c,c.j,g),g.L=2,g.v=no(Ln(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=oa(g.j,null),g.g.ea(g.v)),g.F=Date.now(),zn(g)}Rc(c)}function Cs(c){c.g&&(Xt(c),c.g.cancel(),c.g=null)}function co(c){Cs(c),c.u&&(a.clearTimeout(c.u),c.u=null),ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function uo(c){if(!Zi(c.h)&&!c.s){c.s=!0;var g=c.Ga;xe||Kt(),Re||(xe(),Re=!0),ht.add(g,c),c.B=0}}function Vh(c,g){return yc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(y(c.Ga,c,g),fo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Yr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=S(re),k(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=sa(this,X,g),w=Ln(this.I),gt(w,"RID",c),gt(w,"CVER",22),this.D&&gt(w,"X-HTTP-Session-Id",this.D),ks(this,w),re&&(this.O?g="headers="+encodeURIComponent(String(na(re)))+"&"+g:this.m&&ra(w,this.m,re)),ea(this.h,X),this.Ua&&gt(w,"TYPE","init"),this.P?(gt(w,"$req",g),gt(w,"SID","null"),X.T=!0,Xo(X,w,null)):Xo(X,w,g),this.G=2}}else this.G==3&&(c?Ps(this,c):this.i.length==0||Zi(this.h)||Ps(this))};function Ps(c,g){var w;g?w=g.l:w=c.U++;const C=Ln(c.I);gt(C,"SID",c.K),gt(C,"RID",w),gt(C,"AID",c.T),ks(c,C),c.m&&c.o&&ra(C,c.m,c.o),w=new Yr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=sa(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,w),Xo(w,C,g)}function ks(c,g){c.H&&ne(c.H,function(w,C){gt(g,C,w)}),c.l&&vc({},function(w,C){gt(g,C,w)})}function sa(c,g,w){w=Math.min(c.i.length,w);var C=c.l?y(c.l.Na,c.l,c):null;e:{var X=c.i;let re=-1;for(;;){const ve=["count="+w];re==-1?0<w?(re=X[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let yt=!0;for(let sn=0;sn<w;sn++){let lt=X[sn].g;const on=X[sn].map;if(lt-=re,0>lt)re=Math.max(0,X[sn].g-100),yt=!1;else try{Mh(on,ve,"req"+lt+"_")}catch{C&&C(on)}}if(yt){C=ve.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,C}function ia(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;xe||Kt(),Re||(xe(),Re=!0),ht.add(g,c),c.v=0}}function lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(y(c.Fa,c),fo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,di(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Cs(this),di(this))};function Xt(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function di(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Ln(c.qa);gt(g,"RID","rpc"),gt(g,"SID",c.K),gt(g,"AID",c.T),gt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(g,"TO",c.ja),gt(g,"TYPE","xmlhttp"),ks(c,g),c.m&&c.o&&ra(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=no(Ln(g)),w.m=null,w.P=!0,Zo(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Cs(this),lo(this),rn(19))};function ts(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Sc(c,g){var w=null;if(c.g==g){ts(c),Xt(c),c.g=null;var C=2}else if(nt(c.h,g))w=g.D,_c(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var X=c.B;C=Qo(),Ue(C,new Ji(C,w)),uo(c)}else ia(c);else if(X=g.s,X==3||X==0&&0<g.X||!(C==1&&Vh(c,g)||C==2&&lo(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),X){case 1:ns(c,5);break;case 4:ns(c,10);break;case 3:ns(c,6);break;default:ns(c,2)}}}function fo(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function ns(c,g){if(c.j.info("Error code "+g),g==2){var w=y(c.fb,c),C=c.Xa;const X=!C;C=new er(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dr(C,"https"),no(C),X?ro(C.toString(),w):so(C.toString(),w)}else rn(2);c.G=0,c.l&&c.l.sa(g),Rc(c),co(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Rc(c){if(c.G=0,c.ka=[],c.l){const g=eo(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function ho(c,g,w){var C=w instanceof er?Ln(w):new er(w);if(C.g!="")g&&(C.g=g+"."+C.g),ci(C,C.s);else{var X=a.location;C=X.protocol,g=g?g+"."+X.hostname:X.hostname,X=+X.port;var re=new er(null);C&&Dr(re,C),g&&(re.g=g),X&&ci(re,X),w&&(re.l=w),C=re}return w=c.D,g=c.ya,w&&g&&gt(C,w,g),gt(C,"VER",c.la),ks(c,C),C}function oa(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Mt(new Fn({eb:w})):new Mt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rs(){}t=rs.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pi(){}pi.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){Oe.call(this),this.g=new Ac(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!U(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!U(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Os(this)}E(mn,Oe),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){hi(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Mn(c),c=w);g.i.push(new As(g.Ya++,c)),g.G==3&&uo(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,hi(this.g),delete this.g,mn.aa.N.call(this)};function po(c){Wo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(po,Wo);function aa(){Yi.call(this),this.status=1}E(aa,Yi);function Os(c){this.g=c}E(Os,rs),Os.prototype.ua=function(){Ue(this.g,"a")},Os.prototype.ta=function(c){Ue(this.g,new po(c))},Os.prototype.sa=function(c){Ue(this.g,new aa)},Os.prototype.ra=function(){Ue(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,u0=function(){return new pi},c0=function(){return Qo()},a0=Qr,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Nl=Zn,Es.COMPLETE="complete",o0=Es,Ae.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Vc=Ae,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,i0=Mt}).apply(typeof vl<"u"?vl:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new nh("@firebase/firestore");function _a(){return Uo.logLevel}function Ne(t,...e){if(Uo.logLevel<=it.DEBUG){const n=e.map(sg);Uo.debug(`Firestore (${ac}): ${t}`,...n)}}function ni(t,...e){if(Uo.logLevel<=it.ERROR){const n=e.map(sg);Uo.error(`Firestore (${ac}): ${t}`,...n)}}function za(t,...e){if(Uo.logLevel<=it.WARN){const n=e.map(sg);Uo.warn(`Firestore (${ac}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,l0(t,r,n)}function l0(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ni(r),new Error(r)}function Et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||l0(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class WM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GM{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ni,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ni)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new f0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class QM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=XM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Up(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return wd(s)===wd(i)?ot(s,i):wd(s)?1:-1}return ot(t.length,e.length)}const ZM=55296,eL=57343;function wd(t){const e=t.charCodeAt(0);return e>=ZM&&e<=eL}function Wa(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=os.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ot(e.length,n.length)}static compareSegments(e,n){const r=os.isNumericId(e),s=os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?os.extractNumericId(e).compare(os.extractNumericId(n)):Up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class Pt extends os{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const tL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends os{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return tL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new bn([ov])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new De(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new De(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new De(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Pt.fromString(e))}static fromName(e){return new Be(Pt.fromString(e).popFirst(5))}static empty(){return new Be(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){if(!n)throw new De(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nL(t,e,n,r){if(e===!0&&r===!0)throw new De(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function av(t){if(!Be.isDocumentKey(t))throw new De(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cv(t){if(Be.isDocumentKey(t))throw new De(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function d0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new De(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $u(t,e){if(!d0(t))throw new De(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new De(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,lv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lv);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uv)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:tn("string",bt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new bt(0,0))}static max(){return new Qe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function rL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Fi(s,Be.empty(),e)}function sL(t){return new Fi(t.readTime,t.key,vu)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(Qe.min(),Be.empty(),vu)}static max(){return new Fi(Qe.max(),Be.empty(),vu)}}function iL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==oL)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((s=>s?le.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const f=l;n(e[f]).next((d=>{o[f]=d,++a,a===i&&r(o)}),(d=>s(d)))}}))}static doWhile(e,n){return new le(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function cL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function uh(t){return t==null}function Tf(t){return t===0&&1/t==-1/0}function uL(t){return typeof t=="number"&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function lL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fv(e)),e=fL(t.get(n),e);return fv(e)}function fL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case p0:n+="";break;default:n+=i}}return n}function fv(t){return t+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wl(this.root,e,this.comparator,!0)}}class wl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new or([])}unionWith(e){let n=new cn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g0("Invalid base64 string: "+i):i}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const hL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=hL.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="server_timestamp",_0="__type__",v0="__previous_value__",w0="__local_write_time__";function ag(t){return(t?.mapValue?.fields||{})[_0]?.stringValue===y0}function lh(t){const e=t.mapValue.fields[v0];return ag(e)?lh(e):e}function wu(t){const e=Ui(t.mapValue.fields[w0].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,s,i,o,a,l,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=d}}const If="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||If}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===If}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__type__",pL="__max__",bl={mapValue:{}},E0="__vector__",Af="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:gL(t)?9007199254740991:mL(t)?10:11:Ke(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ui(s.timestampValue),a=Ui(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return $i(s.bytesValue).isEqual($i(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Yt(s.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Yt(s.integerValue)===Yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yt(s.doubleValue),a=Yt(i.doubleValue);return o===a?Tf(o)===Tf(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hv(o)!==hv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ys(o[l],a[l])))return!1;return!0})(t,e);default:return Ke(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function Ga(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Yt(i.integerValue||i.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return pv(t.timestampValue,e.timestampValue);case 4:return pv(wu(t),wu(e));case 5:return Up(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=$i(i),l=$i(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const d=ot(a[f],l[f]);if(d!==0)return d}return ot(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=ot(Yt(i.latitude),Yt(o.latitude));return a!==0?a:ot(Yt(i.longitude),Yt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return mv(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},f=a[Af]?.arrayValue,d=l[Af]?.arrayValue,p=ot(f?.values?.length||0,d?.values?.length||0);return p!==0?p:mv(f,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===bl.mapValue&&o===bl.mapValue)return 0;if(i===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),f=o.fields||{},d=Object.keys(f);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=Up(l[p],d[p]);if(y!==0)return y;const v=Ga(a[l[p]],f[d[p]]);if(v!==0)return v}return ot(l.length,d.length)})(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function pv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Ui(t),r=Ui(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function mv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ga(n[s],r[s]);if(i)return i}return ot(n.length,r.length)}function Qa(t){return $p(t)}function $p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $i(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$p(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$p(n.fields[o])}`;return s+"}"})(t.mapValue):Ke(61005,{value:t})}function Ml(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+Ml(e):16;case 5:return 2*t.stringValue.length;case 6:return $i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ml(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Wi(r.fields,((i,o)=>{s+=i.length+Ml(o)})),s})(t.mapValue);default:throw Ke(13486,{value:t})}}function gv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jp(t){return!!t&&"integerValue"in t}function cg(t){return!!t&&"arrayValue"in t}function yv(t){return!!t&&"nullValue"in t}function _v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function mL(t){return(t?.mapValue?.fields||{})[b0]?.stringValue===E0}function Jc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Jc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jc(t.arrayValue.values[n]);return e}return{...t}}function gL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Jc(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ll(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Qn(Jc(this.value))}}function T0(t){const e=[];return Wi(t.fields,((n,r)=>{const s=new bn([n]);if(Ll(r)){const i=T0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new On(e,0,Qe.min(),Qe.min(),Qe.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Qe.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Qe.min(),Qe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Qe.min(),Qe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function vv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=Ga(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function yL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{}class en extends I0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vL(e,n,r):n==="array-contains"?new EL(e,r):n==="in"?new TL(e,r):n==="not-in"?new IL(e,r):n==="array-contains-any"?new AL(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wL(e,r):new bL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends I0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return A0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(t){return t.op==="and"}function S0(t){return _L(t)&&A0(t)}function _L(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function Bp(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(S0(t))return t.filters.map((e=>Bp(e))).join(",");{const e=t.filters.map((n=>Bp(n))).join(",");return`${t.op}(${e})`}}function R0(t,e){return t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&ys(r.value,s.value)})(t,e):t instanceof zr?(function(r,s){return s instanceof zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&R0(o,s.filters[a])),!0):!1})(t,e):void Ke(19439)}function C0(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(t):t instanceof zr?(function(n){return n.op.toString()+" {"+n.getFilters().map(C0).join(" ,")+"}"})(t):"Filter"}class vL extends en{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class wL extends en{constructor(e,n){super(e,"in",n),this.keys=P0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bL extends en{constructor(e,n){super(e,"not-in",n),this.keys=P0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P0(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class EL extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&Eu(n.arrayValue,this.value)}}class TL extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class IL extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class AL extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Eu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function bv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new SL(t,e,n,r,s,i,o)}function ug(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Bp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qa(r))).join(",")),e.Te=n}return e.Te}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wv(t.startAt,e.startAt)&&wv(t.endAt,e.endAt)}function qp(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RL(t,e,n,r,s,i,o,a){return new ju(t,e,n,r,s,i,o,a)}function k0(t){return new ju(t)}function Ev(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O0(t){return t.collectionGroup!==null}function Xc(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cn(bn.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((f=>{f.isInequality()&&(a=a.add(f.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Rf(i,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Rf(bn.keyField(),r))}return e.Ie}function ls(t){const e=Ye(t);return e.Ee||(e.Ee=CL(e,Xc(t))),e.Ee}function CL(t,e){if(t.limitType==="F")return bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Rf(s.field,i)}));const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hp(t,e){const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return lg(ls(t),ls(e))&&t.limitType===e.limitType}function D0(t){return`${ug(ls(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>C0(s))).join(", ")}]`),uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const f=vv(o,a,l);return o.inclusive?f<=0:f<0})(r.startAt,Xc(r),s)||r.endAt&&!(function(o,a,l){const f=vv(o,a,l);return o.inclusive?f>=0:f>0})(r.endAt,Xc(r),s))})(t,e)}function PL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x0(t){return(e,n)=>{let r=!1;for(const s of Xc(t)){const i=kL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function kL(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),f=a.data.field(i);return l!==null&&f!==null?Ga(l,f):Ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return m0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new Bt(Be.comparator);function si(){return OL}const N0=new Bt(Be.comparator);function Fc(...t){let e=N0;for(const n of t)e=e.insert(n.key,n);return e}function M0(t){let e=N0;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Po(){return Zc()}function L0(){return Zc()}function Zc(){return new Ho((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DL=new Bt(Be.comparator),xL=new cn(Be.comparator);function at(...t){let e=xL;for(const n of t)e=e.add(n);return e}const NL=new cn(ot);function ML(){return NL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function V0(t){return{integerValue:""+t}}function LL(t,e){return uL(e)?V0(e):fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function VL(t,e,n){return t instanceof Cf?(function(s,i){const o={fields:{[_0]:{stringValue:y0},[w0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ag(i)&&(i=lh(i)),i&&(o.fields[v0]=i),{mapValue:o}})(n,e):t instanceof Tu?U0(t,e):t instanceof Iu?$0(t,e):(function(s,i){const o=F0(s,i),a=Tv(o)+Tv(s.Ae);return jp(o)&&jp(s.Ae)?V0(a):fg(s.serializer,a)})(t,e)}function FL(t,e,n){return t instanceof Tu?U0(t,e):t instanceof Iu?$0(t,e):n}function F0(t,e){return t instanceof Pf?(function(r){return jp(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Cf extends dh{}class Tu extends dh{constructor(e){super(),this.elements=e}}function U0(t,e){const n=j0(e);for(const r of t.elements)n.some((s=>ys(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Iu extends dh{constructor(e){super(),this.elements=e}}function $0(t,e){let n=j0(e);for(const r of t.elements)n=n.filter((s=>!ys(s,r)));return{arrayValue:{values:n}}}class Pf extends dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tv(t){return Yt(t.integerValue||t.doubleValue)}function j0(t){return cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Tu&&s instanceof Tu||r instanceof Iu&&s instanceof Iu?Wa(r.elements,s.elements,ys):r instanceof Pf&&s instanceof Pf?ys(r.Ae,s.Ae):r instanceof Cf&&s instanceof Cf})(t.transform,e.transform)}class $L{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function B0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,Ir.none()):new Bu(t.key,t.data,Ir.none());{const n=t.data,r=Qn.empty();let s=new cn(bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gi(t.key,r,new or(s.toArray()),Ir.none())}}function jL(t,e,n){t instanceof Bu?(function(s,i,o){const a=s.value.clone(),l=Av(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Gi?(function(s,i,o){if(!Vl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Av(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(q0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function eu(t,e,n,r){return t instanceof Bu?(function(i,o,a,l){if(!Vl(i.precondition,o))return a;const f=i.value.clone(),d=Sv(i.fieldTransforms,l,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gi?(function(i,o,a,l){if(!Vl(i.precondition,o))return a;const f=Sv(i.fieldTransforms,l,o),d=o.data;return d.setAll(q0(i)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,o,a){return Vl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function BL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=F0(r.transform,s||null);i!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,i))}return n||null}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,((i,o)=>UL(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends ph{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gi extends ph{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function q0(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Av(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,FL(o,a,n[s]))}return r}function Sv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,VL(i,o,e))}return r}class hg extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qL extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L0();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=B0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((n,r)=>Iv(n,r)))&&Wa(this.baseMutations,e.baseMutations,((n,r)=>Iv(n,r)))}}class dg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return DL})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new dg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function WL(t){switch(t){case ue.OK:return Ke(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function H0(t){if(t===void 0)return ni("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Zt.OK:return ue.OK;case Zt.CANCELLED:return ue.CANCELLED;case Zt.UNKNOWN:return ue.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ue.INTERNAL;case Zt.UNAVAILABLE:return ue.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ue.NOT_FOUND;case Zt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Zt.ABORTED:return ue.ABORTED;case Zt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Zt.DATA_LOSS:return ue.DATA_LOSS;default:return Ke(39323,{code:t})}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new xi([4294967295,4294967295],0);function Rv(t){const e=GL().encode(t),n=new s0;return n.update(e),new Uint8Array(n.digest())}function Cv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xi([n,r],0),new xi([s,i],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(xi.fromNumber(r)));return s.compare(QL)===1&&(s=new xi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[r,s]=Cv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pg(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Rv(e),[r,s]=Cv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(Qe.min(),s,new Bt(ot),si(),at())}}class qu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class K0{constructor(e,n){this.targetId=e,this.Ce=n}}class z0{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Pv{constructor(){this.ve=0,this.Fe=kv(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke(38017,{changeType:i})}})),new qu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YL{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=El(),this.He=El(),this.Ye=new Bt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(qp(i))if(r===0){const o=new Be(i.path);this.et(n,o,On.newNoDocument(o,Qe.min()))}else Et(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$i(r).toUint8Array()}catch(l){if(l instanceof g0)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pg(o,s,i)}catch(l){return za(l instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&qp(a.target)){const l=new Be(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,On.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=at();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const f=this.ot(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new mh(e,n,this.Ye,this.je,r);return this.je=si(),this.Je=El(),this.He=El(),this.Ye=new Bt(ot),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Pv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function El(){return new Bt(Be.comparator)}function kv(){return new Bt(Be.comparator)}const JL={asc:"ASCENDING",desc:"DESCENDING"},XL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZL={and:"AND",or:"OR"};class eV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zp(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tV(t,e){return kf(t,e.toTimestamp())}function fs(t){return Et(!!t,49232),Qe.fromTimestamp((function(n){const r=Ui(n);return new bt(r.seconds,r.nanos)})(t))}function mg(t,e){return Wp(t,e).canonicalString()}function Wp(t,e){const n=(function(s){return new Pt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function G0(t){const e=Pt.fromString(t);return Et(Z0(e),10190,{key:e.toString()}),e}function Gp(t,e){return mg(t.databaseId,e.path)}function bd(t,e){const n=G0(e);if(n.get(1)!==t.databaseId.projectId)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(Y0(n))}function Q0(t,e){return mg(t.databaseId,e)}function nV(t){const e=G0(t);return e.length===4?Pt.emptyPath():Y0(e)}function Qp(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y0(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ov(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function rV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(Et(d===void 0||typeof d=="string",58123),En.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),En.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(f){const d=f.code===void 0?ue.UNKNOWN:H0(f.code);return new De(d,f.message||"")})(o);n=new z0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bd(t,r.document.name),i=fs(r.document.updateTime),o=r.document.createTime?fs(r.document.createTime):Qe.min(),a=new Qn({mapValue:{fields:r.document.fields}}),l=On.newFoundDocument(s,i,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Fl(f,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bd(t,r.document),i=r.readTime?fs(r.readTime):Qe.min(),o=On.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Fl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bd(t,r.document),i=r.removedTargetIds||[];n=new Fl([],i,s,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new zL(s,i),a=r.targetId;n=new K0(a,o)}}return n}function sV(t,e){let n;if(e instanceof Bu)n={update:Ov(t,e.key,e.value)};else if(e instanceof hg)n={delete:Gp(t,e.key)};else if(e instanceof Gi)n={update:Ov(t,e.key,e.data),updateMask:dV(e.fieldMask)};else{if(!(e instanceof qL))return Ke(16599,{Vt:e.type});n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ke(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:tV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke(27497)})(t,e.precondition)),n}function iV(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?fs(s.updateTime):fs(i);return o.isEqual(Qe.min())&&(o=fs(i)),new $L(o,s.transformResults||[])})(n,e)))):[]}function oV(t,e){return{documents:[Q0(t,e.path)]}}function aV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q0(t,s);const i=(function(f){if(f.length!==0)return X0(zr.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(f){if(f.length!==0)return f.map((d=>(function(y){return{field:wa(y.field),direction:lV(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function cV(t){let e=nV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const y=J0(p);return y instanceof zr&&S0(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(E){return new Rf(ba(E.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let y;return y=typeof p=="object"?p.value:p,uh(y)?null:y})(n.limit));let l=null;n.startAt&&(l=(function(p){const y=!!p.before,v=p.values||[];return new Sf(v,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,v=p.values||[];return new Sf(v,y)})(n.endAt)),RL(e,s,o,i,a,"F",l,f)}function uV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J0(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ba(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ba(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ba(n.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ba(n.unaryFilter.field);return en.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(ba(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zr.create(n.compositeFilter.filters.map((r=>J0(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(n.compositeFilter.op))})(t):Ke(30097,{filter:t})}function lV(t){return JL[t]}function fV(t){return XL[t]}function hV(t){return ZL[t]}function wa(t){return{fieldPath:t.canonicalString()}}function ba(t){return bn.fromServerFormat(t.fieldPath)}function X0(t){return t instanceof en?(function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:fV(n.op),value:n.value}}})(t):t instanceof zr?(function(n){const r=n.getFilters().map((s=>X0(s)));return r.length===1?r[0]:{compositeFilter:{op:hV(n.op),filters:r}}})(t):Ke(54877,{filter:t})}function dV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Z0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,i=Qe.min(),o=Qe.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.yt=e}}function mV(t){const e=cV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.Cn=new yV}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Fi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class yV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(Pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eI=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(eI,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",_V=1048576;function Nv([t,e],[n,r]){const s=ot(t,n);return s===0?ot(e,r):s}class vV{constructor(e){this.Ir=e,this.buffer=new cn(Nv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Nv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?Ne(xv,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Vr(3e5)}))}}class bV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(ch.ce);const r=new vV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Dv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),_a()<=it.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(f-l)+`ms
Total Duration: ${f-d}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function EV(t,e){return new bV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.changes=new Ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&eu(r.mutation,s,or.empty(),bt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const s=Po();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Fc();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=si();const o=Zc(),a=(function(){return Zc()})();return n.forEach(((l,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Gi)?i=i.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),eu(d.mutation,f,d.mutation.getFieldMask(),bt.now())):o.set(f.key,or.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>a.set(f,new IV(d,o.get(f)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Zc();let s=new Bt(((o,a)=>o-a)),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const f=n.get(l);if(f===null)return;let d=r.get(l)||or.empty();d=a.applyToLocalView(f,d),r.set(l,d);const p=(s.get(a.batchId)||at()).add(l);s=s.insert(a.batchId,p)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,d=l.value,p=L0();d.forEach((y=>{if(!i.has(y)){const v=B0(n.get(y),r.get(y));v!==null&&p.set(y,v),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Po());let a=vu,l=i;return o.next((f=>le.forEach(f,((d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{l=l.insert(d,y)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,l,f,at()))).next((d=>({batchId:a,changes:M0(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let s=Fc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fc();return this.indexManager.getCollectionParents(e,i).next((a=>le.forEach(a,(l=>{const f=(function(p,y){return new ju(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((d=>{d.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,On.newInvalidDocument(d)))}));let a=Fc();return o.forEach(((l,f)=>{const d=i.get(l);d!==void 0&&eu(d.mutation,f,or.empty(),bt.now()),hh(n,f)&&(a=a.insert(l,f))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:fs(s.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:mV(s.bundledQuery),readTime:fs(s.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.overlays=new Bt(Be.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return le.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Po(),i=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=Po(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=Po(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((f,d)=>a.set(f,d))),!(a.size()>=s)););return le.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KL(n,r));let i=this.qr.get(n);i===void 0&&(i=at(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new cn(hn.$r),this.Ur=new cn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Pt([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Pt([])),r=new hn(n,e),s=new hn(n,e+1);let i=at();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(hn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(ot);return n.forEach((s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new hn(new Be(i),0);let a=new cn(ot);return this.Zr.forEachWhile((l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(a=a.add(l.Yr)),!0)}),o),le.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),s=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():On.newInvalidDocument(s))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=si();const o=n.path,a=new Be(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:d}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||iL(sL(d),r)<=0||(s.has(d.key)||hh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OV(this)}getSize(e){return le.resolve(this.size)}}class OV extends TV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.persistence=e,this.si=new Ho((n=>ug(n)),lg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),le.waitFor(i).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new CV,this.referenceDelegate=e(this),this.Pi=new DV(this),this.indexManager=new gV,this.remoteDocumentCache=(function(s){return new kV(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pV(n),this.Ii=new SV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new xV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class xV extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const s=Be.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Of{constructor(e,n){this.persistence=e,this.pi=new Ho((r=>lL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=EV(this,n)}static mi(e,n){return new Of(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?le.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,Qe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ml(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _g(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ID()?8:cL(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new NV;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(_a()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(_a()<=it.DEBUG&&Ne("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_a()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):le.resolve())}ys(e,n){if(Ev(n))return le.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Kp(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=at(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const f=this.Ds(n,a);return this.Cs(n,f,o,l.readTime)?this.ys(e,Kp(n,null,"F")):this.vs(e,f,n,l)}))))})))))}ws(e,n,r,s){return Ev(n)||s.isEqual(Qe.min())?le.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?le.resolve(null):(_a()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(n)),this.vs(e,o,n,rL(s,vu)).next((a=>a)))}))}Ds(e,n){let r=new cn(x0(e));return n.forEach(((s,i)=>{hh(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _a()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",va(n)),this.ps.getDocumentsMatchingQuery(e,n,Fi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",LV=3e8;class VV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Bt(ot),this.xs=new Ho((i=>ug(i)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function FV(t,e,n,r){return new VV(t,e,n,r)}async function nI(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=at();for(const f of s){o.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}for(const f of i){a.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:a})))}))}))}function UV(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,f,d){const p=f.batch,y=p.keys();let v=le.resolve();return y.forEach((E=>{v=v.next((()=>d.getEntry(l,E))).next((A=>{const L=f.docVersions.get(E);Et(L!==null,48541),A.version.compareTo(L)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),d.addEntry(A)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=at();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function rI(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $V(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((d,p)=>{const y=s.get(p);if(!y)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let v=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(En.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),(function(A,L,H){return A.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=LV?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(y,v,d)&&a.push(n.Pi.updateTargetData(i,v))}));let l=si(),f=at();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),a.push(jV(i,o,e.documentUpdates).next((d=>{l=d.ks,f=d.qs}))),!r.isEqual(Qe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(d)}return le.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,f))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function jV(t,e,n){let r=at(),s=at();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=si();return n.forEach(((a,l)=>{const f=i.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Qe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne(vg,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function BV(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function qV(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,le.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Yp(t,e,n){const r=Ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!uc(o))throw o;Ne(vg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Mv(t,e,n){const r=Ye(t);let s=Qe.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,f,d){const p=Ye(l),y=p.xs.get(d);return y!==void 0?le.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,d)})(r,o,ls(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Qe.min(),n?i:at()))).next((a=>(HV(r,PL(e),a),{documents:a,Qs:i})))))}function HV(t,e,n){let r=t.Os.get(e)||Qe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Lv{constructor(){this.activeTargetIds=ML()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KV{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(Vv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(Vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function Jp(){return Tl===null?Tl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===If?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Jp(),a=this.zo(e,n.toUriEncodedString());Ne(Ed,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:f}=new URL(a),d=sc(f);return this.Jo(e,a,l,r,d).then((p=>(Ne(Ed,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw za(Ed,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=WV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class YV extends GV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Jp();return new Promise(((a,l)=>{const f=new i0;f.setWithCredentials(!0),f.listenOnce(o0.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Nl.NO_ERROR:const p=f.getResponseJson();Ne(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Nl.TIMEOUT:Ne(Sn,`RPC '${e}' ${o} timed out`),l(new De(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const y=f.getStatus();if(Ne(Sn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const A=(function(H){const U=H.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN})(E.status);l(new De(A,E.message))}else l(new De(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new De(ue.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ne(Sn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(s);Ne(Sn,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=Jp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u0(),a=c0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Ne(Sn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);this.I_(p);let y=!1,v=!1;const E=new QV({Yo:L=>{v?Ne(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(y||(Ne(Sn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),y=!0),Ne(Sn,`RPC '${e}' stream ${s} sending:`,L),p.send(L))},Zo:()=>p.close()}),A=(L,H,U)=>{L.listen(H,(P=>{try{U(P)}catch(x){setTimeout((()=>{throw x}),0)}}))};return A(p,Vc.EventType.OPEN,(()=>{v||(Ne(Sn,`RPC '${e}' stream ${s} transport opened.`),E.o_())})),A(p,Vc.EventType.CLOSE,(()=>{v||(v=!0,Ne(Sn,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))})),A(p,Vc.EventType.ERROR,(L=>{v||(v=!0,za(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),E.a_(new De(ue.UNAVAILABLE,"The operation could not be completed")))})),A(p,Vc.EventType.MESSAGE,(L=>{if(!v){const H=L.data[0];Et(!!H,16349);const U=H,P=U?.error||U[0]?.error;if(P){Ne(Sn,`RPC '${e}' stream ${s} received error:`,P);const x=P.status;let $=(function(S){const I=Zt[S];if(I!==void 0)return H0(I)})(x),ne=P.message;$===void 0&&($=ue.INTERNAL,ne="Unknown error status: "+x+" with message "+P.message),v=!0,E.a_(new De($,ne)),p.close()}else Ne(Sn,`RPC '${e}' stream ${s} received:`,H),E.u_(H)}})),A(a,a0.STAT_EVENT,(L=>{L.stat===Fp.PROXY?Ne(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Fp.NOPROXY&&Ne(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new eV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="PersistentStream";class iI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new De(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(Uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ne(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JV extends iI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rV(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Qe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Qe.min():o.readTime?fs(o.readTime):Qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qp(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=qp(l)?{documents:oV(i,l)}:{query:aV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W0(i,o.resumeToken);const f=zp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Qe.min())>0){a.readTime=kf(i,o.snapshotVersion.toTimestamp());const f=zp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}return a})(this.serializer,e);const r=uV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.q_(n)}}class XV extends iI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iV(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sV(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{}class e2 extends ZV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Wp(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(ue.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Wp(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class n2{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ko(this)&&(Ne($o,"Restarting streams for network reachability change."),await(async function(l){const f=Ye(l);f.Ea.add(4),await Hu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await yh(f)})(this))}))})),this.Ra=new t2(r,s)}}async function yh(t){if(Ko(t))for(const e of t.da)await e(!0)}async function Hu(t){for(const e of t.da)await e(!1)}function oI(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tg(n)?Eg(n):lc(n).O_()&&bg(n,e))}function wg(t,e){const n=Ye(t),r=lc(n);n.Ia.delete(e),r.O_()&&aI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ko(n)&&n.Ra.set("Unknown"))}function bg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Y_(e)}function aI(t,e){t.Va.Ue(e),lc(t).Z_(e)}function Eg(t){t.Va=new YL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function Tg(t){return Ko(t)&&!lc(t).x_()&&t.Ia.size>0}function Ko(t){return Ye(t).Ea.size===0}function cI(t){t.Va=void 0}async function r2(t){t.Ra.set("Online")}async function s2(t){t.Ia.forEach(((e,n)=>{bg(t,e)}))}async function i2(t,e){cI(t),Tg(t)?(t.Ra.ha(e),Eg(t)):t.Ra.set("Unknown")}async function o2(t,e,n){if(t.Ra.set("Online"),e instanceof z0&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){Ne($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Df(t,r)}else if(e instanceof Fl?t.Va.Ze(e):e instanceof K0?t.Va.st(e):t.Va.tt(e),!n.isEqual(Qe.min()))try{const r=await rI(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,f)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),aI(i,l);const p=new Ci(d.target,l,f,d.sequenceNumber);bg(i,p)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){Ne($o,"Failed to raise snapshot:",r),await Df(t,r)}}async function Df(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await Hu(t),t.Ra.set("Offline"),n||(n=()=>rI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ne($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yh(t)}))}function uI(t,e){return e().catch((n=>Df(t,n,e)))}async function _h(t){const e=Ye(t),n=Bi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;a2(e);)try{const s=await BV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,c2(e,s)}catch(s){await Df(e,s)}lI(e)&&fI(e)}function a2(t){return Ko(t)&&t.Ta.length<10}function c2(t,e){t.Ta.push(e);const n=Bi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lI(t){return Ko(t)&&!Bi(t).x_()&&t.Ta.length>0}function fI(t){Bi(t).start()}async function u2(t){Bi(t).ra()}async function l2(t){const e=Bi(t);for(const n of t.Ta)e.ea(n.mutations)}async function f2(t,e,n){const r=t.Ta.shift(),s=dg.from(r,e,n);await uI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await _h(t)}async function h2(t,e){e&&Bi(t).X_&&await(async function(r,s){if((function(o){return WL(o)&&o!==ue.ABORTED})(s.code)){const i=r.Ta.shift();Bi(r).B_(),await uI(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await _h(r)}})(t,e),lI(t)&&fI(t)}async function $v(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ne($o,"RemoteStore received new credentials");const r=Ko(n);n.Ea.add(3),await Hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function d2(t,e){const n=Ye(t);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=(function(n,r,s){const i=Ye(n);return i.sa(),new JV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:r2.bind(null,t),t_:s2.bind(null,t),r_:i2.bind(null,t),H_:o2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Tg(t)?Eg(t):t.Ra.set("Unknown")):(await t.ma.stop(),cI(t))}))),t.ma}function Bi(t){return t.fa||(t.fa=(function(n,r,s){const i=Ye(n);return i.sa(),new XV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,t),r_:h2.bind(null,t),ta:l2.bind(null,t),na:f2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _h(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ig(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(ni("AsyncQueue",`${e}: ${t}`),uc(t))return new De(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.ga=new Bt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ja{constructor(e,n,r,s,i,o,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Ja(e,n,Ma.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class m2{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=Bv(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new De(ue.ABORTED,"Firestore shutting down"))}}function Bv(){return new Ho((t=>D0(t)),fh)}async function g2(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new p2,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ag(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sg(n)}async function y2(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _2(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Sg(n)}function v2(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sg(t){t.Ca.forEach((e=>{e.next()}))}var Xp,qv;(qv=Xp||(Xp={})).Ma="default",qv.Cache="cache";class w2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class dI{constructor(e){this.key=e}}class b2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=x0(e),this.tu=new Ma(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,p)=>{const y=s.get(d),v=hh(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;y&&v?y.data.isEqual(v.data)?E!==A&&(r.track({type:3,doc:v}),L=!0):this.su(y,v)||(r.track({type:2,doc:v}),L=!0,(l&&this.eu(v,l)>0||f&&this.eu(v,f)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),L=!0):y&&!v&&(r.track({type:1,doc:y}),L=!0,(l||f)&&(a=!0)),L&&(v?(o=o.add(v),i=A?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(v,E){const A=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:L})}};return A(v)-A(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,f=l!==this.Za;return this.Za=l,o.length!==0||f?{snapshot:new Ja(this.query,e.tu,i,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class E2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T2{constructor(e){this.key=e,this.hu=!1}}class I2{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ho((a=>D0(a)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Be.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A2(t,e,n=!0){const r=vI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await pI(r,e,n,!0),s}async function S2(t,e){const n=vI(t);await pI(n,e,!0,!1)}async function pI(t,e,n,r){const s=await qV(t.localStore,ls(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await R2(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&oI(t.remoteStore,s),a}async function R2(t,e,n,r,s){t.pu=(p,y,v)=>(async function(A,L,H,U){let P=L.view.ru(H);P.Cs&&(P=await Mv(A.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,P))));const x=U&&U.targetChanges.get(L.targetId),$=U&&U.targetMismatches.get(L.targetId)!=null,ne=L.view.applyChanges(P,A.isPrimaryClient,x,$);return Kv(A,L.targetId,ne.au),ne.snapshot})(t,p,y,v);const i=await Mv(t.localStore,e,!0),o=new b2(e,i.Qs),a=o.ru(i.documents),l=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(a,t.isPrimaryClient,l);Kv(t,n,f.au);const d=new E2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function C2(t,e,n){const r=Ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!fh(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wg(r.remoteStore,s.targetId),Zp(r,s.targetId)})).catch(cc)):(Zp(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function P2(t,e){const n=Ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function k2(t,e,n){const r=V2(t);try{const s=await(function(o,a){const l=Ye(o),f=bt.now(),d=a.reduce(((v,E)=>v.add(E.key)),at());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=si(),A=at();return l.Ns.getEntries(v,d).next((L=>{E=L,E.forEach(((H,U)=>{U.isValidDocument()||(A=A.add(H))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,E))).next((L=>{p=L;const H=[];for(const U of a){const P=BL(U,p.get(U.key).overlayedDocument);P!=null&&H.push(new Gi(U.key,P,T0(P.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(v,f,H,a)})).next((L=>{y=L;const H=L.applyToLocalDocumentSet(p,A);return l.documentOverlayCache.saveOverlays(v,L.batchId,H)}))})).then((()=>({batchId:y.batchId,changes:M0(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let f=o.Vu[o.currentUser.toKey()];f||(f=new Bt(ot)),f=f.insert(a,l),o.Vu[o.currentUser.toKey()]=f})(r,s.batchId,n),await Ku(r,s.changes),await _h(r.remoteStore)}catch(s){const i=Ag(s,"Failed to persist write");n.reject(i)}}async function mI(t,e){const n=Ye(t);try{const r=await $V(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Et(o.hu,14607):s.removedDocuments.size>0&&(Et(o.hu,42227),o.hu=!1))})),await Ku(n,r,e)}catch(r){await cc(r)}}function Hv(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=Ye(o);l.onlineState=a;let f=!1;l.queries.forEach(((d,p)=>{for(const y of p.Sa)y.va(a)&&(f=!0)})),f&&Sg(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O2(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Bt(Be.comparator);o=o.insert(i,On.newNoDocument(i,Qe.min()));const a=at().add(i),l=new mh(Qe.min(),new Map,new Bt(ot),o,a);await mI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Cg(r)}else await Yp(r.localStore,e,!1).then((()=>Zp(r,e,n))).catch(cc)}async function D2(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await UV(n.localStore,e);yI(n,r,null),gI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,s)}catch(s){await cc(s)}}async function x2(t,e,n){const r=Ye(t);try{const s=await(function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return l.mutationQueue.lookupMutationBatch(f,a).next((p=>(Et(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(f,p)))).next((()=>l.mutationQueue.performConsistencyCheck(f))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(f,d,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>l.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);yI(r,e,n),gI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ku(r,s)}catch(s){await cc(s)}}function gI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yI(t,e,n){const r=Ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||_I(t,r)}))}function _I(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cg(t))}function Kv(t,e,n){for(const r of n)r instanceof hI?(t.Ru.addReference(r.key,e),N2(t,r)):r instanceof dI?(Ne(Rg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_I(t,r.key)):Ke(19791,{wu:r})}function N2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ne(Rg,"New document in limbo: "+n),t.Eu.add(r),Cg(t))}function Cg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new T2(n)),t.du=t.du.insert(n,r),oI(t.remoteStore,new Ci(ls(k0(n.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Ku(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(f){s.push(f);const d=_g.As(l.targetId,f);i.push(d)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,f){const d=Ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(y=>le.forEach(y.Es,(v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>le.forEach(y.ds,(v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!uc(p))throw p;Ne(vg,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const v=d.Ms.get(y),E=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(y,A)}}})(r.localStore,i))}async function M2(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ne(Rg,"User change. New user:",e.toKey());const r=await nI(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new De(ue.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(n,r.Ls)}}function L2(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let s=at();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function vI(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O2.bind(null,e),e.Pu.H_=_2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function V2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FV(this.persistence,new MV,e.initialUser,this.serializer)}Cu(e){return new tI(yg.mi,this.serializer)}Du(e){return new KV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class F2 extends xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof Of,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new tI((r=>Of.mi(r,n)),this.serializer)}}class em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m2})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(function(i){return new YV(i)})(e.databaseInfo);return(function(i,o,a,l){return new e2(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new n2(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Hv(this.syncEngine,n,0)),(function(){return Fv.v()?new Fv:new zV})())}createSyncEngine(e,n){return(function(s,i,o,a,l,f,d){const p=new I2(s,i,o,a,l,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);Ne($o,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class $2{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ne(qi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ne(qi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Id(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(qi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await nI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j2(t);Ne(qi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$v(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>$v(e.remoteStore,s))),t._onlineComponents=e}async function j2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(qi,"Using user provided OfflineComponentProvider");try{await Id(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Id(t,new xf)}}else Ne(qi,"Using default OfflineComponentProvider"),await Id(t,new F2(void 0));return t._offlineComponents}async function wI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(qi,"Using user provided OnlineComponentProvider"),await zv(t,t._uninitializedComponentsProvider._online)):(Ne(qi,"Using default OnlineComponentProvider"),await zv(t,new em))),t._onlineComponents}function B2(t){return wI(t).then((e=>e.syncEngine))}async function q2(t){const e=await wI(t),n=e.eventManager;return n.onListen=A2.bind(null,e.syncEngine),n.onUnlisten=C2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),n}function H2(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,f){const d=new U2({next:y=>{d.Nu(),o.enqueueAndForget((()=>y2(i,p))),y.fromCache&&l.source==="server"?f.reject(new De(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new w2(a,d,{includeMetadataChanges:!0,qa:!0});return g2(i,p)})(await q2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firestore.googleapis.com",Gv=!0;class Qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EI,this.ssl=Gv}else this.host=e.host,this.ssl=e.ssl??Gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_V)throw new De(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zM;switch(r.type){case"firstParty":return new YM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Wv.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),Wv.delete(n),r.terminate())})(this),Promise.resolve()}}function K2(t,e,n,r={}){t=ri(t,vh);const s=sc(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(vT(`https://${a}`),wT("Firestore",!0)),i.host!==EI&&i.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Vi(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Cn.MOCK_USER;else{f=gD(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cn(p)}t._authCredentials=new WM(new f0(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($u(n,nn._jsonSchema))return new nn(e,r||null,new Be(Pt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class Mi extends fc{constructor(e,n,r){super(e,n,k0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Be(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function z2(t,e,...n){if(t=jt(t),h0("collection","path",e),t instanceof vh){const r=Pt.fromString(e,...n);return cv(r),new Mi(t,null,r)}{if(!(t instanceof nn||t instanceof Mi))throw new De(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return cv(r),new Mi(t.firestore,null,r)}}function TI(t,e,...n){if(t=jt(t),arguments.length===1&&(e=ig.newId()),h0("doc","path",e),t instanceof vh){const r=Pt.fromString(e,...n);return av(r),new nn(t,null,new Be(r))}{if(!(t instanceof nn||t instanceof Mi))throw new De(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return av(r),new nn(t.firestore,t instanceof Mi?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="AsyncQueue";class Jv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sI(this,"async_queue_retry"),this._c=()=>{const r=Td();r&&Ne(Yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Td();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ni;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;Ne(Yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",Xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ig.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ke(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Xv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hc extends vh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Jv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function W2(t,e){const n=typeof t=="object"?t:Lu(),r=typeof t=="string"?t:If,s=zi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pD("firestore");i&&K2(s,...i)}return s}function II(t){if(t._terminated)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G2(t),t._firestoreClient}function G2(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new dL(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,bI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(En.fromBase64String(e))}catch(n){throw new De(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:tn("string",wr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if($u(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:tn("string",hs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new De(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:tn("string",ds._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^__.*__$/;class Y2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class AI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class kg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SI(this.Ac)&&Q2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Cc(e,n,r,s=!1){return new kg({Ac:e,methodName:n,Dc:r,path:bn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new J2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Og("Data must be an object, but it was:",o,r);const a=CI(r,o);let l,f;if(i.merge)l=new or(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const y=tm(e,p,n);if(!o.contains(y))throw new De(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);kI(d,y)||d.push(y)}l=new or(d),f=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,f=o.fieldTransforms;return new Y2(new Qn(a),l,f)}class Eh extends Pg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function X2(t,e,n,r){const s=t.Cc(1,e,n);Og("Data must be an object, but it was:",s,r);const i=[],o=Qn.empty();Wi(r,((l,f)=>{const d=Dg(e,l,n);f=jt(f);const p=s.yc(d);if(f instanceof Eh)i.push(d);else{const y=zu(f,p);y!=null&&(i.push(d),o.set(d,y))}}));const a=new or(i);return new AI(o,a,s.fieldTransforms)}function Z2(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[tm(e,r,n)],l=[s];if(i.length%2!=0)throw new De(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)a.push(tm(e,i[y])),l.push(i[y+1]);const f=[],d=Qn.empty();for(let y=a.length-1;y>=0;--y)if(!kI(f,a[y])){const v=a[y];let E=l[y];E=jt(E);const A=o.yc(v);if(E instanceof Eh)f.push(v);else{const L=zu(E,A);L!=null&&(f.push(v),d.set(v,L))}}const p=new or(f);return new AI(d,p,o.fieldTransforms)}function eF(t,e,n,r=!1){return zu(n,t.Cc(r?4:3,e))}function zu(t,e){if(PI(t=jt(t)))return Og("Unsupported field value:",e,t),CI(t,e);if(t instanceof Pg)return(function(r,s){if(!SI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=zu(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:kf(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(s.serializer,i)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:W0(s.serializer,r._byteString)};if(r instanceof nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ds)return(function(o,a){return{mapValue:{fields:{[b0]:{stringValue:E0},[Af]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw a.Sc("VectorValues must only contain numeric values.");return fg(a.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${ah(r)}`)})(t,e)}function CI(t,e){const n={};return m0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,((r,s)=>{const i=zu(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function PI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof hs||t instanceof wr||t instanceof nn||t instanceof Pg||t instanceof ds)}function Og(t,e,n){if(!PI(n)||!d0(n)){const r=ah(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function tm(t,e,n){if((e=jt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return Dg(t,e);throw Nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const tF=new RegExp("[~\\*/\\[\\]]");function Dg(t,e,n){if(e.search(tF)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new De(ue.INVALID_ARGUMENT,a+t+l)}function kI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nF extends OI{data(){return super.data()}}function xg(t,e){return typeof e=="string"?Dg(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class sF extends Ng{}function Dj(t,e,...n){let r=[];e instanceof Ng&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Mg)).length,a=i.filter((l=>l instanceof Th)).length;if(o>1||o>0&&a>0)throw new De(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Th extends sF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return DI(e._query,n),new fc(e.firestore,e.converter,Hp(e._query,n))}_parse(e){const n=bh(e.firestore);return(function(i,o,a,l,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new De(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ew(p,d);const E=[];for(const A of p)E.push(Zv(l,i,A));y={arrayValue:{values:E}}}else y=Zv(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ew(p,d),y=eF(a,o,p,d==="in"||d==="not-in");return en.create(f,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xj(t,e,n){const r=e,s=xg("where",t);return Th._create(s,r,n)}class Mg extends Ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DI(o,l),o=Hp(o,l)})(e._query,n),new fc(e.firestore,e.converter,Hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zv(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new De(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&n.indexOf("/")!==-1)throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Be.isDocumentKey(r))throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gv(t,new Be(r))}if(n instanceof nn)return gv(t,n._key);throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function ew(t,e){if(!Array.isArray(t)||t.length===0)throw new De(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iF{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[Af].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new ds(n)}convertGeoPoint(e){return new hs(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);Et(Z0(r),9688,{name:e});const s=new bu(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||ni(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends OI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:tn("string",La._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Ul extends La{data(e={}){return super.data(e)}}class Va{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ul(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Ul(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Ul(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oF(a.type),doc:l,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:tn("string",Va._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class aF extends iF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Nj(t){t=ri(t,fc);const e=ri(t.firestore,hc),n=II(e),r=new aF(e);return rF(t._query),H2(n,t._query).then((s=>new Va(e,r,t,s)))}function cF(t,e,n){t=ri(t,nn);const r=ri(t.firestore,hc),s=xI(t.converter,e,n);return Ih(r,[RI(bh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Mj(t,e,n,...r){t=ri(t,nn);const s=ri(t.firestore,hc),i=bh(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof wh?Z2(i,"updateDoc",t._key,e,n,r):X2(i,"updateDoc",t._key,e),Ih(s,[o.toMutation(t._key,Ir.exists(!0))])}function Lj(t){return Ih(ri(t.firestore,hc),[new hg(t._key,Ir.none())])}function Vj(t,e){const n=ri(t.firestore,hc),r=TI(t),s=xI(t.converter,e);return Ih(n,[RI(bh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Ih(t,e){return(function(r,s){const i=new Ni;return r.asyncQueue.enqueueAndForget((async()=>k2(await B2(r),s,i))),i.promise})(II(t),e)}(function(e,n=!0){(function(s){ac=s})(ic),Sr(new ur("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new hc(new GM(r.getProvider("auth-internal")),new JM(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(f.options.projectId,d)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Jn(rv,sv,e),Jn(rv,sv,"esm2020")})();const NI="@firebase/installations",Lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e4,LI=`w:${Lg}`,VI="FIS_v2",uF="https://firebaseinstallations.googleapis.com/v1",lF=3600*1e3,fF="installations",hF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jo=new Ki(fF,hF,dF);function FI(t){return t instanceof Wr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI({projectId:t}){return`${uF}/projects/${t}/installations`}function $I(t){return{token:t.token,requestStatus:2,expiresIn:mF(t.expiresIn),creationTime:Date.now()}}async function jI(t,e){const r=(await e.json()).error;return jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pF(t,{refreshToken:e}){const n=BI(t);return n.append("Authorization",gF(e)),n}async function qI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mF(t){return Number(t.replace("s","000"))}function gF(t){return`${VI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UI(t),s=BI(t),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={fid:n,authVersion:VI,appId:t.appId,sdkVersion:LI},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qI(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:$I(f.authToken)}}else throw await jI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=/^[cdef][\w-]{21}$/,nm="";function wF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bF(t);return vF.test(n)?n:nm}catch{return nm}}function bF(t){return _F(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Map;function zI(t,e){const n=Ah(t);WI(n,e),EF(n,e)}function WI(t,e){const n=KI.get(t);if(n)for(const r of n)r(e)}function EF(t,e){const n=TF();n&&n.postMessage({key:t,fid:e}),IF()}let ko=null;function TF(){return!ko&&"BroadcastChannel"in self&&(ko=new BroadcastChannel("[Firebase] FID Change"),ko.onmessage=t=>{WI(t.data.key,t.data.fid)}),ko}function IF(){KI.size===0&&ko&&(ko.close(),ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="firebase-installations-database",SF=1,Bo="firebase-installations-store";let Ad=null;function Vg(){return Ad||(Ad=rh(AF,SF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bo)}}})),Ad}async function Mf(t,e){const n=Ah(t),s=(await Vg()).transaction(Bo,"readwrite"),i=s.objectStore(Bo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&zI(t,e.fid),e}async function GI(t){const e=Ah(t),r=(await Vg()).transaction(Bo,"readwrite");await r.objectStore(Bo).delete(e),await r.done}async function Sh(t,e){const n=Ah(t),s=(await Vg()).transaction(Bo,"readwrite"),i=s.objectStore(Bo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&zI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t){let e;const n=await Sh(t.appConfig,r=>{const s=RF(r),i=CF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===nm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RF(t){const e=t||{fid:wF(),registrationStatus:0};return QI(e)}function CF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kF(t)}:{installationEntry:e}}async function PF(t,e){try{const n=await yF(t,e);return Mf(t.appConfig,n)}catch(n){throw FI(n)&&n.customData.serverCode===409?await GI(t.appConfig):await Mf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kF(t){let e=await tw(t.appConfig);for(;e.registrationStatus===1;)await HI(100),e=await tw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fg(t);return r||n}return e}function tw(t){return Sh(t,e=>{if(!e)throw jo.create("installation-not-found");return QI(e)})}function QI(t){return OF(t)?{fid:t.fid,registrationStatus:0}:t}function OF(t){return t.registrationStatus===1&&t.registrationTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF({appConfig:t,heartbeatServiceProvider:e},n){const r=xF(t,n),s=pF(t,n),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={installation:{sdkVersion:LI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qI(()=>fetch(r,a));if(l.ok){const f=await l.json();return $I(f)}else throw await jI("Generate Auth Token",l)}function xF(t,{fid:e}){return`${UI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e=!1){let n;const r=await Sh(t.appConfig,i=>{if(!YI(i))throw jo.create("not-registered");const o=i.authToken;if(!e&&LF(o))return i;if(o.requestStatus===1)return n=NF(t,e),i;{if(!navigator.onLine)throw jo.create("app-offline");const a=FF(i);return n=MF(t,a),a}});return n?await n:r.authToken}async function NF(t,e){let n=await nw(t.appConfig);for(;n.authToken.requestStatus===1;)await HI(100),n=await nw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ug(t,e):r}function nw(t){return Sh(t,e=>{if(!YI(e))throw jo.create("not-registered");const n=e.authToken;return UF(n)?{...e,authToken:{requestStatus:0}}:e})}async function MF(t,e){try{const n=await DF(t,e),r={...e,authToken:n};return await Mf(t.appConfig,r),n}catch(n){if(FI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mf(t.appConfig,r)}throw n}}function YI(t){return t!==void 0&&t.registrationStatus===2}function LF(t){return t.requestStatus===2&&!VF(t)}function VF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lF}function FF(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function UF(t){return t.requestStatus===1&&t.requestTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fg(e);return r?r.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e=!1){const n=t;return await BF(n),(await Ug(n,e)).token}async function BF(t){const{registrationPromise:e}=await Fg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){if(!t||!t.options)throw Sd("App Configuration");if(!t.name)throw Sd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sd(t){return jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="installations",HF="installations-internal",KF=t=>{const e=t.getProvider("app").getImmediate(),n=qF(e),r=zi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},zF=t=>{const e=t.getProvider("app").getImmediate(),n=zi(e,JI).getImmediate();return{getId:()=>$F(n),getToken:s=>jF(n,s)}};function WF(){Sr(new ur(JI,KF,"PUBLIC")),Sr(new ur(HF,zF,"PRIVATE"))}WF();Jn(NI,Lg);Jn(NI,Lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="/firebase-messaging-sw.js",QF="/firebase-cloud-messaging-push-scope",XI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YF="https://fcmregistrations.googleapis.com/v1",ZI="google.c.a.c_id",JF="google.c.a.c_l",XF="google.c.a.ts",ZF="google.c.a.e",rw=1e4;var sw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(sw||(sw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Au;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Au||(Au={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="fcm_token_details_db",t4=5,iw="fcm_token_object_Store";async function n4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Rd))return null;let e=null;return(await rh(Rd,t4,{upgrade:async(r,s,i,o)=>{if(s<2||!r.objectStoreNames.contains(iw))return;const a=o.objectStore(iw),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(s===2){const f=l;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Fs(f.vapidKey)}}}else if(s===3){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fs(f.auth),p256dh:Fs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fs(f.vapidKey)}}}else if(s===4){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fs(f.auth),p256dh:Fs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fs(f.vapidKey)}}}}}})).close(),await md(Rd),await md("fcm_vapid_details_db"),await md("undefined"),r4(e)?e:null}function r4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebase-messaging-database",i4=1,Su="firebase-messaging-store";let Cd=null;function eA(){return Cd||(Cd=rh(s4,i4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Su)}}})),Cd}async function o4(t){const e=tA(t),r=await(await eA()).transaction(Su).objectStore(Su).get(e);if(r)return r;{const s=await n4(t.appConfig.senderId);if(s)return await $g(t,s),s}}async function $g(t,e){const n=tA(t),s=(await eA()).transaction(Su,"readwrite");return await s.objectStore(Su).put(e,n),await s.done,e}function tA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dn=new Ki("messaging","Messaging",a4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){const n=await Bg(t),r=nA(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(jg(t.appConfig),s)).json()}catch(o){throw Dn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-subscribe-no-token");return i.token}async function u4(t,e){const n=await Bg(t),r=nA(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${jg(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Dn.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-update-no-token");return i.token}async function l4(t,e){const r={method:"DELETE",headers:await Bg(t)};try{const i=await(await fetch(`${jg(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw Dn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Dn.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function jg({projectId:t}){return`${YF}/projects/${t}/registrations`}async function Bg({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function nA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==XI&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=10080*60*1e3;async function h4(t){const e=await p4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Fs(e.getKey("auth")),p256dh:Fs(e.getKey("p256dh"))},r=await o4(t.firebaseDependencies);if(r){if(m4(r.subscriptionOptions,n))return Date.now()>=r.createTime+f4?d4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await l4(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return ow(t.firebaseDependencies,n)}else return ow(t.firebaseDependencies,n)}async function d4(t,e){try{const n=await u4(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await $g(t.firebaseDependencies,r),n}catch(n){throw n}}async function ow(t,e){const r={token:await c4(t,e),createTime:Date.now(),subscriptionOptions:e};return await $g(t,r),r.token}async function p4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e4(e)})}function m4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return g4(e,t),y4(e,t),_4(e,t),e}function g4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function y4(t,e){e.data&&(t.data=e.data)}function _4(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){return typeof t=="object"&&!!t&&ZI in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){if(!t||!t.options)throw Pd("App Configuration Object");if(!t.name)throw Pd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Pd(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Pd(t){return Dn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=w4(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t){try{t.swRegistration=await navigator.serviceWorker.register(GF,{scope:QF}),t.swRegistration.update().catch(()=>{}),await T4(t.swRegistration)}catch(e){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function T4(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${rw} ms`)),rw),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){if(!e&&!t.swRegistration&&await E4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=XI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){if(!navigator)throw Dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Dn.create("permission-blocked");return await A4(t,e?.vapidKey),await I4(t,e?.serviceWorkerRegistration),h4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e,n){const r=R4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ZI],message_name:n[JF],message_time:n[XF],message_device_time:Math.floor(Date.now()/1e3)})}function R4(t){switch(t){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Au.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(aw(n)):t.onMessageHandler.next(aw(n)));const r=n.data;v4(r)&&r[ZF]==="1"&&await S4(t,n.messageType,r)}const cw="@firebase/messaging",uw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=t=>{const e=new b4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>C4(e,n)),e},k4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>rA(e,r)}};function O4(){Sr(new ur("messaging",P4,"PUBLIC")),Sr(new ur("messaging-internal",k4,"PRIVATE")),Jn(cw,uw),Jn(cw,uw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(){try{await zm()}catch{return!1}return typeof window<"u"&&Km()&&ET()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){if(!navigator)throw Dn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t=Lu()){return D4().then(e=>{if(!e)throw Dn.create("unsupported-browser")},e=>{throw Dn.create("indexed-db-unsupported")}),zi(jt(t),"messaging").getImmediate()}async function M4(t,e){return t=jt(t),rA(t,e)}function L4(t,e){return t=jt(t),x4(t,e)}O4();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",V4="firebase_id",F4="origin",U4=60*1e3,$4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new nh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ar=new Ki("analytics","Analytics",j4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){if(!t.startsWith(qg)){const e=ar.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function sA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function q4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function H4(t,e){const n=q4("firebase-js-sdk-policy",{createScriptURL:B4}),r=document.createElement("script"),s=`${qg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function K4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function z4(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await sA(n)).find(f=>f.measurementId===s);l&&await e[l.appId]}}catch(a){Xn.error(a)}t("config",s,i)}async function W4(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await sA(n);for(const l of o){const f=a.find(p=>p.measurementId===l),d=f&&e[f.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Xn.error(i)}}function G4(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await W4(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await z4(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,f]=o;t("get",a,l,f)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Xn.error(a)}}return s}function Q4(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=G4(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Y4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=30,X4=1e3;class Z4{constructor(e={},n=X4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iA=new Z4;function eU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tU(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:eU(n)},s=$4.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();a.error?.message&&(o=a.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function nU(t,e=iA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ar.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ar.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iU;return setTimeout(async()=>{a.abort()},U4),oA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function oA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=iA){const{appId:i,measurementId:o}=t;try{await rU(r,e)}catch(a){if(o)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:i,measurementId:o};throw a}try{const a=await tU(t);return s.deleteThrottleMetadata(i),a}catch(a){const l=a;if(!sU(l)){if(s.deleteThrottleMetadata(i),o)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw a}const f=Number(l?.customData?.httpStatus)===503?k_(n,s.intervalMillis,J4):k_(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,d),Xn.debug(`Calling attemptFetch again in ${f} millis`),oA(t,d,r,s)}}function rU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sU(t){if(!(t instanceof Wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(){if(Km())try{await zm()}catch(t){return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cU(t,e,n,r,s,i,o){const a=nU(t);a.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Xn.error(y)),e.push(a);const l=aU().then(y=>{if(y)return r.getId()}),[f,d]=await Promise.all([a,l]);Y4(i)||H4(i,f.measurementId),s("js",new Date);const p=o?.config??{};return p[F4]="firebase",p.update=!0,d!=null&&(p[V4]=d),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},lw=[];const fw={};let kd="dataLayer",lU="gtag",hw,aA,dw=!1;function fU(){const t=[];if(bT()&&t.push("This is a browser extension environment."),ET()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ar.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function hU(t,e,n){fU();const r=t.options.appId;if(!r)throw ar.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ar.create("no-api-key");if(tu[r]!=null)throw ar.create("already-exists",{id:r});if(!dw){K4(kd);const{wrappedGtag:i,gtagCore:o}=Q4(tu,lw,fw,kd,lU);aA=i,hw=o,dw=!0}return tu[r]=cU(t,lw,fw,e,hw,kd,n),new uU(t)}function dU(t=Lu()){t=jt(t);const e=zi(t,Lf);return e.isInitialized()?e.getImmediate():pU(t)}function pU(t,e={}){const n=zi(t,Lf);if(n.isInitialized()){const s=n.getImmediate();if(Vi(e,n.getOptions()))return s;throw ar.create("already-initialized")}return n.initialize({options:e})}function mU(t,e,n,r){t=jt(t),oU(aA,tu[t.app.options.appId],e,n,r).catch(s=>Xn.error(s))}const pw="@firebase/analytics",mw="0.10.18";function gU(){Sr(new ur(Lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return hU(r,s,n)},"PUBLIC")),Sr(new ur("analytics-internal",t,"PRIVATE")),Jn(pw,mw),Jn(pw,mw,"esm2020");function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,s,i)=>mU(n,r,s,i)}}catch(n){throw ar.create("interop-component-reg-failed",{reason:n})}}}gU();const cA=Nu("settingsApp",{state:()=>({theme:"light",language:"pt-BR",user:null,location:{city:null,state:null,lat:null,log:null,confirmed:!1},notifications:{status:"loading",fcmToken:null},install:{canInstall:!1,deferredPrompt:null}}),getters:{pendingConfigsCount(t){let e=0;return t.notifications.status!=="granted"&&e++,t.install.canInstall&&e++,t.user===null&&e++,e}},actions:{async init(){"Notification"in window&&navigator.permissions&&navigator.permissions.query&&(this.notifications.status=Notification.permission,navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{console.log("[settings.js] Permisso de notificao alterada:",t.state),this.notifications.status=t.state}})),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.install.deferredPrompt=t,this.install.canInstall=!0})},userChanged(t){this.user=t},sendMessage(t){console.log("[Settings Messaging] Mensagem recebida:",t),t.notification&&"Notification"in window&&Notification.permission==="granted"&&new Notification(t.notification.title,{body:t.notification.body,icon:t.notification.icon||"/favicon.ico"})}},persist:{key:"settings-app",storage:localStorage,paths:["location","language","theme","user"]}}),yU=pn(async()=>{let t,e;const n={apiKey:"AIzaSyDjh-kSamZSSOA1pEwMuCB1HZxiZBgCaVE",authDomain:"agenda-408113.firebaseapp.com",projectId:"agenda-408113",storageBucket:"agenda-408113.appspot.com",messagingSenderId:"865568496873",appId:"1:865568496873:web:66e24b202af5ba7f1b6478",measurementId:"G-KDP8RZ0Z19"},r="BJt_lJHggy9DmtbU64-umpjs4jgfSZgBG21yBlXHM_rh-71-SAT27MuiWFwuNTivWIwQAHzo-CTYL3xBaCi01Rc",s=Np(n),i=cA(),o=HM(s),a=Ft(null);let l=null;try{[t,e]=Tr(()=>ON(o,GT)),await t,e(),console.log("Persistncia de sesso configurada para browserLocalPersistence.")}catch(E){console.error("Erro ao configurar a persistncia de sesso:",E)}const f=W2(s),d=z2(f,"events"),p=async E=>{try{const A=TI(f,"users",E.uid);await cF(A,E,{merge:!0}),console.log("Perfil do usurio atualizado com sucesso no Firestore.")}catch(A){console.error("Erro ao atualizar perfil do usurio no Firestore:",A)}};NN(o,async E=>{if(E){a.value=E;const A={uid:E.uid,displayName:E.displayName,email:E.email,photoURL:E.photoURL,lastLogin:bt.now(),emailVerified:E.emailVerified||!1,createdAt:E.metadata?.creationTime?bt.fromDate(new Date(E.metadata.creationTime)):bt.now(),lastLoginAt:E.metadata?.lastSignInTime?bt.fromDate(new Date(E.metadata.lastSignInTime)):bt.now(),phoneNumber:E.phoneNumber||null,...i.location};i.userChanged(A),p(A)}});const y=async()=>{try{return await ZN(o,new Bs),window.location.reload(),!0}catch(E){console.error("Erro ao fazer login com Google:",E)}},v=async()=>{try{return await o.signOut(),console.warn("Usurio desconectado:",i.user.uid),i.user.uid=null,i.userChanged(a.value),!0}catch(E){console.error("Erro durante o logout:",E)}};if("Notification"in window&&"serviceWorker"in navigator&&Notification.permission==="granted")try{const E=([t,e]=Tr(()=>navigator.serviceWorker.getRegistration()),t=await t,e(),t);if(!E){console.warn("[Firebase Messaging] Nenhum Service Worker registrado.");return}const A=xx().length?Lu():Np(n);l=N4(A),dU(A),i.notifications.fcmToken=([t,e]=Tr(()=>M4(l,{vapidKey:r,serviceWorkerRegistration:E})),t=await t,e(),t),L4(l,i.sendMessage)}catch(E){console.error("[Firebase Messaging] Erro ao inicializar:",E)}else console.log("[Firebase Messaging] Ambiente ou permisso inadequada!");return{provide:{session:{firebaseAuth:o,firebaseDb:f,eventsCollection:d,currentUser:a,loginWithGoogle:y,logoutWithGoogle:v},notifications:{fcmToken:i.notifications.fcmToken,messaging:l}}}});function gw(t,e="operao"){if(t?.error){console.error(`Erro ao ${e}:`,t.error);const n=t.error.code;throw n===401?(console.error("Token invlido ou expirado."),new Error("Token invlido ou expirado.")):n===403?(console.error("Acesso negado ao calendrio."),new Error("Acesso negado ao calendrio.")):n===404?(console.error("Calendrio no encontrado."),new Error("Calendrio no encontrado.")):n===500?(console.error("Erro interno do servidor."),new Error("Erro interno do servidor.")):new Error(t.error.message)}}function _U(){const t=new Date,e=new Date;return e.setDate(t.getDate()+70),{today:t.toISOString().split("T")[0],future:e.toISOString().split("T")[0]}}function yw(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())}function vU(t){return t.startsWith("start")||t.startsWith("end")||t.startsWith("calendarIDs")}function da(t){return(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function wU(t,e){let n=Array.isArray(t)?t:[];const{search:r,title:s,locale:i,date:o}=e;if(r){const a=da(r),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""} ${f.location||""} ${f.description||""}`,p=da(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(s){const a=da(s),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""}`,p=da(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(i){const a=da(i),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.location||""}`,p=da(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}return o&&(n=n.filter(a=>{const l=a.start?.date||(a.start?.dateTime?a.start.dateTime.split("T")[0]:void 0);return o.startsWith(l)})),n??[]}function bU(t){try{const e=["br","p","b","strong","i","em"];let n=t.replace(/[\n\r]/g,"<br />");return n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(r,s)=>e.includes(s.toLowerCase())?r:""),n=n.replace(/<([a-z][a-z0-9]*)\b[^>]*>/gi,"<$1>"),n=n.replace(/&nbsp;/g," "),n=n.replace(/\u00A0/g," "),n}catch{return""}}function Fj(t){try{return[[/(ES)\b/g,"O"],[/(ES)\b/g,"O"],[/(AIS)\b/g,"AL"],[/(EIS)\b/g,"EL"],[/(IS)\b/g,"IL"],[/(US)\b/g,"U"],[/(OS)\b/g,"O"],[/(AS)\b/g,"A"],[/(ES)\b/g,"E"],[/(S)\b/g,""]].reduce((n,[r,s])=>n.replace(r,s),t)}catch{return""}}const{today:EU,future:TU}=_U(),IU=Nu("agenda",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],events:[],filters:{calendarIDs:[],title:"",locale:"",search:"",date:"",start:EU,end:TU}}),persist:{paths:["calendars","titles","locales","desc","events","filters"]},getters:{eventsLocales(t){const e=new Set;return t.events.forEach(n=>{n.location&&typeof n.location=="string"&&n.location.trim()&&e.add(n.location.trim())}),Array.from(e).sort((n,r)=>n.localeCompare(r,"pt-BR"))},eventsFiltered(t){return wU(t.events,t.filters)}},actions:{setLoading(t){this.loading=t},async awaitGapi(){for(let t=0;t<30;t++){if(window&&window?.gapi?.client?.calendar)return;await new Promise(e=>setTimeout(e,200))}throw new Error("Google Calendar API no carregou aps 30 tentativas.")},async fetchGoogleCalendars(){this.setLoading(!0);try{await this.awaitGapi();const{result:t}=await window.gapi.client.calendar.calendarList.list();return gw(t,"buscar calendrios"),this.calendars=(t.items||[]).map(e=>{let n=e.description||"";return n=n.replace(/<(?!\/?(b|br|p|u|i|em)\b)[^>]*>/gi,"").replace(/<(b|br|p|u|i|em)\s+[^>]*>/gi,"<$1>"),{...e,description:bU(n)}}),this.calendars}finally{this.setLoading(!1)}},async fetchGoogleEvents(t=null,e={}){this.setLoading(!0);try{if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const n=[];let r;const s=t||this.filters.calendarIDs;for(const i of s)do{const o={calendarId:i,timeMin:e.timeMin||this.filters.start+"T00:00:00Z",timeMax:e.timeMax||this.filters.end+"T23:59:59Z",showDeleted:!1,singleEvents:!0,maxResults:e.maxResults||1e4,orderBy:"startTime",...r&&{pageToken:r}},{result:a}=await window.gapi.client.calendar.events.list(o);gw(a,"buscar eventos"),a?.items?.length&&n.push(...a.items.map(l=>({calendarId:i,...l}))),r=a.nextPageToken}while(r);return JSON.stringify(this.events)!==JSON.stringify(n)&&(this.events=n),n}finally{this.setLoading(!1)}},async createGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:n}=await window.gapi.client.calendar.events.insert({calendarId:t,resource:e});return n&&!this.events.some(r=>r.id===n.id)&&this.events.unshift({calendarId:t,...n}),n},async updateGoogleEvent(t,e,n){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:r}=await window.gapi.client.calendar.events.update({calendarId:t,eventId:e,resource:n});if(r){const s=this.events.findIndex(i=>i.id===e);s!==-1&&JSON.stringify(this.events[s])!==JSON.stringify(r)&&(this.events[s]={calendarId:t,...r})}return r},async deleteGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");await window.gapi.client.calendar.events.delete({calendarId:t,eventId:e});const n=this.events.findIndex(r=>r.id===e);n!==-1&&this.events.splice(n,1)},async handleFilterChange(t){this.setLoading(!0);try{const{start:e,end:n}=t.filters;if(!yw(e)||!yw(n))throw t.events=[],new Error("Datas invlidas. Use o formato yyyy-mm-dd.");if(e>n)throw t.events=[],new Error("A data inicial deve ser menor ou igual  data final.");await this.fetchGoogleCalendars(),await this.fetchGoogleEvents()}finally{this.setLoading(!1)}},init(){this.$subscribe(async(t,e)=>{console.log("Mutation na agenda:",t);try{t.storeId==="agenda"&&t?.events?.key&&vU(t.events.key)&&await this.handleFilterChange(e)}catch(n){console.log("Erro ao iniciar o monitor de mudanas na agenda:",n)}},{detached:!0})}}}),AU=globalThis.setInterval;async function SU(t){const e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():null}const RU=Nu("auth",{state:()=>({user:{name:"",email:"",picture:"",token:"",expires_in:0,expires_at:Date.now(),rawUserInfo:{},expires_countdown:0}}),actions:{client:null,tokenClient:null,configs:{},setUserFromToken(t){this.$patch(e=>{e.user.name=t.name||"",e.user.email=t.email||"",e.user.picture=t.picture||"",e.user.token=t.access_token||"",e.user.expires_in=t.expires_in||0,e.user.expires_at=Date.now()+(t.expires_in?t.expires_in*1e3:0),e.user.rawUserInfo=t.rawUserInfo||{}}),this.startCountdown()},clearToken(){this.user.token&&(this.user.token="")},clearUser(){this.$patch(t=>{t.user.token="",t.user.expires_in=0,t.user.expires_at=Date.now(),t.user.rawUserInfo={},t.user.expires_countdown=0}),this.stopCountdown()},startCountdown(){this.user&&this.user.token&&this.user.expires_at>Date.now()?(this.stopCountdown(),this.updateCountdown(),this.countdownInterval=AU(this.updateCountdown,1e3)):(this.clearToken(),this.user.expires_countdown=0)},stopCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null},updateCountdown(){const t=Math.max(0,Math.floor((this.user.expires_at-Date.now())/1e3));this.user.expires_countdown=t,t===0&&(this.clearToken(),this.stopCountdown())},async init({clientId:t,apiKey:e,discoveryDocs:n,scopes:r}){this.configs={clientId:t,apiKey:e,discoveryDocs:n,scopes:r};let s=0;for(;(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)&&s<50;)await new Promise(i=>setTimeout(i,100)),s++;if(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)throw new Error("Google API no carregada. Verifique se o script do Google API foi includo.");await new Promise(i=>window.gapi.load("client",i)),await window.gapi.client.init({apiKey:this.configs.apiKey,discoveryDocs:this.configs.discoveryDocs}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.configs.clientId,scope:this.configs.scopes,callback:""}),this.user.token&&this.user.expires_at&&this.user.expires_at>Date.now()&&window.gapi.client.setToken({access_token:this.user.token}),this.startCountdown()},async signIn({callback:t,errorCallback:e}={}){if(!this.tokenClient)throw new Error("Google Auth no inicializado. Chame initGoogleAuth antes.");this.tokenClient.callback=async n=>{if(n.error){e&&e(n);return}const r=await SU(n.access_token);this.setUserFromToken({...n,name:r?.name,email:r?.email,picture:r?.picture,expires_in:n.expires_in,rawUserInfo:r}),t&&t(this.user)},this.tokenClient.requestAccessToken({prompt:"consent"})},signOut(){const t=window.gapi?.client?.getToken?.();t&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken("")),this.clearUser()}},persist:{paths:["user"]}});var Od,_w;function uA(){if(_w)return Od;_w=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Od=t,Od}var Dd,vw;function CU(){if(vw)return Dd;vw=1;var t=typeof Lc=="object"&&Lc&&Lc.Object===Object&&Lc;return Dd=t,Dd}var xd,ww;function lA(){if(ww)return xd;ww=1;var t=CU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return xd=n,xd}var Nd,bw;function PU(){if(bw)return Nd;bw=1;var t=lA(),e=function(){return t.Date.now()};return Nd=e,Nd}var Md,Ew;function kU(){if(Ew)return Md;Ew=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Md=e,Md}var Ld,Tw;function OU(){if(Tw)return Ld;Tw=1;var t=kU(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Ld=n,Ld}var Vd,Iw;function fA(){if(Iw)return Vd;Iw=1;var t=lA(),e=t.Symbol;return Vd=e,Vd}var Fd,Aw;function DU(){if(Aw)return Fd;Aw=1;var t=fA(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var a=n.call(o,s),l=o[s];try{o[s]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(a?o[s]=l:delete o[s]),d}return Fd=i,Fd}var Ud,Sw;function xU(){if(Sw)return Ud;Sw=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Ud=n,Ud}var $d,Rw;function NU(){if(Rw)return $d;Rw=1;var t=fA(),e=DU(),n=xU(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?e(a):n(a)}return $d=o,$d}var jd,Cw;function MU(){if(Cw)return jd;Cw=1;function t(e){return e!=null&&typeof e=="object"}return jd=t,jd}var Bd,Pw;function LU(){if(Pw)return Bd;Pw=1;var t=NU(),e=MU(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return Bd=r,Bd}var qd,kw;function VU(){if(kw)return qd;kw=1;var t=OU(),e=uA(),n=LU(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=i.test(f);return p||o.test(f)?a(f.slice(2),p?2:8):s.test(f)?r:+f}return qd=l,qd}var Hd,Ow;function FU(){if(Ow)return Hd;Ow=1;var t=uA(),e=PU(),n=VU(),r="Expected a function",s=Math.max,i=Math.min;function o(a,l,f){var d,p,y,v,E,A,L=0,H=!1,U=!1,P=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(H=!!f.leading,U="maxWait"in f,y=U?s(n(f.maxWait)||0,l):y,P="trailing"in f?!!f.trailing:P);function x(R){var Pe=d,$e=p;return d=p=void 0,L=R,v=a.apply($e,Pe),v}function $(R){return L=R,E=setTimeout(S,l),H?x(R):v}function ne(R){var Pe=R-A,$e=R-L,be=l-Pe;return U?i(be,y-$e):be}function D(R){var Pe=R-A,$e=R-L;return A===void 0||Pe>=l||Pe<0||U&&$e>=y}function S(){var R=e();if(D(R))return I(R);E=setTimeout(S,ne(R))}function I(R){return E=void 0,P&&d?x(R):(d=p=void 0,v)}function k(){E!==void 0&&clearTimeout(E),L=0,d=A=p=E=void 0}function V(){return E===void 0?v:I(e())}function M(){var R=e(),Pe=D(R);if(d=arguments,p=this,A=R,Pe){if(E===void 0)return $(A);if(U)return clearTimeout(E),E=setTimeout(S,l),x(A)}return E===void 0&&(E=setTimeout(S,l)),v}return M.cancel=k,M.flush=V,M}return Hd=o,Hd}var UU=FU();const $U=hT(UU),Pi=(t="")=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),jU=(t,e)=>{if(!Array.isArray(t)||!e)return[];let n=t;const{search:r,title:s,locale:i,date:o,start:a,end:l,calendars:f=[]}=e;if(f.length){const d=new Set(f.map(Pi));n=n.filter(p=>d.has(p.normalizedList))}if(o){const d=o.slice(0,10);n=n.filter(p=>p.date instanceof Date&&p.date.toISOString().startsWith(d))}else{if(a){const d=new Date(a+"T00:00:00");n=n.filter(p=>p.date>=d)}if(l){const d=new Date(l+"T23:59:59");n=n.filter(p=>p.date<=d)}}if(r){const p=Pi(r).replace(/\bou\b/gi,",").split(/,|\s+/).map(y=>y.trim()).filter(Boolean).map(y=>new RegExp(`\\b${y}`,"i"));n=n.filter(y=>{const v=`${y.normalizedTitle||""} ${y.normalizedLocale||""} ${y.normalizedDesc||""}`;return p.every(E=>E.test(v))})}if(s){const d=new RegExp(Pi(s),"i");n=n.filter(p=>d.test(p.normalizedTitle))}if(i){const d=new RegExp(`^${Pi(i)}`,"i");n=n.filter(p=>d.test(p.normalizedLocale))}return n};$U((t,e,n)=>{const r=jU(t,e);n(r)},1e3);const Kd={date:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),time:new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:new Intl.DateTimeFormat("pt-BR",{weekday:"short"})};function BU(t){const e=t.date?new Date(t.date):null,n=t.title==="AVISOS  IRMANDADE";t.noDate=t.desc.includes("!nodate"),t.noDate&&(t.desc=t.desc.replace(/!nodate/gi,"").trim());const r=e&&!n&&!t.noDate,s=e&&e.getHours()>=3,{title:i,locale:o,desc:a,list:l}=t,f={...t,onDate:e};return r?(f.formatDate=Kd.date.format(e),f.formatWeek=Kd.weekday.format(e).replace(".","")):(f.formatDate="",f.formatWeek=""),r&&s?f.formatTime=Kd.time.format(e):f.formatTime="",f.normalizedTitle=Pi(i),f.normalizedLocale=Pi(o),f.normalizedDesc=Pi(a),f.normalizedList=Pi(l),f.desc=(a||"").replace(/<(?!\/?(b|br)\b)[^>]*>/gi,""),f.date=e,f.end=new Date(t.end),f}const qU=Nu("lista",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],allEvents:[]}),persist:{paths:["calendars","titles","locales","desc","allEvents"]},actions:{setLoading(t){this.loading=t},async loadEventsFromFile(){this.setLoading(!0);try{if(!this.allEvents?.length)try{let t;if(t=await $fetch(`/data/data.json?v=${new Date().toISOString().replace(/\D/g,"")}`),t?.eventos){const e=(t.eventos.items||[]).map(BU);this.locales=t.eventos.locales||[],this.titles=t.eventos.titles||[],this.desc=t.eventos.desc||[],this.allEvents=e}}catch(t){console.error("Erro ao carregar eventos:",t)}}finally{this.setLoading(!1),console.log("Lista inicializada com sucesso!")}},async init(){console.warn("Inicializando lista..."),this.loadEventsFromFile()}}}),HU=Nu("tags",{state:()=>({tags:[],defaultTags:[],suggestionsTags:[]}),persist:{paths:["tags","defaultTags","suggestionsTags"]},actions:{async loadTagsFromFile(){if(!this.tags.length)try{if(!navigator.onLine){const i=await(await caches.open("v1")).match("/data/tags.json");if(i){const o=await i.json();this.tags=o.tags||[],this.defaultTags=o.defaultTags||[],this.suggestionsTags=o.suggestionsTags||[]}return}const{data:t,status:e,error:n}=await __(`/data/tags.json?v=${new Date().toISOString().replace(/\D/g,"")}`,{key:"tags-data",server:!1},"$Y5ByR0upLZ");this.tags=t.value.tags||[],this.defaultTags=t.value.defaultTags||[],this.suggestionsTags=t.value.suggestionsTags||[];const{data:r}=await __("/data/tags-circulares.json",{key:"tags-circulares",server:!1},"$MflRSbdvcv");this.tags=this.tags.concat(r.value.tags||[]),e.value==="success"&&t.value?(await caches.open("v1")).put("/data/tags.json",new Response(JSON.stringify(t.value),{headers:{"Content-Type":"application/json"}})):console.error("Erro ao carregar tags: ",n)}catch(t){console.error("Falha ao carregar tags:",t)}},async init(){this.loadTagsFromFile()}}}),KU=()=>({agenda:IU(),lista:qU(),auth:RU(),tags:HU(),settings:cA()}),zU=pn({name:"init-app",setup(){},hooks:{"app:mounted":()=>{const{auth:t,agenda:e,settings:n}=KU();e.init(),n.init(),t.init({clientId:"865568496873-o4enb1hhvpmj2unq7v9n6dcg94h5itp6.apps.googleusercontent.com",apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scopes:"openid profile email https://www.googleapis.com/auth/calendar"})}}}),WU=pn(async()=>{let t,e;if("serviceWorker"in navigator){try{const n=([t,e]=Tr(()=>navigator.serviceWorker.register("/service-worker.js")),t=await t,e(),t);console.log("Service Worker registrado com sucesso: ",n.scope),n.addEventListener("updatefound",()=>{const r=n.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova verso do Service Worker disponvel. ")})})}catch(n){console.error("Falha no registro do Service Worker: ",n)}navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("O Service Worker ativo mudou. "),window.location.reload()})}}),Wu={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Xa={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Hn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},GU={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},QU={dangerouslyHTMLString:!1,multiple:!0,position:Wu.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},YU={rtl:!1,newestOnTop:!1,toastClassName:""},hA={...QU,...YU};Hn.DEFAULT;var wt=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(wt||{}),rm=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(rm||{});const JU={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},XU={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},ZU={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},e$={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Dw="Toastify--animate Toastify__none-enter";function dA(t,e=!1){var n;let r=JU;if(!t||typeof t=="string")switch(t){case"flip":r=e$;break;case"zoom":r=ZU;break;case"slide":r=XU;break}else r=t;if(e)r.enter=Dw;else if(r.enter===Dw){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function t$(t){return t.containerId||String(t.position)}const Rh="will-unmount";function n$(t=Wu.TOP_RIGHT){return!!document.querySelector(`.${wt.CSS_NAMESPACE}__toast-container--${t}`)}function r$(t=Wu.TOP_RIGHT){return`${wt.CSS_NAMESPACE}__toast-container--${t}`}function s$(t,e,n=!1){const r=[`${wt.CSS_NAMESPACE}__toast-container`,`${wt.CSS_NAMESPACE}__toast-container--${t}`,n?`${wt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Fa(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function i$(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:i={}}=t,o=wt.CSS_NAMESPACE,a=r$(n),l=document.querySelector(`.${o}`),f=document.querySelector(`.${a}`),d=!!f&&!((e=f.className)!=null&&e.includes(Rh)),p=l||document.createElement("div"),y=document.createElement("div");y.className=s$(n,r,s),y.dataset.testid=`${wt.CSS_NAMESPACE}__toast-container--${n}`,y.id=t$(t);for(const v in i)if(Object.prototype.hasOwnProperty.call(i,v)){const E=i[v];y.style[v]=E}return l||(p.className=wt.CSS_NAMESPACE,document.body.appendChild(p)),d||p.appendChild(y),y}function sm(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),i=document.getElementById(s);i&&i.removeEventListener("animationend",sm,!1);try{Ru[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Ru[s],delete yn[s]}catch{}}const Ru=un({});function o$(t,e){const n=document.getElementById(String(e));n&&(Ru[n.id]=t)}function im(t,e=!0){const n=String(t);if(!Ru[n])return;const r=document.getElementById(n);r&&r.classList.add(Rh),e?(c$(t),r&&r.addEventListener("animationend",sm,!1)):sm(n),_s.items=_s.items.filter(s=>s.containerId!==t)}function a$(t){for(const e in Ru)im(e,t);_s.items=[]}function pA(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...dA(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function c$(t){for(const e in yn)if(e===t)for(const n of yn[e]||[])pA(n)}function u$(t){const e=Za().find(n=>n.toastId===t);return e?.containerId}function Hg(t){return document.getElementById(t)}function l$(t){const e=Hg(t.containerId);return e&&e.classList.contains(Rh)}function xw(t){var e;const n=Li(t.content)?Ge(t.content.props):null;return n??Ge((e=t.data)!=null?e:{})}function f$(t){return t?_s.items.filter(e=>e.containerId===t).length>0:_s.items.length>0}function h$(){if(_s.items.length>0){const t=_s.items.shift();$l(t?.toastContent,t?.toastProps)}}const yn=un({}),_s=un({items:[]});function Za(){const t=Ge(yn);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function d$(t){return Za().find(e=>e.toastId===t)}function $l(t,e={}){if(l$(e)){const n=Hg(e.containerId);n&&n.addEventListener("animationend",om.bind(null,t,e),!1)}else om(t,e)}function om(t,e={}){const n=Hg(e.containerId);n&&n.removeEventListener("animationend",om.bind(null,t,e),!1);const r=yn[e.containerId]||[],s=r.length>0;if(!s&&!n$(e.position)){const i=i$(e),o=sE(x$,e);e.useHandler&&e.useHandler(o),o.mount(i),o$(o,i.id)}s&&!e.updateId&&(e.position=r[0].position),cr(()=>{e.updateId?sr.update(e):sr.add(t,e)})}const sr={add(t,e){const{containerId:n=""}=e;n&&(yn[n]=yn[n]||[],yn[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=yn[n])==null||r.unshift(e):(s=yn[n])==null||s.push(e),e.onOpen&&e.onOpen(xw(e))},e.delay||0))},remove(t){if(t){const e=u$(t);if(e){const n=yn[e];let r=n.find(s=>s.toastId===t);yn[e]=n.filter(s=>s.toastId!==t),!yn[e].length&&!f$(e)&&im(e,!1),h$(),cr(()=>{r!=null&&r.onClose&&(r.onClose(xw(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){yn[e]=yn[e]||[];const n=yn[e].find(i=>i.toastId===t.toastId),r=n?.position!==t.position||n?.transition!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};sr.dismissForce(t?.toastId),setTimeout(()=>{dt(s.content,s)},t.delay||0)}},clear(t,e=!0){t?im(t,e):a$(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",sr.dismissCallback,!1),setTimeout(()=>{sr.remove(n)}))},dismiss(t){if(t){const e=Za();for(const n of e)if(n.toastId===t){pA(n,r=>{r.addEventListener("animationend",sr.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Za();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",sr.dismissCallback,!1),sr.remove(t));break}}}},p$=un({useHandler:void 0}),mA=un({}),Vf=un({});function gA(){return Math.random().toString(36).substring(2,9)}function m$(t){return typeof t=="number"&&!isNaN(t)}function am(t){return typeof t=="string"}function Fa(t){return typeof t=="function"}function Ch(...t){return vs(...t)}function jl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof t?.type=="object")}function g$(t={}){mA[`${wt.CSS_NAMESPACE}-default-options`]=t}function y$(){return mA[`${wt.CSS_NAMESPACE}-default-options`]||hA}function _$(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Bl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Bl||{});const yA={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Wu.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Xa.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Hn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},v$={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Hn.DEFAULT},theme:{type:String,required:!1,default:Xa.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},w$=Jt({name:"ProgressBar",props:v$,setup(t,{attrs:e}){const n=Ft(),r=Ze(()=>t.hide?"true":"false"),s=Ze(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),i=Ze(()=>[`${wt.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${wt.CSS_NAMESPACE}__progress-bar--controlled`:`${wt.CSS_NAMESPACE}__progress-bar--animated`,`${wt.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=Ze(()=>`${i.value} ${e?.class||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},f=Ze(()=>t.controlledProgress?null:l),d=Ze(()=>t.controlledProgress?l:null);return qc(()=>{n.value&&(a(),n.value.onanimationend=f.value,n.value.ontransitionend=d.value)}),()=>ze("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:o.value,style:s.value},null)}}),b$=Jt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Xa.AUTO},type:{type:String,required:!1,default:Xa.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>ze("button",{class:`${wt.CSS_NAMESPACE}__close-button ${wt.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[ze("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[ze("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Ph=({theme:t,type:e,path:n,...r})=>ze("svg",vs({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[ze("path",{d:n},null)]);function E$(t){return ze(Ph,vs(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function T$(t){return ze(Ph,vs(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function I$(t){return ze(Ph,vs(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function A$(t){return ze(Ph,vs(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function S$(){return ze("div",{class:`${wt.CSS_NAMESPACE}__spinner`},null)}const ql={info:T$,warning:E$,success:I$,error:A$,spinner:S$},R$=t=>t in ql;function C$({theme:t,type:e,isLoading:n,icon:r}){let s;const i=!!n||e==="loading",o={theme:t,type:e};if(i&&(r===void 0||typeof r=="boolean"))return ql.spinner();if(r!==!1){if(jl(r))s=Ge(r);else if(Fa(r)){const a=r;o.type=i?"loading":e,s=a(o),s=!s&&i?ql.spinner():s}else Li(r)?s=ms(r,o):am(r)||m$(r)?s=r:R$(e)&&(s=ql[e](o));return s}}const P$=()=>{};function k$(t,e,n=wt.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,i=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,i)})})}function O$(t){const e=Ft(!1),n=Ft(!1),r=Ft(!1),s=Ft(Bl.Enter),i=un({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||wt.COLLAPSE_DURATION}),o=i.done||P$,a=Ze(()=>i.appendPosition?`${i.enter}--${i.position}`:i.enter),l=Ze(()=>i.appendPosition?`${i.exit}--${i.position}`:i.exit),f=Ze(()=>t.pauseOnHover?{onMouseenter:L,onMouseleave:A}:{});function d(){const U=a.value.split(" ");y().addEventListener(rm.ENTRANCE_ANIMATION_END,A,{once:!0});const P=$=>{const ne=y();$.target===ne&&(ne.dispatchEvent(new Event(rm.ENTRANCE_ANIMATION_END)),ne.removeEventListener("animationend",P),ne.removeEventListener("animationcancel",P),s.value===Bl.Enter&&$.type!=="animationcancel"&&ne.classList.remove(...U))},x=()=>{const $=y();$.classList.add(...U),$.addEventListener("animationend",P),$.addEventListener("animationcancel",P)};t.pauseOnFocusLoss&&v(),x()}function p(){if(!y())return;const U=()=>{const x=y();x.removeEventListener("animationend",U),i.collapse?k$(x,o,i.collapseDuration):o()},P=()=>{const x=y();s.value=Bl.Exit,x&&(x.className+=` ${l.value}`,x.addEventListener("animationend",U))};n.value||(r.value?U():setTimeout(P))}function y(){return t.toastRef.value}function v(){document.hasFocus()||L(),window.addEventListener("focus",A),window.addEventListener("blur",L)}function E(){window.removeEventListener("focus",A),window.removeEventListener("blur",L)}function A(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function L(){e.value=!1}function H(U){U&&(U.stopPropagation(),U.preventDefault()),n.value=!1}return qc(p),qc(()=>{const U=Za();n.value=U.findIndex(P=>P.toastId===i.toastId)>-1}),qc(()=>{t.isLoading!==void 0&&(t.loading.value?L():A())}),qo(d),lr(()=>{t.pauseOnFocusLoss&&E()}),{isIn:n,isRunning:e,hideToast:H,eventHandlers:f}}const D$=Jt({name:"ToastItem",inheritAttrs:!1,props:yA,setup(t){const e=Ft(),n=Ze(()=>!!t.isLoading),r=Ze(()=>t.progress!==void 0&&t.progress!==null),s=Ze(()=>C$(t)),i=Ze(()=>[`${wt.CSS_NAMESPACE}__toast`,`${wt.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:f}=O$({toastRef:e,loading:n,done:()=>{sr.remove(t.toastId)},...dA(t.transition,t.disabledEnterTransition),...t});return()=>ze("div",vs({id:t.toastId,class:i.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},f.value),[ze("div",{role:t.role,"data-testid":"toast-body",class:`${wt.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&ze("div",{"data-testid":`toast-icon-${t.type}`,class:[`${wt.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${wt.CSS_NAMESPACE}--animate-icon ${wt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[jl(s.value)?qt(Ge(s.value),{theme:t.theme,type:t.type}):Fa(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),ze("div",{"data-testid":"toast-content"},[jl(t.content)?qt(Ge(t.content),{toastProps:Ge(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Fa(t.content)?t.content({toastProps:Ge(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?qt("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&ze(b$,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),jl(t.closeButton)?qt(Ge(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Fa(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,ze(w$,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let nu=0;function _A(){typeof window>"u"||(nu&&window.cancelAnimationFrame(nu),nu=window.requestAnimationFrame(_A),Vf.lastUrl!==window.location.href&&(Vf.lastUrl=window.location.href,sr.clear()))}const x$=Jt({name:"ToastifyContainer",inheritAttrs:!1,props:yA,setup(t){const e=Ze(()=>t.containerId),n=Ze(()=>yn[e.value]||[]),r=Ze(()=>n.value.filter(s=>s.position===t.position));return qo(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(_A)}),lr(()=>{typeof window<"u"&&nu&&(window.cancelAnimationFrame(nu),Vf.lastUrl="")}),()=>ze(kn,null,[r.value.map(s=>{const{toastId:i=""}=s;return ze(D$,vs({key:i},s),null)})])}});let zd=!1;const vA={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function wA(){const t=[];return Za().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(Rh)&&t.push(e)}),t}function N$(t){const e=wA().length,n=t??0;return n>0&&e+_s.items.length>=n}function M$(t){N$(t.limit)&&!t.updateId&&_s.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Qi(t,e,n={}){if(zd)return;n=Ch(y$(),{type:e},Ge(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=gA()),n={...n,...n.type==="loading"?vA:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n?.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=_$()),M$(n),Vf.lastUrl=window.location.href,n.multiple?_s.items.length?n.updateId&&$l(t,n):$l(t,n):(zd=!0,dt.clearAll(void 0,!1),setTimeout(()=>{$l(t,n)},0),setTimeout(()=>{zd=!1},390)),n.toastId}const dt=(t,e)=>Qi(t,Hn.DEFAULT,e);dt.info=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.INFO});dt.error=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.ERROR});dt.warning=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.WARNING});dt.warn=dt.warning;dt.success=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.SUCCESS});dt.loading=(t,e)=>Qi(t,Hn.DEFAULT,Ch(e,vA));dt.dark=(t,e)=>Qi(t,Hn.DEFAULT,Ch(e,{theme:Xa.DARK}));dt.remove=t=>{t?sr.dismiss(t):sr.clear()};dt.clearAll=(t,e)=>{cr(()=>{sr.clear(t,e)})};dt.isActive=t=>{let e=!1;return e=wA().findIndex(n=>n.toastId===t)>-1,e};dt.update=(t,e={})=>{setTimeout(()=>{const n=d$(t);if(n){const r=Ge(n),{content:s}=r,i={...r,...e,toastId:e.toastId||t,updateId:gA()},o=i.render||s;delete i.render,Qi(o,i.type,i)}},0)};dt.done=t=>{dt.update(t,{isLoading:!1,progress:1})};dt.promise=L$;function L$(t,{pending:e,error:n,success:r},s){var i,o,a;let l;const f={...s||{},autoClose:!1};e&&(l=am(e)?dt.loading(e,f):dt.loading(e.render,{...f,...e}));const d={autoClose:(i=s?.autoClose)!=null?i:!0,closeOnClick:(o=s?.closeOnClick)!=null?o:!0,closeButton:(a=s?.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},p=(v,E,A)=>{if(E==null){dt.remove(l);return}const L={type:v,...d,...s,data:A},H=am(E)?{render:E}:E;return l?dt.update(l,{...L,...H,isLoading:!1}):dt(H.render,{...L,...H,isLoading:!1}),A},y=Fa(t)?t():t;return y.then(v=>{p("success",r,v)}).catch(v=>{p("error",n,v)}),y}dt.POSITION=Wu;dt.THEME=Xa;dt.TYPE=Hn;dt.TRANSITIONS=GU;const bA={install(t,e={}){p$.useHandler=e.useHandler||(()=>{}),V$(e)}};typeof window<"u"&&(window.Vue3Toastify=bA);function V$(t={}){const e=Ch(hA,t);g$(e)}const F$=pn(t=>(t.vueApp.use(bA,{autoClose:2e3,theme:"dark",progressStyle:{background:"#757575"},style:{opacity:.8},position:"bottom-right"}),{provide:{toast:{success:dt.success,error:dt.error,info:dt.info,warn:dt.warn,promise:dt.promise}}})),U$=[T1,A1,k1,eO,nO,rO,sO,oO,FO,UO,$O,qO,YO,iD,yU,zU,WU,F$],cm=Symbol("head-component"),Kg={body:{type:Boolean,default:void 0},tagPosition:{type:String}},Gu=t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function zo(){return Ht(cm,EA,!0)}function EA(){const t=Ht(cm,null);if(t)return t;const e=un({}),n=FE(e),r={input:e,entry:n};return Ws(cm,r),r}const dc={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};({...dc,...Kg});({...dc,...Kg});({...dc});const $$=Jt({name:"Title",inheritAttrs:!1,setup(t,{slots:e}){const{input:n}=zo();return lr(()=>n.title=null),()=>{const r=e.default?.();return n.title=r?.[0]?.children?String(r?.[0]?.children):void 0,null}}}),j$=Jt({name:"Meta",inheritAttrs:!1,props:{...dc,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(t){const{input:e}=zo();e.meta||=[];const n=e.meta.push({})-1;return lr(()=>e.meta[n]=null),()=>{const r={"http-equiv":t.httpEquiv,...Gu(t)};return"httpEquiv"in r&&delete r.httpEquiv,e.meta[n]=r,null}}}),B$=Jt({name:"Style",inheritAttrs:!1,props:{...dc,...Kg,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(t,{slots:e}){const{input:n}=zo();n.style||=[];const r=n.style.push({})-1;return lr(()=>n.style[r]=null),()=>{const s=Gu(t),i=e.default?.()?.[0]?.children;return i&&(n.style[r]=s,s.textContent=i),null}}}),q$=Jt({name:"Head",inheritAttrs:!1,setup:(t,e)=>(EA(),()=>e.slots.default?.())});({...dc});const TA=(t="RouteProvider")=>Jt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Ws(Vo,cs(s)),()=>e.vnode?qt(e.vnode,{ref:e.vnodeRef}):e.vnode}}),H$=TA(),Nw=new WeakMap,K$=Jt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Lt(),i=Ft(),o=Ht(Vo,null);let a;r({pageRef:i});const l=Ht(EE,null);let f;const d=s.deferHydration();if(s.isHydrating){const y=s.hooks.hookOnce("app:error",d);qn().beforeEach(y)}t.pageKey&&Er(()=>t.pageKey,(y,v)=>{y!==v&&s.callHook("page:loading:start")});let p=!1;{const y=qn().beforeResolve(()=>{p=!1});rc(()=>{y()})}return()=>qt(tT,{name:t.name,route:t.route,...e},{default:y=>{const v=W$(o,y.route,y.Component),E=o&&o.matched.length===y.route.matched.length;if(!y.Component){if(f&&!E)return f;d();return}if(f&&l&&!l.isCurrent(y.route))return f;if(v&&o&&(!l||l?.isCurrent(o)))return E?f:null;const A=Ip(y,t.pageKey),L=G$(o,y.route,y.Component);!s.isHydrating&&a===A&&!L&&cr(()=>{p=!0,s.callHook("page:loading:end")}),a=A;const H=!!(t.transition??y.route.meta.pageTransition??My),U=H&&z$([t.transition,y.route.meta.pageTransition,My,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",y.Component)}}]),P=t.keepalive??y.route.meta.keepalive??aP;return f=rT(H&&U,Vk(P,qt(km,{suspensible:!0,onPending:()=>{H&&(s._runningTransition=!0),s.callHook("page:start",y.Component)},onResolve:()=>{cr(()=>s.callHook("page:finish",y.Component).then(()=>{if(delete s._runningTransition,!p&&!L)return p=!0,s.callHook("page:loading:end")}).finally(d))}},{default:()=>{const x={key:A||void 0,vnode:n.default?Q$(n.default,y):y.Component,route:y.route,renderKey:A||void 0,trackRootNodes:H,vnodeRef:i};if(!P)return qt(H$,x);const $=y.Component.type,ne=$;let D=Nw.get(ne);return D||(D=TA($.name||$.__name),Nw.set(ne,D)),qt(D,x)}}))).default(),f}})}});function z$(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?qm(n.onAfterLeave):void 0});return wE(...e)}function W$(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Ip({route:e,Component:n})!==Ip({route:t,Component:n})}function G$(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function Q$(t,e){const n=t(e);return n.length===1?qt(n[0]):qt(kn,void 0,n)}const Y$=Jt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>qt(Ri[t.name],t.layoutProps,e.slots)}}),J$={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},X$=Jt({name:"NuxtLayout",inheritAttrs:!1,props:J$,setup(t,e){const n=Lt(),r=Ht(Vo),i=!r||r===Yf()?nT():r,o=Ze(()=>{let d=Ct(t.name)??i?.meta.layout??"default";return d&&!(d in Ri)&&t.fallback&&(d=Ct(t.fallback)),d}),a=Xs();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const d=n.hooks.hookOnce("app:error",l);qn().beforeEach(d)}let f;return()=>{const d=o.value&&o.value in Ri,p=i?.meta.layoutTransition??oP,y=f;return f=o.value,rT(d&&p,{default:()=>qt(km,{suspensible:!0,onResolve:()=>{cr(l)}},{default:()=>qt(Z$,{layoutProps:vs(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:v=>v!==y&&v===o.value,hasTransition:!!p},e.slots)})}).default()}}}),Z$=Jt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Ws(EE,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Ht(Vo);if(r&&r===Yf()){const i=nT(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Ws(Vo,cs(o))}return()=>!n||typeof n=="string"&&!(n in Ri)?e.slots.default?.():qt(Y$,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),IA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},ej={__name:"app",setup(t){const e=Ft("Agenda Regional Faina");return g1({title:e.value,ogTitle:"Agenda Regional Faina",description:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogDescription:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogImage:"https://congregacaocristanobrasil.org.br/assets/images/logo-ccb-light.png",twitterCard:"summary_large_image",keywords:"Agenda, Regional, Faina, Congregao, Atendimentos, Eventos, Batismos"}),(n,r)=>{const s=$$,i=j$,o=B$,a=q$,l=Xd("VitePwaManifest"),f=K$,d=X$;return as(),Om(kn,null,[ze(a,null,{default:Ro(()=>[ze(s,null,{default:Ro(()=>[uu(Kl(Ct(e)),1)]),_:1}),ze(i,{name:"description",content:Ct(e)},null,8,["content"]),ze(o,null,{default:Ro(()=>[...r[0]||(r[0]=[uu(" body {} ",-1)])]),_:1})]),_:1}),ze(d,null,{default:Ro(()=>[ze(l),ze(f)]),_:1})],64)}}},tj=IA(ej,[["__scopeId","data-v-8ea51f04"]]),nj={class:"error-page"},rj={__name:"error",setup(t){const e=Du();return(n,r)=>{const s=NO;return as(),Om("div",nj,[rf("h1",null,Kl(Ct(e).statusCode),1),rf("p",null,Kl(Ct(e).message),1),ze(s,{to:"/"},{default:Ro(()=>[...r[0]||(r[0]=[uu("Voltar para a pgina inicial",-1)])]),_:1})])}}},sj=IA(rj,[["__scopeId","data-v-ec07901d"]]),ij={key:0},Mw={__name:"nuxt-root",setup(t){const e=()=>null,n=Lt(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);qn().beforeEach(f)}const s=!1;Ws(Vo,Yf()),n.hooks.callHookWith(f=>f.map(d=>d()),"vue:setup");const i=Du(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Ab((f,d,p)=>{if(n.hooks.callHook("vue:error",f,d,p).catch(y=>console.error("[nuxt] Error in `vue:error` hook",y)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(IE(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>Io(f)),!1});const l=!1;return(f,d)=>(as(),ma(km,{onResolve:Ct(r)},{default:Ro(()=>[Ct(o)?(as(),Om("div",ij)):Ct(i)?(as(),ma(Ct(sj),{key:1,error:Ct(i)},null,8,["error"])):Ct(l)?(as(),ma(Ct(e),{key:2,context:Ct(l)},null,8,["context"])):Ct(s)?(as(),ma(LS(Ct(s)),{key:3})):(as(),ma(Ct(tj),{key:4}))]),_:1},8,["onResolve"]))}};let Lw;{let t;Lw=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?nC(Mw):sE(Mw),s=pP({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=Oi(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Ly.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Ly.id)?.remove()});try{await yP(s,U$)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(fP),await s.hooks.callHook("app:mounted",r),await cr()}catch(o){i(o)}return r},t=Lw().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{kj as $,ma as A,dj as B,jU as C,mm as D,bU as E,kn as F,cA as G,pj as H,Jt as I,qt as J,qc as K,mj as L,cr as M,uj as N,Xd as O,rc as P,_U as Q,Im as R,fS as S,DR as T,oi as U,FE as V,Fj as W,hj as X,ZN as Y,Bs as Z,IA as _,rf as a,bt as a0,Mj as a1,TI as a2,Vj as a3,Lj as a4,Dj as a5,xj as a6,Nj as a7,K$ as a8,tc as a9,ru as aa,Xs as ab,as as b,Om as c,ze as d,NO as e,uu as f,KU as g,cj as h,nT as i,Ze as j,oj as k,gj as l,Ct as m,aj as n,qo as o,yj as p,gm as q,Ft as r,lj as s,Kl as t,Lt as u,fj as v,Ro as w,__ as x,un as y,Er as z};
