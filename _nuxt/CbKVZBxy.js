import{r as p,h as ie,f as oe,c as o,a,F as P,k as G,i as _,v as m,m as b,t as r,b as u,e as q,N as c,o as s,n as H,D as le}from"./Cyy48QG-.js";const re={class:"lista-edit-container"},ce={class:"tabs-container print-hide"},de={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},ue=["id","aria-selected","onClick"],ve={class:"tab-content"},pe={id:"tab-content-lista",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},_e={class:"text-center flex flex-col items-center mb-4"},me={key:0},be={key:1},ye={id:"tab-content-filters",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},fe={id:"tab-content-print",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},he={id:"tab-content-create",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},ke={key:0,class:"flex justify-center items-center h-32 text-center"},Ee={key:1,class:"text-center text-gray-500"},xe={key:2},Le={key:0,class:"print-only"},Te={__name:"edit",setup(ge){const v=p([]),n=p([]),h=p(!1),l=p("lista"),J=[{id:"tab-create",key:"create",label:"",icon:"la:plus"},{id:"tab-filters",key:"filters",label:"",icon:"la:filter"},{id:"tab-print",key:"print",label:"",icon:"la:print"},{id:"tab-lista",key:"lista",label:"Lista"}];function K(e){n.value=e}function Q(e){v.value=e}function W(){l.value="lista",setTimeout(()=>{window.print(),l.value="print"},500)}const y=ie(()=>v.value.reduce((e,{title:t,...d})=>((e[t]||(e[t]=[])).push(d),e),{})),k=e=>{var t;return(t=e==null?void 0:e.replace(/-$/,""))==null?void 0:t.trim()};function X(e){console.log("Novo item adicionado:",e),v.value.push(e)}function Y(e,t,d){console.log("Objeto alterado:",{item:e,field:t,newValue:d})}function Z(e){y.value[e]&&y.value[e].push({id:Date.now(),date:"",locale:"",desc:""})}return oe(()=>{h.value=!0}),(e,t)=>{var E,x,L,g,N,T,w,C,D,j,F,S,B,M,R,A,I,V,O,U,$,z;const d=c("ListaFilterBar"),ee=c("ListaCreateEvent"),te=c("ListaLoadingSpinner"),ae=c("ListaNoEventsMessage"),ne=c("ListaEventTableEdit"),se=c("ListaRegionalMessagem");return s(),o("div",re,[a("div",ce,[a("nav",de,[(s(),o(P,null,G(J,i=>a("button",{id:i.id,key:i.id,"aria-selected":l.value===i.key,role:"tab",type:"button",class:H(["tab",{active:l.value===i.key}]),onClick:f=>l.value=i.key},[i.icon?(s(),o("i",{key:0,class:H(`la ${i.icon}`)},null,2)):b("",!0),q(" "+r(i.label),1)],10,ue)),64))])]),a("div",ve,[_(a("div",pe,[a("div",_e,[t[0]||(t[0]=a("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),a("b",null,r(k((E=n.value)==null?void 0:E.list)),1),a("b",null,r(k((x=n.value)==null?void 0:x.locale)),1),(L=n.value)!=null&&L.date?(s(),o("p",me," Data: "+r((C=(w=(T=(N=(g=n.value)==null?void 0:g.date)==null?void 0:N.split("T")[0])==null?void 0:T.split("-"))==null?void 0:w.reverse())==null?void 0:C.join("/")),1)):b("",!0),!n.value.date&&((D=n.value)!=null&&D.start||(j=n.value)!=null&&j.end)?(s(),o("p",be," Período: "+r((R=(M=(B=(S=(F=n.value)==null?void 0:F.start)==null?void 0:S.split("T")[0])==null?void 0:B.split("-"))==null?void 0:M.reverse())==null?void 0:R.join("/"))+" à "+r((U=(O=(V=(I=(A=n.value)==null?void 0:A.end)==null?void 0:I.split("T")[0])==null?void 0:V.split("-"))==null?void 0:O.reverse())==null?void 0:U.join("/")),1)):b("",!0)])],512),[[m,l.value==="lista"]]),_(a("div",ye,[u(d,{"onUpdate:filters":K,"onUpdate:filteredEventos":Q})],512),[[m,l.value==="filters"]]),_(a("div",fe,[t[2]||(t[2]=a("p",{class:"mb-4"},"Ajustes de impressão:",-1)),a("button",{class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-center flex items-center",onClick:W},t[1]||(t[1]=[a("i",{class:"la la-print"},null,-1),q(" Imprimir ")]))],512),[[m,l.value==="print"]]),_(a("div",he,[u(ee,{onUpdate:X})],512),[[m,l.value==="create"]])]),h.value?v.value.length===0?(s(),o("div",Ee,[u(ae)])):(s(),o("div",xe,[(s(!0),o(P,null,G(y.value,(i,f)=>(s(),le(ne,{key:f,title:f,items:i,onEditEvent:Y,onAddEmptyRow:Z},null,8,["title","items"]))),128)),(z=($=n.value)==null?void 0:$.list)!=null&&z.includes("REGIONAL")?(s(),o("div",Le,[u(se)])):b("",!0)])):(s(),o("div",ke,[u(te)]))])}}};export{Te as default};
