import{_ as ie,r as p,h as oe,f as le,c as o,a,F as P,k as G,i as _,v as m,m as b,t as c,b as u,e as q,B as r,o as s,n as H,C as ce}from"./DiUKQMzW.js";const re={class:"lista-edit-container"},de={class:"tabs-container print-hide"},ue={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},ve=["id","aria-selected","onClick"],pe={class:"tab-content"},_e={id:"tab-content-lista",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},me={class:"text-center flex flex-col items-center mb-4"},be={key:0},ye={key:1},fe={id:"tab-content-filters",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},he={id:"tab-content-print",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},ke={id:"tab-content-create",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},Ee={key:0,class:"flex justify-center items-center h-32 text-center"},xe={key:1,class:"text-center text-gray-500"},Le={key:2},ge={key:0,class:"print-only"},Te={__name:"edit",setup(Ne){const v=p([]),n=p([]),h=p(!1),l=p("lista"),J=[{id:"tab-create",key:"create",label:"",icon:"la:plus"},{id:"tab-filters",key:"filters",label:"",icon:"la:filter"},{id:"tab-print",key:"print",label:"",icon:"la:print"},{id:"tab-lista",key:"lista",label:"Lista"}];function K(e){n.value=e}function Q(e){v.value=e}function W(){l.value="lista",setTimeout(()=>{window.print(),l.value="print"},500)}const y=oe(()=>v.value.reduce((e,{title:t,...d})=>((e[t]||(e[t]=[])).push(d),e),{})),k=e=>{var t;return(t=e==null?void 0:e.replace(/-$/,""))==null?void 0:t.trim()};function X(e){console.log("Novo item adicionado:",e),v.value.push(e)}function Y(e,t,d){console.log("Objeto alterado:",{item:e,field:t,newValue:d})}function Z(e){y.value[e]&&y.value[e].push({id:Date.now(),date:"",locale:"",desc:""})}return le(()=>{h.value=!0}),(e,t)=>{var E,x,L,g,T,N,C,w,j,B,D,F,S,I,M,R,A,V,O,U,$,z;const d=r("ListaFilterBar"),ee=r("ListaCreateEvent"),te=r("ListaLoadingSpinner"),ae=r("ListaNoEventsMessage"),ne=r("ListaEventTableEdit"),se=r("ListaRegionalMessagem");return s(),o("div",re,[a("div",de,[a("nav",ue,[(s(),o(P,null,G(J,i=>a("button",{id:i.id,key:i.id,"aria-selected":l.value===i.key,role:"tab",type:"button",class:H(["tab",{active:l.value===i.key}]),onClick:f=>l.value=i.key},[i.icon?(s(),o("i",{key:0,class:H(`la ${i.icon}`)},null,2)):b("",!0),q(" "+c(i.label),1)],10,ve)),64))])]),a("div",pe,[_(a("div",_e,[a("div",me,[t[0]||(t[0]=a("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),a("b",null,c(k((E=n.value)==null?void 0:E.list)),1),a("b",null,c(k((x=n.value)==null?void 0:x.locale)),1),(L=n.value)!=null&&L.date?(s(),o("p",be," Data: "+c((w=(C=(N=(T=(g=n.value)==null?void 0:g.date)==null?void 0:T.split("T")[0])==null?void 0:N.split("-"))==null?void 0:C.reverse())==null?void 0:w.join("/")),1)):b("",!0),!n.value.date&&((j=n.value)!=null&&j.start||(B=n.value)!=null&&B.end)?(s(),o("p",ye," Período: "+c((M=(I=(S=(F=(D=n.value)==null?void 0:D.start)==null?void 0:F.split("T")[0])==null?void 0:S.split("-"))==null?void 0:I.reverse())==null?void 0:M.join("/"))+" à "+c((U=(O=(V=(A=(R=n.value)==null?void 0:R.end)==null?void 0:A.split("T")[0])==null?void 0:V.split("-"))==null?void 0:O.reverse())==null?void 0:U.join("/")),1)):b("",!0)])],512),[[m,l.value==="lista"]]),_(a("div",fe,[u(d,{"onUpdate:filters":K,"onUpdate:filteredEventos":Q})],512),[[m,l.value==="filters"]]),_(a("div",he,[t[2]||(t[2]=a("p",{class:"mb-4"},"Ajustes de impressão:",-1)),a("button",{class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-center flex items-center",onClick:W},t[1]||(t[1]=[a("i",{class:"la la-print"},null,-1),q(" Imprimir ")]))],512),[[m,l.value==="print"]]),_(a("div",ke,[u(ee,{onUpdate:X})],512),[[m,l.value==="create"]])]),h.value?v.value.length===0?(s(),o("div",xe,[u(ae)])):(s(),o("div",Le,[(s(!0),o(P,null,G(y.value,(i,f)=>(s(),ce(ne,{key:f,title:f,items:i,onEditEvent:Y,onAddEmptyRow:Z},null,8,["title","items"]))),128)),(z=($=n.value)==null?void 0:$.list)!=null&&z.includes("REGIONAL")?(s(),o("div",ge,[u(se)])):b("",!0)])):(s(),o("div",Ee,[u(te)]))])}}},we=ie(Te,[["__scopeId","data-v-cc076c66"]]);export{we as default};
