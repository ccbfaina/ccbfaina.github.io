import{_ as g}from"./CUpR8154.js";import{_ as v,f as h,r as u,h as x,c as i,B as y,t as B,m as s,e as k,a as w,x as N,b as D,p as A,g as T,o as t}from"./CcehPV9g.js";import{L as V}from"./But1cDCZ.js";const z={class:"form-container"},C=["src"],I={key:1,class:"erro col"},L={__name:"view",async setup(b){let o,l;const{$indexedDB:_}=h(),d=T(),r=u(""),n=u(!1),{data:m,pending:c}=([o,l]=x(async()=>A("index-view-form",async()=>{try{const e=await _?.getTags({href:d.fullPath})||[],a=d.query.form;return console.log(">>>>> Tags carregadas do IndexedDB:",a),e.length&&(n.value=!0,r.value=a),e}catch(e){return console.error("Erro ao carregar tags do IndexedDB:",e),n.value=!1,[]}})),o=await o,l(),o);return(e,a)=>{const f=g;return t(),i("div",z,[n.value&&r.value?(t(),i("iframe",{key:0,src:r.value,onLoad:a[0]||(a[0]=(...p)=>s(c)&&s(c)(...p))}," Carregando… ",40,C)):(t(),i("div",I,[k(N(s(m).length===0?"Nenhum formulário autorizado.":"O formulário solicitado não está autorizado.")+" ",1),w("p",null,[D(f)])])),s(c)?(t(),y(V,{key:2})):B("",!0)])}}},R=v(L,[["__scopeId","data-v-b83451e1"]]);export{R as default};
