const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BQIJfskR.js","./DbEtIfB4.js","./LoadingSpinner.B8lNEaQd.css","./D0Dr7phT.js","./index.CA-Ono2w.css","./ddIkDnxG.js","./sobre.c9vjT2Gh.css","./CkPGhGjQ.js","./agenda.Cxy7HutF.css","./CXOs5zuY.js","./perfil.NIbQGJpK.css","./BQmSfujb.js","./CNKszBmN.js","./eventos.DC8w-Mze.css","./C4wnYRHc.js","./navegar.DXE9DLXy.css","./BkaJ0DXb.js","./recentes.CtKQcL51.css","./B7cr_GLp.js","./servicos.DXKw4MpX.css","./CWW1n6AE.js","./settings.D81KzNVB.css","./C9EMordB.js","./relatorio.BGMUo3JX.css","./DecyOXwM.js","./C8Eta1VE.js","./view.toBhRDQR.css","./CfVVdfyE.js","./index.C01wgp59.css","./CS966vdy.js","./index.efd4-kTG.css","./qe3v-g0_.js","./index.B3U2Ud4L.css","./DmkMO4cs.js","./contato.3ci9Le7x.css","./BD3kfZLA.js","./calendar.9oQBoDIV.css","./D7rl8lNW.js","./solicitar.C0T4GfkF.css","./vZGkS2hF.js","./manutencao.DIm-6Bk8.css","./B2mNKc1N.js","./levantamento_preventiva.D-3OeP-V.css","./IEZT0LLa.js","./BPyFwVPR.js","./Bvc8oI_b.js","./menu.0lHMkiB6.css","./default.BllfGIqY.css","./sZW4RbK6.js","./form.D8ztOVBm.css","./GdTu9iWa.js","./Dd96c-IT.js","./landscape.BFEAchZd.css","./Buo1mzZq.js","./noscroll.DrWb4tOw.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function am(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const St={},Ea=[],$r=()=>{},Mw=()=>!1,Cu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cm=t=>t.startsWith("onUpdate:"),dn=Object.assign,um=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},PA=Object.prototype.hasOwnProperty,vt=(t,e)=>PA.call(t,e),Be=Array.isArray,Ta=t=>Za(t)==="[object Map]",Vf=t=>Za(t)==="[object Set]",zg=t=>Za(t)==="[object Date]",kA=t=>Za(t)==="[object RegExp]",qe=t=>typeof t=="function",$t=t=>typeof t=="string",ps=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",lm=t=>(Tt(t)||qe(t))&&qe(t.then)&&qe(t.catch),Lw=Object.prototype.toString,Za=t=>Lw.call(t),OA=t=>Za(t).slice(8,-1),fm=t=>Za(t)==="[object Object]",hm=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ia=am(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ff=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},DA=/-\w/g,Ir=Ff(t=>t.replace(DA,e=>e.slice(1).toUpperCase())),xA=/\B([A-Z])/g,qi=Ff(t=>t.replace(xA,"-$1").toLowerCase()),Uf=Ff(t=>t.charAt(0).toUpperCase()+t.slice(1)),$h=Ff(t=>t?`on${Uf(t)}`:""),Pi=(t,e)=>!Object.is(t,e),Aa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Vw=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ql=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Fw=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let Wg;const $f=()=>Wg||(Wg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dm(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=$t(r)?VA(r):dm(r);if(s)for(const i in s)e[i]=s[i]}return e}else if($t(t)||Tt(t))return t}const NA=/;(?![^(]*\))/g,MA=/:([^]+)/,LA=/\/\*[^]*?\*\//g;function VA(t){const e={};return t.replace(LA,"").split(NA).forEach(n=>{if(n){const r=n.split(MA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function pm(t){let e="";if($t(t))e=t;else if(Be(t))for(let n=0;n<t.length;n++){const r=pm(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const FA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UA=am(FA);function Uw(t){return!!t||t===""}function $A(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=jf(t[r],e[r]);return n}function jf(t,e){if(t===e)return!0;let n=zg(t),r=zg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ps(t),r=ps(e),n||r)return t===e;if(n=Be(t),r=Be(e),n||r)return n&&r?$A(t,e):!1;if(n=Tt(t),r=Tt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!jf(t[o],e[o]))return!1}}return String(t)===String(e)}function jA(t,e){return t.findIndex(n=>jf(n,e))}const $w=t=>!!(t&&t.__v_isRef===!0),Hl=t=>$t(t)?t:t==null?"":Be(t)||Tt(t)&&(t.toString===Lw||!qe(t.toString))?$w(t)?Hl(t.value):JSON.stringify(t,jw,2):String(t),jw=(t,e)=>$w(e)?jw(t,e.value):Ta(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[jh(r,i)+" =>"]=s,n),{})}:Vf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>jh(n))}:ps(e)?jh(e):Tt(e)&&!Be(e)&&!fm(e)?String(e):e,jh=(t,e="")=>{var n;return ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function BA(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;class Bw{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cn,!e&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Cn;try{return Cn=this,e()}finally{Cn=n}}}on(){++this._on===1&&(this.prevScope=Cn,Cn=this)}off(){this._on>0&&--this._on===0&&(Cn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function mm(t){return new Bw(t)}function ec(){return Cn}function nu(t,e=!1){Cn&&Cn.cleanups.push(t)}let Ct;const Bh=new WeakSet;class qw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cn&&Cn.active&&Cn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bh.has(this)&&(Bh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gg(this),zw(this);const e=Ct,n=jr;Ct=this,jr=!0;try{return this.fn()}finally{Ww(this),Ct=e,jr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_m(e);this.deps=this.depsTail=void 0,Gg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kd(this)&&this.run()}get dirty(){return Kd(this)}}let Hw=0,Uc,$c;function Kw(t,e=!1){if(t.flags|=8,e){t.next=$c,$c=t;return}t.next=Uc,Uc=t}function gm(){Hw++}function ym(){if(--Hw>0)return;if($c){let e=$c;for($c=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Uc;){let e=Uc;for(Uc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function zw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ww(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),_m(r),qA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Kd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Gw(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Gw(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ru)||(t.globalVersion=ru,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Kd(t))))return;t.flags|=2;const e=t.dep,n=Ct,r=jr;Ct=t,jr=!0;try{zw(t);const s=t.fn(t._value);(e.version===0||Pi(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ct=n,jr=r,Ww(t),t.flags&=-3}}function _m(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)_m(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function qA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let jr=!0;const Qw=[];function Qs(){Qw.push(jr),jr=!1}function Ys(){const t=Qw.pop();jr=t===void 0?!0:t}function Gg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ct;Ct=void 0;try{e()}finally{Ct=n}}}let ru=0;class HA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ct||!jr||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new HA(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,Yw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=r)}return n}trigger(e){this.version++,ru++,this.notify(e)}notify(e){gm();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ym()}}}function Yw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Yw(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Kl=new WeakMap,ko=Symbol(""),zd=Symbol(""),su=Symbol("");function Pn(t,e,n){if(jr&&Ct){let r=Kl.get(t);r||Kl.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Bf),s.map=r,s.key=n),s.track()}}function $s(t,e,n,r,s,i){const o=Kl.get(t);if(!o){ru++;return}const a=l=>{l&&l.trigger()};if(gm(),e==="clear")o.forEach(a);else{const l=Be(t),f=l&&hm(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,y)=>{(y==="length"||y===su||!ps(y)&&y>=d)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),f&&a(o.get(su)),e){case"add":l?f&&a(o.get("length")):(a(o.get(ko)),Ta(t)&&a(o.get(zd)));break;case"delete":l||(a(o.get(ko)),Ta(t)&&a(o.get(zd)));break;case"set":Ta(t)&&a(o.get(ko));break}}ym()}function KA(t,e){const n=Kl.get(t);return n&&n.get(e)}function ua(t){const e=Ge(t);return e===t?e:(Pn(e,"iterate",su),br(t)?e:e.map(vn))}function qf(t){return Pn(t=Ge(t),"iterate",su),t}const zA={__proto__:null,[Symbol.iterator](){return qh(this,Symbol.iterator,vn)},concat(...t){return ua(this).concat(...t.map(e=>Be(e)?ua(e):e))},entries(){return qh(this,"entries",t=>(t[1]=vn(t[1]),t))},every(t,e){return Ns(this,"every",t,e,void 0,arguments)},filter(t,e){return Ns(this,"filter",t,e,n=>n.map(vn),arguments)},find(t,e){return Ns(this,"find",t,e,vn,arguments)},findIndex(t,e){return Ns(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ns(this,"findLast",t,e,vn,arguments)},findLastIndex(t,e){return Ns(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ns(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hh(this,"includes",t)},indexOf(...t){return Hh(this,"indexOf",t)},join(t){return ua(this).join(t)},lastIndexOf(...t){return Hh(this,"lastIndexOf",t)},map(t,e){return Ns(this,"map",t,e,void 0,arguments)},pop(){return Cc(this,"pop")},push(...t){return Cc(this,"push",t)},reduce(t,...e){return Qg(this,"reduce",t,e)},reduceRight(t,...e){return Qg(this,"reduceRight",t,e)},shift(){return Cc(this,"shift")},some(t,e){return Ns(this,"some",t,e,void 0,arguments)},splice(...t){return Cc(this,"splice",t)},toReversed(){return ua(this).toReversed()},toSorted(t){return ua(this).toSorted(t)},toSpliced(...t){return ua(this).toSpliced(...t)},unshift(...t){return Cc(this,"unshift",t)},values(){return qh(this,"values",vn)}};function qh(t,e,n){const r=qf(t),s=r[e]();return r!==t&&!br(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const WA=Array.prototype;function Ns(t,e,n,r,s,i){const o=qf(t),a=o!==t&&!br(t),l=o[e];if(l!==WA[e]){const p=l.apply(t,i);return a?vn(p):p}let f=n;o!==t&&(a?f=function(p,y){return n.call(this,vn(p),y,t)}:n.length>2&&(f=function(p,y){return n.call(this,p,y,t)}));const d=l.call(o,f,r);return a&&s?s(d):d}function Qg(t,e,n,r){const s=qf(t);let i=n;return s!==t&&(br(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,vn(a),l,t)}),s[e](i,...r)}function Hh(t,e,n){const r=Ge(t);Pn(r,"iterate",su);const s=r[e](...n);return(s===-1||s===!1)&&bm(n[0])?(n[0]=Ge(n[0]),r[e](...n)):s}function Cc(t,e,n=[]){Qs(),gm();const r=Ge(t)[e].apply(t,n);return ym(),Ys(),r}const GA=am("__proto__,__v_isRef,__isVue"),Jw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ps));function QA(t){ps(t)||(t=String(t));const e=Ge(this);return Pn(e,"has",t),e.hasOwnProperty(t)}class Xw{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?iS:nb:i?tb:eb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Be(e);if(!s){let l;if(o&&(l=zA[n]))return l;if(n==="hasOwnProperty")return QA}const a=Reflect.get(e,n,Ut(e)?e:r);if((ps(n)?Jw.has(n):GA(n))||(s||Pn(e,"get",n),i))return a;if(Ut(a)){const l=o&&hm(n)?a:a.value;return s&&Tt(l)?Gd(l):l}return Tt(a)?s?Gd(a):un(a):a}}class Zw extends Xw{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Js(i);if(!br(r)&&!Js(r)&&(i=Ge(i),r=Ge(r)),!Be(e)&&Ut(i)&&!Ut(r))return l||(i.value=r),!0}const o=Be(e)&&hm(n)?Number(n)<e.length:vt(e,n),a=Reflect.set(e,n,r,Ut(e)?e:s);return e===Ge(s)&&(o?Pi(r,i)&&$s(e,"set",n,r):$s(e,"add",n,r)),a}deleteProperty(e,n){const r=vt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&$s(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ps(n)||!Jw.has(n))&&Pn(e,"has",n),r}ownKeys(e){return Pn(e,"iterate",Be(e)?"length":ko),Reflect.ownKeys(e)}}class YA extends Xw{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const JA=new Zw,XA=new YA,ZA=new Zw(!0);const Wd=t=>t,rl=t=>Reflect.getPrototypeOf(t);function eS(t,e,n){return function(...r){const s=this.__v_raw,i=Ge(s),o=Ta(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=s[t](...r),d=n?Wd:e?zl:vn;return!e&&Pn(i,"iterate",l?zd:ko),{next(){const{value:p,done:y}=f.next();return y?{value:p,done:y}:{value:a?[d(p[0]),d(p[1])]:d(p),done:y}},[Symbol.iterator](){return this}}}}function sl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tS(t,e){const n={get(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);t||(Pi(s,a)&&Pn(o,"get",s),Pn(o,"get",a));const{has:l}=rl(o),f=e?Wd:t?zl:vn;if(l.call(o,s))return f(i.get(s));if(l.call(o,a))return f(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Pn(Ge(s),"iterate",ko),s.size},has(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);return t||(Pi(s,a)&&Pn(o,"has",s),Pn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Ge(a),f=e?Wd:t?zl:vn;return!t&&Pn(l,"iterate",ko),a.forEach((d,p)=>s.call(i,f(d),f(p),o))}};return dn(n,t?{add:sl("add"),set:sl("set"),delete:sl("delete"),clear:sl("clear")}:{add(s){!e&&!br(s)&&!Js(s)&&(s=Ge(s));const i=Ge(this);return rl(i).has.call(i,s)||(i.add(s),$s(i,"add",s,s)),this},set(s,i){!e&&!br(i)&&!Js(i)&&(i=Ge(i));const o=Ge(this),{has:a,get:l}=rl(o);let f=a.call(o,s);f||(s=Ge(s),f=a.call(o,s));const d=l.call(o,s);return o.set(s,i),f?Pi(i,d)&&$s(o,"set",s,i):$s(o,"add",s,i),this},delete(s){const i=Ge(this),{has:o,get:a}=rl(i);let l=o.call(i,s);l||(s=Ge(s),l=o.call(i,s)),a&&a.call(i,s);const f=i.delete(s);return l&&$s(i,"delete",s,void 0),f},clear(){const s=Ge(this),i=s.size!==0,o=s.clear();return i&&$s(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=eS(s,t,e)}),n}function vm(t,e){const n=tS(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(vt(n,s)&&s in r?n:r,s,i)}const nS={get:vm(!1,!1)},rS={get:vm(!1,!0)},sS={get:vm(!0,!1)};const eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,iS=new WeakMap;function oS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aS(t){return t.__v_skip||!Object.isExtensible(t)?0:oS(OA(t))}function un(t){return Js(t)?t:wm(t,!1,JA,nS,eb)}function as(t){return wm(t,!1,ZA,rS,tb)}function Gd(t){return wm(t,!0,XA,sS,nb)}function wm(t,e,n,r,s){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=aS(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function zs(t){return Js(t)?zs(t.__v_raw):!!(t&&t.__v_isReactive)}function Js(t){return!!(t&&t.__v_isReadonly)}function br(t){return!!(t&&t.__v_isShallow)}function bm(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function Em(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&Vw(t,"__v_skip",!0),t}const vn=t=>Tt(t)?un(t):t,zl=t=>Tt(t)?Gd(t):t;function Ut(t){return t?t.__v_isRef===!0:!1}function Ft(t){return rb(t,!1)}function Xs(t){return rb(t,!0)}function rb(t,e){return Ut(t)?t:new cS(t,e)}class cS{constructor(e,n){this.dep=new Bf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:vn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||br(e)||Js(e);e=r?e:Ge(e),Pi(e,n)&&(this._rawValue=e,this._value=r?e:vn(e),this.dep.trigger())}}function Rt(t){return Ut(t)?t.value:t}function Lr(t){return qe(t)?t():Rt(t)}const uS={get:(t,e,n)=>e==="__v_raw"?t:Rt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ut(s)&&!Ut(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function sb(t){return zs(t)?t:new Proxy(t,uS)}class lS{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Bf,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function fS(t){return new lS(t)}function hS(t){const e=Be(t)?new Array(t.length):{};for(const n in t)e[n]=ob(t,n);return e}class dS{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return KA(Ge(this._object),this._key)}}class pS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ib(t,e,n){return Ut(t)?t:qe(t)?new pS(t):Tt(t)&&arguments.length>1?ob(t,e,n):Ft(t)}function ob(t,e,n){const r=t[e];return Ut(r)?r:new dS(t,e,n)}class mS{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Bf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ru-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Kw(this,!0),!0}get value(){const e=this.dep.track();return Gw(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gS(t,e,n=!1){let r,s;return qe(t)?r=t:(r=t.get,s=t.set),new mS(r,s,n)}const il={},Wl=new WeakMap;let Eo;function yS(t,e=!1,n=Eo){if(n){let r=Wl.get(n);r||Wl.set(n,r=[]),r.push(t)}}function _S(t,e,n=St){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,f=x=>s?x:br(x)||s===!1||s===0?js(x,1):js(x);let d,p,y,v,E=!1,A=!1;if(Ut(t)?(p=()=>t.value,E=br(t)):zs(t)?(p=()=>f(t),E=!0):Be(t)?(A=!0,E=t.some(x=>zs(x)||br(x)),p=()=>t.map(x=>{if(Ut(x))return x.value;if(zs(x))return f(x);if(qe(x))return l?l(x,2):x()})):qe(t)?e?p=l?()=>l(t,2):t:p=()=>{if(y){Qs();try{y()}finally{Ys()}}const x=Eo;Eo=d;try{return l?l(t,3,[v]):t(v)}finally{Eo=x}}:p=$r,e&&s){const x=p,j=s===!0?1/0:s;p=()=>js(x(),j)}const L=ec(),H=()=>{d.stop(),L&&L.active&&um(L.effects,d)};if(i&&e){const x=e;e=(...j)=>{x(...j),H()}}let V=A?new Array(t.length).fill(il):il;const R=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const j=d.run();if(s||E||(A?j.some((ne,D)=>Pi(ne,V[D])):Pi(j,V))){y&&y();const ne=Eo;Eo=d;try{const D=[j,V===il?void 0:A&&V[0]===il?[]:V,v];V=j,l?l(e,3,D):e(...D)}finally{Eo=ne}}}else d.run()};return a&&a(R),d=new qw(p),d.scheduler=o?()=>o(R,!1):R,v=x=>yS(x,!1,d),y=d.onStop=()=>{const x=Wl.get(d);if(x){if(l)l(x,4);else for(const j of x)j();Wl.delete(d)}},e?r?R(!0):V=d.run():o?o(R.bind(null,!0),!0):d.run(),H.pause=d.pause.bind(d),H.resume=d.resume.bind(d),H.stop=H,H}function js(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ut(t))js(t.value,e,n);else if(Be(t))for(let r=0;r<t.length;r++)js(t[r],e,n);else if(Vf(t)||Ta(t))t.forEach(r=>{js(r,e,n)});else if(fm(t)){for(const r in t)js(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&js(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ru(t,e,n,r){try{return r?t(...r):t()}catch(s){tc(s,e,n)}}function qr(t,e,n,r){if(qe(t)){const s=Ru(t,e,n,r);return s&&lm(s)&&s.catch(i=>{tc(i,e,n)}),s}if(Be(t)){const s=[];for(let i=0;i<t.length;i++)s.push(qr(t[i],e,n,r));return s}}function tc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||St;if(e){let a=e.parent;const l=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,l,f)===!1)return}a=a.parent}if(i){Qs(),Ru(i,null,10,[t,l,f]),Ys();return}}vS(t,n,s,r,o)}function vS(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Bn=[];let rs=-1;const Sa=[];let wi=null,da=0;const ab=Promise.resolve();let Gl=null;function cr(t){const e=Gl||ab;return t?e.then(this?t.bind(this):t):e}function wS(t){let e=rs+1,n=Bn.length;for(;e<n;){const r=e+n>>>1,s=Bn[r],i=ou(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Tm(t){if(!(t.flags&1)){const e=ou(t),n=Bn[Bn.length-1];!n||!(t.flags&2)&&e>=ou(n)?Bn.push(t):Bn.splice(wS(e),0,t),t.flags|=1,cb()}}function cb(){Gl||(Gl=ab.then(ub))}function iu(t){Be(t)?Sa.push(...t):wi&&t.id===-1?wi.splice(da+1,0,t):t.flags&1||(Sa.push(t),t.flags|=1),cb()}function Yg(t,e,n=rs+1){for(;n<Bn.length;n++){const r=Bn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Bn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ql(t){if(Sa.length){const e=[...new Set(Sa)].sort((n,r)=>ou(n)-ou(r));if(Sa.length=0,wi){wi.push(...e);return}for(wi=e,da=0;da<wi.length;da++){const n=wi[da];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wi=null,da=0}}const ou=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ub(t){try{for(rs=0;rs<Bn.length;rs++){const e=Bn[rs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ru(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rs<Bn.length;rs++){const e=Bn[rs];e&&(e.flags&=-2)}rs=-1,Bn.length=0,Ql(),Gl=null,(Bn.length||Sa.length)&&ub()}}let ir=null,lb=null;function Yl(t){const e=ir;return ir=t,lb=t&&t.type.__scopeId||null,e}function So(t,e=ir,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&tf(-1);const i=Yl(e);let o;try{o=t(...s)}finally{Yl(i),r._d&&tf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function tj(t,e){if(ir===null)return t;const n=Wf(ir),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=St]=e[s];i&&(qe(i)&&(i={mounted:i,updated:i}),i.deep&&js(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ss(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Qs(),qr(l,n,8,[t.el,a,t,e]),Ys())}}const bS=Symbol("_vte"),fb=t=>t.__isTeleport,Us=Symbol("_leaveCb"),ol=Symbol("_enterCb");function ES(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bo(()=>{t.isMounted=!0}),nc(()=>{t.isUnmounting=!0}),t}const _r=[Function,Array],hb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_r,onEnter:_r,onAfterEnter:_r,onEnterCancelled:_r,onBeforeLeave:_r,onLeave:_r,onAfterLeave:_r,onLeaveCancelled:_r,onBeforeAppear:_r,onAppear:_r,onAfterAppear:_r,onAppearCancelled:_r},db=t=>{const e=t.subTree;return e.component?db(e.component):e},TS={name:"BaseTransition",props:hb,setup(t,{slots:e}){const n=oi(),r=ES();return()=>{const s=e.default&&gb(e.default(),!0);if(!s||!s.length)return;const i=pb(s),o=Ge(t),{mode:a}=o;if(r.isLeaving)return Kh(i);const l=Jg(i);if(!l)return Kh(i);let f=Qd(l,o,r,n,p=>f=p);l.type!==an&&Fa(l,f);let d=n.subTree&&Jg(n.subTree);if(d&&d.type!==an&&!Vr(d,l)&&db(n).type!==an){let p=Qd(d,o,r,n);if(Fa(d,p),a==="out-in"&&l.type!==an)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},Kh(i);a==="in-out"&&l.type!==an?p.delayLeave=(y,v,E)=>{const A=mb(r,d);A[String(d.key)]=d,y[Us]=()=>{v(),y[Us]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{E(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function pb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==an){e=n;break}}return e}const IS=TS;function mb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Qd(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:y,onLeave:v,onAfterLeave:E,onLeaveCancelled:A,onBeforeAppear:L,onAppear:H,onAfterAppear:V,onAppearCancelled:R}=e,x=String(t.key),j=mb(n,t),ne=(I,O)=>{I&&qr(I,r,9,O)},D=(I,O)=>{const F=O[1];ne(I,O),Be(I)?I.every(M=>M.length<=1)&&F():I.length<=1&&F()},S={mode:o,persisted:a,beforeEnter(I){let O=l;if(!n.isMounted)if(i)O=L||l;else return;I[Us]&&I[Us](!0);const F=j[x];F&&Vr(t,F)&&F.el[Us]&&F.el[Us](),ne(O,[I])},enter(I){let O=f,F=d,M=p;if(!n.isMounted)if(i)O=H||f,F=V||d,M=R||p;else return;let P=!1;const Ue=I[ol]=Ke=>{P||(P=!0,Ke?ne(M,[I]):ne(F,[I]),S.delayedLeave&&S.delayedLeave(),I[ol]=void 0)};O?D(O,[I,Ue]):Ue()},leave(I,O){const F=String(t.key);if(I[ol]&&I[ol](!0),n.isUnmounting)return O();ne(y,[I]);let M=!1;const P=I[Us]=Ue=>{M||(M=!0,O(),Ue?ne(A,[I]):ne(E,[I]),I[Us]=void 0,j[F]===t&&delete j[F])};j[F]=t,v?D(v,[I,P]):P()},clone(I){const O=Qd(I,e,n,r,s);return s&&s(O),O}};return S}function Kh(t){if(Pu(t))return t=ms(t),t.children=null,t}function Jg(t){if(!Pu(t))return fb(t.type)&&t.children?pb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&qe(n.default))return n.default()}}function Fa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gb(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===kn?(o.patchFlag&128&&s++,r=r.concat(gb(o.children,e,a))):(e||o.type!==an)&&r.push(a!=null?ms(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Jt(t,e){return qe(t)?dn({name:t.name},e,{setup:t}):t}function Im(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Jl=new WeakMap;function Ca(t,e,n,r,s=!1){if(Be(t)){t.forEach((E,A)=>Ca(E,e&&(Be(e)?e[A]:e),n,r,s));return}if(Oo(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ca(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Wf(r.component):r.el,o=s?null:i,{i:a,r:l}=t,f=e&&e.r,d=a.refs===St?a.refs={}:a.refs,p=a.setupState,y=Ge(p),v=p===St?Mw:E=>vt(y,E);if(f!=null&&f!==l){if(Xg(e),$t(f))d[f]=null,v(f)&&(p[f]=null);else if(Ut(f)){f.value=null;const E=e;E.k&&(d[E.k]=null)}}if(qe(l))Ru(l,a,12,[o,d]);else{const E=$t(l),A=Ut(l);if(E||A){const L=()=>{if(t.f){const H=E?v(l)?p[l]:d[l]:l.value;if(s)Be(H)&&um(H,i);else if(Be(H))H.includes(i)||H.push(i);else if(E)d[l]=[i],v(l)&&(p[l]=d[l]);else{const V=[i];l.value=V,t.k&&(d[t.k]=V)}}else E?(d[l]=o,v(l)&&(p[l]=o)):A&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const H=()=>{L(),Jl.delete(t)};H.id=-1,Jl.set(t,H),gn(H,n)}else Xg(t),L()}}}function Xg(t){const e=Jl.get(t);e&&(e.flags|=8,Jl.delete(t))}let Zg=!1;const la=()=>{Zg||(console.error("Hydration completed but contains mismatches."),Zg=!0)},AS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",SS=t=>t.namespaceURI.includes("MathML"),al=t=>{if(t.nodeType===1){if(AS(t))return"svg";if(SS(t))return"mathml"}},ba=t=>t.nodeType===8;function CS(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:f}}=t,d=(R,x)=>{if(!x.hasChildNodes()){n(null,R,x),Ql(),x._vnode=R;return}p(x.firstChild,R,null,null,null),Ql(),x._vnode=R},p=(R,x,j,ne,D,S=!1)=>{S=S||!!x.dynamicChildren;const I=ba(R)&&R.data==="[",O=()=>A(R,x,j,ne,D,I),{type:F,ref:M,shapeFlag:P,patchFlag:Ue}=x;let Ke=R.nodeType;x.el=R,Ue===-2&&(S=!1,x.dynamicChildren=null);let Ae=null;switch(F){case xo:Ke!==3?x.children===""?(l(x.el=s(""),o(R),R),Ae=R):Ae=O():(R.data!==x.children&&(la(),R.data=x.children),Ae=i(R));break;case an:V(R)?(Ae=i(R),H(x.el=R.content.firstChild,R,j)):Ke!==8||I?Ae=O():Ae=i(R);break;case Pa:if(I&&(R=i(R),Ke=R.nodeType),Ke===1||Ke===3){Ae=R;const Me=!x.children.length;for(let Ce=0;Ce<x.staticCount;Ce++)Me&&(x.children+=Ae.nodeType===1?Ae.outerHTML:Ae.data),Ce===x.staticCount-1&&(x.anchor=Ae),Ae=i(Ae);return I?i(Ae):Ae}else O();break;case kn:I?Ae=E(R,x,j,ne,D,S):Ae=O();break;default:if(P&1)(Ke!==1||x.type.toLowerCase()!==R.tagName.toLowerCase())&&!V(R)?Ae=O():Ae=y(R,x,j,ne,D,S);else if(P&6){x.slotScopeIds=D;const Me=o(R);if(I?Ae=L(R):ba(R)&&R.data==="teleport start"?Ae=L(R,R.data,"teleport end"):Ae=i(R),e(x,Me,null,j,ne,al(Me),S),Oo(x)&&!x.type.__asyncResolved){let Ce;I?(Ce=ze(kn),Ce.anchor=Ae?Ae.previousSibling:Me.lastChild):Ce=R.nodeType===3?cu(""):ze("div"),Ce.el=R,x.component.subTree=Ce}}else P&64?Ke!==8?Ae=O():Ae=x.type.hydrate(R,x,j,ne,D,S,t,v):P&128&&(Ae=x.type.hydrate(R,x,j,ne,al(o(R)),D,S,t,p))}return M!=null&&Ca(M,null,ne,x),Ae},y=(R,x,j,ne,D,S)=>{S=S||!!x.dynamicChildren;const{type:I,props:O,patchFlag:F,shapeFlag:M,dirs:P,transition:Ue}=x,Ke=I==="input"||I==="option";if(Ke||F!==-1){P&&ss(x,null,j,"created");let Ae=!1;if(V(R)){Ae=Ub(null,Ue)&&j&&j.vnode.props&&j.vnode.props.appear;const Ce=R.content.firstChild;if(Ae){const ht=Ce.getAttribute("class");ht&&(Ce.$cls=ht),Ue.beforeEnter(Ce)}H(Ce,R,j),x.el=R=Ce}if(M&16&&!(O&&(O.innerHTML||O.textContent))){let Ce=v(R.firstChild,x,R,j,ne,D,S);for(;Ce;){cl(R,1)||la();const ht=Ce;Ce=Ce.nextSibling,a(ht)}}else if(M&8){let Ce=x.children;Ce[0]===`
`&&(R.tagName==="PRE"||R.tagName==="TEXTAREA")&&(Ce=Ce.slice(1)),R.textContent!==Ce&&(cl(R,0)||la(),R.textContent=x.children)}if(O){if(Ke||!S||F&48){const Ce=R.tagName.includes("-");for(const ht in O)(Ke&&(ht.endsWith("value")||ht==="indeterminate")||Cu(ht)&&!Ia(ht)||ht[0]==="."||Ce)&&r(R,ht,null,O[ht],void 0,j)}else if(O.onClick)r(R,"onClick",null,O.onClick,void 0,j);else if(F&4&&zs(O.style))for(const Ce in O.style)O.style[Ce]}let Me;(Me=O&&O.onVnodeBeforeMount)&&Wn(Me,j,x),P&&ss(x,null,j,"beforeMount"),((Me=O&&O.onVnodeMounted)||P||Ae)&&Kb(()=>{Me&&Wn(Me,j,x),Ae&&Ue.enter(R),P&&ss(x,null,j,"mounted")},ne)}return R.nextSibling},v=(R,x,j,ne,D,S,I)=>{I=I||!!x.dynamicChildren;const O=x.children,F=O.length;for(let M=0;M<F;M++){const P=I?O[M]:O[M]=rr(O[M]),Ue=P.type===xo;R?(Ue&&!I&&M+1<F&&rr(O[M+1]).type===xo&&(l(s(R.data.slice(P.children.length)),j,i(R)),R.data=P.children),R=p(R,P,ne,D,S,I)):Ue&&!P.children?l(P.el=s(""),j):(cl(j,1)||la(),n(null,P,j,null,ne,D,al(j),S))}return R},E=(R,x,j,ne,D,S)=>{const{slotScopeIds:I}=x;I&&(D=D?D.concat(I):I);const O=o(R),F=v(i(R),x,O,j,ne,D,S);return F&&ba(F)&&F.data==="]"?i(x.anchor=F):(la(),l(x.anchor=f("]"),O,F),F)},A=(R,x,j,ne,D,S)=>{if(cl(R.parentElement,1)||la(),x.el=null,S){const F=L(R);for(;;){const M=i(R);if(M&&M!==F)a(M);else break}}const I=i(R),O=o(R);return a(R),n(null,x,O,I,j,ne,al(O),D),j&&(j.vnode.el=x.el,zf(j,x.el)),I},L=(R,x="[",j="]")=>{let ne=0;for(;R;)if(R=i(R),R&&ba(R)&&(R.data===x&&ne++,R.data===j)){if(ne===0)return i(R);ne--}return R},H=(R,x,j)=>{const ne=x.parentNode;ne&&ne.replaceChild(R,x);let D=j;for(;D;)D.vnode.el===x&&(D.vnode.el=D.subTree.el=R),D=D.parent},V=R=>R.nodeType===1&&R.tagName==="TEMPLATE";return[d,p]}const ey="data-allow-mismatch",RS={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function cl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ey);)t=t.parentElement;const n=t&&t.getAttribute(ey);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(RS[e])}}$f().requestIdleCallback;$f().cancelIdleCallback;function PS(t,e){if(ba(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ba(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Oo=t=>!!t.type.__asyncLoader;function Rc(t){qe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let f=null,d,p=0;const y=()=>(p++,f=null,v()),v=()=>{let E;return f||(E=f=e().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),l)return new Promise((L,H)=>{l(A,()=>L(y()),()=>H(A),p+1)});throw A}).then(A=>E!==f&&f?f:(A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),d=A,A)))};return Jt({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(E,A,L){let H=!1;(A.bu||(A.bu=[])).push(()=>H=!0);const V=()=>{H||L()},R=i?()=>{const x=i(V,j=>PS(E,j));x&&(A.bum||(A.bum=[])).push(x)}:V;d?R():v().then(()=>!A.isUnmounted&&R())},get __asyncResolved(){return d},setup(){const E=wn;if(Im(E),d)return()=>zh(d,E);const A=R=>{f=null,tc(R,E,13,!r)};if(a&&E.suspense||$a)return v().then(R=>()=>zh(R,E)).catch(R=>(A(R),()=>r?ze(r,{error:R}):null));const L=Ft(!1),H=Ft(),V=Ft(!!s);return s&&setTimeout(()=>{V.value=!1},s),o!=null&&setTimeout(()=>{if(!L.value&&!H.value){const R=new Error(`Async component timed out after ${o}ms.`);A(R),H.value=R}},o),v().then(()=>{L.value=!0,E.parent&&Pu(E.parent.vnode)&&E.parent.update()}).catch(R=>{A(R),H.value=R}),()=>{if(L.value&&d)return zh(d,E);if(H.value&&r)return ze(r,{error:H.value});if(n&&!V.value)return ze(n)}}})}function zh(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ze(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Pu=t=>t.type.__isKeepAlive,kS={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=oi(),r=n.ctx;if(!r.renderer)return()=>{const V=e.default&&e.default();return V&&V.length===1?V[0]:V};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:f,um:d,o:{createElement:p}}}=r,y=p("div");r.activate=(V,R,x,j,ne)=>{const D=V.component;f(V,R,x,0,a),l(D.vnode,V,R,x,D,a,j,V.slotScopeIds,ne),gn(()=>{D.isDeactivated=!1,D.a&&Aa(D.a);const S=V.props&&V.props.onVnodeMounted;S&&Wn(S,D.parent,V)},a)},r.deactivate=V=>{const R=V.component;Zl(R.m),Zl(R.a),f(V,y,null,1,a),gn(()=>{R.da&&Aa(R.da);const x=V.props&&V.props.onVnodeUnmounted;x&&Wn(x,R.parent,V),R.isDeactivated=!0},a)};function v(V){Wh(V),d(V,n,a,!0)}function E(V){s.forEach((R,x)=>{const j=ip(R.type);j&&!V(j)&&A(x)})}function A(V){const R=s.get(V);R&&(!o||!Vr(R,o))?v(R):o&&Wh(o),s.delete(V),i.delete(V)}Er(()=>[t.include,t.exclude],([V,R])=>{V&&E(x=>xc(V,x)),R&&E(x=>!xc(R,x))},{flush:"post",deep:!0});let L=null;const H=()=>{L!=null&&(ef(n.subTree.type)?gn(()=>{s.set(L,ul(n.subTree))},n.subTree.suspense):s.set(L,ul(n.subTree)))};return Bo(H),Eb(H),nc(()=>{s.forEach(V=>{const{subTree:R,suspense:x}=n,j=ul(R);if(V.type===j.type&&V.key===j.key){Wh(j);const ne=j.component.da;ne&&gn(ne,x);return}v(V)})}),()=>{if(L=null,!e.default)return o=null;const V=e.default(),R=V[0];if(V.length>1)return o=null,V;if(!Mi(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let x=ul(R);if(x.type===an)return o=null,x;const j=x.type,ne=ip(Oo(x)?x.type.__asyncResolved||{}:j),{include:D,exclude:S,max:I}=t;if(D&&(!ne||!xc(D,ne))||S&&ne&&xc(S,ne))return x.shapeFlag&=-257,o=x,R;const O=x.key==null?j:x.key,F=s.get(O);return x.el&&(x=ms(x),R.shapeFlag&128&&(R.ssContent=x)),L=O,F?(x.el=F.el,x.component=F.component,x.transition&&Fa(x,x.transition),x.shapeFlag|=512,i.delete(O),i.add(O)):(i.add(O),I&&i.size>parseInt(I,10)&&A(i.values().next().value)),x.shapeFlag|=256,o=x,ef(R.type)?R:x}}},OS=kS;function xc(t,e){return Be(t)?t.some(n=>xc(n,e)):$t(t)?t.split(",").includes(e):kA(t)?(t.lastIndex=0,t.test(e)):!1}function yb(t,e){vb(t,"a",e)}function _b(t,e){vb(t,"da",e)}function vb(t,e,n=wn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Hf(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Pu(s.parent.vnode)&&DS(r,e,n,s),s=s.parent}}function DS(t,e,n,r){const s=Hf(e,t,r,!0);lr(()=>{um(r[e],s)},n)}function Wh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ul(t){return t.shapeFlag&128?t.ssContent:t}function Hf(t,e,n=wn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Qs();const a=Mo(n),l=qr(e,n,t,o);return a(),Ys(),l});return r?s.unshift(i):s.push(i),i}}const ii=t=>(e,n=wn)=>{(!$a||t==="sp")&&Hf(t,(...r)=>e(...r),n)},wb=ii("bm"),Bo=ii("m"),bb=ii("bu"),Eb=ii("u"),nc=ii("bum"),lr=ii("um"),xS=ii("sp"),NS=ii("rtg"),MS=ii("rtc");function Tb(t,e=wn){Hf("ec",t,e)}const Ib="components";function Yd(t,e){return Sb(Ib,t,!0,e)||t}const Ab=Symbol.for("v-ndc");function LS(t){return $t(t)?Sb(Ib,t,!1)||t:t||Ab}function Sb(t,e,n=!0,r=!1){const s=ir||wn;if(s){const i=s.type;{const a=ip(i,!1);if(a&&(a===e||a===Ir(e)||a===Uf(Ir(e))))return i}const o=ty(s[t]||i[t],e)||ty(s.appContext[t],e);return!o&&r?i:o}}function ty(t,e){return t&&(t[e]||t[Ir(e)]||t[Uf(Ir(e))])}function nj(t,e,n,r){let s;const i=n,o=Be(t);if(o||$t(t)){const a=o&&zs(t);let l=!1,f=!1;a&&(l=!br(t),f=Js(t),t=qf(t)),s=new Array(t.length);for(let d=0,p=t.length;d<p;d++)s[d]=e(l?f?zl(vn(t[d])):vn(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Tt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}const Jd=t=>t?Qb(t)?Wf(t):Jd(t.parent):null,jc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Jd(t.parent),$root:t=>Jd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rb(t),$forceUpdate:t=>t.f||(t.f=()=>{Tm(t.update)}),$nextTick:t=>t.n||(t.n=cr.bind(t.proxy)),$watch:t=>nC.bind(t)}),Gh=(t,e)=>t!==St&&!t.__isScriptSetup&&vt(t,e),VS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Gh(r,e))return o[e]=1,r[e];if(s!==St&&vt(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&vt(f,e))return o[e]=3,i[e];if(n!==St&&vt(n,e))return o[e]=4,n[e];Xd&&(o[e]=0)}}const d=jc[e];let p,y;if(d)return e==="$attrs"&&Pn(t.attrs,"get",""),d(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==St&&vt(n,e))return o[e]=4,n[e];if(y=l.config.globalProperties,vt(y,e))return y[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Gh(s,e)?(s[e]=n,!0):r!==St&&vt(r,e)?(r[e]=n,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let l,f;return!!(n[a]||t!==St&&a[0]!=="$"&&vt(t,a)||Gh(e,a)||(l=i[0])&&vt(l,a)||vt(r,a)||vt(jc,a)||vt(s.config.globalProperties,a)||(f=o.__cssModules)&&f[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ny(t){return Be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function rj(t){const e=oi();let n=t();return rp(),lm(n)&&(n=n.catch(r=>{throw Mo(e),r})),[n,()=>Mo(e)]}let Xd=!0;function FS(t){const e=Rb(t),n=t.proxy,r=t.ctx;Xd=!1,e.beforeCreate&&ry(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:f,created:d,beforeMount:p,mounted:y,beforeUpdate:v,updated:E,activated:A,deactivated:L,beforeDestroy:H,beforeUnmount:V,destroyed:R,unmounted:x,render:j,renderTracked:ne,renderTriggered:D,errorCaptured:S,serverPrefetch:I,expose:O,inheritAttrs:F,components:M,directives:P,filters:Ue}=e;if(f&&US(f,r,null),o)for(const Me in o){const Ce=o[Me];qe(Ce)&&(r[Me]=Ce.bind(n))}if(s){const Me=s.call(n,n);Tt(Me)&&(t.data=un(Me))}if(Xd=!0,i)for(const Me in i){const Ce=i[Me],ht=qe(Ce)?Ce.bind(n,n):qe(Ce.get)?Ce.get.bind(n,n):$r,Kt=!qe(Ce)&&qe(Ce.set)?Ce.set.bind(n):$r,Tn=Ze({get:ht,set:Kt});Object.defineProperty(r,Me,{enumerable:!0,configurable:!0,get:()=>Tn.value,set:kt=>Tn.value=kt})}if(a)for(const Me in a)Cb(a[Me],r,n,Me);if(l){const Me=qe(l)?l.call(n):l;Reflect.ownKeys(Me).forEach(Ce=>{Ws(Ce,Me[Ce])})}d&&ry(d,t,"c");function Ae(Me,Ce){Be(Ce)?Ce.forEach(ht=>Me(ht.bind(n))):Ce&&Me(Ce.bind(n))}if(Ae(wb,p),Ae(Bo,y),Ae(bb,v),Ae(Eb,E),Ae(yb,A),Ae(_b,L),Ae(Tb,S),Ae(MS,ne),Ae(NS,D),Ae(nc,V),Ae(lr,x),Ae(xS,I),Be(O))if(O.length){const Me=t.exposed||(t.exposed={});O.forEach(Ce=>{Object.defineProperty(Me,Ce,{get:()=>n[Ce],set:ht=>n[Ce]=ht,enumerable:!0})})}else t.exposed||(t.exposed={});j&&t.render===$r&&(t.render=j),F!=null&&(t.inheritAttrs=F),M&&(t.components=M),P&&(t.directives=P),I&&Im(t)}function US(t,e,n=$r){Be(t)&&(t=Zd(t));for(const r in t){const s=t[r];let i;Tt(s)?"default"in s?i=Ht(s.from||r,s.default,!0):i=Ht(s.from||r):i=Ht(s),Ut(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ry(t,e,n){qr(Be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Cb(t,e,n,r){let s=r.includes(".")?Bb(n,r):()=>n[r];if($t(t)){const i=e[t];qe(i)&&Er(s,i)}else if(qe(t))Er(s,t.bind(n));else if(Tt(t))if(Be(t))t.forEach(i=>Cb(i,e,n,r));else{const i=qe(t.handler)?t.handler.bind(n):e[t.handler];qe(i)&&Er(s,i,t)}}function Rb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(f=>Xl(l,f,o,!0)),Xl(l,e,o)),Tt(e)&&i.set(e,l),l}function Xl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Xl(t,i,n,!0),s&&s.forEach(o=>Xl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=$S[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const $S={data:sy,props:iy,emits:iy,methods:Nc,computed:Nc,beforeCreate:jn,created:jn,beforeMount:jn,mounted:jn,beforeUpdate:jn,updated:jn,beforeDestroy:jn,beforeUnmount:jn,destroyed:jn,unmounted:jn,activated:jn,deactivated:jn,errorCaptured:jn,serverPrefetch:jn,components:Nc,directives:Nc,watch:BS,provide:sy,inject:jS};function sy(t,e){return e?t?function(){return dn(qe(t)?t.call(this,this):t,qe(e)?e.call(this,this):e)}:e:t}function jS(t,e){return Nc(Zd(t),Zd(e))}function Zd(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jn(t,e){return t?[...new Set([].concat(t,e))]:e}function Nc(t,e){return t?dn(Object.create(null),t,e):e}function iy(t,e){return t?Be(t)&&Be(e)?[...new Set([...t,...e])]:dn(Object.create(null),ny(t),ny(e??{})):e}function BS(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=jn(t[r],e[r]);return n}function Pb(){return{app:null,config:{isNativeTag:Mw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qS=0;function HS(t,e){return function(r,s=null){qe(r)||(r=dn({},r)),s!=null&&!Tt(s)&&(s=null);const i=Pb(),o=new WeakSet,a=[];let l=!1;const f=i.app={_uid:qS++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:SC,get config(){return i.config},set config(d){},use(d,...p){return o.has(d)||(d&&qe(d.install)?(o.add(d),d.install(f,...p)):qe(d)&&(o.add(d),d(f,...p))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,p){return p?(i.components[d]=p,f):i.components[d]},directive(d,p){return p?(i.directives[d]=p,f):i.directives[d]},mount(d,p,y){if(!l){const v=f._ceVNode||ze(r,s);return v.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),p&&e?e(v,d):t(v,d,y),l=!0,f._container=d,d.__vue_app__=f,Wf(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(qr(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(d,p){return i.provides[d]=p,f},runWithContext(d){const p=Do;Do=f;try{return d()}finally{Do=p}}};return f}}let Do=null;function Ws(t,e){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[t]=e}}function Ht(t,e,n=!1){const r=oi();if(r||Do){let s=Do?Do._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&qe(e)?e.call(r&&r.proxy):e}}function ku(){return!!(oi()||Do)}const kb={},Ob=()=>Object.create(kb),Db=t=>Object.getPrototypeOf(t)===kb;function KS(t,e,n,r=!1){const s={},i=Ob();t.propsDefaults=Object.create(null),xb(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:as(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function zS(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ge(s),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let y=d[p];if(Kf(t.emitsOptions,y))continue;const v=e[y];if(l)if(vt(i,y))v!==i[y]&&(i[y]=v,f=!0);else{const E=Ir(y);s[E]=ep(l,a,E,v,t,!1)}else v!==i[y]&&(i[y]=v,f=!0)}}}else{xb(t,e,s,i)&&(f=!0);let d;for(const p in a)(!e||!vt(e,p)&&((d=qi(p))===p||!vt(e,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=ep(l,a,p,void 0,t,!0)):delete s[p]);if(i!==a)for(const p in i)(!e||!vt(e,p))&&(delete i[p],f=!0)}f&&$s(t.attrs,"set","")}function xb(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ia(l))continue;const f=e[l];let d;s&&vt(s,d=Ir(l))?!i||!i.includes(d)?n[d]=f:(a||(a={}))[d]=f:Kf(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(i){const l=Ge(n),f=a||St;for(let d=0;d<i.length;d++){const p=i[d];n[p]=ep(s,l,p,f[p],t,!vt(f,p))}}return o}function ep(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&qe(l)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=Mo(s);r=f[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===qi(n))&&(r=!0))}return r}const WS=new WeakMap;function Nb(t,e,n=!1){const r=n?WS:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!qe(t)){const d=p=>{l=!0;const[y,v]=Nb(p,e,!0);dn(o,y),v&&a.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Tt(t)&&r.set(t,Ea),Ea;if(Be(i))for(let d=0;d<i.length;d++){const p=Ir(i[d]);oy(p)&&(o[p]=St)}else if(i)for(const d in i){const p=Ir(d);if(oy(p)){const y=i[d],v=o[p]=Be(y)||qe(y)?{type:y}:dn({},y),E=v.type;let A=!1,L=!0;if(Be(E))for(let H=0;H<E.length;++H){const V=E[H],R=qe(V)&&V.name;if(R==="Boolean"){A=!0;break}else R==="String"&&(L=!1)}else A=qe(E)&&E.name==="Boolean";v[0]=A,v[1]=L,(A||vt(v,"default"))&&a.push(p)}}const f=[o,a];return Tt(t)&&r.set(t,f),f}function oy(t){return t[0]!=="$"&&!Ia(t)}const Am=t=>t==="_"||t==="_ctx"||t==="$stable",Sm=t=>Be(t)?t.map(rr):[rr(t)],GS=(t,e,n)=>{if(e._n)return e;const r=So((...s)=>Sm(e(...s)),n);return r._c=!1,r},Mb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Am(s))continue;const i=t[s];if(qe(i))e[s]=GS(s,i,r);else if(i!=null){const o=Sm(i);e[s]=()=>o}}},Lb=(t,e)=>{const n=Sm(e);t.slots.default=()=>n},Vb=(t,e,n)=>{for(const r in e)(n||!Am(r))&&(t[r]=e[r])},QS=(t,e,n)=>{const r=t.slots=Ob();if(t.vnode.shapeFlag&32){const s=e._;s?(Vb(r,e,n),n&&Vw(r,"_",s,!0)):Mb(e,r)}else e&&Lb(t,e)},YS=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=St;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Vb(s,e,n):(i=!e.$stable,Mb(e,s)),o=e}else e&&(Lb(t,e),o={default:1});if(i)for(const a in s)!Am(a)&&o[a]==null&&delete s[a]},gn=Kb;function JS(t){return Fb(t)}function XS(t){return Fb(t,CS)}function Fb(t,e){const n=$f();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:f,setElementText:d,parentNode:p,nextSibling:y,setScopeId:v=$r,insertStaticContent:E}=t,A=(N,$,ee,fe=null,ae=null,he=null,Ee=void 0,ye=null,pe=!!$.dynamicChildren)=>{if(N===$)return;N&&!Vr(N,$)&&(fe=oe(N),kt(N,ae,he,!0),N=null),$.patchFlag===-2&&(pe=!1,$.dynamicChildren=null);const{type:de,ref:Ve,shapeFlag:Se}=$;switch(de){case xo:L(N,$,ee,fe);break;case an:H(N,$,ee,fe);break;case Pa:N==null&&V($,ee,fe,Ee);break;case kn:M(N,$,ee,fe,ae,he,Ee,ye,pe);break;default:Se&1?j(N,$,ee,fe,ae,he,Ee,ye,pe):Se&6?P(N,$,ee,fe,ae,he,Ee,ye,pe):(Se&64||Se&128)&&de.process(N,$,ee,fe,ae,he,Ee,ye,pe,Ne)}Ve!=null&&ae?Ca(Ve,N&&N.ref,he,$||N,!$):Ve==null&&N&&N.ref!=null&&Ca(N.ref,null,he,N,!0)},L=(N,$,ee,fe)=>{if(N==null)r($.el=a($.children),ee,fe);else{const ae=$.el=N.el;$.children!==N.children&&f(ae,$.children)}},H=(N,$,ee,fe)=>{N==null?r($.el=l($.children||""),ee,fe):$.el=N.el},V=(N,$,ee,fe)=>{[N.el,N.anchor]=E(N.children,$,ee,fe,N.el,N.anchor)},R=({el:N,anchor:$},ee,fe)=>{let ae;for(;N&&N!==$;)ae=y(N),r(N,ee,fe),N=ae;r($,ee,fe)},x=({el:N,anchor:$})=>{let ee;for(;N&&N!==$;)ee=y(N),s(N),N=ee;s($)},j=(N,$,ee,fe,ae,he,Ee,ye,pe)=>{$.type==="svg"?Ee="svg":$.type==="math"&&(Ee="mathml"),N==null?ne($,ee,fe,ae,he,Ee,ye,pe):I(N,$,ae,he,Ee,ye,pe)},ne=(N,$,ee,fe,ae,he,Ee,ye)=>{let pe,de;const{props:Ve,shapeFlag:Se,transition:Le,dirs:ke}=N;if(pe=N.el=o(N.type,he,Ve&&Ve.is,Ve),Se&8?d(pe,N.children):Se&16&&S(N.children,pe,null,fe,ae,Qh(N,he),Ee,ye),ke&&ss(N,null,fe,"created"),D(pe,N,N.scopeId,Ee,fe),Ve){for(const ct in Ve)ct!=="value"&&!Ia(ct)&&i(pe,ct,null,Ve[ct],he,fe);"value"in Ve&&i(pe,"value",null,Ve.value,he),(de=Ve.onVnodeBeforeMount)&&Wn(de,fe,N)}ke&&ss(N,null,fe,"beforeMount");const Fe=Ub(ae,Le);Fe&&Le.beforeEnter(pe),r(pe,$,ee),((de=Ve&&Ve.onVnodeMounted)||Fe||ke)&&gn(()=>{de&&Wn(de,fe,N),Fe&&Le.enter(pe),ke&&ss(N,null,fe,"mounted")},ae)},D=(N,$,ee,fe,ae)=>{if(ee&&v(N,ee),fe)for(let he=0;he<fe.length;he++)v(N,fe[he]);if(ae){let he=ae.subTree;if($===he||ef(he.type)&&(he.ssContent===$||he.ssFallback===$)){const Ee=ae.vnode;D(N,Ee,Ee.scopeId,Ee.slotScopeIds,ae.parent)}}},S=(N,$,ee,fe,ae,he,Ee,ye,pe=0)=>{for(let de=pe;de<N.length;de++){const Ve=N[de]=ye?bi(N[de]):rr(N[de]);A(null,Ve,$,ee,fe,ae,he,Ee,ye)}},I=(N,$,ee,fe,ae,he,Ee)=>{const ye=$.el=N.el;let{patchFlag:pe,dynamicChildren:de,dirs:Ve}=$;pe|=N.patchFlag&16;const Se=N.props||St,Le=$.props||St;let ke;if(ee&&yo(ee,!1),(ke=Le.onVnodeBeforeUpdate)&&Wn(ke,ee,$,N),Ve&&ss($,N,ee,"beforeUpdate"),ee&&yo(ee,!0),(Se.innerHTML&&Le.innerHTML==null||Se.textContent&&Le.textContent==null)&&d(ye,""),de?O(N.dynamicChildren,de,ye,ee,fe,Qh($,ae),he):Ee||Ce(N,$,ye,null,ee,fe,Qh($,ae),he,!1),pe>0){if(pe&16)F(ye,Se,Le,ee,ae);else if(pe&2&&Se.class!==Le.class&&i(ye,"class",null,Le.class,ae),pe&4&&i(ye,"style",Se.style,Le.style,ae),pe&8){const Fe=$.dynamicProps;for(let ct=0;ct<Fe.length;ct++){const rt=Fe[ct],Wt=Se[rt],Vt=Le[rt];(Vt!==Wt||rt==="value")&&i(ye,rt,Wt,Vt,ae,ee)}}pe&1&&N.children!==$.children&&d(ye,$.children)}else!Ee&&de==null&&F(ye,Se,Le,ee,ae);((ke=Le.onVnodeUpdated)||Ve)&&gn(()=>{ke&&Wn(ke,ee,$,N),Ve&&ss($,N,ee,"updated")},fe)},O=(N,$,ee,fe,ae,he,Ee)=>{for(let ye=0;ye<$.length;ye++){const pe=N[ye],de=$[ye],Ve=pe.el&&(pe.type===kn||!Vr(pe,de)||pe.shapeFlag&198)?p(pe.el):ee;A(pe,de,Ve,null,fe,ae,he,Ee,!0)}},F=(N,$,ee,fe,ae)=>{if($!==ee){if($!==St)for(const he in $)!Ia(he)&&!(he in ee)&&i(N,he,$[he],null,ae,fe);for(const he in ee){if(Ia(he))continue;const Ee=ee[he],ye=$[he];Ee!==ye&&he!=="value"&&i(N,he,ye,Ee,ae,fe)}"value"in ee&&i(N,"value",$.value,ee.value,ae)}},M=(N,$,ee,fe,ae,he,Ee,ye,pe)=>{const de=$.el=N?N.el:a(""),Ve=$.anchor=N?N.anchor:a("");let{patchFlag:Se,dynamicChildren:Le,slotScopeIds:ke}=$;ke&&(ye=ye?ye.concat(ke):ke),N==null?(r(de,ee,fe),r(Ve,ee,fe),S($.children||[],ee,Ve,ae,he,Ee,ye,pe)):Se>0&&Se&64&&Le&&N.dynamicChildren?(O(N.dynamicChildren,Le,ee,ae,he,Ee,ye),($.key!=null||ae&&$===ae.subTree)&&$b(N,$,!0)):Ce(N,$,ee,Ve,ae,he,Ee,ye,pe)},P=(N,$,ee,fe,ae,he,Ee,ye,pe)=>{$.slotScopeIds=ye,N==null?$.shapeFlag&512?ae.ctx.activate($,ee,fe,Ee,pe):Ue($,ee,fe,ae,he,Ee,pe):Ke(N,$,pe)},Ue=(N,$,ee,fe,ae,he,Ee)=>{const ye=N.component=wC(N,fe,ae);if(Pu(N)&&(ye.ctx.renderer=Ne),bC(ye,!1,Ee),ye.asyncDep){if(ae&&ae.registerDep(ye,Ae,Ee),!N.el){const pe=ye.subTree=ze(an);H(null,pe,$,ee),N.placeholder=pe.el}}else Ae(ye,N,$,ee,ae,he,Ee)},Ke=(N,$,ee)=>{const fe=$.component=N.component;if(uC(N,$,ee))if(fe.asyncDep&&!fe.asyncResolved){Me(fe,$,ee);return}else fe.next=$,fe.update();else $.el=N.el,fe.vnode=$},Ae=(N,$,ee,fe,ae,he,Ee)=>{const ye=()=>{if(N.isMounted){let{next:Se,bu:Le,u:ke,parent:Fe,vnode:ct}=N;{const Gt=jb(N);if(Gt){Se&&(Se.el=ct.el,Me(N,Se,Ee)),Gt.asyncDep.then(()=>{N.isUnmounted||ye()});return}}let rt=Se,Wt;yo(N,!1),Se?(Se.el=ct.el,Me(N,Se,Ee)):Se=ct,Le&&Aa(Le),(Wt=Se.props&&Se.props.onVnodeBeforeUpdate)&&Wn(Wt,Fe,Se,ct),yo(N,!0);const Vt=Yh(N),Ot=N.subTree;N.subTree=Vt,A(Ot,Vt,p(Ot.el),oe(Ot),N,ae,he),Se.el=Vt.el,rt===null&&zf(N,Vt.el),ke&&gn(ke,ae),(Wt=Se.props&&Se.props.onVnodeUpdated)&&gn(()=>Wn(Wt,Fe,Se,ct),ae)}else{let Se;const{el:Le,props:ke}=$,{bm:Fe,m:ct,parent:rt,root:Wt,type:Vt}=N,Ot=Oo($);if(yo(N,!1),Fe&&Aa(Fe),!Ot&&(Se=ke&&ke.onVnodeBeforeMount)&&Wn(Se,rt,$),yo(N,!0),Le&&$e){const Gt=()=>{N.subTree=Yh(N),$e(Le,N.subTree,N,ae,null)};Ot&&Vt.__asyncHydrate?Vt.__asyncHydrate(Le,N,Gt):Gt()}else{Wt.ce&&Wt.ce._def.shadowRoot!==!1&&Wt.ce._injectChildStyle(Vt);const Gt=N.subTree=Yh(N);A(null,Gt,ee,fe,N,ae,he),$.el=Gt.el}if(ct&&gn(ct,ae),!Ot&&(Se=ke&&ke.onVnodeMounted)){const Gt=$;gn(()=>Wn(Se,rt,Gt),ae)}($.shapeFlag&256||rt&&Oo(rt.vnode)&&rt.vnode.shapeFlag&256)&&N.a&&gn(N.a,ae),N.isMounted=!0,$=ee=fe=null}};N.scope.on();const pe=N.effect=new qw(ye);N.scope.off();const de=N.update=pe.run.bind(pe),Ve=N.job=pe.runIfDirty.bind(pe);Ve.i=N,Ve.id=N.uid,pe.scheduler=()=>Tm(Ve),yo(N,!0),de()},Me=(N,$,ee)=>{$.component=N;const fe=N.vnode.props;N.vnode=$,N.next=null,zS(N,$.props,fe,ee),YS(N,$.children,ee),Qs(),Yg(N),Ys()},Ce=(N,$,ee,fe,ae,he,Ee,ye,pe=!1)=>{const de=N&&N.children,Ve=N?N.shapeFlag:0,Se=$.children,{patchFlag:Le,shapeFlag:ke}=$;if(Le>0){if(Le&128){Kt(de,Se,ee,fe,ae,he,Ee,ye,pe);return}else if(Le&256){ht(de,Se,ee,fe,ae,he,Ee,ye,pe);return}}ke&8?(Ve&16&&zt(de,ae,he),Se!==de&&d(ee,Se)):Ve&16?ke&16?Kt(de,Se,ee,fe,ae,he,Ee,ye,pe):zt(de,ae,he,!0):(Ve&8&&d(ee,""),ke&16&&S(Se,ee,fe,ae,he,Ee,ye,pe))},ht=(N,$,ee,fe,ae,he,Ee,ye,pe)=>{N=N||Ea,$=$||Ea;const de=N.length,Ve=$.length,Se=Math.min(de,Ve);let Le;for(Le=0;Le<Se;Le++){const ke=$[Le]=pe?bi($[Le]):rr($[Le]);A(N[Le],ke,ee,null,ae,he,Ee,ye,pe)}de>Ve?zt(N,ae,he,!0,!1,Se):S($,ee,fe,ae,he,Ee,ye,pe,Se)},Kt=(N,$,ee,fe,ae,he,Ee,ye,pe)=>{let de=0;const Ve=$.length;let Se=N.length-1,Le=Ve-1;for(;de<=Se&&de<=Le;){const ke=N[de],Fe=$[de]=pe?bi($[de]):rr($[de]);if(Vr(ke,Fe))A(ke,Fe,ee,null,ae,he,Ee,ye,pe);else break;de++}for(;de<=Se&&de<=Le;){const ke=N[Se],Fe=$[Le]=pe?bi($[Le]):rr($[Le]);if(Vr(ke,Fe))A(ke,Fe,ee,null,ae,he,Ee,ye,pe);else break;Se--,Le--}if(de>Se){if(de<=Le){const ke=Le+1,Fe=ke<Ve?$[ke].el:fe;for(;de<=Le;)A(null,$[de]=pe?bi($[de]):rr($[de]),ee,Fe,ae,he,Ee,ye,pe),de++}}else if(de>Le)for(;de<=Se;)kt(N[de],ae,he,!0),de++;else{const ke=de,Fe=de,ct=new Map;for(de=Fe;de<=Le;de++){const Re=$[de]=pe?bi($[de]):rr($[de]);Re.key!=null&&ct.set(Re.key,de)}let rt,Wt=0;const Vt=Le-Fe+1;let Ot=!1,Gt=0;const fr=new Array(Vt);for(de=0;de<Vt;de++)fr[de]=0;for(de=ke;de<=Se;de++){const Re=N[de];if(Wt>=Vt){kt(Re,ae,he,!0);continue}let ln;if(Re.key!=null)ln=ct.get(Re.key);else for(rt=Fe;rt<=Le;rt++)if(fr[rt-Fe]===0&&Vr(Re,$[rt])){ln=rt;break}ln===void 0?kt(Re,ae,he,!0):(fr[ln-Fe]=de+1,ln>=Gt?Gt=ln:Ot=!0,A(Re,$[ln],ee,null,ae,he,Ee,ye,pe),Wt++)}const Mn=Ot?ZS(fr):Ea;for(rt=Mn.length-1,de=Vt-1;de>=0;de--){const Re=Fe+de,ln=$[Re],Kn=$[Re+1],Wr=Re+1<Ve?Kn.el||Kn.placeholder:fe;fr[de]===0?A(null,ln,ee,Wr,ae,he,Ee,ye,pe):Ot&&(rt<0||de!==Mn[rt]?Tn(ln,ee,Wr,2):rt--)}}},Tn=(N,$,ee,fe,ae=null)=>{const{el:he,type:Ee,transition:ye,children:pe,shapeFlag:de}=N;if(de&6){Tn(N.component.subTree,$,ee,fe);return}if(de&128){N.suspense.move($,ee,fe);return}if(de&64){Ee.move(N,$,ee,Ne);return}if(Ee===kn){r(he,$,ee);for(let Se=0;Se<pe.length;Se++)Tn(pe[Se],$,ee,fe);r(N.anchor,$,ee);return}if(Ee===Pa){R(N,$,ee);return}if(fe!==2&&de&1&&ye)if(fe===0)ye.beforeEnter(he),r(he,$,ee),gn(()=>ye.enter(he),ae);else{const{leave:Se,delayLeave:Le,afterLeave:ke}=ye,Fe=()=>{N.ctx.isUnmounted?s(he):r(he,$,ee)},ct=()=>{he._isLeaving&&he[Us](!0),Se(he,()=>{Fe(),ke&&ke()})};Le?Le(he,Fe,ct):ct()}else r(he,$,ee)},kt=(N,$,ee,fe=!1,ae=!1)=>{const{type:he,props:Ee,ref:ye,children:pe,dynamicChildren:de,shapeFlag:Ve,patchFlag:Se,dirs:Le,cacheIndex:ke}=N;if(Se===-2&&(ae=!1),ye!=null&&(Qs(),Ca(ye,null,ee,N,!0),Ys()),ke!=null&&($.renderCache[ke]=void 0),Ve&256){$.ctx.deactivate(N);return}const Fe=Ve&1&&Le,ct=!Oo(N);let rt;if(ct&&(rt=Ee&&Ee.onVnodeBeforeUnmount)&&Wn(rt,$,N),Ve&6)Nn(N.component,ee,fe);else{if(Ve&128){N.suspense.unmount(ee,fe);return}Fe&&ss(N,null,$,"beforeUnmount"),Ve&64?N.type.remove(N,$,ee,Ne,fe):de&&!de.hasOnce&&(he!==kn||Se>0&&Se&64)?zt(de,$,ee,!1,!0):(he===kn&&Se&384||!ae&&Ve&16)&&zt(pe,$,ee),fe&&pt(N)}(ct&&(rt=Ee&&Ee.onVnodeUnmounted)||Fe)&&gn(()=>{rt&&Wn(rt,$,N),Fe&&ss(N,null,$,"unmounted")},ee)},pt=N=>{const{type:$,el:ee,anchor:fe,transition:ae}=N;if($===kn){Sr(ee,fe);return}if($===Pa){x(N);return}const he=()=>{s(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(N.shapeFlag&1&&ae&&!ae.persisted){const{leave:Ee,delayLeave:ye}=ae,pe=()=>Ee(ee,he);ye?ye(N.el,he,pe):pe()}else he()},Sr=(N,$)=>{let ee;for(;N!==$;)ee=y(N),s(N),N=ee;s($)},Nn=(N,$,ee)=>{const{bum:fe,scope:ae,job:he,subTree:Ee,um:ye,m:pe,a:de}=N;Zl(pe),Zl(de),fe&&Aa(fe),ae.stop(),he&&(he.flags|=8,kt(Ee,N,$,ee)),ye&&gn(ye,$),gn(()=>{N.isUnmounted=!0},$)},zt=(N,$,ee,fe=!1,ae=!1,he=0)=>{for(let Ee=he;Ee<N.length;Ee++)kt(N[Ee],$,ee,fe,ae)},oe=N=>{if(N.shapeFlag&6)return oe(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const $=y(N.anchor||N.el),ee=$&&$[bS];return ee?y(ee):$};let Pe=!1;const se=(N,$,ee)=>{N==null?$._vnode&&kt($._vnode,null,null,!0):A($._vnode||null,N,$,null,null,null,ee),$._vnode=N,Pe||(Pe=!0,Yg(),Ql(),Pe=!1)},Ne={p:A,um:kt,m:Tn,r:pt,mt:Ue,mc:S,pc:Ce,pbc:O,n:oe,o:t};let et,$e;return e&&([et,$e]=e(Ne)),{render:se,hydrate:et,createApp:HS(se,et)}}function Qh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function yo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ub(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $b(t,e,n=!1){const r=t.children,s=e.children;if(Be(r)&&Be(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=bi(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&$b(o,a)),a.type===xo&&a.patchFlag!==-1&&(a.el=o.el),a.type===an&&!a.el&&(a.el=o.el)}}function ZS(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<f?i=a+1:o=a;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function jb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jb(e)}function Zl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const eC=Symbol.for("v-scx"),tC=()=>Ht(eC);function Bc(t,e){return Cm(t,null,e)}function Er(t,e,n){return Cm(t,e,n)}function Cm(t,e,n=St){const{immediate:r,deep:s,flush:i,once:o}=n,a=dn({},n),l=e&&r||!e&&i!=="post";let f;if($a){if(i==="sync"){const v=tC();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=$r,v.resume=$r,v.pause=$r,v}}const d=wn;a.call=(v,E,A)=>qr(v,d,E,A);let p=!1;i==="post"?a.scheduler=v=>{gn(v,d&&d.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(v,E)=>{E?v():Tm(v)}),a.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const y=_S(t,e,a);return $a&&(f?f.push(y):l&&y()),y}function nC(t,e,n){const r=this.proxy,s=$t(t)?t.includes(".")?Bb(r,t):()=>r[t]:t.bind(r,r);let i;qe(e)?i=e:(i=e.handler,n=e);const o=Mo(this),a=Cm(s,i.bind(r),n);return o(),a}function Bb(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const rC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ir(e)}Modifiers`]||t[`${qi(e)}Modifiers`];function sC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||St;let s=n;const i=e.startsWith("update:"),o=i&&rC(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>$t(d)?d.trim():d)),o.number&&(s=n.map(ql)));let a,l=r[a=$h(e)]||r[a=$h(Ir(e))];!l&&i&&(l=r[a=$h(qi(e))]),l&&qr(l,t,6,s);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qr(f,t,6,s)}}const iC=new WeakMap;function qb(t,e,n=!1){const r=n?iC:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!qe(t)){const l=f=>{const d=qb(f,e,!0);d&&(a=!0,dn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Tt(t)&&r.set(t,null),null):(Be(i)?i.forEach(l=>o[l]=null):dn(o,i),Tt(t)&&r.set(t,o),o)}function Kf(t,e){return!t||!Cu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,qi(e))||vt(t,e))}function Yh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:f,renderCache:d,props:p,data:y,setupState:v,ctx:E,inheritAttrs:A}=t,L=Yl(t);let H,V;try{if(n.shapeFlag&4){const x=s||r,j=x;H=rr(f.call(j,x,d,p,v,y,E)),V=a}else{const x=e;H=rr(x.length>1?x(p,{attrs:a,slots:o,emit:l}):x(p,null)),V=e.props?a:aC(a)}}catch(x){qc.length=0,tc(x,t,1),H=ze(an)}let R=H;if(V&&A!==!1){const x=Object.keys(V),{shapeFlag:j}=R;x.length&&j&7&&(i&&x.some(cm)&&(V=cC(V,i)),R=ms(R,V,!1,!0))}return n.dirs&&(R=ms(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&Fa(R,n.transition),H=R,Yl(L),H}function oC(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Mi(s)){if(s.type!==an||s.children==="v-if"){if(n)return;n=s}}else return}return n}const aC=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cu(n))&&((e||(e={}))[n]=t[n]);return e},cC=(t,e)=>{const n={};for(const r in t)(!cm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function uC(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ay(r,o,f):!!o;if(l&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const y=d[p];if(o[y]!==r[y]&&!Kf(f,y))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ay(r,o,f):!0:!!o;return!1}function ay(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Kf(n,i))return!0}return!1}function zf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ef=t=>t.__isSuspense;let tp=0;const lC={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,f){if(t==null)fC(e,n,r,s,i,o,a,l,f);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}hC(t,e,n,r,s,o,a,l,f)}},hydrate:dC,normalize:pC},Rm=lC;function au(t,e){const n=t.props&&t.props[e];qe(n)&&n()}function fC(t,e,n,r,s,i,o,a,l){const{p:f,o:{createElement:d}}=l,p=d("div"),y=t.suspense=Hb(t,s,r,e,p,n,i,o,a,l);f(null,y.pendingBranch=t.ssContent,p,null,r,y,i,o),y.deps>0?(au(t,"onPending"),au(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,i,o),Ra(y,t.ssFallback)):y.resolve(!1,!0)}function hC(t,e,n,r,s,i,o,a,{p:l,um:f,o:{createElement:d}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const y=e.ssContent,v=e.ssFallback,{activeBranch:E,pendingBranch:A,isInFallback:L,isHydrating:H}=p;if(A)p.pendingBranch=y,Vr(A,y)?(l(A,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():L&&(H||(l(E,v,n,r,s,null,i,o,a),Ra(p,v)))):(p.pendingId=tp++,H?(p.isHydrating=!1,p.activeBranch=A):f(A,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),L?(l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():(l(E,v,n,r,s,null,i,o,a),Ra(p,v))):E&&Vr(E,y)?(l(E,y,n,r,s,p,i,o,a),p.resolve(!0)):(l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0&&p.resolve()));else if(E&&Vr(E,y))l(E,y,n,r,s,p,i,o,a),Ra(p,y);else if(au(e,"onPending"),p.pendingBranch=y,y.shapeFlag&512?p.pendingId=y.component.suspenseId:p.pendingId=tp++,l(null,y,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0)p.resolve();else{const{timeout:V,pendingId:R}=p;V>0?setTimeout(()=>{p.pendingId===R&&p.fallback(v)},V):V===0&&p.fallback(v)}}function Hb(t,e,n,r,s,i,o,a,l,f,d=!1){const{p,m:y,um:v,n:E,o:{parentNode:A,remove:L}}=f;let H;const V=mC(t);V&&e&&e.pendingBranch&&(H=e.pendingId,e.deps++);const R=t.props?Fw(t.props.timeout):void 0,x=i,j={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:tp++,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(ne=!1,D=!1){const{vnode:S,activeBranch:I,pendingBranch:O,pendingId:F,effects:M,parentComponent:P,container:Ue}=j;let Ke=!1;j.isHydrating?j.isHydrating=!1:ne||(Ke=I&&O.transition&&O.transition.mode==="out-in",Ke&&(I.transition.afterLeave=()=>{F===j.pendingId&&(y(O,Ue,i===x?E(I):i,0),iu(M))}),I&&(A(I.el)===Ue&&(i=E(I)),v(I,P,j,!0)),Ke||y(O,Ue,i,0)),Ra(j,O),j.pendingBranch=null,j.isInFallback=!1;let Ae=j.parent,Me=!1;for(;Ae;){if(Ae.pendingBranch){Ae.effects.push(...M),Me=!0;break}Ae=Ae.parent}!Me&&!Ke&&iu(M),j.effects=[],V&&e&&e.pendingBranch&&H===e.pendingId&&(e.deps--,e.deps===0&&!D&&e.resolve()),au(S,"onResolve")},fallback(ne){if(!j.pendingBranch)return;const{vnode:D,activeBranch:S,parentComponent:I,container:O,namespace:F}=j;au(D,"onFallback");const M=E(S),P=()=>{j.isInFallback&&(p(null,ne,O,M,I,null,F,a,l),Ra(j,ne))},Ue=ne.transition&&ne.transition.mode==="out-in";Ue&&(S.transition.afterLeave=P),j.isInFallback=!0,v(S,I,null,!0),Ue||P()},move(ne,D,S){j.activeBranch&&y(j.activeBranch,ne,D,S),j.container=ne},next(){return j.activeBranch&&E(j.activeBranch)},registerDep(ne,D,S){const I=!!j.pendingBranch;I&&j.deps++;const O=ne.vnode.el;ne.asyncDep.catch(F=>{tc(F,ne,0)}).then(F=>{if(ne.isUnmounted||j.isUnmounted||j.pendingId!==ne.suspenseId)return;ne.asyncResolved=!0;const{vnode:M}=ne;sp(ne,F),O&&(M.el=O);const P=!O&&ne.subTree.el;D(ne,M,A(O||ne.subTree.el),O?null:E(ne.subTree),j,o,S),P&&L(P),zf(ne,M.el),I&&--j.deps===0&&j.resolve()})},unmount(ne,D){j.isUnmounted=!0,j.activeBranch&&v(j.activeBranch,n,ne,D),j.pendingBranch&&v(j.pendingBranch,n,ne,D)}};return j}function dC(t,e,n,r,s,i,o,a,l){const f=e.suspense=Hb(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),d=l(t,f.pendingBranch=e.ssContent,n,f,i,o);return f.deps===0&&f.resolve(!1,!0),d}function pC(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=cy(r?n.default:n),t.ssFallback=r?cy(n.fallback):ze(an)}function cy(t){let e;if(qe(t)){const n=Ua&&t._c;n&&(t._d=!1,os()),t=t(),n&&(t._d=!0,e=Yn,zb())}return Be(t)&&(t=oC(t)),t=rr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Kb(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):iu(t)}function Ra(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,zf(r,s))}function mC(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const kn=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),Pa=Symbol.for("v-stc"),qc=[];let Yn=null;function os(t=!1){qc.push(Yn=t?null:[])}function zb(){qc.pop(),Yn=qc[qc.length-1]||null}let Ua=1;function tf(t,e=!1){Ua+=t,t<0&&Yn&&e&&(Yn.hasOnce=!0)}function Wb(t){return t.dynamicChildren=Ua>0?Yn||Ea:null,zb(),Ua>0&&Yn&&Yn.push(t),t}function Pm(t,e,n,r,s,i){return Wb(nf(t,e,n,r,s,i,!0))}function pa(t,e,n,r,s){return Wb(ze(t,e,n,r,s,!0))}function Mi(t){return t?t.__v_isVNode===!0:!1}function Vr(t,e){return t.type===e.type&&t.key===e.key}const Gb=({key:t})=>t??null,Il=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Ut(t)||qe(t)?{i:ir,r:t,k:e,f:!!n}:t:null);function nf(t,e=null,n=null,r=0,s=null,i=t===kn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Gb(e),ref:e&&Il(e),scopeId:lb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ir};return a?(km(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),Ua>0&&!o&&Yn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Yn.push(l),l}const ze=gC;function gC(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Ab)&&(t=an),Mi(t)){const a=ms(t,e,!0);return n&&km(a,n),Ua>0&&!i&&Yn&&(a.shapeFlag&6?Yn[Yn.indexOf(t)]=a:Yn.push(a)),a.patchFlag=-2,a}if(AC(t)&&(t=t.__vccOpts),e){e=yC(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=pm(a)),Tt(l)&&(bm(l)&&!Be(l)&&(l=dn({},l)),e.style=dm(l))}const o=$t(t)?1:ef(t)?128:fb(t)?64:Tt(t)?4:qe(t)?2:0;return nf(t,e,n,r,s,o,i,!0)}function yC(t){return t?bm(t)||Db(t)?dn({},t):t:null}function ms(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,f=e?vs(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Gb(f),ref:e&&e.ref?n&&i?Be(i)?i.concat(Il(e)):[i,Il(e)]:Il(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Fa(d,l.clone(d)),d}function cu(t=" ",e=0){return ze(xo,null,t,e)}function sj(t,e){const n=ze(Pa,null,t);return n.staticCount=e,n}function ij(t="",e=!1){return e?(os(),pa(an,null,t)):ze(an,null,t)}function rr(t){return t==null||typeof t=="boolean"?ze(an):Be(t)?ze(kn,null,t.slice()):Mi(t)?bi(t):ze(xo,null,String(t))}function bi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function km(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Be(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),km(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Db(e)?e._ctx=ir:s===3&&ir&&(ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:ir},n=32):(e=String(e),r&64?(n=16,e=[cu(e)]):n=8);t.children=e,t.shapeFlag|=n}function vs(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=pm([e.class,r.class]));else if(s==="style")e.style=dm([e.style,r.style]);else if(Cu(s)){const i=e[s],o=r[s];o&&i!==o&&!(Be(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Wn(t,e,n,r=null){qr(t,e,7,[n,r])}const _C=Pb();let vC=0;function wC(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||_C,i={uid:vC++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nb(r,s),emitsOptions:qb(r,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=sC.bind(null,i),t.ce&&t.ce(i),i}let wn=null;const oi=()=>wn||ir;let rf,np;{const t=$f(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};rf=e("__VUE_INSTANCE_SETTERS__",n=>wn=n),np=e("__VUE_SSR_SETTERS__",n=>$a=n)}const Mo=t=>{const e=wn;return rf(t),t.scope.on(),()=>{t.scope.off(),rf(e)}},rp=()=>{wn&&wn.scope.off(),rf(null)};function Qb(t){return t.vnode.shapeFlag&4}let $a=!1;function bC(t,e=!1,n=!1){e&&np(e);const{props:r,children:s}=t.vnode,i=Qb(t);KS(t,r,i,e),QS(t,s,n||e);const o=i?EC(t,e):void 0;return e&&np(!1),o}function EC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,VS);const{setup:r}=n;if(r){Qs();const s=t.setupContext=r.length>1?IC(t):null,i=Mo(t),o=Ru(r,t,0,[t.props,s]),a=lm(o);if(Ys(),i(),(a||t.sp)&&!Oo(t)&&Im(t),a){if(o.then(rp,rp),e)return o.then(l=>{sp(t,l)}).catch(l=>{tc(l,t,0)});t.asyncDep=o}else sp(t,o)}else Yb(t)}function sp(t,e,n){qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=sb(e)),Yb(t)}function Yb(t,e,n){const r=t.type;t.render||(t.render=r.render||$r);{const s=Mo(t);Qs();try{FS(t)}finally{Ys(),s()}}}const TC={get(t,e){return Pn(t,"get",""),t[e]}};function IC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,TC),slots:t.slots,emit:t.emit,expose:e}}function Wf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sb(Em(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in jc)return jc[n](t)},has(e,n){return n in e||n in jc}})):t.proxy}function ip(t,e=!0){return qe(t)?t.displayName||t.name:t.name||e&&t.__name}function AC(t){return qe(t)&&"__vccOpts"in t}const Ze=(t,e)=>gS(t,e,$a);function qt(t,e,n){try{tf(-1);const r=arguments.length;return r===2?Tt(e)&&!Be(e)?Mi(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mi(n)&&(n=[n]),ze(t,e,n))}finally{tf(1)}}const SC="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let op;const uy=typeof window<"u"&&window.trustedTypes;if(uy)try{op=uy.createPolicy("vue",{createHTML:t=>t})}catch{}const Jb=op?t=>op.createHTML(t):t=>t,CC="http://www.w3.org/2000/svg",RC="http://www.w3.org/1998/Math/MathML",Vs=typeof document<"u"?document:null,ly=Vs&&Vs.createElement("template"),PC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Vs.createElementNS(CC,t):e==="mathml"?Vs.createElementNS(RC,t):n?Vs.createElement(t,{is:n}):Vs.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Vs.createTextNode(t),createComment:t=>Vs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ly.innerHTML=Jb(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ly.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},gi="transition",Pc="animation",uu=Symbol("_vtc"),Xb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kC=dn({},hb,Xb),OC=t=>(t.displayName="Transition",t.props=kC,t),DC=OC((t,{slots:e})=>qt(IS,xC(t),e)),_o=(t,e=[])=>{Be(t)?t.forEach(n=>n(...e)):t&&t(...e)},fy=t=>t?Be(t)?t.some(e=>e.length>1):t.length>1:!1;function xC(t){const e={};for(const M in t)M in Xb||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:f=o,appearToClass:d=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,E=NC(s),A=E&&E[0],L=E&&E[1],{onBeforeEnter:H,onEnter:V,onEnterCancelled:R,onLeave:x,onLeaveCancelled:j,onBeforeAppear:ne=H,onAppear:D=V,onAppearCancelled:S=R}=e,I=(M,P,Ue,Ke)=>{M._enterCancelled=Ke,vo(M,P?d:a),vo(M,P?f:o),Ue&&Ue()},O=(M,P)=>{M._isLeaving=!1,vo(M,p),vo(M,v),vo(M,y),P&&P()},F=M=>(P,Ue)=>{const Ke=M?D:V,Ae=()=>I(P,M,Ue);_o(Ke,[P,Ae]),hy(()=>{vo(P,M?l:i),Ms(P,M?d:a),fy(Ke)||dy(P,r,A,Ae)})};return dn(e,{onBeforeEnter(M){_o(H,[M]),Ms(M,i),Ms(M,o)},onBeforeAppear(M){_o(ne,[M]),Ms(M,l),Ms(M,f)},onEnter:F(!1),onAppear:F(!0),onLeave(M,P){M._isLeaving=!0;const Ue=()=>O(M,P);Ms(M,p),M._enterCancelled?(Ms(M,y),gy(M)):(gy(M),Ms(M,y)),hy(()=>{M._isLeaving&&(vo(M,p),Ms(M,v),fy(x)||dy(M,r,L,Ue))}),_o(x,[M,Ue])},onEnterCancelled(M){I(M,!1,void 0,!0),_o(R,[M])},onAppearCancelled(M){I(M,!0,void 0,!0),_o(S,[M])},onLeaveCancelled(M){O(M),_o(j,[M])}})}function NC(t){if(t==null)return null;if(Tt(t))return[Jh(t.enter),Jh(t.leave)];{const e=Jh(t);return[e,e]}}function Jh(t){return Fw(t)}function Ms(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[uu]||(t[uu]=new Set)).add(e)}function vo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[uu];n&&(n.delete(e),n.size||(t[uu]=void 0))}function hy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let MC=0;function dy(t,e,n,r){const s=t._endId=++MC,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=LC(t,e);if(!o)return r();const f=o+"end";let d=0;const p=()=>{t.removeEventListener(f,y),i()},y=v=>{v.target===t&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},a+1),t.addEventListener(f,y)}function LC(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${gi}Delay`),i=r(`${gi}Duration`),o=py(s,i),a=r(`${Pc}Delay`),l=r(`${Pc}Duration`),f=py(a,l);let d=null,p=0,y=0;e===gi?o>0&&(d=gi,p=o,y=i.length):e===Pc?f>0&&(d=Pc,p=f,y=l.length):(p=Math.max(o,f),d=p>0?o>f?gi:Pc:null,y=d?d===gi?i.length:l.length:0);const v=d===gi&&/\b(?:transform|all)(?:,|$)/.test(r(`${gi}Property`).toString());return{type:d,timeout:p,propCount:y,hasTransform:v}}function py(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>my(n)+my(t[r])))}function my(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gy(t){return(t?t.ownerDocument:document).body.offsetHeight}function VC(t,e,n){const r=t[uu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const sf=Symbol("_vod"),Zb=Symbol("_vsh"),oj={name:"show",beforeMount(t,{value:e},{transition:n}){t[sf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):kc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),kc(t,!0),r.enter(t)):r.leave(t,()=>{kc(t,!1)}):kc(t,e))},beforeUnmount(t,{value:e}){kc(t,e)}};function kc(t,e){t.style.display=e?t[sf]:"none",t[Zb]=!e}const eE=Symbol("");function aj(t){const e=oi();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>of(i,s))},r=()=>{const s=t(e.proxy);e.ce?of(e.ce,s):ap(e.subTree,s),n(s)};bb(()=>{iu(r)}),Bo(()=>{Er(r,$r,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),lr(()=>s.disconnect())})}function ap(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ap(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)of(t.el,e);else if(t.type===kn)t.children.forEach(n=>ap(n,e));else if(t.type===Pa){let{el:n,anchor:r}=t;for(;n&&(of(n,e),n!==r);)n=n.nextSibling}}function of(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=BA(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[eE]=r}}const FC=/(?:^|;)\s*display\s*:/;function UC(t,e,n){const r=t.style,s=$t(n);let i=!1;if(n&&!s){if(e)if($t(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Al(r,a,"")}else for(const o in e)n[o]==null&&Al(r,o,"");for(const o in n)o==="display"&&(i=!0),Al(r,o,n[o])}else if(s){if(e!==n){const o=r[eE];o&&(n+=";"+o),r.cssText=n,i=FC.test(n)}}else e&&t.removeAttribute("style");sf in t&&(t[sf]=i?r.display:"",t[Zb]&&(r.display="none"))}const yy=/\s*!important$/;function Al(t,e,n){if(Be(n))n.forEach(r=>Al(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=$C(t,e);yy.test(n)?t.setProperty(qi(r),n.replace(yy,""),"important"):t[r]=n}}const _y=["Webkit","Moz","ms"],Xh={};function $C(t,e){const n=Xh[e];if(n)return n;let r=Ir(e);if(r!=="filter"&&r in t)return Xh[e]=r;r=Uf(r);for(let s=0;s<_y.length;s++){const i=_y[s]+r;if(i in t)return Xh[e]=i}return e}const vy="http://www.w3.org/1999/xlink";function wy(t,e,n,r,s,i=UA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(vy,e.slice(6,e.length)):t.setAttributeNS(vy,e,n):n==null||i&&!Uw(n)?t.removeAttribute(e):t.setAttribute(e,i?"":ps(n)?String(n):n)}function by(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Jb(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Uw(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Ao(t,e,n,r){t.addEventListener(e,n,r)}function jC(t,e,n,r){t.removeEventListener(e,n,r)}const Ey=Symbol("_vei");function BC(t,e,n,r,s=null){const i=t[Ey]||(t[Ey]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=qC(e);if(r){const f=i[e]=zC(r,s);Ao(t,a,f,l)}else o&&(jC(t,a,o,l),i[e]=void 0)}}const Ty=/(?:Once|Passive|Capture)$/;function qC(t){let e;if(Ty.test(t)){e={};let r;for(;r=t.match(Ty);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qi(t.slice(2)),e]}let Zh=0;const HC=Promise.resolve(),KC=()=>Zh||(HC.then(()=>Zh=0),Zh=Date.now());function zC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qr(WC(r,n.value),e,5,[r])};return n.value=t,n.attached=KC(),n}function WC(t,e){if(Be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Iy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,GC=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?VC(t,r,o):e==="style"?UC(t,n,r):Cu(e)?cm(e)||BC(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):QC(t,e,r,o))?(by(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wy(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(r))?by(t,Ir(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),wy(t,e,r,o))};function QC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Iy(e)&&qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Iy(e)&&$t(n)?!1:e in t}const af=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Be(e)?n=>Aa(e,n):e};function YC(t){t.target.composing=!0}function Ay(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ka=Symbol("_assign"),cj={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ka]=af(s);const i=r||s.props&&s.props.type==="number";Ao(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ql(a)),t[ka](a)}),n&&Ao(t,"change",()=>{t.value=t.value.trim()}),e||(Ao(t,"compositionstart",YC),Ao(t,"compositionend",Ay),Ao(t,"change",Ay))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[ka]=af(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ql(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},uj={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Vf(e);Ao(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ql(cf(o)):cf(o));t[ka](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,cr(()=>{t._assigning=!1})}),t[ka]=af(r)},mounted(t,{value:e}){Sy(t,e)},beforeUpdate(t,e,n){t[ka]=af(n)},updated(t,{value:e}){t._assigning||Sy(t,e)}};function Sy(t,e){const n=t.multiple,r=Be(e);if(!(n&&!r&&!Vf(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=cf(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(f=>String(f)===String(a)):o.selected=jA(e,a)>-1}else o.selected=e.has(a);else if(jf(cf(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function cf(t){return"_value"in t?t._value:t.value}const JC=["ctrl","shift","alt","meta"],XC={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>JC.some(n=>t[`${n}Key`]&&!e.includes(n))},lj=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=XC[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},ZC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fj=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=qi(s.key);if(e.some(o=>o===i||ZC[o]===i))return t(s)}))},tE=dn({patchProp:GC},PC);let Hc,Cy=!1;function eR(){return Hc||(Hc=JS(tE))}function tR(){return Hc=Cy?Hc:XS(tE),Cy=!0,Hc}const nE=((...t)=>{const e=eR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=sE(r);if(!s)return;const i=e._component;!qe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,rE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),nR=((...t)=>{const e=tR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=sE(r);if(s)return n(s,!0,rE(s))},e});function rE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sE(t){return $t(t)?document.querySelector(t):t}const rR=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sR=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,iR=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function oR(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){aR(t);return}return e}function aR(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ja(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!iR.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(rR.test(t)||sR.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,oR)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const cR=/#/g,uR=/&/g,lR=/\//g,fR=/=/g,Om=/\+/g,hR=/%5e/gi,dR=/%60/gi,pR=/%7c/gi,mR=/%20/gi;function gR(t){return encodeURI(""+t).replace(pR,"|")}function cp(t){return gR(typeof t=="string"?t:JSON.stringify(t)).replace(Om,"%2B").replace(mR,"+").replace(cR,"%23").replace(uR,"%26").replace(dR,"`").replace(hR,"^").replace(lR,"%2F")}function ed(t){return cp(t).replace(fR,"%3D")}function uf(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function yR(t){return uf(t.replace(Om," "))}function _R(t){return uf(t.replace(Om," "))}function Dm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=yR(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=_R(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function vR(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${ed(t)}=${cp(n)}`).join("&"):`${ed(t)}=${cp(e)}`:ed(t)}function wR(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>vR(e,t[e])).filter(Boolean).join("&")}const bR=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,ER=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,TR=/^([/\\]\s*){2,}[^/\\]/,IR=/^[\s\0]*(blob|data|javascript|vbscript):$/i,AR=/\/$|\/\?|\/#/,SR=/^\.?\//;function ai(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?bR.test(t):ER.test(t)||(e.acceptRelative?TR.test(t):!1)}function CR(t){return!!t&&IR.test(t)}function up(t="",e){return e?AR.test(t):t.endsWith("/")}function lu(t="",e){if(!e)return(up(t)?t.slice(0,-1):t)||"/";if(!up(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function iE(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(up(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function RR(t,e){if(oE(e)||ai(t))return t;const n=lu(e);return t.startsWith(n)?t:Gf(n,t)}function Ry(t,e){if(oE(e))return t;const n=lu(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function lf(t,e){const n=uE(t),r={...Dm(n.search),...e};return n.search=wR(r),OR(n)}function oE(t){return!t||t==="/"}function PR(t){return t&&t!=="/"}function Gf(t,...e){let n=t||"";for(const r of e.filter(s=>PR(s)))if(n){const s=r.replace(SR,"");n=iE(n)+s}else n=r;return n}function aE(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&ai(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function kR(t,e){return uf(lu(t))===uf(lu(e))}const cE=Symbol.for("ufo:protocolRelative");function uE(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,y=""]=n;return{protocol:p.toLowerCase(),pathname:y,href:p+y,auth:"",host:"",search:"",hash:""}}if(!ai(t,{acceptRelative:!0}))return Py(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:f,hash:d}=Py(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:f,hash:d,[cE]:!r}}function Py(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function OR(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[cE]?(t.protocol||"")+"//":"")+s+i+e+n+r}class DR extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function xR(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new DR(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[f]}});return a}const NR=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ky(t="GET"){return NR.has(t.toUpperCase())}function MR(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const LR=new Set(["image/svg","application/xml","application/xhtml","application/html"]),VR=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function FR(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return VR.test(e)?"json":LR.has(e)||e.startsWith("text/")?"text":"blob"}function UR(t,e,n,r){const s=$R(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function $R(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function ll(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const jR=new Set([408,409,425,429,500,502,503,504]),BR=new Set([101,204,205,304]);function lE(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let d;typeof a.options.retry=="number"?d=a.options.retry:d=ky(a.options.method)?0:1;const p=a.response&&a.response.status||500;if(d>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(p):jR.has(p))){const y=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return y>0&&await new Promise(v=>setTimeout(v,y)),i(a.request,{...a.options,retry:d-1})}}const f=xR(a);throw Error.captureStackTrace&&Error.captureStackTrace(f,i),f}const i=async function(l,f={}){const d={request:l,options:UR(l,f,t.defaults,n),response:void 0,error:void 0};d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&await ll(d,d.options.onRequest),typeof d.request=="string"&&(d.options.baseURL&&(d.request=RR(d.request,d.options.baseURL)),d.options.query&&(d.request=lf(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&ky(d.options.method)&&(MR(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half")));let p;if(!d.options.signal&&d.options.timeout){const v=new r;p=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,v.abort(E)},d.options.timeout),d.options.signal=v.signal}try{d.response=await e(d.request,d.options)}catch(v){return d.error=v,d.options.onRequestError&&await ll(d,d.options.onRequestError),await s(d)}finally{p&&clearTimeout(p)}if((d.response.body||d.response._bodyInit)&&!BR.has(d.response.status)&&d.options.method!=="HEAD"){const v=(d.options.parseResponse?"json":d.options.responseType)||FR(d.response.headers.get("content-type")||"");switch(v){case"json":{const E=await d.response.text(),A=d.options.parseResponse||ja;d.response._data=A(E);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[v]()}}return d.options.onResponse&&await ll(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await ll(d,d.options.onResponseError),await s(d)):d.response},o=async function(l,f){return(await i(l,f))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>lE({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const ff=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),qR=ff.fetch?(...t)=>ff.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),HR=ff.Headers,KR=ff.AbortController,zR=lE({fetch:qR,Headers:HR,AbortController:KR}),WR=zR,GR=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,xm=()=>GR().app,QR=()=>xm().baseURL,YR=()=>xm().buildAssetsDir,Nm=(...t)=>aE(fE(),YR(),...t),fE=(...t)=>{const e=xm(),n=e.cdnURL||e.baseURL;return t.length?aE(n,...t):n};globalThis.__buildAssetsURL=Nm,globalThis.__publicAssetsURL=fE;globalThis.$fetch||(globalThis.$fetch=WR.create({baseURL:QR()}));"global"in globalThis||(globalThis.global=globalThis);function lp(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?lp(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const JR={run:t=>t()},XR=()=>JR,hE=typeof console.createTask<"u"?console.createTask:XR;function ZR(t,e){const n=e.shift(),r=hE(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function eP(t,e){const n=e.shift(),r=hE(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function td(t,e){for(const n of[...t])n(e)}class tP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=lp(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=lp(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(ZR,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(eP,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&td(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&td(this._after,s)}):(this._after&&s&&td(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function dE(){return new tP}function nP(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},f=()=>e===o?l:void 0;fp.add(f);try{const d=s?s.run(o,a):a();return n||(e=void 0),await d}finally{fp.delete(f)}}}}function rP(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=nP({...t,...r})),e[n]}}}const hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Oy="__unctx__",sP=hf[Oy]||(hf[Oy]=rP()),iP=(t,e={})=>sP.get(t,e),Dy="__unctx_async_handlers__",fp=hf[Dy]||(hf[Dy]=new Set);function cs(t){const e=[];for(const s of fp){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const oP=!1,xy=!1,aP=!1,Ny={id:"__nuxt-loader"},cP={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},uP={deep:!1},lP={},fP="#__nuxt",pE="nuxt-app",My=36e5,hP="vite:preloadError";function mE(t=pE){return iP(t,{asyncContext:!1})}const dP="__nuxt_plugin";function pP(t){let e=0;const n={_id:t.id||pE||"nuxt-app",_scope:mm(),provide:void 0,versions:{get nuxt(){return"4.1.3"},get vue(){return n.vueApp.version}},payload:as({...t.ssrContext?.payload||{},data:as({}),state:un({}),once:new Set,_errors:as({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!ec()?n._scope.run(()=>Ly(n,s)):Ly(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:as({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=dE(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;fl(n,o,i),fl(n.vueApp.config.globalProperties,o,i)},fl(n.vueApp,"$nuxt",n),fl(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(hP,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Lt;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function mP(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function gP(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function yP(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const f=l.dependsOn?.filter(d=>e.some(p=>p._name===d)&&!n.has(d))??[];if(f.length>0)r.push([new Set(f),l]);else{const d=gP(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([p,y])=>{p.has(l._name)&&(p.delete(l._name),p.size===0&&(o++,await a(y)))})))}).catch(p=>{if(!l.parallel&&!t.payload.error)throw p;i||=p});l.parallel?s.push(d):await d}}for(const l of e)mP(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function pn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[dP]:!0,_name:e})}const _P=pn;function Ly(t,e,n){const r=()=>e();return mE(t._id).set(t),t.vueApp.runWithContext(r)}function vP(t){let e;return ku()&&(e=oi()?.appContext.app.$nuxt),e||=mE(t).tryUse(),e||null}function Lt(t){const e=vP(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Zs(t){return Lt().$config}function fl(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function wP(t,e){return{ctx:{table:t},matchAll:n=>yE(n,t)}}function gE(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,gE(s)])):new Map(Object.entries(t[n]));return e}function bP(t){return wP(gE(t))}function yE(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Vy(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Vy(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...yE(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Vy(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function nd(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function hp(t,e,n=".",r){if(!nd(e))return hp(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:nd(o)&&nd(s[i])?s[i]=hp(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function EP(t){return(...e)=>e.reduce((n,r)=>hp(n,r,"",t),{})}const _E=EP();function TP(t,e){try{return e in t}catch{return!1}}class Fy extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:dp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=vE(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function IP(t){if(typeof t=="string")return new Fy(t);if(AP(t))return t;const e=new Fy(t.message??t.statusMessage??"",{cause:t.cause||t});if(TP(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=dp(t.statusCode,e.statusCode):t.status&&(e.statusCode=dp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;vE(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function AP(t){return t?.constructor?.__h3_error__===!0}const SP=/[^\u0009\u0020-\u007E]/g;function vE(t=""){return t.replace(SP,"")}function dp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const wE=Symbol("layout-meta"),Lo=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const qn=()=>Lt()?.$router,Qf=()=>ku()?Ht(Lo,Lt()._route):Lt()._route;const CP=()=>{try{if(Lt()._processingMiddleware)return!0}catch{return!1}return!1},RP=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?pp(t):qn().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:f={}}=e.open,d=[];for(const[p,y]of Object.entries(f))y!==void 0&&d.push(`${p.toLowerCase()}=${y}`);return open(n,l,d.join(", ")),Promise.resolve()}const r=ai(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&CR(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=CP();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:f,hash:d}=uE(t);return{path:l,...f&&{query:Dm(f)},...d&&{hash:d},replace:!0}}return{...t,replace:!0}}return t}const o=qn(),a=Lt();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function pp(t){return lf(t.path||"",t.query||{})+(t.hash||"")}const bE="__nuxt_error",Ou=()=>ib(Lt().payload,"error"),To=t=>{const e=ki(t);try{const n=Ou();Lt().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},EE=async(t={})=>{const e=Lt(),n=Ou();e.callHook("app:error:cleared",t),t.redirect&&await qn().replace(t.redirect),n.value=void 0},TE=t=>!!t&&typeof t=="object"&&bE in t,ki=t=>{const e=IP(t);return Object.defineProperty(e,bE,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let IE;const Du=t=>IE=t,AE=Symbol();function mp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Kc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Kc||(Kc={}));function PP(){const t=mm(!0),e=t.run(()=>Ft({}));let n=[],r=[];const s=Em({install(i){Du(s),s._a=i,i.provide(AE,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const SE=()=>{};function Uy(t,e,n,r=SE){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&ec()&&nu(s),s}function fa(t,...e){t.slice().forEach(n=>{n(...e)})}const kP=t=>t(),$y=Symbol(),rd=Symbol();function gp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];mp(s)&&mp(r)&&t.hasOwnProperty(n)&&!Ut(r)&&!zs(r)?t[n]=gp(s,r):t[n]=r}return t}const OP=Symbol();function DP(t){return!mp(t)||!Object.prototype.hasOwnProperty.call(t,OP)}const{assign:vi}=Object;function xP(t){return!!(Ut(t)&&t.effect)}function NP(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function f(){a||(n.state.value[t]=s?s():{});const d=hS(n.state.value[t]);return vi(d,i,Object.keys(o||{}).reduce((p,y)=>(p[y]=Em(Ze(()=>{Du(n);const v=n._s.get(t);return o[y].call(v,v)})),p),{}))}return l=CE(t,f,e,n,r,!0),l}function CE(t,e,n={},r,s,i){let o;const a=vi({actions:{}},n),l={deep:!0};let f,d,p=[],y=[],v;const E=r.state.value[t];!i&&!E&&(r.state.value[t]={}),Ft({});let A;function L(S){let I;f=d=!1,typeof S=="function"?(S(r.state.value[t]),I={type:Kc.patchFunction,storeId:t,events:v}):(gp(r.state.value[t],S),I={type:Kc.patchObject,payload:S,storeId:t,events:v});const O=A=Symbol();cr().then(()=>{A===O&&(f=!0)}),d=!0,fa(p,I,r.state.value[t])}const H=i?function(){const{state:I}=n,O=I?I():{};this.$patch(F=>{vi(F,O)})}:SE;function V(){o.stop(),p=[],y=[],r._s.delete(t)}const R=(S,I="")=>{if($y in S)return S[rd]=I,S;const O=function(){Du(r);const F=Array.from(arguments),M=[],P=[];function Ue(Me){M.push(Me)}function Ke(Me){P.push(Me)}fa(y,{args:F,name:O[rd],store:j,after:Ue,onError:Ke});let Ae;try{Ae=S.apply(this&&this.$id===t?this:j,F)}catch(Me){throw fa(P,Me),Me}return Ae instanceof Promise?Ae.then(Me=>(fa(M,Me),Me)).catch(Me=>(fa(P,Me),Promise.reject(Me))):(fa(M,Ae),Ae)};return O[$y]=!0,O[rd]=I,O},x={_p:r,$id:t,$onAction:Uy.bind(null,y),$patch:L,$reset:H,$subscribe(S,I={}){const O=Uy(p,S,I.detached,()=>F()),F=o.run(()=>Er(()=>r.state.value[t],M=>{(I.flush==="sync"?d:f)&&S({storeId:t,type:Kc.direct,events:v},M)},vi({},l,I)));return O},$dispose:V},j=un(x);r._s.set(t,j);const D=(r._a&&r._a.runWithContext||kP)(()=>r._e.run(()=>(o=mm()).run(()=>e({action:R}))));for(const S in D){const I=D[S];if(Ut(I)&&!xP(I)||zs(I))i||(E&&DP(I)&&(Ut(I)?I.value=E[S]:gp(I,E[S])),r.state.value[t][S]=I);else if(typeof I=="function"){const O=R(I,S);D[S]=O,a.actions[S]=I}}return vi(j,D),vi(Ge(j),D),Object.defineProperty(j,"$state",{get:()=>r.state.value[t],set:S=>{L(I=>{vi(I,S)})}}),r._p.forEach(S=>{vi(j,o.run(()=>S({store:j,app:r._a,pinia:r,options:a})))}),E&&i&&n.hydrate&&n.hydrate(j.$state,E),f=!0,d=!0,j}/*! #__NO_SIDE_EFFECTS__ */function xu(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=ku();return o=o||(l?Ht(AE,null):null),o&&Du(o),o=IE,o._s.has(t)||(s?CE(t,e,r,o):NP(t,r,o)),o._s.get(t)}return i.$id=t,i}function MP(t){const e=VP(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const LP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function VP(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=LP.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const FP=-1,UP=-2,$P=-3,jP=-4,BP=-5,qP=-6;function HP(t,e){return KP(JSON.parse(t),e)}function KP(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===FP)return;if(i===$P)return NaN;if(i===jP)return 1/0;if(i===BP)return-1/0;if(i===qP)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],f=e?.[l];if(f)return r[i]=f(s(a[1]));switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const d=new Set;r[i]=d;for(let v=1;v<a.length;v+=1)d.add(s(a[v]));break;case"Map":const p=new Map;r[i]=p;for(let v=1;v<a.length;v+=2)p.set(s(a[v]),s(a[v+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const y=Object.create(null);r[i]=y;for(let v=1;v<a.length;v+=2)y[a[v]]=s(a[v+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const v=globalThis[l],E=new v(s(a[1]));r[i]=a[2]!==void 0?E.subarray(a[2],a[3]):E;break}case"ArrayBuffer":{const v=a[1],E=MP(v);r[i]=E;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const v=l.slice(9);r[i]=Temporal[v].from(a[1]);break}case"URL":{const v=new URL(a[1]);r[i]=v;break}case"URLSearchParams":{const v=new URLSearchParams(a[1]);r[i]=v;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let f=0;f<a.length;f+=1){const d=a[f];d!==UP&&(l[f]=s(d))}}else{const l={};r[i]=l;for(const f in a){if(f==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const d=a[f];l[f]=s(d)}}return r[i]}return s(0)}const zP=new Set(["link","style","script","noscript"]),WP=new Set(["title","titleTemplate","script","style","noscript"]),jy=new Set(["base","meta","link","style","script","noscript"]),GP=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),QP=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),YP=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),JP=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Mm=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),fu={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},XP={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},RE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${qs(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?qs(t):`${qs(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${qs(t)} ${e}`}},charset:{}};function qs(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:fu.META.has(e.slice(0,n))||fu.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function PE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function yp(t){return Array.isArray(t)?t.map(yp):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[qs(e),yp(n)]))}function kE(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const f=i({key:o,value:a});if(f!==void 0)return f}const l=typeof a=="object"?kE(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${l}`}).join(n)}function By(t,e){const n=PE(e),r=qs(t),s=OE(r);if(!Mm.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return df(i||{}).sort((o,a)=>(o[s]?.length||0)-(a[s]?.length||0))}function OE(t){if(RE[t]?.metaKey==="http-equiv"||fu.HTTP_EQUIV.has(t))return"http-equiv";const e=qs(t),n=e.indexOf(":");return n===-1?"name":fu.OG.has(e.slice(0,n))?"property":"name"}function ZP(t){return XP[t]||qs(t)}function e1(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:kE(yp(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...RE[e]?.unpack})}function df(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[f,d]of Object.entries(o)){const p=`${s}${f==="url"?"":`:${f}`}`,y=df({[p]:d});(f==="url"?a:l).push(...y)}e.push(...a,...l)}else e.push(...typeof o=="string"?df({[s]:o}):By(s,o));continue}if(typeof i=="object"&&i)if(fu.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";i.url&&e.push({[l]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[f,d]of Object.entries(i))f!=="url"&&f!=="secureUrl"&&e.push({[l]:`${o}:${a}:${f}`,content:d})}else Mm.has(qs(s))?e.push(...By(s,i)):n[s]=PE(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=OE(s),a=ZP(s),l=i===null?"_null":typeof i=="object"?e1(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const t1={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(df(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},n1=["name","property","http-equiv"],r1=new Set(["viewport","description","keywords","robots"]);function DE(t){const e=t.split(":");return e.length?Mm.has(e[1]):!1}function _p(t){const{props:e,tag:n}=t;if(QP.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of n1)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=r1.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(WP.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function qy(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function pf(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>pf(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=pf(s[o],e,o);return i}return s}function s1(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function xE(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=s1(n,r);return}if(YP.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function i1(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=xE({tag:t,props:{}},n);return r.key&&zP.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function o1(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=pf(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(i1(s,o))}),r.flat()}const Hy=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Ky={base:-10,title:10},a1={critical:-8,high:-1,low:2},zy={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},c1=/@import/,Oc=t=>t===""||t===!0;function u1(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=a1[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:zy;if(e.tag in Ky)n=Ky[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=zy.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Oc(e.props.async)?n=s.script.async:e.props.src&&!Oc(e.props.defer)&&!Oc(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:Oc(e.props.defer)&&e.props.src&&!Oc(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&c1.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Wy(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function l1(t={}){const e=dE();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Wy(o,a),push(a,l){const f={...l||{}};delete f.head;const d=f._index??o._entryCount++,p={_i:d,input:a,options:f},y={_poll(v=!1){o.dirty=!0,!v&&i.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(v){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=v,r.set(d,p),y._poll())}};return y.patch(a),y},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const y=i.values().next().value;i.delete(y);const v=r.get(y);if(v){const E={tags:o1(v.input,t.propResolvers||[]).map(A=>Object.assign(A,v.options)),entry:v};await e.callHook("entries:normalize",E),v._tags=E.tags.map((A,L)=>(A._w=u1(o,A),A._p=(v._i<<10)+L,A._d=_p(A),A))}}let l=!1;a.entries.flatMap(y=>(y._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Hy).reduce((y,v)=>{const E=String(v._d||v._p);if(!y.has(E))return y.set(E,v);const A=y.get(E);if((v?.tagDuplicateStrategy||(JP.has(v.tag)?"merge":null)||(v.key&&v.key===A.key?"merge":null))==="merge"){const H={...A.props};Object.entries(v.props).forEach(([V,R])=>H[V]=V==="style"?new Map([...A.props.style||new Map,...R]):V==="class"?new Set([...A.props.class||new Set,...R]):R),y.set(E,{...v,props:H})}else v._p>>10===A._p>>10&&v.tag==="meta"&&DE(E)?(y.set(E,Object.assign([...Array.isArray(A)?A:[A],v],v)),l=!0):(v._w===A._w?v._p>A._p:v?._w<A?._w)&&y.set(E,v);return y},a.tagMap);const f=a.tagMap.get("title"),d=a.tagMap.get("titleTemplate");if(o._title=f?.textContent,d){const y=d?.textContent;if(o._titleTemplate=y,y){let v=typeof y=="function"?y(f?.textContent):y;typeof v=="string"&&!o.plugins.has("template-params")&&(v=v.replace("%s",f?.textContent||"")),f?v===null?a.tagMap.delete("title"):a.tagMap.set("title",{...f,textContent:v}):(d.tag="title",d.textContent=v)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Hy)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const p=[];for(const y of a.tags){const{innerHTML:v,tag:E,props:A}=y;if(GP.has(E)&&!(Object.keys(A).length===0&&!y.innerHTML&&!y.textContent)&&!(E==="meta"&&!A.content&&!A["http-equiv"]&&!A.charset)){if(E==="script"&&v){if(A.type?.endsWith("json")){const L=typeof v=="string"?v:JSON.stringify(v);y.innerHTML=L.replace(/</g,"\\u003C")}else typeof v=="string"&&(y.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));y._d=_p(y)}p.push(y)}}return p},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Wy(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const f1=(t,e)=>Ut(e)?Lr(e):e,Lm="usehead";function h1(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Lm,t)}}.install}function NE(){if(ku()){const t=Ht(Lm);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function ME(t,e={}){const n=e.head||NE();return n.ssr?n.push(t||{},e):d1(n,t,e)}function d1(t,e,n={}){const r=Ft(!1);let s;return Bc(()=>{const o=r.value?{}:pf(e,f1);s?s.patch(o):s=t.push(o,n)}),oi()&&(nc(()=>{s.dispose()}),_b(()=>{r.value=!0}),yb(()=>{r.value=!1})),s}function p1(t={},e={}){(e.head||NE()).use(t1);const{title:r,titleTemplate:s,...i}=t;return ME({title:r,titleTemplate:s,_flatMeta:i},e)}function LE(t){const e=t||Lt();return e.ssrContext?.head||e.runWithContext(()=>{if(ku()){const n=Ht(Lm);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function VE(t,e={}){const n=e.head||LE(e.nuxt);return ME(t,{head:n,...e})}function m1(t,e={}){const n=e.head||LE(e.nuxt);return p1(t,{head:n,...e})}const g1="modulepreload",y1=function(t,e){return new URL(t,e).href},Gy={},At=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=f(n.map(d=>{if(d=y1(d,r),d in Gy)return;Gy[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const A=o[E];if(A.href===d&&(!p||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":g1,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((E,A)=>{v.addEventListener("load",E),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let Sl,Cl;function _1(){return Sl=$fetch(Nm(`builds/meta/${Zs().app.buildId}.json`),{responseType:"json"}),Sl.then(t=>{Cl=bP(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Sl}function Yf(){return Sl||_1()}async function Vm(t){const e=typeof t=="string"?t:t.path;if(await Yf(),!Cl)return console.error("[nuxt] Error creating app manifest matcher.",Cl),{};try{return _E({},...Cl.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Qy(t,e={}){if(!await UE(t))return null;const r=await w1(t,e);return await FE(r)||null}const v1="_payload.json";async function w1(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ai(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Zs(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await UE(t)?i:r.app.baseURL;return Gf(o,n.pathname,v1+(s?`?${s}`:""))}async function FE(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then($E));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function UE(t=Qf().path){const e=Lt();return t=t.replace(/\/$/,""),(await Yf()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Vm({path:t});return!!r.prerender&&!r.redirect})}let wo=null;async function b1(){if(wo)return wo;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await $E(t.textContent||""),n=t.dataset.src?await FE(t.dataset.src):void 0;return wo={...e,...n,...window.__NUXT__},wo.config?.public&&(wo.config.public=un(wo.config.public)),wo}async function $E(t){return await HP(t,Lt()._payloadRevivers)}function jE(t,e){Lt()._payloadRevivers[t]=e}const E1=_P(()=>{jE("skipHydrate",t=>{})}),T1=[["NuxtError",t=>ki(t)],["EmptyShallowRef",t=>Xs(t==="_"?void 0:t==="0n"?BigInt(0):ja(t))],["EmptyRef",t=>Ft(t==="_"?void 0:t==="0n"?BigInt(0):ja(t))],["ShallowRef",t=>Xs(t)],["ShallowReactive",t=>as(t)],["Ref",t=>Ft(t)],["Reactive",t=>un(t)]],I1=pn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of T1)jE(r,s);Object.assign(t.payload,([e,n]=cs(()=>t.runWithContext(b1)),e=await e,n(),e)),delete window.__NUXT__}});async function Fm(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(v=>{t.resolveTags().then(E=>{v(E.map(A=>{const L=i.get(A._d)||0,H={tag:A,id:(L?`${A._d}:${L}`:A._d)||qy(A),shouldRender:!0};return A._d&&DE(A._d)&&i.set(A._d,L+1),H}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const v of["body","head"]){const E=n[v]?.children;for(const A of E){const L=A.tagName.toLowerCase();if(!jy.has(L))continue;const H=xE({tag:L,props:{}},{innerHTML:A.innerHTML,...A.getAttributeNames().reduce((V,R)=>(V[R]=A.getAttribute(R),V),{})||{}});if(H.key=A.getAttribute("data-hid")||void 0,H._d=_p(H)||qy(H),a.elMap.has(H._d)){let V=1,R=H._d;for(;a.elMap.has(R);)R=`${H._d}:${V++}`;a.elMap.set(R,A)}else a.elMap.set(H._d,A)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(v,E,A){const L=`${v}:${E}`;a.sideEffects[L]=A,delete a.pendingSideEffects[L]}function f({id:v,$el:E,tag:A}){const L=A.tag.endsWith("Attrs");a.elMap.set(v,E),L||(A.textContent&&A.textContent!==E.textContent&&(E.textContent=A.textContent),A.innerHTML&&A.innerHTML!==E.innerHTML&&(E.innerHTML=A.innerHTML),l(v,"el",()=>{E?.remove(),a.elMap.delete(v)}));for(const H in A.props){if(!Object.prototype.hasOwnProperty.call(A.props,H))continue;const V=A.props[H];if(H.startsWith("on")&&typeof V=="function"){const x=E?.dataset;if(x&&x[`${H}fired`]){const j=H.slice(0,-5);V.call(E,new Event(j.substring(2)))}E.getAttribute(`data-${H}`)!==""&&((A.tag==="bodyAttrs"?n.defaultView:E).addEventListener(H.substring(2),V.bind(E)),E.setAttribute(`data-${H}`,""));continue}const R=`attr:${H}`;if(H==="class"){if(!V)continue;for(const x of V)L&&l(v,`${R}:${x}`,()=>E.classList.remove(x)),!E.classList.contains(x)&&E.classList.add(x)}else if(H==="style"){if(!V)continue;for(const[x,j]of V)l(v,`${R}:${x}`,()=>{E.style.removeProperty(x)}),E.style.setProperty(x,j)}else V!==!1&&V!==null&&(E.getAttribute(H)!==V&&E.setAttribute(H,V===!0?"":String(V)),L&&l(v,R,()=>E.removeAttribute(H)))}}const d=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},y=await o;for(const v of y){const{tag:E,shouldRender:A,id:L}=v;if(A){if(E.tag==="title"){n.title=E.textContent,l("title","",()=>n.title=a.title);continue}v.$el=v.$el||a.elMap.get(L),v.$el?f(v):jy.has(E.tag)&&d.push(v)}}for(const v of d){const E=v.tag.tagPosition||"head";v.$el=n.createElement(v.tag.tag),f(v),p[E]=p[E]||n.createDocumentFragment(),p[E].appendChild(v.$el)}for(const v of y)await t.hooks.callHook("dom:renderTag",v,n,l);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const v in a.pendingSideEffects)a.pendingSideEffects[v]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:y}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function A1(t={}){const e=t.domOptions?.render||Fm;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return l1({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function S1(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function C1(t={}){const e=A1({domOptions:{render:S1(()=>Fm(e),n=>setTimeout(n,0))},...t});return e.install=h1(e),e}const R1={disableDefaults:!0},P1=pn({name:"nuxt:head",enforce:"pre",setup(t){const e=C1(R1);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Fm(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ma=typeof document<"u";function BE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function k1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&BE(t.default)}const _t=Object.assign;function sd(t,e){const n={};for(const r in e){const s=e[r];n[r]=Hr(s)?s.map(t):t(s)}return n}const zc=()=>{},Hr=Array.isArray,qE=/#/g,O1=/&/g,D1=/\//g,x1=/=/g,N1=/\?/g,HE=/\+/g,M1=/%5B/g,L1=/%5D/g,KE=/%5E/g,V1=/%60/g,zE=/%7B/g,F1=/%7C/g,WE=/%7D/g,U1=/%20/g;function Um(t){return encodeURI(""+t).replace(F1,"|").replace(M1,"[").replace(L1,"]")}function $1(t){return Um(t).replace(zE,"{").replace(WE,"}").replace(KE,"^")}function vp(t){return Um(t).replace(HE,"%2B").replace(U1,"+").replace(qE,"%23").replace(O1,"%26").replace(V1,"`").replace(zE,"{").replace(WE,"}").replace(KE,"^")}function j1(t){return vp(t).replace(x1,"%3D")}function B1(t){return Um(t).replace(qE,"%23").replace(N1,"%3F")}function q1(t){return t==null?"":B1(t).replace(D1,"%2F")}function hu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const H1=/\/$/,K1=t=>t.replace(H1,"");function id(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Q1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:hu(o)}}function z1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Yy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function W1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ba(e.matched[r],n.matched[s])&&GE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ba(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function GE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!G1(t[n],e[n]))return!1;return!0}function G1(t,e){return Hr(t)?Jy(t,e):Hr(e)?Jy(e,t):t===e}function Jy(t,e){return Hr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Q1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var du;(function(t){t.pop="pop",t.push="push"})(du||(du={}));var Wc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wc||(Wc={}));function Y1(t){if(!t)if(ma){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K1(t)}const J1=/^[^#]+#/;function X1(t,e){return t.replace(J1,"#")+e}function Z1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Jf=()=>({left:window.scrollX,top:window.scrollY});function ek(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Z1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xy(t,e){return(history.state?history.state.position-e:-1)+t}const wp=new Map;function tk(t,e){wp.set(t,e)}function nk(t){const e=wp.get(t);return wp.delete(t),e}let rk=()=>location.protocol+"//"+location.host;function QE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Yy(l,"")}return Yy(n,t)+r+s}function sk(t,e,n,r){let s=[],i=[],o=null;const a=({state:y})=>{const v=QE(t,location),E=n.value,A=e.value;let L=0;if(y){if(n.value=v,e.value=y,o&&o===E){o=null;return}L=A?y.position-A.position:0}else r(v);s.forEach(H=>{H(n.value,E,{delta:L,type:du.pop,direction:L?L>0?Wc.forward:Wc.back:Wc.unknown})})};function l(){o=n.value}function f(y){s.push(y);const v=()=>{const E=s.indexOf(y);E>-1&&s.splice(E,1)};return i.push(v),v}function d(){const{history:y}=window;y.state&&y.replaceState(_t({},y.state,{scroll:Jf()}),"")}function p(){for(const y of i)y();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:f,destroy:p}}function Zy(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Jf():null}}function ik(t){const{history:e,location:n}=window,r={value:QE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,f,d){const p=t.indexOf("#"),y=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:rk()+t+l;try{e[d?"replaceState":"pushState"](f,"",y),s.value=f}catch(v){console.error(v),n[d?"replace":"assign"](y)}}function o(l,f){const d=_t({},e.state,Zy(s.value.back,l,s.value.forward,!0),f,{position:s.value.position});i(l,d,!0),r.value=l}function a(l,f){const d=_t({},s.value,e.state,{forward:l,scroll:Jf()});i(d.current,d,!0);const p=_t({},Zy(r.value,l,null),{position:d.position+1},f);i(l,p,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function ok(t){t=Y1(t);const e=ik(t),n=sk(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:t,go:r,createHref:X1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function ak(t){return typeof t=="string"||t&&typeof t=="object"}function YE(t){return typeof t=="string"||typeof t=="symbol"}const JE=Symbol("");var e_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(e_||(e_={}));function qa(t,e){return _t(new Error,{type:t,[JE]:!0},e)}function Ls(t,e){return t instanceof Error&&JE in t&&(e==null||!!(t.type&e))}const t_="[^/]+?",ck={sensitive:!1,strict:!1,start:!0,end:!0},uk=/[.+*?^${}()[\]/\\]/g;function lk(t,e){const n=_t({},ck,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const d=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let p=0;p<f.length;p++){const y=f[p];let v=40+(n.sensitive?.25:0);if(y.type===0)p||(s+="/"),s+=y.value.replace(uk,"\\$&"),v+=40;else if(y.type===1){const{value:E,repeatable:A,optional:L,regexp:H}=y;i.push({name:E,repeatable:A,optional:L});const V=H||t_;if(V!==t_){v+=10;try{new RegExp(`(${V})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${E}" (${V}): `+x.message)}}let R=A?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;p||(R=L&&f.length<2?`(?:/${R})`:"/"+R),L&&(R+="?"),s+=R,v+=20,L&&(v+=-8),A&&(v+=-20),V===".*"&&(v+=-50)}d.push(v)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(f){const d=f.match(o),p={};if(!d)return null;for(let y=1;y<d.length;y++){const v=d[y]||"",E=i[y-1];p[E.name]=v&&E.repeatable?v.split("/"):v}return p}function l(f){let d="",p=!1;for(const y of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of y)if(v.type===0)d+=v.value;else if(v.type===1){const{value:E,repeatable:A,optional:L}=v,H=E in f?f[E]:"";if(Hr(H)&&!A)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const V=Hr(H)?H.join("/"):H;if(!V)if(L)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);d+=V}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function fk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function XE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=fk(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(n_(r))return 1;if(n_(s))return-1}return s.length-r.length}function n_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hk={type:0,value:""},dk=/[a-zA-Z0-9_]/;function pk(t){if(!t)return[[]];if(t==="/")return[[hk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,f="",d="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&p(),o()):l===":"?(p(),n=1):y();break;case 4:y(),n=r;break;case 1:l==="("?n=2:dk.test(l)?y():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),o(),s}function mk(t,e,n){const r=lk(pk(t.path),n),s=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function gk(t,e){const n=[],r=new Map;e=o_({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,y,v){const E=!v,A=s_(p);A.aliasOf=v&&v.record;const L=o_(e,p),H=[A];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const j of x)H.push(s_(_t({},A,{components:v?v.record.components:A.components,path:j,aliasOf:v?v.record:A})))}let V,R;for(const x of H){const{path:j}=x;if(y&&j[0]!=="/"){const ne=y.record.path,D=ne[ne.length-1]==="/"?"":"/";x.path=y.record.path+(j&&D+j)}if(V=mk(x,y,L),v?v.alias.push(V):(R=R||V,R!==V&&R.alias.push(V),E&&p.name&&!i_(V)&&o(p.name)),ZE(V)&&l(V),A.children){const ne=A.children;for(let D=0;D<ne.length;D++)i(ne[D],V,v&&v.children[D])}v=v||V}return R?()=>{o(R)}:zc}function o(p){if(YE(p)){const y=r.get(p);y&&(r.delete(p),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(p);y>-1&&(n.splice(y,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return n}function l(p){const y=vk(p,n);n.splice(y,0,p),p.record.name&&!i_(p)&&r.set(p.record.name,p)}function f(p,y){let v,E={},A,L;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw qa(1,{location:p});L=v.record.name,E=_t(r_(y.params,v.keys.filter(R=>!R.optional).concat(v.parent?v.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),p.params&&r_(p.params,v.keys.map(R=>R.name))),A=v.stringify(E)}else if(p.path!=null)A=p.path,v=n.find(R=>R.re.test(A)),v&&(E=v.parse(A),L=v.record.name);else{if(v=y.name?r.get(y.name):n.find(R=>R.re.test(y.path)),!v)throw qa(1,{location:p,currentLocation:y});L=v.record.name,E=_t({},y.params,p.params),A=v.stringify(E)}const H=[];let V=v;for(;V;)H.unshift(V.record),V=V.parent;return{name:L,path:A,params:E,matched:H,meta:_k(H)}}t.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function r_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function s_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yk(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yk(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function i_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _k(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function o_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vk(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;XE(t,e[i])<0?r=i:n=i+1}const s=wk(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function wk(t){let e=t;for(;e=e.parent;)if(ZE(e)&&XE(t,e)===0)return e}function ZE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function bk(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(HE," "),o=i.indexOf("="),a=hu(o<0?i:i.slice(0,o)),l=o<0?null:hu(i.slice(o+1));if(a in e){let f=e[a];Hr(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function a_(t){let e="";for(let n in t){const r=t[n];if(n=j1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Hr(r)?r.map(i=>i&&vp(i)):[r&&vp(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Ek(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Hr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Tk=Symbol(""),c_=Symbol(""),Xf=Symbol(""),$m=Symbol(""),bp=Symbol("");function Dc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ei(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const f=y=>{y===!1?l(qa(4,{from:n,to:e})):y instanceof Error?l(y):ak(y)?l(qa(2,{from:e,to:y})):(o&&r.enterCallbacks[s]===o&&typeof y=="function"&&o.push(y),a())},d=i(()=>t.call(r&&r.instances[s],e,n,f));let p=Promise.resolve(d);t.length<3&&(p=p.then(f)),p.catch(y=>l(y))})}function od(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(BE(l)){const d=(l.__vccOpts||l)[e];d&&i.push(Ei(d,n,r,o,a,s))}else{let f=l();i.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=k1(d)?d.default:d;o.mods[a]=d,o.components[a]=p;const v=(p.__vccOpts||p)[e];return v&&Ei(v,n,r,o,a,s)()}))}}return i}function u_(t){const e=Ht(Xf),n=Ht($m),r=Ze(()=>{const l=Rt(t.to);return e.resolve(l)}),s=Ze(()=>{const{matched:l}=r.value,{length:f}=l,d=l[f-1],p=n.matched;if(!d||!p.length)return-1;const y=p.findIndex(Ba.bind(null,d));if(y>-1)return y;const v=l_(l[f-2]);return f>1&&l_(d)===v&&p[p.length-1].path!==v?p.findIndex(Ba.bind(null,l[f-2])):y}),i=Ze(()=>s.value>-1&&Rk(n.params,r.value.params)),o=Ze(()=>s.value>-1&&s.value===n.matched.length-1&&GE(n.params,r.value.params));function a(l={}){if(Ck(l)){const f=e[Rt(t.replace)?"replace":"push"](Rt(t.to)).catch(zc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ik(t){return t.length===1?t[0]:t}const Ak=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:u_,setup(t,{slots:e}){const n=un(u_(t)),{options:r}=Ht(Xf),s=Ze(()=>({[f_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[f_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Ik(e.default(n));return t.custom?i:qt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Sk=Ak;function Ck(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Rk(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Hr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function l_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const f_=(t,e,n)=>t??e??n,Pk=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ht(bp),s=Ze(()=>t.route||r.value),i=Ht(c_,0),o=Ze(()=>{let f=Rt(i);const{matched:d}=s.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),a=Ze(()=>s.value.matched[o.value]);Ws(c_,Ze(()=>o.value+1)),Ws(Tk,a),Ws(bp,s);const l=Ft();return Er(()=>[l.value,a.value,t.name],([f,d,p],[y,v,E])=>{d&&(d.instances[p]=f,v&&v!==d&&f&&f===y&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),f&&d&&(!v||!Ba(d,v)||!y)&&(d.enterCallbacks[p]||[]).forEach(A=>A(f))},{flush:"post"}),()=>{const f=s.value,d=t.name,p=a.value,y=p&&p.components[d];if(!y)return h_(n.default,{Component:y,route:f});const v=p.props[d],E=v?v===!0?f.params:typeof v=="function"?v(f):v:null,L=qt(y,_t({},E,e,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return h_(n.default,{Component:L,route:f})||L}}});function h_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const eT=Pk;function kk(t){const e=gk(t.routes,t),n=t.parseQuery||bk,r=t.stringifyQuery||a_,s=t.history,i=Dc(),o=Dc(),a=Dc(),l=Xs(vr);let f=vr;ma&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=sd.bind(null,oe=>""+oe),p=sd.bind(null,q1),y=sd.bind(null,hu);function v(oe,Pe){let se,Ne;return YE(oe)?(se=e.getRecordMatcher(oe),Ne=Pe):Ne=oe,e.addRoute(Ne,se)}function E(oe){const Pe=e.getRecordMatcher(oe);Pe&&e.removeRoute(Pe)}function A(){return e.getRoutes().map(oe=>oe.record)}function L(oe){return!!e.getRecordMatcher(oe)}function H(oe,Pe){if(Pe=_t({},Pe||l.value),typeof oe=="string"){const $=id(n,oe,Pe.path),ee=e.resolve({path:$.path},Pe),fe=s.createHref($.fullPath);return _t($,ee,{params:y(ee.params),hash:hu($.hash),redirectedFrom:void 0,href:fe})}let se;if(oe.path!=null)se=_t({},oe,{path:id(n,oe.path,Pe.path).path});else{const $=_t({},oe.params);for(const ee in $)$[ee]==null&&delete $[ee];se=_t({},oe,{params:p($)}),Pe.params=p(Pe.params)}const Ne=e.resolve(se,Pe),et=oe.hash||"";Ne.params=d(y(Ne.params));const $e=z1(r,_t({},oe,{hash:$1(et),path:Ne.path})),N=s.createHref($e);return _t({fullPath:$e,hash:et,query:r===a_?Ek(oe.query):oe.query||{}},Ne,{redirectedFrom:void 0,href:N})}function V(oe){return typeof oe=="string"?id(n,oe,l.value.path):_t({},oe)}function R(oe,Pe){if(f!==oe)return qa(8,{from:Pe,to:oe})}function x(oe){return D(oe)}function j(oe){return x(_t(V(oe),{replace:!0}))}function ne(oe){const Pe=oe.matched[oe.matched.length-1];if(Pe&&Pe.redirect){const{redirect:se}=Pe;let Ne=typeof se=="function"?se(oe):se;return typeof Ne=="string"&&(Ne=Ne.includes("?")||Ne.includes("#")?Ne=V(Ne):{path:Ne},Ne.params={}),_t({query:oe.query,hash:oe.hash,params:Ne.path!=null?{}:oe.params},Ne)}}function D(oe,Pe){const se=f=H(oe),Ne=l.value,et=oe.state,$e=oe.force,N=oe.replace===!0,$=ne(se);if($)return D(_t(V($),{state:typeof $=="object"?_t({},et,$.state):et,force:$e,replace:N}),Pe||se);const ee=se;ee.redirectedFrom=Pe;let fe;return!$e&&W1(r,Ne,se)&&(fe=qa(16,{to:ee,from:Ne}),Tn(Ne,Ne,!0,!1)),(fe?Promise.resolve(fe):O(ee,Ne)).catch(ae=>Ls(ae)?Ls(ae,2)?ae:Kt(ae):Ce(ae,ee,Ne)).then(ae=>{if(ae){if(Ls(ae,2))return D(_t({replace:N},V(ae.to),{state:typeof ae.to=="object"?_t({},et,ae.to.state):et,force:$e}),Pe||ee)}else ae=M(ee,Ne,!0,N,et);return F(ee,Ne,ae),ae})}function S(oe,Pe){const se=R(oe,Pe);return se?Promise.reject(se):Promise.resolve()}function I(oe){const Pe=Sr.values().next().value;return Pe&&typeof Pe.runWithContext=="function"?Pe.runWithContext(oe):oe()}function O(oe,Pe){let se;const[Ne,et,$e]=Ok(oe,Pe);se=od(Ne.reverse(),"beforeRouteLeave",oe,Pe);for(const $ of Ne)$.leaveGuards.forEach(ee=>{se.push(Ei(ee,oe,Pe))});const N=S.bind(null,oe,Pe);return se.push(N),zt(se).then(()=>{se=[];for(const $ of i.list())se.push(Ei($,oe,Pe));return se.push(N),zt(se)}).then(()=>{se=od(et,"beforeRouteUpdate",oe,Pe);for(const $ of et)$.updateGuards.forEach(ee=>{se.push(Ei(ee,oe,Pe))});return se.push(N),zt(se)}).then(()=>{se=[];for(const $ of $e)if($.beforeEnter)if(Hr($.beforeEnter))for(const ee of $.beforeEnter)se.push(Ei(ee,oe,Pe));else se.push(Ei($.beforeEnter,oe,Pe));return se.push(N),zt(se)}).then(()=>(oe.matched.forEach($=>$.enterCallbacks={}),se=od($e,"beforeRouteEnter",oe,Pe,I),se.push(N),zt(se))).then(()=>{se=[];for(const $ of o.list())se.push(Ei($,oe,Pe));return se.push(N),zt(se)}).catch($=>Ls($,8)?$:Promise.reject($))}function F(oe,Pe,se){a.list().forEach(Ne=>I(()=>Ne(oe,Pe,se)))}function M(oe,Pe,se,Ne,et){const $e=R(oe,Pe);if($e)return $e;const N=Pe===vr,$=ma?history.state:{};se&&(Ne||N?s.replace(oe.fullPath,_t({scroll:N&&$&&$.scroll},et)):s.push(oe.fullPath,et)),l.value=oe,Tn(oe,Pe,se,N),Kt()}let P;function Ue(){P||(P=s.listen((oe,Pe,se)=>{if(!Nn.listening)return;const Ne=H(oe),et=ne(Ne);if(et){D(_t(et,{replace:!0,force:!0}),Ne).catch(zc);return}f=Ne;const $e=l.value;ma&&tk(Xy($e.fullPath,se.delta),Jf()),O(Ne,$e).catch(N=>Ls(N,12)?N:Ls(N,2)?(D(_t(V(N.to),{force:!0}),Ne).then($=>{Ls($,20)&&!se.delta&&se.type===du.pop&&s.go(-1,!1)}).catch(zc),Promise.reject()):(se.delta&&s.go(-se.delta,!1),Ce(N,Ne,$e))).then(N=>{N=N||M(Ne,$e,!1),N&&(se.delta&&!Ls(N,8)?s.go(-se.delta,!1):se.type===du.pop&&Ls(N,20)&&s.go(-1,!1)),F(Ne,$e,N)}).catch(zc)}))}let Ke=Dc(),Ae=Dc(),Me;function Ce(oe,Pe,se){Kt(oe);const Ne=Ae.list();return Ne.length?Ne.forEach(et=>et(oe,Pe,se)):console.error(oe),Promise.reject(oe)}function ht(){return Me&&l.value!==vr?Promise.resolve():new Promise((oe,Pe)=>{Ke.add([oe,Pe])})}function Kt(oe){return Me||(Me=!oe,Ue(),Ke.list().forEach(([Pe,se])=>oe?se(oe):Pe()),Ke.reset()),oe}function Tn(oe,Pe,se,Ne){const{scrollBehavior:et}=t;if(!ma||!et)return Promise.resolve();const $e=!se&&nk(Xy(oe.fullPath,0))||(Ne||!se)&&history.state&&history.state.scroll||null;return cr().then(()=>et(oe,Pe,$e)).then(N=>N&&ek(N)).catch(N=>Ce(N,oe,Pe))}const kt=oe=>s.go(oe);let pt;const Sr=new Set,Nn={currentRoute:l,listening:!0,addRoute:v,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:A,resolve:H,options:t,push:x,replace:j,go:kt,back:()=>kt(-1),forward:()=>kt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ae.add,isReady:ht,install(oe){const Pe=this;oe.component("RouterLink",Sk),oe.component("RouterView",eT),oe.config.globalProperties.$router=Pe,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>Rt(l)}),ma&&!pt&&l.value===vr&&(pt=!0,x(s.location).catch(et=>{}));const se={};for(const et in vr)Object.defineProperty(se,et,{get:()=>l.value[et],enumerable:!0});oe.provide(Xf,Pe),oe.provide($m,as(se)),oe.provide(bp,l);const Ne=oe.unmount;Sr.add(oe),oe.unmount=function(){Sr.delete(oe),Sr.size<1&&(f=vr,P&&P(),P=null,l.value=vr,pt=!1,Me=!1),Ne()}}};function zt(oe){return oe.reduce((Pe,se)=>Pe.then(()=>I(se)),Promise.resolve())}return Nn}function Ok(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(f=>Ba(f,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>Ba(f,l))||s.push(l))}return[n,r,s]}function hj(){return Ht(Xf)}function tT(t){return Ht($m)}const Dk=/(:\w+)\([^)]+\)/g,xk=/(:\w+)[?+*]/g,Nk=/:\w+/g,Mk=(t,e)=>e.path.replace(Dk,"$1").replace(xk,"$1").replace(Nk,n=>t.params[n.slice(1)]?.toString()||""),Ep=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&Mk(t.route,n));return typeof r=="function"?r(t.route):r},Lk=(t,e)=>({default:()=>t?qt(OS,t===!0?{}:t,e):e});function jm(t){return Array.isArray(t)?t:[t]}const Vk={layout:"home"},Fk={layout:"noscroll"},Uk={layout:"form"},$k={layout:"form"},jk={layout:"form"},Bk={layout:"form"},ad=[{name:"200",path:"/200",component:()=>At(()=>import("./DaNAWMaO.js"),[],import.meta.url)},{name:"404",path:"/404",component:()=>At(()=>import("./Dmn0vmg5.js"),[],import.meta.url)},{name:"500",path:"/500",component:()=>At(()=>import("./cfK1Wpvm.js"),[],import.meta.url)},{name:"index",path:"/",meta:Vk||{},component:()=>At(()=>import("./BQIJfskR.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{name:"sobre",path:"/sobre",component:()=>At(()=>import("./ddIkDnxG.js"),__vite__mapDeps([5,6]),import.meta.url)},{name:"agenda",path:"/agenda",meta:Fk||{},component:()=>At(()=>import("./CkPGhGjQ.js"),__vite__mapDeps([7,1,2,8]),import.meta.url)},{name:"perfil",path:"/perfil",component:()=>At(()=>import("./CXOs5zuY.js"),__vite__mapDeps([9,10]),import.meta.url)},{name:"eventos",path:"/eventos",component:()=>At(()=>import("./BQmSfujb.js"),__vite__mapDeps([11,3,12,13]),import.meta.url)},{name:"navegar",path:"/navegar",component:()=>At(()=>import("./C4wnYRHc.js"),__vite__mapDeps([14,15]),import.meta.url)},{name:"recentes",path:"/recentes",component:()=>At(()=>import("./BkaJ0DXb.js"),__vite__mapDeps([16,17]),import.meta.url)},{name:"servicos",path:"/servicos",component:()=>At(()=>import("./B7cr_GLp.js"),__vite__mapDeps([18,19]),import.meta.url)},{name:"settings",path:"/settings",component:()=>At(()=>import("./CWW1n6AE.js"),__vite__mapDeps([20,21]),import.meta.url)},{name:"relatorio",path:"/relatorio",component:()=>At(()=>import("./C9EMordB.js"),__vite__mapDeps([22,3,23]),import.meta.url)},{name:"forms-view",path:"/forms/view",meta:Uk||{},component:()=>At(()=>import("./DecyOXwM.js"),__vite__mapDeps([24,25,1,2,26]),import.meta.url)},{name:"lista-edit",path:"/lista/edit",component:()=>At(()=>import("./DGM1GRPj.js"),[],import.meta.url)},{name:"hinos",path:"/hinos",component:()=>At(()=>import("./CfVVdfyE.js"),__vite__mapDeps([27,28]),import.meta.url)},{name:"lista",path:"/lista",component:()=>At(()=>import("./CS966vdy.js"),__vite__mapDeps([29,1,2,25,12,3,30]),import.meta.url)},{name:"evento",path:"/evento",component:()=>At(()=>import("./qe3v-g0_.js"),__vite__mapDeps([31,32]),import.meta.url)},{name:"forms-contato",path:"/forms/contato",meta:$k||{},component:()=>At(()=>import("./DmkMO4cs.js"),__vite__mapDeps([33,34]),import.meta.url)},{name:"lista-calendar",path:"/lista/calendar",component:()=>At(()=>import("./BD3kfZLA.js"),__vite__mapDeps([35,1,2,3,36]),import.meta.url)},{name:"evento-solicitar",path:"/evento/solicitar",component:()=>At(()=>import("./D7rl8lNW.js"),__vite__mapDeps([37,38]),import.meta.url)},{name:"forms-manutencao",path:"/forms/manutencao",meta:jk||{},component:()=>At(()=>import("./vZGkS2hF.js"),__vite__mapDeps([39,40]),import.meta.url)},{name:"forms-levantamento_preventiva",path:"/forms/levantamento_preventiva",meta:Bk||{},component:()=>At(()=>import("./B2mNKc1N.js"),__vite__mapDeps([41,42]),import.meta.url)}],nT=(t,e)=>({default:()=>t?qt(DC,t===!0?{}:t,e):e.default?.()}),qk=/(:\w+)\([^)]+\)/g,Hk=/(:\w+)[?+*]/g,Kk=/:\w+/g;function d_(t){const e=t?.meta.key??t.path.replace(qk,"$1").replace(Hk,"$1").replace(Kk,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function zk(t,e){return t===e||e===vr?!1:d_(t)!==d_(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}const Wk={scrollBehavior(t,e,n){const r=Lt(),s=qn().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:rT(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===vr){a(p_(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(p_(t,e,n,s)))})})}};function rT(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function p_(t,e,n,r){if(n)return n;const s=zk(t,e);return t.hash?{el:t.hash,top:rT(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const Gk={hashMode:!1,scrollBehaviorType:"auto"},yi={...Gk,...Wk},Qk=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=cs(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=ki({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},Yk=async t=>{let e,n;const r=([e,n]=cs(()=>Vm({path:t.path})),e=await e,n(),e);if(r.redirect)return ai(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},Jk=[Qk,Yk],Tp={};function Xk(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const f=i.includes(t.slice(o))?t.slice(o).length:1;let d=i.slice(f);return d[0]!=="/"&&(d="/"+d),Ry(d,"")}const a=Ry(r,t),l=!n||kR(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const Zk=pn({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=Zs().app.baseURL;const s=yi.history?.(r)??ok(r),i=yi.routes?([e,n]=cs(()=>yi.routes(ad)),e=await e,n(),e??ad):ad;let o;const a=kk({...yi,scrollBehavior:(L,H,V)=>{if(H===vr){o=V;return}if(yi.scrollBehavior){if(a.options.scrollBehavior=yi.scrollBehavior,"scrollRestoration"in window.history){const R=a.beforeEach(()=>{R(),window.history.scrollRestoration="manual"})}return yi.scrollBehavior(L,vr,o||V)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=Xs(a.currentRoute.value);a.afterEach((L,H)=>{l.value=H}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const f=Xk(r,window.location,t.payload.path),d=Xs(a.currentRoute.value),p=()=>{d.value=a.currentRoute.value};t.hook("page:finish",p),a.afterEach((L,H)=>{L.matched[L.matched.length-1]?.components?.default===H.matched[H.matched.length-1]?.components?.default&&p()});const y={};for(const L in d.value)Object.defineProperty(y,L,{get:()=>d.value[L],enumerable:!0});t._route=as(y),t._middleware||={global:[],named:{}};const v=Ou();a.afterEach(async(L,H,V)=>{delete t._processingMiddleware,!t.isHydrating&&v.value&&await t.runWithContext(EE),V&&await t.callHook("page:loading:end")});try{[e,n]=cs(()=>a.isReady()),await e,n()}catch(L){[e,n]=cs(()=>t.runWithContext(()=>To(L))),await e,n()}const E=f!==a.currentRoute.value.fullPath?a.resolve(f):a.currentRoute.value;p();const A=t.payload.state._layout;return a.beforeEach(async(L,H)=>{await t.callHook("page:loading:start"),L.meta=un(L.meta),t.isHydrating&&A&&!Js(L.meta.layout)&&(L.meta.layout=A),t._processingMiddleware=!0;{const V=new Set([...Jk,...t._middleware.global]);for(const R of L.matched){const x=R.meta.middleware;if(x)for(const j of jm(x))V.add(j)}{const R=await t.runWithContext(()=>Vm({path:L.path}));if(R.appMiddleware)for(const x in R.appMiddleware)R.appMiddleware[x]?V.add(x):V.delete(x)}for(const R of V){const x=typeof R=="string"?t._middleware.named[R]||await Tp[R]?.().then(j=>j.default||j):R;if(!x)throw new Error(`Unknown route middleware: '${R}'.`);try{const j=await t.runWithContext(()=>x(L,H));if(!t.payload.serverRendered&&t.isHydrating&&(j===!1||j instanceof Error)){const ne=j||ki({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await t.runWithContext(()=>To(ne)),!1}if(j===!0)continue;if(j===!1)return j;if(j)return TE(j)&&j.fatal&&await t.runWithContext(()=>To(j)),j}catch(j){const ne=ki(j);return ne.fatal&&await t.runWithContext(()=>To(ne)),ne}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(L=>{if(L.matched.length===0)return t.runWithContext(()=>To(ki({statusCode:404,fatal:!1,statusMessage:`Page not found: ${L.fullPath}`,data:{path:L.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await a.replace({...E,force:!0}),a.options.scrollBehavior=yi.scrollBehavior}catch(L){await t.runWithContext(()=>To(L))}}),{provide:{router:a}}}}),Ip=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),eO=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Zf=t=>{const e=Lt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Ip(()=>t())}):Ip(()=>t())},tO=pn({name:"nuxt:payload",setup(t){const e=new Set;qn().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Qy(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),Zf(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Qy(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Yf,1e3)})}}),nO=pn(()=>{const t=qn();Zf(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),rO=pn(t=>{let e;async function n(){let r;try{r=await Yf()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,My);try{const s=await $fetch(Nm("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}Zf(()=>{e=setTimeout(n,My)})});function sO(t={}){const e=t.path||window.location.pathname;let n={};try{n=ja(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Lt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const iO=pn({name:"nuxt:chunk-reload",setup(t){const e=qn(),n=Zs(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Gf(n.app.baseURL,i.fullPath);sO({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function Ap(t){return typeof t=="string"?`'${t}'`:new oO().serialize(t)}const oO=(function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,l]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function aO(t,e){return t===e||Ap(t)===Ap(e)}const cO=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],uO=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],lO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bo=[];let fO=class{_data=new hl;_hash=new hl([...cO]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const r=this._hash.words;let s=r[0],i=r[1],o=r[2],a=r[3],l=r[4],f=r[5],d=r[6],p=r[7];for(let y=0;y<64;y++){if(y<16)bo[y]=e[n+y]|0;else{const R=bo[y-15],x=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,j=bo[y-2],ne=(j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10;bo[y]=x+bo[y-7]+ne+bo[y-16]}const v=l&f^~l&d,E=s&i^s&o^i&o,A=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),L=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),H=p+L+v+uO[y]+bo[y],V=A+E;p=d,d=f,f=l,l=a+H|0,a=o,o=i,i=s,s=H+V|0}r[0]=r[0]+s|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0,r[5]=r[5]+f|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0}_append(e){typeof e=="string"&&(e=hl.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,r=this._data.sigBytes/64;e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const s=r*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let o=0;o<s;o+=16)this._doProcessBlock(this._data.words,o);n=this._data.words.splice(0,s),this._data.sigBytes-=i}return new hl(n,i)}},hl=class sT{words;sigBytes;constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),r=n.length,s=[];for(let i=0;i<r;i++)s[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new sT(s,r)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const r=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,o=r<<16|s<<8|i;for(let a=0;a<4&&n*8+a*6<this.sigBytes*8;a++)e.push(lO.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}};function hO(t){return new fO().finalize(t).toBase64()}function ga(t){return hO(Ap(t))}const dO={trailing:!0};function pO(t,e=25,n={}){if(n={...dO,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,s,i=[],o,a;const l=(p,y)=>(o=mO(t,p,y),o.finally(()=>{if(o=null,n.trailing&&a&&!s){const v=l(p,a);return a=null,v}}),o),f=function(...p){return n.trailing&&(a=p),o||new Promise(y=>{const v=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const E=n.leading?r:l(this,p);a=null;for(const A of i)A(E);i=[]},e),v?(r=l(this,p),y(r)):i.push(y)})},d=p=>{p&&(clearTimeout(p),s=null)};return f.isPending=()=>!!s,f.cancel=()=>{d(s),i=[],a=null},f.flush=()=>{if(d(s),!a||o)return;const p=a;return a=null,l(this,p)},f}async function mO(t,e,n){return await t.apply(e,n)}const gO=Symbol.for("nuxt:client-only");function yO(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;_O(t[0],t[1])&&t.unshift(e);let[n,r,s={}]=t,i=!1;const o=Ze(()=>Lr(n));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Lt();s.server??=!0,s.default??=wO,s.getCachedData??=oT,s.lazy??=!1,s.immediate??=!0,s.deep??=uP.deep,s.dedupe??="cancel",s._functionName,a._asyncData[o.value];function l(){const E={cause:"initial",dedupe:s.dedupe};return a._asyncData[o.value]?._init||(E.cachedData=s.getCachedData(o.value,a,{cause:"initial"}),a._asyncData[o.value]=m_(a,o.value,r,s,E.cachedData)),()=>a._asyncData[o.value].execute(E)}const f=l(),d=a._asyncData[o.value];d._deps++;const p=s.server!==!1&&a.payload.serverRendered;{let E=function(x){const j=a._asyncData[x];j?._deps&&(j._deps--,j._deps===0&&j?._off())};const A=oi();if(A&&p&&s.immediate&&!A.sp&&(A.sp=[]),A&&!A._nuxtOnBeforeMountCbs){A._nuxtOnBeforeMountCbs=[];const x=A._nuxtOnBeforeMountCbs;wb(()=>{x.forEach(j=>{j()}),x.splice(0,x.length)}),lr(()=>x.splice(0,x.length))}const L=A&&(A._nuxtClientOnly||Ht(gO,!1));p&&a.isHydrating&&(d.error.value||d.data.value!==void 0)?d.status.value=d.error.value?"error":"success":A&&(!L&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?A._nuxtOnBeforeMountCbs.push(f):s.immediate&&d.status.value!=="success"&&f();const H=ec(),V=Er(o,(x,j)=>{if((x||j)&&x!==j){i=!0;const ne=a._asyncData[j]?.data.value!==void 0,D=a._asyncDataPromises[j]!==void 0,S={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[x]?._init){let I;j&&ne?I=a._asyncData[j].data.value:(I=s.getCachedData(x,a,{cause:"initial"}),S.cachedData=I),a._asyncData[x]=m_(a,x,r,s,I)}a._asyncData[x]._deps++,j&&E(j),(s.immediate||ne||D)&&a._asyncData[x].execute(S),iu(()=>{i=!1})}},{flush:"sync"}),R=s.watch?Er(s.watch,()=>{i||d._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};H&&nu(()=>{V(),R(),E(o.value)})}const y={data:dl(()=>a._asyncData[o.value]?.data),pending:dl(()=>a._asyncData[o.value]?.pending),status:dl(()=>a._asyncData[o.value]?.status),error:dl(()=>a._asyncData[o.value]?.error),refresh:(...E)=>a._asyncData[o.value]?._init?a._asyncData[o.value].execute(...E):l()(),execute:(...E)=>y.refresh(...E),clear:()=>iT(a,o.value)},v=Promise.resolve(a._asyncDataPromises[o.value]).then(()=>y);return Object.assign(v,y),v}function dl(t){return Ze({get(){return t()?.value},set(e){const n=t();n&&(n.value=e)}})}function _O(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}function iT(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=void 0),t._asyncData[e]&&(t._asyncData[e].data.value=Rt(t._asyncData[e]._default()),t._asyncData[e].error.value=void 0,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function vO(t,e){const n={};for(const r of e)n[r]=t[r];return n}function m_(t,e,n,r,s){t.payload._errors[e]??=void 0;const i=r.getCachedData!==oT,o=n,a=r.deep?Ft:Xs,l=s!==void 0,f=t.hook("app:data:refresh",async p=>{(!p||p.includes(e))&&await d.execute({cause:"refresh:hook"})}),d={data:a(l?s:r.default()),pending:Ze(()=>d.status.value==="pending"),error:ib(t.payload._errors,e),status:Xs("idle"),execute:(...p)=>{const[y,v=void 0]=p,E=y&&v===void 0&&typeof y=="object"?y:{};if(t._asyncDataPromises[e]){if((E.dedupe??r.dedupe)==="defer")return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}{const L="cachedData"in E?E.cachedData:r.getCachedData(e,t,{cause:E.cause??"refresh:manual"});if(L!==void 0)return t.payload.data[e]=d.data.value=L,d.error.value=void 0,d.status.value="success",Promise.resolve(L)}d.status.value="pending";const A=new Promise((L,H)=>{try{L(o(t))}catch(V){H(V)}}).then(async L=>{if(A.cancelled)return t._asyncDataPromises[e];let H=L;r.transform&&(H=await r.transform(L)),r.pick&&(H=vO(H,r.pick)),t.payload.data[e]=H,d.data.value=H,d.error.value=void 0,d.status.value="success"}).catch(L=>{if(A.cancelled)return t._asyncDataPromises[e];d.error.value=ki(L),d.data.value=Rt(r.default()),d.status.value="error"}).finally(()=>{A.cancelled||delete t._asyncDataPromises[e]});return t._asyncDataPromises[e]=A,t._asyncDataPromises[e]},_execute:pO((...p)=>d.execute(...p),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),i||cr(()=>{t._asyncData[e]?._init||(iT(t,e),d.execute=()=>Promise.resolve())})}};return d}const wO=()=>{},oT=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function g_(t,e,n){const[r={},s]=typeof e=="string"?[{},e]:[e,n],i=Ze(()=>Lr(t)),o=Ze(()=>Lr(r.key)||"$f"+ga([s,typeof i.value=="string"?i.value:"",...bO(r)]));if(!r.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:l,default:f,transform:d,pick:p,watch:y,immediate:v,getCachedData:E,deep:A,dedupe:L,...H}=r,V=un({...lP,...H,cache:typeof r.cache=="boolean"?void 0:r.cache}),R={server:a,lazy:l,default:f,transform:d,pick:p,immediate:v,getCachedData:E,deep:A,dedupe:L,watch:y===!1?[]:[...y||[],V]};let x;return yO(y===!1?o.value:o,()=>{x?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),x=typeof AbortController<"u"?new AbortController:{};const ne=Lr(r.timeout);let D;return ne&&(D=setTimeout(()=>x.abort(new DOMException("Request aborted due to timeout.","AbortError")),ne),x.signal.onabort=()=>clearTimeout(D)),(r.$fetch||globalThis.$fetch)(i.value,{signal:x.signal,...V}).finally(()=>{clearTimeout(D)})},R)}function bO(t){const e=[Lr(t.method)?.toUpperCase()||"GET",Lr(t.baseURL)];for(const n of[t.params||t.query]){const r=Lr(n);if(!r)continue;const s={};for(const[i,o]of Object.entries(r))s[Lr(i)]=Lr(o);e.push(s)}if(t.body){const n=Lr(t.body);if(!n)e.push(ga(n));else if(n instanceof ArrayBuffer)e.push(ga(Object.fromEntries([...new Uint8Array(n).entries()].map(([r,s])=>[r,s.toString()]))));else if(n instanceof FormData){const r={};for(const s of n.entries()){const[i,o]=s;r[i]=o instanceof File?o.name:o}e.push(ga(r))}else if(fm(n))e.push(ga(un(n)));else try{e.push(ga(n))}catch{console.warn("[useFetch] Failed to hash body",n)}}return e}function EO(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},s=r.decode||TO;let i=0;for(;i<t.length;){const o=t.indexOf("=",i);if(o===-1)break;let a=t.indexOf(";",i);if(a===-1)a=t.length;else if(a<o){i=t.lastIndexOf(";",o-1)+1;continue}const l=t.slice(i,o).trim();if(r?.filter&&!r?.filter(l)){i=a+1;continue}if(n[l]===void 0){let f=t.slice(o+1,a).trim();f.codePointAt(0)===34&&(f=f.slice(1,-1)),n[l]=IO(f,s)}i=a+1}return n}function TO(t){return t.includes("%")?decodeURIComponent(t):t}function IO(t,e){try{return e(t)}catch{return t}}const pl=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function y_(t,e,n){const r=n||{},s=r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!pl.test(t))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!pl.test(i))throw new TypeError("argument val is invalid");let o=t+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!pl.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!pl.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!AO(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function AO(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function Mr(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=Mr(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Mr(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=Mr(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=Mr(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(s){n.add(Mr(s))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(s,i){n.set(Mr(i),Mr(s))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(Mr(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const SO={path:"/",watch:!0,decode:t=>ja(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},ml=globalThis.cookieStore;function __(t,e){const n={...SO,...e};n.filter??=f=>f===t;const r=v_(n)||{};let s;n.maxAge!==void 0?s=n.maxAge*1e3:n.expires&&(s=n.expires.getTime()-Date.now());const i=s!==void 0&&s<=0,o=i||r[t]===void 0||r[t]===null,a=Mr(i?void 0:r[t]??n.default?.()),l=s&&!i?PO(a,s,n.watch&&n.watch!=="shallow"):Ft(a);{let f=null;try{!ml&&typeof BroadcastChannel<"u"&&(f=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const d=(E=!1)=>{!E&&(n.readonly||aO(l.value,r[t]))||(RO(t,l.value,n),r[t]=Mr(l.value),f?.postMessage({value:n.encode(l.value)}))},p=E=>{const A=E.refresh?v_(n)?.[t]:n.decode(E.value);y=!0,l.value=A,r[t]=Mr(A),cr(()=>{y=!1})};let y=!1;const v=!!ec();if(v&&nu(()=>{y=!0,d(),f?.close()}),ml){const E=A=>{const L=A.changed.find(V=>V.name===t),H=A.deleted.find(V=>V.name===t);L&&p({value:L.value}),H&&p({value:null})};ml.addEventListener("change",E),v&&nu(()=>ml.removeEventListener("change",E))}else f&&(f.onmessage=({data:E})=>p(E));n.watch&&Er(l,()=>{y||d()},{deep:n.watch!=="shallow"}),o&&d(o)}return l}function v_(t={}){return EO(document.cookie,t)}function CO(t,e,n={}){return e==null?y_(t,e,{...n,maxAge:-1}):y_(t,e,n)}function RO(t,e,n={}){document.cookie=CO(t,e,n)}const w_=2147483647;function PO(t,e,n){let r,s,i=0;const o=n?Ft(t):{value:t};return ec()&&nu(()=>{s?.(),clearTimeout(r)}),fS((a,l)=>{n&&(s=Er(o,l));function f(){i=0,clearTimeout(r);const d=e-i,p=d<w_?d:w_;r=setTimeout(()=>{if(i+=p,i<e)return f();o.value=void 0,l()},p)}return{get(){return a(),o.value},set(d){f(),o.value=d,l()}}})}function kO(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function aT(t,e=qn()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>aT(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const OO=(...t)=>t.find(e=>e!==void 0);function DO(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o,a){const l=a??t.trailingSlash;if(!i||l!=="append"&&l!=="remove")return i;if(typeof i=="string")return gl(i,l);const f="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:gl(f,l)}}function s(i){const o=qn(),a=Zs(),l=Ze(()=>!!i.target&&i.target!=="_self"),f=Ze(()=>{const L=i.to||i.href||"";return typeof L=="string"&&ai(L,{acceptRelative:!0})}),d=Yd("RouterLink"),p=d&&typeof d!="string"?d.useLink:void 0,y=Ze(()=>{if(i.external)return!0;const L=i.to||i.href||"";return typeof L=="object"?!1:L===""||f.value}),v=Ze(()=>{const L=i.to||i.href||"";return y.value?L:r(L,o.resolve,i.trailingSlash)}),E=y.value?void 0:p?.({...i,to:v}),A=Ze(()=>{const L=i.trailingSlash??t.trailingSlash;if(!v.value||f.value||n(v.value))return v.value;if(y.value){const H=typeof v.value=="object"&&"path"in v.value?pp(v.value):v.value,V=typeof H=="object"?o.resolve(H).href:H;return gl(V,L)}return typeof v.value=="object"?o.resolve(v.value)?.href??null:gl(Gf(a.app.baseURL,v.value),L)});return{to:v,hasTarget:l,isAbsoluteUrl:f,isExternal:y,href:A,isActive:E?.isActive??Ze(()=>v.value===o.currentRoute.value.path),isExactActive:E?.isExactActive??Ze(()=>v.value===o.currentRoute.value.path),route:E?.route??Ze(()=>o.resolve(v.value)),async navigate(L){await RP(A.value,{replace:i.replace,external:y.value||l.value})}}}return Jt({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=qn(),{to:l,href:f,navigate:d,isExternal:p,hasTarget:y,isAbsoluteUrl:v}=s(i),E=Xs(!1),A=Ft(null),L=R=>{A.value=i.custom?R?.$el?.nextElementSibling:R?.$el};function H(R){return!E.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===R:i.prefetchOn?.[R]??t.prefetchOn?.[R])&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!LO()}async function V(R=Lt()){if(E.value)return;E.value=!0;const x=typeof l.value=="string"?l.value:p.value?pp(l.value):a.resolve(l.value).fullPath,j=p.value?new URL(x,window.location.href).href:x;await Promise.all([R.hooks.callHook("link:prefetch",j).catch(()=>{}),!p.value&&!y.value&&aT(l.value,a).catch(()=>{})])}if(H("visibility")){const R=Lt();let x,j=null;Bo(()=>{const ne=NO();Zf(()=>{x=Ip(()=>{A?.value?.tagName&&(j=ne.observe(A.value,async()=>{j?.(),j=null,await V(R)}))})})}),nc(()=>{x&&eO(x),j?.(),j=null})}return()=>{if(!p.value&&!y.value&&!n(l.value)){const j={ref:L,to:l.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(H("interaction")&&(j.onPointerenter=V.bind(null,void 0),j.onFocus=V.bind(null,void 0)),E.value&&(j.class=i.prefetchedClass||t.prefetchedClass),j.rel=i.rel||void 0),qt(Yd("RouterLink"),j,o.default)}const R=i.target||null,x=OO(i.noRel?"":i.rel,t.externalRelAttribute,v.value||y.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:f.value,navigate:d,prefetch:V,get route(){if(!f.value)return;const j=new URL(f.value,window.location.href);return{path:j.pathname,fullPath:j.pathname,get query(){return Dm(j.search)},hash:j.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:x,target:R,isExternal:p.value||y.value,isActive:!1,isExactActive:!1}):null:qt("a",{ref:A,href:f.value||null,rel:x,target:R,onClick:j=>{if(!(p.value||y.value))return j.preventDefault(),i.replace?a.replace(f.value):a.push(f.value)}},o.default?.())}}})}const xO=DO(cP);function gl(t,e){const n=e==="append"?iE:lu;return ai(t)&&!t.startsWith("http")?t:n(t,!0)}function NO(){const t=Lt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||=new IntersectionObserver(a=>{for(const l of a){const f=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&f&&f()}}),n.set(i,o),e.observe(i),()=>{n.delete(i),e?.unobserve(i),n.size===0&&(e?.disconnect(),e=null)});return t._observer={observe:r}}const MO=/2g/;function LO(){const t=navigator.connection;return!!(t&&(t.saveData||MO.test(t.effectiveType)))}const VO=pn({name:"pinia",setup(t){const e=PP();return t.vueApp.use(e),Du(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),FO=pn({name:"nuxt:global-components"}),Si={default:Rc(()=>At(()=>import("./IEZT0LLa.js"),__vite__mapDeps([43,44,45,46,47]),import.meta.url).then(t=>t.default||t)),form:Rc(()=>At(()=>import("./sZW4RbK6.js"),__vite__mapDeps([48,44,45,46,49]),import.meta.url).then(t=>t.default||t)),home:Rc(()=>At(()=>import("./GdTu9iWa.js"),__vite__mapDeps([50,44,1,2]),import.meta.url).then(t=>t.default||t)),landscape:Rc(()=>At(()=>import("./Dd96c-IT.js"),__vite__mapDeps([51,44,45,46,52]),import.meta.url).then(t=>t.default||t)),noscroll:Rc(()=>At(()=>import("./Buo1mzZq.js"),__vite__mapDeps([53,44,45,46,54]),import.meta.url).then(t=>t.default||t))},UO=pn({name:"nuxt:prefetch",setup(t){const e=qn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Si[r]=="function"&&await Si[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ai(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=jm(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Tp[o]=="function"&&Tp[o]();typeof s=="string"&&s in Si&&kO(Si[s])})}});function cd(...t){window.dataLayer?.push(arguments)}function $O({tags:t}){window.dataLayer=window.dataLayer||[];for(const e of t)for(const n of e.initCommands??[])cd(...n);cd("js",new Date);for(const e of t)cd("config",e.id,e.config??{})}function jO(t){const e=Ge(t),n=e.tags.filter(Boolean).map(r=>typeof r=="string"?{id:r}:r);if(e.id){const{id:r,config:s,initCommands:i}=e;n.unshift({id:r,config:s,initCommands:i})}return n}const BO=pn({parallel:!0,setup(){const t=Zs().public.gtag,e=jO(t);if(!e.length||($O({tags:e}),t.initMode==="manual"))return;const n=t.loadingStrategy==="async"?"async":"defer";VE({link:[{rel:"preload",as:"script",href:lf(t.url,{id:e[0].id})}],script:[{src:lf(t.url,{id:e[0].id}),[n]:!0,"data-gtag":""}]})}});function qO(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function Bm(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=Bm(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function cT(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return Bm(t,cT(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function uT(t,e){return e.map(n=>n.split(".")).map(n=>[n,qO(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>Bm(n,r[1],r[0]),{})}function lT(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>cT(n,r),t)}function b_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},f,d=!0){try{d&&a?.(f);const p=e.getItem(r);if(p){const y=n.deserialize(p),v=i?uT(y,i):y,E=o?lT(v,o):v;t.$patch(E)}d&&l?.(f)}catch(p){s&&console.error("[pinia-plugin-persistedstate]",p)}}function E_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o}){try{const a=i?uT(t,i):t,l=o?lT(a,o):a,f=n.serialize(l);e.setItem(r,f)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function HO(t,e,n){const{pinia:r,store:s,options:{persist:i=n}}=t;if(!i)return;if(!(s.$id in r.state.value)){const l=r._s.get(s.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:l=!0}={})=>{a.forEach(f=>{b_(s,f,t,l)})},s.$persist=()=>{a.forEach(l=>{E_(s.$state,l)})},a.forEach(l=>{b_(s,l,t),s.$subscribe((f,d)=>E_(d,l),{detached:!0})})}function KO(t){return{getItem:e=>__(e,{...t??Zs().public.piniaPluginPersistedstate.cookieOptions??{},decode:t?.decode??decodeURIComponent,readonly:!0}).value,setItem:(e,n)=>__(e,{...t??Zs().public.piniaPluginPersistedstate.cookieOptions??{},encode:t?.encode??encodeURIComponent}).value=n}}function zO(){return{getItem:t=>window.localStorage.getItem(t),setItem:(t,e)=>window.localStorage.setItem(t,e)}}function WO(){return{getItem:t=>window.sessionStorage.getItem(t),setItem:(t,e)=>window.sessionStorage.setItem(t,e)}}const ud={cookies:KO,localStorage:zO,sessionStorage:WO};function GO(t){const n=Zs().public.piniaPluginPersistedstate;HO(t,r=>({key:n.key?n.key.replace(/%id/g,r.key??t.store.$id):r.key??t.store.$id,debug:r.debug??n.debug??!1,serializer:r.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>ja(s)},storage:r.storage??(n.storage?n.storage==="cookies"?ud.cookies(n.cookieOptions):ud[n.storage]():ud.cookies()),beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}const QO=pn({name:"pinia-plugin-persistedstate",setup({$pinia:t}){t.use(GO)}});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rl={exports:{}},YO=Rl.exports,T_;function JO(){return T_||(T_=1,(function(t,e){(function(n,r){t.exports=r()})(YO,function(){var n=function(u,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])})(u,h)},r=function(){return(r=Object.assign||function(u){for(var h,m=1,_=arguments.length;m<_;m++)for(var b in h=arguments[m])Object.prototype.hasOwnProperty.call(h,b)&&(u[b]=h[b]);return u}).apply(this,arguments)};function s(u,h,m){for(var _,b=0,T=h.length;b<T;b++)!_&&b in h||((_=_||Array.prototype.slice.call(h,0,b))[b]=h[b]);return u.concat(_||Array.prototype.slice.call(h))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Mc,o=Object.keys,a=Array.isArray;function l(u,h){return typeof h!="object"||o(h).forEach(function(m){u[m]=h[m]}),u}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function p(u,h){return d.call(u,h)}function y(u,h){typeof h=="function"&&(h=h(f(u))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(m){E(u,m,h[m])})}var v=Object.defineProperty;function E(u,h,m,_){v(u,h,l(m&&p(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},_))}function A(u){return{from:function(h){return u.prototype=Object.create(h.prototype),E(u.prototype,"constructor",u),{extend:y.bind(null,u.prototype)}}}}var L=Object.getOwnPropertyDescriptor,H=[].slice;function V(u,h,m){return H.call(u,h,m)}function R(u,h){return h(u)}function x(u){if(!u)throw new Error("Assertion Failed")}function j(u){i.setImmediate?setImmediate(u):setTimeout(u,0)}function ne(u,h){if(typeof h=="string"&&p(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var m=[],_=0,b=h.length;_<b;++_){var T=ne(u,h[_]);m.push(T)}return m}var k=h.indexOf(".");if(k!==-1){var U=u[h.substr(0,k)];return U==null?void 0:ne(U,h.substr(k+1))}}function D(u,h,m){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){x(typeof m!="string"&&"length"in m);for(var _=0,b=h.length;_<b;++_)D(u,h[_],m[_])}else{var T,k,U=h.indexOf(".");U!==-1?(T=h.substr(0,U),(k=h.substr(U+1))===""?m===void 0?a(u)&&!isNaN(parseInt(T))?u.splice(T,1):delete u[T]:u[T]=m:D(U=!(U=u[T])||!p(u,T)?u[T]={}:U,k,m)):m===void 0?a(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=m}}function S(u){var h,m={};for(h in u)p(u,h)&&(m[h]=u[h]);return m}var I=[].concat;function O(u){return I.apply([],u)}var ke="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return i[u]}),F=new Set(ke.map(function(u){return i[u]})),M=null;function P(u){return M=new WeakMap,u=(function h(m){if(!m||typeof m!="object")return m;var _=M.get(m);if(_)return _;if(a(m)){_=[],M.set(m,_);for(var b=0,T=m.length;b<T;++b)_.push(h(m[b]))}else if(F.has(m.constructor))_=m;else{var k,U=f(m);for(k in _=U===Object.prototype?{}:Object.create(U),M.set(m,_),m)p(m,k)&&(_[k]=h(m[k]))}return _})(u),M=null,u}var Ue={}.toString;function Ke(u){return Ue.call(u).slice(8,-1)}var Ae=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Me=typeof Ae=="symbol"?function(u){var h;return u!=null&&(h=u[Ae])&&h.apply(u)}:function(){return null};function Ce(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var ht={};function Kt(u){var h,m,_,b;if(arguments.length===1){if(a(u))return u.slice();if(this===ht&&typeof u=="string")return[u];if(b=Me(u)){for(m=[];!(_=b.next()).done;)m.push(_.value);return m}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(m=new Array(h);h--;)m[h]=u[h];return m}for(h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return m}var Tn=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Le),kt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pt(u,h){this.name=u,this.message=h}function Sr(u,h){return u+". Errors: "+Object.keys(h).map(function(m){return h[m].toString()}).filter(function(m,_,b){return b.indexOf(m)===_}).join(`
`)}function Nn(u,h,m,_){this.failures=h,this.failedKeys=_,this.successCount=m,this.message=Sr(u,h)}function zt(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(m){return h[m]}),this.failuresByPos=h,this.message=Sr(u,this.failures)}A(pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(Nn).from(pt),A(zt).from(pt);var oe=yr.reduce(function(u,h){return u[h]=h+"Error",u},{}),Pe=pt,se=yr.reduce(function(u,h){var m=h+"Error";function _(b,T){this.name=m,b?typeof b=="string"?(this.message="".concat(b).concat(T?`
 `+T:""),this.inner=T||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=kt[h]||m,this.inner=null)}return A(_).from(Pe),u[h]=_,u},{});se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError;var Ne=Le.reduce(function(u,h){return u[h+"Error"]=se[h],u},{}),et=yr.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=se[h]),u},{});function $e(){}function N(u){return u}function $(u,h){return u==null||u===N?h:function(m){return h(u(m))}}function ee(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function fe(u,h){return u===$e?h:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var _=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var T=h.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?ee(_,this.onsuccess):_),b&&(this.onerror=this.onerror?ee(b,this.onerror):b),T!==void 0?T:m}}function ae(u,h){return u===$e?h:function(){u.apply(this,arguments);var m=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ee(m,this.onsuccess):m),_&&(this.onerror=this.onerror?ee(_,this.onerror):_)}}function he(u,h){return u===$e?h:function(m){var _=u.apply(this,arguments);l(m,_);var b=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,m=h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ee(b,this.onsuccess):b),T&&(this.onerror=this.onerror?ee(T,this.onerror):T),_===void 0?m===void 0?void 0:m:l(_,m)}}function Ee(u,h){return u===$e?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function ye(u,h){return u===$e?h:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var _=this,b=arguments.length,T=new Array(b);b--;)T[b]=arguments[b];return m.then(function(){return h.apply(_,T)})}return h.apply(this,arguments)}}et.ModifyError=Nn,et.DexieError=pt,et.BulkError=zt;var pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(u){pe=u}var Ve={},Se=100,ke=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,f(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,f(h),u]})(),Le=ke[0],yr=ke[1],ke=ke[2],yr=yr&&yr.then,Fe=Le&&Le.constructor,ct=!!ke,rt=function(u,h){ln.push([u,h]),Vt&&(queueMicrotask(Gu),Vt=!1)},Wt=!0,Vt=!0,Ot=[],Gt=[],fr=N,Mn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$e,pgp:!1,env:{},finalize:$e},Re=Mn,ln=[],Kn=0,Wr=[];function Ie(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Re;if(typeof u!="function"){if(u!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qi(this,this._value))}this._state=null,this._value=null,++h.ref,(function m(_,b){try{b(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var k=_._lib&&hr();T&&typeof T.then=="function"?m(_,function(U,q){T instanceof Ie?T._then(U,q):T.then(U,q)}):(_._state=!0,_._value=T,Gr(_)),k&&bs()}},Qi.bind(null,_))}catch(T){Qi(_,T)}})(this,u)}var ws={get:function(){var u=Re,h=Yo;function m(_,b){var T=this,k=!u.global&&(u!==Re||h!==Yo),U=k&&!dr(),q=new Ie(function(K,Q){Wo(T,new zo(Jo(_,u,k,U),Jo(b,u,k,U),K,Q,u))});return this._consoleTask&&(q._consoleTask=this._consoleTask),q}return m.prototype=Ve,m},set:function(u){E(this,"then",u&&u.prototype===Ve?ws:{get:function(){return u},set:ws.set})}};function zo(u,h,m,_,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=m,this.reject=_,this.psd=b}function Qi(u,h){var m,_;Gt.push(h),u._state===null&&(m=u._lib&&hr(),h=fr(h),u._state=!1,u._value=h,_=u,Ot.some(function(b){return b._value===_._value})||Ot.push(_),Gr(u),m&&bs())}function Gr(u){var h=u._listeners;u._listeners=[];for(var m=0,_=h.length;m<_;++m)Wo(u,h[m]);var b=u._PSD;--b.ref||b.finalize(),Kn===0&&(++Kn,rt(function(){--Kn==0&&rn()},[]))}function Wo(u,h){if(u._state!==null){var m=u._state?h.onFulfilled:h.onRejected;if(m===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++Kn,rt(Go,[m,u,h])}else u._listeners.push(h)}function Go(u,h,m){try{var _,b=h._value;!h._state&&Gt.length&&(Gt=[]),_=pe&&h._consoleTask?h._consoleTask.run(function(){return u(b)}):u(b),h._state||Gt.indexOf(b)!==-1||(function(T){for(var k=Ot.length;k;)if(Ot[--k]._value===T._value)return Ot.splice(k,1)})(h),m.resolve(_)}catch(T){m.reject(T)}finally{--Kn==0&&rn(),--m.psd.ref||m.psd.finalize()}}function Gu(){Pr(Mn,function(){hr()&&bs()})}function hr(){var u=Wt;return Vt=Wt=!1,u}function bs(){var u,h,m;do for(;0<ln.length;)for(u=ln,ln=[],m=u.length,h=0;h<m;++h){var _=u[h];_[0].apply(null,_[1])}while(0<ln.length);Vt=Wt=!0}function rn(){var u=Ot;Ot=[],u.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var h=Wr.slice(0),m=h.length;m;)h[--m]()}function Yi(u){return new Ie(Ve,!1,u)}function mt(u,h){var m=Re;return function(){var _=hr(),b=Re;try{return Rr(m,!0),u.apply(this,arguments)}catch(T){h&&h(T)}finally{Rr(b,!1),_&&bs()}}}y(Ie.prototype,{then:ws,_then:function(u,h){Wo(this,new zo(null,null,u,h,Re))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,m=arguments[1];return typeof h=="function"?this.then(null,function(_){return(_ instanceof h?m:Yi)(_)}):this.then(null,function(_){return(_&&_.name===h?m:Yi)(_)})},finally:function(u){return this.then(function(h){return Ie.resolve(u()).then(function(){return h})},function(h){return Ie.resolve(u()).then(function(){return Yi(h)})})},timeout:function(u,h){var m=this;return u<1/0?new Ie(function(_,b){var T=setTimeout(function(){return b(new se.Timeout(h))},u);m.then(_,b).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(Ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Mn.env=dc(),y(Ie,{all:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ie(function(h,m){u.length===0&&h([]);var _=u.length;u.forEach(function(b,T){return Ie.resolve(b).then(function(k){u[T]=k,--_||h(u)},m)})})},resolve:function(u){return u instanceof Ie?u:u&&typeof u.then=="function"?new Ie(function(h,m){u.then(h,m)}):new Ie(Ve,!0,u)},reject:Yi,race:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ie(function(h,m){u.map(function(_){return Ie.resolve(_).then(h,m)})})},PSD:{get:function(){return Re},set:function(u){return Re=u}},totalEchoes:{get:function(){return Yo}},newPSD:Zn,usePSD:Pr,scheduler:{get:function(){return rt},set:function(u){rt=u}},rejectionMapper:{get:function(){return fr},set:function(u){fr=u}},follow:function(u,h){return new Ie(function(m,_){return Zn(function(b,T){var k=Re;k.unhandleds=[],k.onunhandled=T,k.finalize=ee(function(){var U,q=this;U=function(){q.unhandleds.length===0?b():T(q.unhandleds[0])},Wr.push(function K(){U(),Wr.splice(Wr.indexOf(K),1)}),++Kn,rt(function(){--Kn==0&&rn()},[])},k.finalize),u()},h,m,_)})}}),Fe&&(Fe.allSettled&&E(Ie,"allSettled",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ie(function(h){u.length===0&&h([]);var m=u.length,_=new Array(m);u.forEach(function(b,T){return Ie.resolve(b).then(function(k){return _[T]={status:"fulfilled",value:k}},function(k){return _[T]={status:"rejected",reason:k}}).then(function(){return--m||h(_)})})})}),Fe.any&&typeof AggregateError<"u"&&E(Ie,"any",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ie(function(h,m){u.length===0&&m(new AggregateError([]));var _=u.length,b=new Array(_);u.forEach(function(T,k){return Ie.resolve(T).then(function(U){return h(U)},function(U){b[k]=U,--_||m(new AggregateError(b))})})})}),Fe.withResolvers&&(Ie.withResolvers=Fe.withResolvers));var xt={awaits:0,echoes:0,id:0},Ph=0,Qo=[],Cr=0,Yo=0,kh=0;function Zn(u,h,m,_){var b=Re,T=Object.create(b);return T.parent=b,T.ref=0,T.global=!1,T.id=++kh,Mn.env,T.env=ct?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,allSettled:Ie.allSettled,any:Ie.any,resolve:Ie.resolve,reject:Ie.reject}:{},h&&l(T,h),++b.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Pr(T,u,m,_),T.ref===0&&T.finalize(),_}function Es(){return xt.id||(xt.id=++Ph),++xt.awaits,xt.echoes+=Se,xt.id}function dr(){return!!xt.awaits&&(--xt.awaits==0&&(xt.id=0),xt.echoes=xt.awaits*Se,!0)}function Ts(u){return xt.echoes&&u&&u.constructor===Fe?(Es(),u.then(function(h){return dr(),h},function(h){return dr(),Nt(h)})):u}function Qr(){var u=Qo[Qo.length-1];Qo.pop(),Rr(u,!1)}function Rr(u,h){var m,_=Re;(h?!xt.echoes||Cr++&&u===Re:!Cr||--Cr&&u===Re)||queueMicrotask(h?(function(b){++Yo,xt.echoes&&--xt.echoes!=0||(xt.echoes=xt.awaits=xt.id=0),Qo.push(Re),Rr(b,!0)}).bind(null,u):Qr),u!==Re&&(Re=u,_===Mn&&(Mn.env=dc()),ct&&(m=Mn.env.Promise,h=u.env,(_.global||u.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),m.all=h.all,m.race=h.race,m.resolve=h.resolve,m.reject=h.reject,h.allSettled&&(m.allSettled=h.allSettled),h.any&&(m.any=h.any))))}function dc(){var u=i.Promise;return ct?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Pr(u,h,m,_,b){var T=Re;try{return Rr(u,!0),h(m,_,b)}finally{Rr(T,!1)}}function Jo(u,h,m,_){return typeof u!="function"?u:function(){var b=Re;m&&Es(),Rr(h,!0);try{return u.apply(this,arguments)}finally{Rr(b,!1),_&&queueMicrotask(dr)}}}function Xo(u){Promise===Fe&&xt.echoes===0?Cr===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+yr).indexOf("[native code]")===-1&&(Es=dr=$e);var Nt=Ie.reject,Is="",zn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pc="String expected.",Yr=[],Jr="__dbnames",kr="readonly",Ji="readwrite";function As(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var mc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xi(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=P(h))[u],h}}function gc(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(u,h){try{var m=Zo(u),_=Zo(h);if(m!==_)return m==="Array"?1:_==="Array"?-1:m==="binary"?1:_==="binary"?-1:m==="string"?1:_==="string"?-1:m==="Date"?1:_!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return(function(b,T){for(var k=b.length,U=T.length,q=k<U?k:U,K=0;K<q;++K)if(b[K]!==T[K])return b[K]<T[K]?-1:1;return k===U?0:k<U?-1:1})(yc(u),yc(h));case"Array":return(function(b,T){for(var k=b.length,U=T.length,q=k<U?k:U,K=0;K<q;++K){var Q=nt(b[K],T[K]);if(Q!==0)return Q}return k===U?0:k<U?-1:1})(u,h)}}catch{}return NaN}function Zo(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=Ke(u),u==="ArrayBuffer"?"binary":u)}function yc(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function Zi(u,h,m){var _=u.schema.yProps;return _?(h&&0<m.numFailures&&(h=h.filter(function(b,T){return!m.failures[T]})),Promise.all(_.map(function(b){return b=b.updatesTable,h?u.db.table(b).where("k").anyOf(h).delete():u.db.table(b).clear()})).then(function(){return m})):m}var eo=(Qu.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var m=h.add;if(a(m))return s(s([],a(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(h.remove!==void 0){var _=h.remove;if(a(_))return a(u)?u.filter(function(b){return!_.includes(b)}).sort():[];if(typeof _=="number")return Number(u)-_;if(typeof _=="bigint")try{return BigInt(u)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return m=(m=h.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?h.replacePrefix[1]+u.substring(m.length):u},Qu);function Qu(u){this["@@propmod"]=u}function _c(u,h){for(var m=o(h),_=m.length,b=!1,T=0;T<_;++T){var k=m[T],U=h[k],q=ne(u,k);U instanceof eo?(D(u,k,U.execute(q)),b=!0):q!==U&&(D(u,k,U),b=!0)}return b}var vc=(It.prototype._trans=function(u,h,m){var _=this._tx||Re.trans,b=this.name,T=pe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function k(K,Q,B){if(!B.schema[b])throw new se.NotFound("Table "+b+" not part of transaction");return h(B.idbtrans,B)}var U=hr();try{var q=_&&_.db._novip===this.db._novip?_===Re.trans?_._promise(u,k,m):Zn(function(){return _._promise(u,k,m)},{trans:_,transless:Re.transless||Re}):(function K(Q,B,J,z){if(Q.idbdb&&(Q._state.openComplete||Re.letThrough||Q._vip)){var W=Q._createTransaction(B,J,Q._dbSchema);try{W.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,z)})):Nt(G)}return W._promise(B,function(G,Y){return Zn(function(){return Re.trans=W,z(G,Y,W)})}).then(function(G){if(B==="readwrite")try{W.idbtrans.commit()}catch{}return B==="readonly"?G:W._completion.then(function(){return G})})}if(Q._state.openComplete)return Nt(new se.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return Nt(new se.DatabaseClosed);Q.open().catch($e)}return Q._state.dbReadyPromise.then(function(){return K(Q,B,J,z)})})(this.db,u,[this.name],k);return T&&(q._consoleTask=T,q=q.catch(function(K){return console.trace(K),Nt(K)})),q}finally{U&&bs()}},It.prototype.get=function(u,h){var m=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?Nt(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return m.core.get({trans:_,key:u}).then(function(b){return m.hook.reading.fire(b)})}).then(h)},It.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(a(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=o(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&h.every(function(K){return 0<=U.keyPath.indexOf(K)})){for(var q=0;q<h.length;++q)if(h.indexOf(U.keyPath[q])===-1)return!1;return!0}return!1}).sort(function(U,q){return U.keyPath.length-q.keyPath.length})[0];if(m&&this.db._maxKey!==Is){var T=m.keyPath.slice(0,h.length);return this.where(T).equals(T.map(function(q){return u[q]}))}!m&&pe&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var _=this.schema.idxByName;function b(U,q){return nt(U,q)===0}var k=h.reduce(function(B,q){var K=B[0],Q=B[1],B=_[q],J=u[q];return[K||B,K||!B?As(Q,B&&B.multi?function(z){return z=ne(z,q),a(z)&&z.some(function(W){return b(J,W)})}:function(z){return b(J,ne(z,q))}):Q]},[null,null]),T=k[0],k=k[1];return T?this.where(T.name).equals(u[T.keyPath]).filter(k):m?this.filter(k):this.where(h).equals("")},It.prototype.filter=function(u){return this.toCollection().and(u)},It.prototype.count=function(u){return this.toCollection().count(u)},It.prototype.offset=function(u){return this.toCollection().offset(u)},It.prototype.limit=function(u){return this.toCollection().limit(u)},It.prototype.each=function(u){return this.toCollection().each(u)},It.prototype.toArray=function(u){return this.toCollection().toArray(u)},It.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},It.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,a(u)?"[".concat(u.join("+"),"]"):u))},It.prototype.reverse=function(){return this.toCollection().reverse()},It.prototype.mapToClass=function(u){var h,m=this.db,_=this.name;function b(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof gc&&((function(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Q(){this.constructor=q}n(q,K),q.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)})(b,h=u),Object.defineProperty(b.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),b.prototype.table=function(){return _},u=b);for(var T=new Set,k=u.prototype;k;k=f(k))Object.getOwnPropertyNames(k).forEach(function(q){return T.add(q)});function U(q){if(!q)return q;var K,Q=Object.create(u.prototype);for(K in q)if(!T.has(K))try{Q[K]=q[K]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),u},It.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},It.prototype.add=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,k=u;return T&&b&&(k=Xi(T)(u)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"add",keys:h!=null?[h]:null,values:[k]})}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{D(u,T,U)}catch{}return U})},It.prototype.upsert=function(u,h){var m=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(b){return m.core.get({trans:b,key:u}).then(function(T){var k=T??{};return _c(k,h),_&&D(k,_,u),m.core.mutate({trans:b,type:"put",values:[k],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[h]}}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):!!T})})})},It.prototype.update=function(u,h){return typeof u!="object"||a(u)?this.where(":id").equals(u).modify(h):(u=ne(u,this.schema.primKey.keyPath),u===void 0?Nt(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},It.prototype.put=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,k=u;return T&&b&&(k=Xi(T)(u)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"put",values:[k],keys:h!=null?[h]:null})}).then(function(U){return U.numFailures?Ie.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{D(u,T,U)}catch{}return U})},It.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"delete",keys:[u]}).then(function(_){return Zi(h,[u],_)}).then(function(_){return _.numFailures?Ie.reject(_.failures[0]):void 0})})},It.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:mc}).then(function(m){return Zi(u,null,m)})}).then(function(h){return h.numFailures?Ie.reject(h.failures[0]):void 0})},It.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(m){return h.core.getMany({keys:u,trans:m}).then(function(_){return _.map(function(b){return h.hook.reading.fire(b)})})})},It.prototype.bulkAdd=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(k){var K=_.schema.primKey,U=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var q=u.length,K=K&&U?u.map(Xi(K)):u;return _.core.mutate({trans:k,type:"add",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkAdd(): ").concat(B," of ").concat(q," operations failed"),W)})})},It.prototype.bulkPut=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(k){var K=_.schema.primKey,U=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var q=u.length,K=K&&U?u.map(Xi(K)):u;return _.core.mutate({trans:k,type:"put",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkPut(): ").concat(B," of ").concat(q," operations failed"),W)})})},It.prototype.bulkUpdate=function(u){var h=this,m=this.core,_=u.map(function(k){return k.key}),b=u.map(function(k){return k.changes}),T=[];return this._trans("readwrite",function(k){return m.getMany({trans:k,keys:_,cache:"clone"}).then(function(U){var q=[],K=[];u.forEach(function(B,J){var z=B.key,W=B.changes,G=U[J];if(G){for(var Y=0,Z=Object.keys(W);Y<Z.length;Y++){var te=Z[Y],ie=W[te];if(te===h.schema.primKey.keyPath){if(nt(ie,z)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else D(G,te,ie)}T.push(J),q.push(z),K.push(G)}});var Q=q.length;return m.mutate({trans:k,type:"put",keys:q,values:K,updates:{keys:_,changeSpecs:b}}).then(function(B){var J=B.numFailures,z=B.failures;if(J===0)return Q;for(var W=0,G=Object.keys(z);W<G.length;W++){var Y,Z=G[W],te=T[Number(Z)];te!=null&&(Y=z[Z],delete z[Z],z[te]=Y)}throw new zt("".concat(h.name,".bulkUpdate(): ").concat(J," of ").concat(Q," operations failed"),z)})})})},It.prototype.bulkDelete=function(u){var h=this,m=u.length;return this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"delete",keys:u}).then(function(b){return Zi(h,u,b)})}).then(function(k){var b=k.numFailures,T=k.lastResult,k=k.failures;if(b===0)return T;throw new zt("".concat(h.name,".bulkDelete(): ").concat(b," of ").concat(m," operations failed"),k)})},It);function It(){}function er(u){function h(k,U){if(U){for(var q=arguments.length,K=new Array(q-1);--q;)K[q-1]=arguments[q];return m[k].subscribe.apply(null,K),u}if(typeof k=="string")return m[k]}var m={};h.addEventType=T;for(var _=1,b=arguments.length;_<b;++_)T(arguments[_]);return h;function T(k,U,q){if(typeof k!="object"){var K;U=U||Ee;var Q={subscribers:[],fire:q=q||$e,subscribe:function(B){Q.subscribers.indexOf(B)===-1&&(Q.subscribers.push(B),Q.fire=U(Q.fire,B))},unsubscribe:function(B){Q.subscribers=Q.subscribers.filter(function(J){return J!==B}),Q.fire=Q.subscribers.reduce(U,q)}};return m[k]=h[k]=Q}o(K=k).forEach(function(B){var J=K[B];if(a(J))T(B,K[B][0],K[B][1]);else{if(J!=="asap")throw new se.InvalidArgument("Invalid event config");var z=T(B,N,function(){for(var W=arguments.length,G=new Array(W);W--;)G[W]=arguments[W];z.subscribers.forEach(function(Y){j(function(){Y.apply(null,G)})})})}})}}function Ln(u,h){return A(h).from({prototype:u}),h}function Or(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function ci(u,h){u.filter=As(u.filter,h)}function ea(u,h,m){var _=u.replayFilter;u.replayFilter=_?function(){return As(_(),h())}:h,u.justLimit=m&&!_}function gt(u,h){if(u.isPrimKey)return h.primaryKey;var m=h.getIndexByKeyPath(u.index);if(!m)throw new se.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return m}function to(u,h,m){var _=gt(u,h.schema);return h.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:_,range:u.range}})}function Xr(u,h,m,_){var b=u.replayFilter?As(u.filter,u.replayFilter()):u.filter;if(u.or){var T={},k=function(U,q,K){var Q,B;b&&!b(q,K,function(J){return q.stop(J)},function(J){return q.fail(J)})||((B=""+(Q=q.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(Q)),p(T,B)||(T[B]=!0,h(U,q,K)))};return Promise.all([u.or._iterate(k,m),ui(to(u,_,m),u.algorithm,k,!u.keysOnly&&u.valueMapper)])}return ui(to(u,_,m),As(u.algorithm,b),h,!u.keysOnly&&u.valueMapper)}function ui(u,h,m,_){var b=mt(_?function(T,k,U){return m(_(T),k,U)}:m);return u.then(function(T){if(T)return T.start(function(){var k=function(){return T.continue()};h&&!h(T,function(U){return k=U},function(U){T.stop(U),k=$e},function(U){T.fail(U),k=$e})||b(T.value,T,function(U){return k=U}),k()})})}var Oh=(ut.prototype._read=function(u,h){var m=this._ctx;return m.error?m.table._trans(null,Nt.bind(null,m.error)):m.table._trans("readonly",u).then(h)},ut.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,Nt.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},ut.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=As(h.algorithm,u)},ut.prototype._iterate=function(u,h){return Xr(this._ctx,u,h,this._ctx.table.core)},ut.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&l(m,u),h._ctx=m,h},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(u){var h=this._ctx;return this._read(function(m){return Xr(h,u,m,h.table.core)})},ut.prototype.count=function(u){var h=this;return this._read(function(m){var _=h._ctx,b=_.table.core;if(Or(_,!0))return b.count({trans:m,query:{index:gt(_,b.schema),range:_.range}}).then(function(k){return Math.min(k,_.limit)});var T=0;return Xr(_,function(){return++T,!1},m,b).then(function(){return T})}).then(u)},ut.prototype.sortBy=function(u,h){var m=u.split(".").reverse(),_=m[0],b=m.length-1;function T(q,K){return K?T(q[m[K]],K-1):q[_]}var k=this._ctx.dir==="next"?1:-1;function U(q,K){return nt(T(q,b),T(K,b))*k}return this.toArray(function(q){return q.sort(U)}).then(h)},ut.prototype.toArray=function(u){var h=this;return this._read(function(m){var _=h._ctx;if(_.dir==="next"&&Or(_,!0)&&0<_.limit){var b=_.valueMapper,T=gt(_,_.table.core.schema);return _.table.core.query({trans:m,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(U){return U=U.result,b?U.map(b):U})}var k=[];return Xr(_,function(U){return k.push(U)},m,_.table.core).then(function(){return k})},u)},ut.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Or(h)?ea(h,function(){var m=u;return function(_,b){return m===0||(m===1?--m:b(function(){_.advance(m),m=0}),!1)}}):ea(h,function(){var m=u;return function(){return--m<0}})),this},ut.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),ea(this._ctx,function(){var h=u;return function(m,_,b){return--h<=0&&_(b),0<=h}},!0),this},ut.prototype.until=function(u,h){return ci(this._ctx,function(m,_,b){return!u(m.value)||(_(b),h)}),this},ut.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},ut.prototype.last=function(u){return this.reverse().first(u)},ut.prototype.filter=function(u){var h;return ci(this._ctx,function(m){return u(m.value)}),(h=this._ctx).isMatch=As(h.isMatch,u),this},ut.prototype.and=function(u){return this.filter(u)},ut.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.key,_)})},ut.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ut.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.primaryKey,_)})},ut.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.key)}).then(function(){return m}).then(u)},ut.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Or(h,!0)&&0<h.limit)return this._read(function(_){var b=gt(h,h.table.core.schema);return h.table.core.query({trans:_,values:!1,limit:h.limit,query:{index:b,range:h.range}})}).then(function(_){return _.result}).then(u);h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.primaryKey)}).then(function(){return m}).then(u)},ut.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ut.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},ut.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ut.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return ci(this._ctx,function(b){var _=b.primaryKey.toString(),b=p(h,_);return h[_]=!0,!b}),this},ut.prototype.modify=function(u){var h=this,m=this._ctx;return this._write(function(_){var b=typeof u=="function"?u:function(G){return _c(G,u)},T=m.table.core,K=T.schema.primaryKey,k=K.outbound,U=K.extractKey,q=200,K=h.db._options.modifyChunkSize;K&&(q=typeof K=="object"?K[T.name]||K["*"]||200:K);function Q(G,te){var Z=te.failures,te=te.numFailures;J+=G-te;for(var ie=0,ce=o(Z);ie<ce.length;ie++){var ge=ce[ie];B.push(Z[ge])}}var B=[],J=0,z=[],W=u===Yu;return h.clone().primaryKeys().then(function(G){function Y(te){var ie=Math.min(q,G.length-te),ce=G.slice(te,te+ie);return(W?Promise.resolve([]):T.getMany({trans:_,keys:ce,cache:"immutable"})).then(function(ge){var be=[],me=[],_e=k?[]:null,Te=W?ce:[];if(!W)for(var we=0;we<ie;++we){var xe=ge[we],Xe={value:P(xe),primKey:G[te+we]};b.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?Te.push(G[te+we]):k||nt(U(xe),U(Xe.value))===0?(me.push(Xe.value),k&&_e.push(G[te+we])):(Te.push(G[te+we]),be.push(Xe.value)))}return Promise.resolve(0<be.length&&T.mutate({trans:_,type:"add",values:be}).then(function(tt){for(var st in tt.failures)Te.splice(parseInt(st),1);Q(be.length,tt)})).then(function(){return(0<me.length||Z&&typeof u=="object")&&T.mutate({trans:_,type:"put",keys:_e,values:me,criteria:Z,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<te}).then(function(tt){return Q(me.length,tt)})}).then(function(){return(0<Te.length||Z&&W)&&T.mutate({trans:_,type:"delete",keys:Te,criteria:Z,isAdditionalChunk:0<te}).then(function(tt){return Zi(m.table,Te,tt)}).then(function(tt){return Q(Te.length,tt)})}).then(function(){return G.length>te+ie&&Y(te+q)})})}var Z=Or(m)&&m.limit===1/0&&(typeof u!="function"||W)&&{index:m.index,range:m.range};return Y(0).then(function(){if(0<B.length)throw new Nn("Error modifying one or more objects",B,J,z);return G.length})})})},ut.prototype.delete=function(){var u=this._ctx,h=u.range;return!Or(u)||u.table.schema.yProps||!u.isPrimKey&&h.type!==3?this.modify(Yu):this._write(function(m){var _=u.table.core.schema.primaryKey,b=h;return u.table.core.count({trans:m,query:{index:_,range:b}}).then(function(T){return u.table.core.mutate({trans:m,type:"deleteRange",range:b}).then(function(q){var U=q.failures,q=q.numFailures;if(q)throw new Nn("Could not delete some values",Object.keys(U).map(function(K){return U[K]}),T-q);return T-q})})})},ut);function ut(){}var Yu=function(u,h){return h.value=null};function Dh(u,h){return u<h?-1:u===h?0:1}function xh(u,h){return h<u?-1:u===h?0:1}function Vn(u,h,m){return u=u instanceof bc?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(h),u}function pr(u){return new u.Collection(u,function(){return wc("")}).limit(0)}function tr(u,h,m,_){var b,T,k,U,q,K,Q,B=m.length;if(!m.every(function(W){return typeof W=="string"}))return Vn(u,pc);function J(W){b=W==="next"?function(Y){return Y.toUpperCase()}:function(Y){return Y.toLowerCase()},T=W==="next"?function(Y){return Y.toLowerCase()}:function(Y){return Y.toUpperCase()},k=W==="next"?Dh:xh;var G=m.map(function(Y){return{lower:T(Y),upper:b(Y)}}).sort(function(Y,Z){return k(Y.lower,Z.lower)});U=G.map(function(Y){return Y.upper}),q=G.map(function(Y){return Y.lower}),Q=(K=W)==="next"?"":_}J("next"),u=new u.Collection(u,function(){return Dr(U[0],q[B-1]+_)}),u._ondirectionchange=function(W){J(W)};var z=0;return u._addAlgorithm(function(W,G,Y){var Z=W.key;if(typeof Z!="string")return!1;var te=T(Z);if(h(te,q,z))return!0;for(var ie=null,ce=z;ce<B;++ce){var ge=(function(be,me,_e,Te,we,xe){for(var Xe=Math.min(be.length,Te.length),tt=-1,st=0;st<Xe;++st){var nr=me[st];if(nr!==Te[st])return we(be[st],_e[st])<0?be.substr(0,st)+_e[st]+_e.substr(st+1):we(be[st],Te[st])<0?be.substr(0,st)+Te[st]+_e.substr(st+1):0<=tt?be.substr(0,tt)+me[tt]+_e.substr(tt+1):null;we(be[st],nr)<0&&(tt=st)}return Xe<Te.length&&xe==="next"?be+_e.substr(be.length):Xe<be.length&&xe==="prev"?be.substr(0,_e.length):tt<0?null:be.substr(0,tt)+Te[tt]+_e.substr(tt+1)})(Z,te,U[ce],q[ce],k,K);ge===null&&ie===null?z=ce+1:(ie===null||0<k(ie,ge))&&(ie=ge)}return G(ie!==null?function(){W.continue(ie+Q)}:Y),!1}),u}function Dr(u,h,m,_){return{type:2,lower:u,upper:h,lowerOpen:m,upperOpen:_}}function wc(u){return{type:1,lower:u,upper:u}}var bc=(Object.defineProperty(Dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dt.prototype.between=function(u,h,m,_){m=m!==!1,_=_===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(m||_)&&(!m||!_)?pr(this):new this.Collection(this,function(){return Dr(u,h,!m,!_)})}catch{return Vn(this,zn)}},Dt.prototype.equals=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return wc(u)})},Dt.prototype.above=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Dr(u,void 0,!0)})},Dt.prototype.aboveOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Dr(u,void 0,!1)})},Dt.prototype.below=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Dr(void 0,u,!1,!0)})},Dt.prototype.belowOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Dr(void 0,u)})},Dt.prototype.startsWith=function(u){return typeof u!="string"?Vn(this,pc):this.between(u,u+Is,!0,!0)},Dt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):tr(this,function(h,m){return h.indexOf(m[0])===0},[u],Is)},Dt.prototype.equalsIgnoreCase=function(u){return tr(this,function(h,m){return h===m[0]},[u],"")},Dt.prototype.anyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.indexOf(h)!==-1},u,"")},Dt.prototype.startsWithAnyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.some(function(_){return h.indexOf(_)===0})},u,Is)},Dt.prototype.anyOf=function(){var u=this,h=Kt.apply(ht,arguments),m=this._cmp;try{h.sort(m)}catch{return Vn(this,zn)}if(h.length===0)return pr(this);var _=new this.Collection(this,function(){return Dr(h[0],h[h.length-1])});_._ondirectionchange=function(T){m=T==="next"?u._ascending:u._descending,h.sort(m)};var b=0;return _._addAlgorithm(function(T,k,U){for(var q=T.key;0<m(q,h[b]);)if(++b===h.length)return k(U),!1;return m(q,h[b])===0||(k(function(){T.continue(h[b])}),!1)}),_},Dt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dt.prototype.noneOf=function(){var u=Kt.apply(ht,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return Vn(this,zn)}var h=u.reduce(function(m,_){return m?m.concat([[m[m.length-1][1],_]]):[[-1/0,_]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Dt.prototype.inAnyRange=function(Z,h){var m=this,_=this._cmp,b=this._ascending,T=this._descending,k=this._min,U=this._max;if(Z.length===0)return pr(this);if(!Z.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&b(te[0],te[1])<=0}))return Vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var q=!h||h.includeLowers!==!1,K=h&&h.includeUppers===!0,Q,B=b;function J(te,ie){return B(te[0],ie[0])}try{(Q=Z.reduce(function(te,ie){for(var ce=0,ge=te.length;ce<ge;++ce){var be=te[ce];if(_(ie[0],be[1])<0&&0<_(ie[1],be[0])){be[0]=k(be[0],ie[0]),be[1]=U(be[1],ie[1]);break}}return ce===ge&&te.push(ie),te},[])).sort(J)}catch{return Vn(this,zn)}var z=0,W=K?function(te){return 0<b(te,Q[z][1])}:function(te){return 0<=b(te,Q[z][1])},G=q?function(te){return 0<T(te,Q[z][0])}:function(te){return 0<=T(te,Q[z][0])},Y=W,Z=new this.Collection(this,function(){return Dr(Q[0][0],Q[Q.length-1][1],!q,!K)});return Z._ondirectionchange=function(te){B=te==="next"?(Y=W,b):(Y=G,T),Q.sort(J)},Z._addAlgorithm(function(te,ie,ce){for(var ge,be=te.key;Y(be);)if(++z===Q.length)return ie(ce),!1;return!W(ge=be)&&!G(ge)||(m._cmp(be,Q[z][1])===0||m._cmp(be,Q[z][0])===0||ie(function(){B===b?te.continue(Q[z][0]):te.continue(Q[z][1])}),!1)}),Z},Dt.prototype.startsWithAnyOf=function(){var u=Kt.apply(ht,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?pr(this):this.inAnyRange(u.map(function(h){return[h,h+Is]})):Vn(this,"startsWithAnyOf() only works with strings")},Dt);function Dt(){}function mr(u){return mt(function(h){return no(h),u(h.target.error),!1})}function no(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var ro="storagemutated",gr="x-storagemutated-1",Zr=er(null,ro),Nh=(Fn.prototype._lock=function(){return x(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},Fn.prototype._unlock=function(){if(x(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Pr(u[1],u[0])}catch{}}return this},Fn.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},Fn.prototype.create=function(u){var h=this;if(!this.mode)return this;var m=this.db.idbdb,_=this.db._state.dbOpenError;if(x(!this.idbtrans),!u&&!m)switch(_&&_.name){case"DatabaseClosedError":throw new se.DatabaseClosed(_);case"MissingAPIError":throw new se.MissingAPI(_.message,_);default:throw new se.OpenFailed(_)}if(!this.active)throw new se.TransactionInactive;return x(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(b){no(b),h._reject(u.error)}),u.onabort=mt(function(b){no(b),h.active&&h._reject(new se.Abort(u.error)),h.active=!1,h.on("abort").fire(b)}),u.oncomplete=mt(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&Zr.storagemutated.fire(u.mutatedParts)}),this},Fn.prototype._promise=function(u,h,m){var _=this;if(u==="readwrite"&&this.mode!=="readwrite")return Nt(new se.ReadOnly("Transaction is readonly"));if(!this.active)return Nt(new se.TransactionInactive);if(this._locked())return new Ie(function(T,k){_._blockedFuncs.push([function(){_._promise(u,h,m).then(T,k)},Re])});if(m)return Zn(function(){var T=new Ie(function(k,U){_._lock();var q=h(k,U,_);q&&q.then&&q.then(k,U)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var b=new Ie(function(T,k){var U=h(T,k,_);U&&U.then&&U.then(T,k)});return b._lib=!0,b},Fn.prototype._root=function(){return this.parent?this.parent._root():this},Fn.prototype.waitFor=function(u){var h,m=this._root(),_=Ie.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return _}):(m._waitingFor=_,m._waitingQueue=[],h=m.idbtrans.objectStore(m.storeNames[0]),(function T(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(h.get(-1/0).onsuccess=T)})());var b=m._waitingFor;return new Ie(function(T,k){_.then(function(U){return m._waitingQueue.push(mt(T.bind(null,U)))},function(U){return m._waitingQueue.push(mt(k.bind(null,U)))}).finally(function(){m._waitingFor===b&&(m._waitingFor=null)})})},Fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Fn.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(p(h,u))return h[u];var m=this.schema[u];if(!m)throw new se.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),h[u]=m},Fn);function Fn(){}function li(u,h,m,_,b,T,k,U){return{name:u,keyPath:h,unique:m,multi:_,auto:b,compound:T,src:(m&&!k?"&":"")+(_?"*":"")+(b?"++":"")+Ec(h),type:U}}function Ec(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Ss(u,h,m){return{name:u,primKey:h,indexes:m,mappedClass:null,idxByName:(_=function(b){return[b.name,b]},m.reduce(function(b,T,k){return k=_(T,k),k&&(b[k[0]]=k[1]),b},{}))};var _}var xr=function(u){try{return u.only([[]]),xr=function(){return[[]]},[[]]}catch{return xr=function(){return Is},Is}};function ta(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(m){return m[h]}:function(m){return ne(m,h)}:function(m){return ne(m,u)};var h}function na(u){return[].slice.call(u)}var Mt=0;function so(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Mh(u,h,q){function _(Y){if(Y.type===3)return null;if(Y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=Y.lower,W=Y.upper,G=Y.lowerOpen,Y=Y.upperOpen;return z===void 0?W===void 0?null:h.upperBound(W,!!Y):W===void 0?h.lowerBound(z,!!G):h.bound(z,W,!!G,!!Y)}function b(J){var z,W=J.name;return{name:W,schema:J,mutate:function(G){var Y=G.trans,Z=G.type,te=G.keys,ie=G.values,ce=G.range;return new Promise(function(ge,be){ge=mt(ge);var me=Y.objectStore(W),_e=me.keyPath==null,Te=Z==="put"||Z==="add";if(!Te&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var we,xe=(te||ie||{length:1}).length;if(te&&ie&&te.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(xe===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Xe($n){++nr,no($n)}var tt=[],st=[],nr=0;if(Z==="deleteRange"){if(ce.type===4)return ge({numFailures:nr,failures:st,results:[],lastResult:void 0});ce.type===3?tt.push(we=me.clear()):tt.push(we=me.delete(_(ce)))}else{var _e=Te?_e?[ie,te]:[ie,null]:[te,null],Je=_e[0],In=_e[1];if(Te)for(var An=0;An<xe;++An)tt.push(we=In&&In[An]!==void 0?me[Z](Je[An],In[An]):me[Z](Je[An])),we.onerror=Xe;else for(An=0;An<xe;++An)tt.push(we=me[Z](Je[An])),we.onerror=Xe}function nl($n){$n=$n.target.result,tt.forEach(function(go,Uh){return go.error!=null&&(st[Uh]=go.error)}),ge({numFailures:nr,failures:st,results:Z==="delete"?te:tt.map(function(go){return go.result}),lastResult:$n})}we.onerror=function($n){Xe($n),nl($n)},we.onsuccess=nl})},getMany:function(G){var Y=G.trans,Z=G.keys;return new Promise(function(te,ie){te=mt(te);for(var ce,ge=Y.objectStore(W),be=Z.length,me=new Array(be),_e=0,Te=0,we=function(tt){tt=tt.target,me[tt._pos]=tt.result,++Te===_e&&te(me)},xe=mr(ie),Xe=0;Xe<be;++Xe)Z[Xe]!=null&&((ce=ge.get(Z[Xe]))._pos=Xe,ce.onsuccess=we,ce.onerror=xe,++_e);_e===0&&te(me)})},get:function(G){var Y=G.trans,Z=G.key;return new Promise(function(te,ie){te=mt(te);var ce=Y.objectStore(W).get(Z);ce.onsuccess=function(ge){return te(ge.target.result)},ce.onerror=mr(ie)})},query:(z=K,function(G){return new Promise(function(Y,Z){Y=mt(Y);var te,ie,ce,_e=G.trans,ge=G.values,be=G.limit,we=G.query,me=be===1/0?void 0:be,Te=we.index,we=we.range,_e=_e.objectStore(W),Te=Te.isPrimaryKey?_e:_e.index(Te.name),we=_(we);if(be===0)return Y({result:[]});z?((me=ge?Te.getAll(we,me):Te.getAllKeys(we,me)).onsuccess=function(xe){return Y({result:xe.target.result})},me.onerror=mr(Z)):(te=0,ie=!ge&&"openKeyCursor"in Te?Te.openKeyCursor(we):Te.openCursor(we),ce=[],ie.onsuccess=function(xe){var Xe=ie.result;return Xe?(ce.push(ge?Xe.value:Xe.primaryKey),++te===be?Y({result:ce}):void Xe.continue()):Y({result:ce})},ie.onerror=mr(Z))})}),openCursor:function(G){var Y=G.trans,Z=G.values,te=G.query,ie=G.reverse,ce=G.unique;return new Promise(function(ge,be){ge=mt(ge);var Te=te.index,me=te.range,_e=Y.objectStore(W),_e=Te.isPrimaryKey?_e:_e.index(Te.name),Te=ie?ce?"prevunique":"prev":ce?"nextunique":"next",we=!Z&&"openKeyCursor"in _e?_e.openKeyCursor(_(me),Te):_e.openCursor(_(me),Te);we.onerror=mr(be),we.onsuccess=mt(function(xe){var Xe,tt,st,nr,Je=we.result;Je?(Je.___id=++Mt,Je.done=!1,Xe=Je.continue.bind(Je),tt=(tt=Je.continuePrimaryKey)&&tt.bind(Je),st=Je.advance.bind(Je),nr=function(){throw new Error("Cursor not stopped")},Je.trans=Y,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=mt(be),Je.next=function(){var In=this,An=1;return this.start(function(){return An--?In.continue():In.stop()}).then(function(){return In})},Je.start=function(In){function An(){if(we.result)try{In()}catch($n){Je.fail($n)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var nl=new Promise(function($n,go){$n=mt($n),we.onerror=mr(go),Je.fail=go,Je.stop=function(Uh){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=nr,$n(Uh)}});return we.onsuccess=mt(function($n){we.onsuccess=An,An()}),Je.continue=Xe,Je.continuePrimaryKey=tt,Je.advance=st,An(),nl},ge(Je)):ge(null)},be)})},count:function(G){var Y=G.query,Z=G.trans,te=Y.index,ie=Y.range;return new Promise(function(ce,ge){var be=Z.objectStore(W),me=te.isPrimaryKey?be:be.index(te.name),be=_(ie),me=be?me.count(be):me.count();me.onsuccess=mt(function(_e){return ce(_e.target.result)}),me.onerror=mr(ge)})}}}var T,k,U,Q=(k=q,U=na((T=u).objectStoreNames),{schema:{name:T.name,tables:U.map(function(J){return k.objectStore(J)}).map(function(J){var z=J.keyPath,Y=J.autoIncrement,W=a(z),G={},Y={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:W,keyPath:z,autoIncrement:Y,unique:!0,extractKey:ta(z)},indexes:na(J.indexNames).map(function(Z){return J.index(Z)}).map(function(ce){var te=ce.name,ie=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,ge={name:te,compound:a(ce),keyPath:ce,unique:ie,multiEntry:ge,extractKey:ta(ce)};return G[so(ce)]=ge}),getIndexByKeyPath:function(Z){return G[so(Z)]}};return G[":id"]=Y.primaryKey,z!=null&&(G[so(z)]=Y.primaryKey),Y})},hasGetAll:0<U.length&&"getAll"in k.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),q=Q.schema,K=Q.hasGetAll,Q=q.tables.map(b),B={};return Q.forEach(function(J){return B[J.name]=J}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(J){if(!B[J])throw new Error("Table '".concat(J,"' not found"));return B[J]},MIN_KEY:-1/0,MAX_KEY:xr(h),schema:q}}function Ju(u,h,m,_){var b=m.IDBKeyRange;return m.indexedDB,{dbcore:(_=Mh(h,b,_),u.dbcore.reduce(function(T,k){return k=k.create,r(r({},T),k(T))},_))}}function io(u,_){var m=_.db,_=Ju(u._middlewares,m,u._deps,_);u.core=_.dbcore,u.tables.forEach(function(b){var T=b.name;u.core.schema.tables.some(function(k){return k.name===T})&&(b.core=u.core.table(T),u[T]instanceof u.Table&&(u[T].core=b.core))})}function oo(u,h,m,_){m.forEach(function(b){var T=_[b];h.forEach(function(k){var U=(function q(K,Q){return L(K,Q)||(K=f(K))&&q(K,Q)})(k,b);(!U||"value"in U&&U.value===void 0)&&(k===u.Transaction.prototype||k instanceof u.Transaction?E(k,b,{get:function(){return this.table(b)},set:function(q){v(this,b,{value:q,writable:!0,configurable:!0,enumerable:!0})}}):k[b]=new u.Table(b,T))})})}function fi(u,h){h.forEach(function(m){for(var _ in m)m[_]instanceof u.Table&&delete m[_]})}function Xu(u,h){return u._cfg.version-h._cfg.version}function Nr(u,h,m,_){var b=u._dbSchema;m.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Ss("$meta",co("")[0],[]),u._storeNames.push("$meta"));var T=u._createTransaction("readwrite",u._storeNames,b);T.create(m),T._completion.catch(_);var k=T._reject.bind(T),U=Re.transless||Re;Zn(function(){return Re.trans=T,Re.transless=U,h!==0?(io(u,m),K=h,((q=T).storeNames.includes("$meta")?q.table("$meta").get("version").then(function(Q){return Q??K}):Ie.resolve(K)).then(function(Q){return J=Q,z=T,W=m,G=[],Q=(B=u)._versions,Y=B._dbSchema=Rs(0,B.idbdb,W),(Q=Q.filter(function(Z){return Z._cfg.version>=J})).length!==0?(Q.forEach(function(Z){G.push(function(){var te=Y,ie=Z._cfg.dbschema;ao(B,te,W),ao(B,ie,W),Y=B._dbSchema=ie;var ce=Tc(te,ie);ce.add.forEach(function(Te){Cs(W,Te[0],Te[1].primKey,Te[1].indexes)}),ce.change.forEach(function(Te){if(Te.recreate)throw new se.Upgrade("Not yet support for changing primary key");var we=W.objectStore(Te.name);Te.add.forEach(function(xe){return hi(we,xe)}),Te.change.forEach(function(xe){we.deleteIndex(xe.name),hi(we,xe)}),Te.del.forEach(function(xe){return we.deleteIndex(xe)})});var ge=Z._cfg.contentUpgrade;if(ge&&Z._cfg.version>J){io(B,W),z._memoizedTables={};var be=S(ie);ce.del.forEach(function(Te){be[Te]=te[Te]}),fi(B,[B.Transaction.prototype]),oo(B,[B.Transaction.prototype],o(be),be),z.schema=be;var me,_e=Tn(ge);return _e&&Es(),ce=Ie.follow(function(){var Te;(me=ge(z))&&_e&&(Te=dr.bind(null,null),me.then(Te,Te))}),me&&typeof me.then=="function"?Ie.resolve(me):ce.then(function(){return me})}}),G.push(function(te){var ie,ce,ge=Z._cfg.dbschema;ie=ge,ce=te,[].slice.call(ce.db.objectStoreNames).forEach(function(be){return ie[be]==null&&ce.db.deleteObjectStore(be)}),fi(B,[B.Transaction.prototype]),oo(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),z.schema=B._dbSchema}),G.push(function(te){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===Z._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ie){return ie!=="$meta"})):te.objectStore("$meta").put(Z._cfg.version,"version"))})}),(function Z(){return G.length?Ie.resolve(G.shift()(z.idbtrans)).then(Z):Ie.resolve()})().then(function(){Ic(Y,W)})):Ie.resolve();var B,J,z,W,G,Y}).catch(k)):(o(b).forEach(function(Q){Cs(m,Q,b[Q].primKey,b[Q].indexes)}),io(u,m),void Ie.follow(function(){return u.on.populate.fire(T)}).catch(k));var q,K})}function Zu(u,h){Ic(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var m=Rs(0,u.idbdb,h);ao(u,u._dbSchema,h);for(var _=0,b=Tc(m,u._dbSchema).change;_<b.length;_++){var T=(function(k){if(k.change.length||k.recreate)return console.warn("Unable to patch indexes of table ".concat(k.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=h.objectStore(k.name);k.add.forEach(function(q){pe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(k.name,".").concat(q.src)),hi(U,q)})})(b[_]);if(typeof T=="object")return T.value}}function Tc(u,h){var m,_={del:[],add:[],change:[]};for(m in u)h[m]||_.del.push(m);for(m in h){var b=u[m],T=h[m];if(b){var k={name:m,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||b.primKey.auto!==T.primKey.auto)k.recreate=!0,_.change.push(k);else{var U=b.idxByName,q=T.idxByName,K=void 0;for(K in U)q[K]||k.del.push(K);for(K in q){var Q=U[K],B=q[K];Q?Q.src!==B.src&&k.change.push(B):k.add.push(B)}(0<k.del.length||0<k.add.length||0<k.change.length)&&_.change.push(k)}}else _.add.push([m,T])}return _}function Cs(u,h,m,_){var b=u.db.createObjectStore(h,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return _.forEach(function(T){return hi(b,T)}),b}function Ic(u,h){o(u).forEach(function(m){h.db.objectStoreNames.contains(m)||(pe&&console.debug("Dexie: Creating missing table",m),Cs(h,m,u[m].primKey,u[m].indexes))})}function hi(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Rs(u,h,m){var _={};return V(h.objectStoreNames,0).forEach(function(b){for(var T=m.objectStore(b),k=li(Ec(K=T.keyPath),K||"",!0,!1,!!T.autoIncrement,K&&typeof K!="string",!0),U=[],q=0;q<T.indexNames.length;++q){var Q=T.index(T.indexNames[q]),K=Q.keyPath,Q=li(Q.name,K,!!Q.unique,!!Q.multiEntry,!1,K&&typeof K!="string",!1);U.push(Q)}_[b]=Ss(b,k,U)}),_}function ao(u,h,m){for(var _=m.db.objectStoreNames,b=0;b<_.length;++b){var T=_[b],k=m.objectStore(T);u._hasGetAll="getAll"in k;for(var U=0;U<k.indexNames.length;++U){var q=k.indexNames[U],K=k.index(q).keyPath,Q=typeof K=="string"?K:"["+V(K).join("+")+"]";!h[T]||(K=h[T].idxByName[Q])&&(K.name=q,delete h[T].idxByName[Q],h[T].idxByName[q]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function co(u){return u.split(",").map(function(h,m){var T=h.split(":"),_=(b=T[1])===null||b===void 0?void 0:b.trim(),b=(h=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return li(b,T||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(T),m===0,_)})}var Lh=(Ps.prototype._createTableSchema=Ss,Ps.prototype._parseIndexSyntax=co,Ps.prototype._parseStoresSpec=function(u,h){var m=this;o(u).forEach(function(_){if(u[_]!==null){var b=m._parseIndexSyntax(u[_]),T=b.shift();if(!T)throw new se.Schema("Invalid schema for table "+_+": "+u[_]);if(T.unique=!0,T.multi)throw new se.Schema("Primary key cannot be multiEntry*");b.forEach(function(k){if(k.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!k.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),b=m._createTableSchema(_,T,b),h[_]=b}})},Ps.prototype.stores=function(m){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,m):m;var m=h._versions,_={},b={};return m.forEach(function(T){l(_,T._cfg.storesSource),b=T._cfg.dbschema={},T._parseStoresSpec(_,b)}),h._dbSchema=b,fi(h,[h._allTables,h,h.Transaction.prototype]),oo(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(b),b),h._storeNames=o(b),this},Ps.prototype.upgrade=function(u){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||$e,u),this},Ps);function Ps(){}function ks(u,h){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new xs(Jr,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function ra(u){return u&&typeof u.databases=="function"}function sa(u){return Zn(function(){return Re.letThrough=!0,u()})}function uo(u){return!("from"in u)}var Xt=function(u,h){if(!this){var m=new Xt;return u&&"d"in u&&l(m,u),m}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function di(u,h,m){var _=nt(h,m);if(!isNaN(_)){if(0<_)throw RangeError();if(uo(u))return l(u,{from:h,to:m,d:1});var b=u.l,_=u.r;if(nt(m,u.from)<0)return b?di(b,h,m):u.l={from:h,to:m,d:1,l:null,r:null},ts(u);if(0<nt(h,u.to))return _?di(_,h,m):u.r={from:h,to:m,d:1,l:null,r:null},ts(u);nt(h,u.from)<0&&(u.from=h,u.l=null,u.d=_?_.d+1:1),0<nt(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,b&&!u.l&&es(u,b),_&&m&&es(u,_)}}function es(u,h){uo(h)||(function m(_,q){var T=q.from,k=q.to,U=q.l,q=q.r;di(_,T,k),U&&m(_,U),q&&m(_,q)})(u,h)}function Ac(u,h){var m=lo(h),_=m.next();if(_.done)return!1;for(var b=_.value,T=lo(u),k=T.next(b.from),U=k.value;!_.done&&!k.done;){if(nt(U.from,b.to)<=0&&0<=nt(U.to,b.from))return!0;nt(b.from,U.from)<0?b=(_=m.next(U.from)).value:U=(k=T.next(b.from)).value}return!1}function lo(u){var h=uo(u)?null:{s:0,n:u};return{next:function(m){for(var _=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,_)for(;h.n.l&&nt(m,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!_||nt(m,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function ts(u){var h,m,_=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),b=1<_?"r":_<-1?"l":"";b&&(h=b=="r"?"l":"r",m=r({},u),_=u[b],u.from=_.from,u.to=_.to,u[b]=_[b],m[b]=_[h],(u[h]=m).d=Sc(m)),u.d=Sc(u)}function Sc(m){var h=m.r,m=m.l;return(h?m?Math.max(h.d,m.d):h.d:m?m.d:0)+1}function fo(u,h){return o(h).forEach(function(m){u[m]?es(u[m],h[m]):u[m]=(function _(b){var T,k,U={};for(T in b)p(b,T)&&(k=b[T],U[T]=!k||typeof k!="object"||F.has(k.constructor)?k:_(k));return U})(h[m])}),u}function ia(u,h){return u.all||h.all||Object.keys(u).some(function(m){return h[m]&&Ac(h[m],u[m])})}y(Xt.prototype,((yr={add:function(u){return es(this,u),this},addKey:function(u){return di(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(m){return di(h,m,m)}),this},hasKey:function(u){var h=lo(this).next(u).value;return h&&nt(h.from,u)<=0&&0<=nt(h.to,u)}})[Ae]=function(){return lo(this)},yr));var ns={},pi={},mn=!1;function ho(u){fo(pi,u),mn||(mn=!0,setTimeout(function(){mn=!1,oa(pi,!(pi={}))},0))}function oa(u,h){h===void 0&&(h=!1);var m=new Set;if(u.all)for(var _=0,b=Object.values(ns);_<b.length;_++)Os(k=b[_],u,m,h);else for(var T in u){var k,U=/^idb\:\/\/(.*)\/(.*)\//.exec(T);U&&(T=U[1],U=U[2],(k=ns["idb://".concat(T,"/").concat(U)])&&Os(k,u,m,h))}m.forEach(function(q){return q()})}function Os(u,h,m,_){for(var b=[],T=0,k=Object.entries(u.queries.query);T<k.length;T++){for(var U=k[T],q=U[0],K=[],Q=0,B=U[1];Q<B.length;Q++){var J=B[Q];ia(h,J.obsSet)?J.subscribers.forEach(function(Y){return m.add(Y)}):_&&K.push(J)}_&&b.push([q,K])}if(_)for(var z=0,W=b;z<W.length;z++){var G=W[z],q=G[0],K=G[1];u.queries.query[q]=K}}function c(u){var h=u._state,m=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Nt(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var _=h.openCanceller,b=Math.round(10*u.verno),T=!1;function k(){if(h.openCanceller!==_)throw new se.DatabaseClosed("db.open() was cancelled")}function U(){return new Ie(function(J,z){if(k(),!m)throw new se.MissingAPI;var W=u.name,G=h.autoSchema||!b?m.open(W):m.open(W,b);if(!G)throw new se.MissingAPI;G.onerror=mr(z),G.onblocked=mt(u._fireOnBlocked),G.onupgradeneeded=mt(function(Y){var Z;Q=G.transaction,h.autoSchema&&!u._options.allowEmptyDB?(G.onerror=no,Q.abort(),G.result.close(),(Z=m.deleteDatabase(W)).onsuccess=Z.onerror=mt(function(){z(new se.NoSuchDatabase("Database ".concat(W," doesnt exist")))})):(Q.onerror=mr(z),Y=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,B=Y<1,u.idbdb=G.result,T&&Zu(u,Q),Nr(u,Y/10,Q,z))},z),G.onsuccess=mt(function(){Q=null;var Y,Z,te,ie,ce,ge=u.idbdb=G.result,be=V(ge.objectStoreNames);if(0<be.length)try{var me=ge.transaction((ie=be).length===1?ie[0]:ie,"readonly");if(h.autoSchema)Z=ge,te=me,(Y=u).verno=Z.version/10,te=Y._dbSchema=Rs(0,Z,te),Y._storeNames=V(Z.objectStoreNames,0),oo(Y,[Y._allTables],o(te),te);else if(ao(u,u._dbSchema,me),((ce=Tc(Rs(0,(ce=u).idbdb,me),ce._dbSchema)).add.length||ce.change.some(function(_e){return _e.add.length||_e.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),b=ge.version+1,T=!0,J(U());io(u,me)}catch{}Yr.push(u),ge.onversionchange=mt(function(_e){h.vcFired=!0,u.on("versionchange").fire(_e)}),ge.onclose=mt(function(){u.close({disableAutoOpen:!1})}),B&&(ce=u._deps,me=W,ge=ce.indexedDB,ce=ce.IDBKeyRange,ra(ge)||me===Jr||ks(ge,ce).put({name:me}).catch($e)),J()},z)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<b)return b=0,U()}return Ie.reject(J)})}var q,K=h.dbReadyResolve,Q=null,B=!1;return Ie.race([_,(typeof navigator>"u"?Ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function z(){return indexedDB.databases().finally(J)}q=setInterval(z,100),z()}).finally(function(){return clearInterval(q)}):Promise.resolve()).then(U)]).then(function(){return k(),h.onReadyBeingFired=[],Ie.resolve(sa(function(){return u.on.ready.fire(u.vip)})).then(function J(){if(0<h.onReadyBeingFired.length){var z=h.onReadyBeingFired.reduce(ye,$e);return h.onReadyBeingFired=[],Ie.resolve(sa(function(){return z(u.vip)})).then(J)}})}).finally(function(){h.openCanceller===_&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(J){h.dbOpenError=J;try{Q&&Q.abort()}catch{}return _===h.openCanceller&&u._close(),Nt(J)}).finally(function(){h.openComplete=!0,K()}).then(function(){var J;return B&&(J={},u.tables.forEach(function(z){z.schema.indexes.forEach(function(W){W.name&&(J["idb://".concat(u.name,"/").concat(z.name,"/").concat(W.name)]=new Xt(-1/0,[[[]]]))}),J["idb://".concat(u.name,"/").concat(z.name,"/")]=J["idb://".concat(u.name,"/").concat(z.name,"/:dels")]=new Xt(-1/0,[[[]]])}),Zr(ro).fire(J),oa(J,!0)),u})}function g(u){function h(T){return u.next(T)}var m=b(h),_=b(function(T){return u.throw(T)});function b(T){return function(q){var U=T(q),q=U.value;return U.done?q:q&&typeof q.then=="function"?q.then(m,_):a(q)?Promise.all(q).then(m,_):m(q)}}return b(h)()}function w(u,h,m){for(var _=a(u)?u.slice():[u],b=0;b<m;++b)_.push(h);return _}var C={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema,b={},T=[];function k(B,J,z){var W=so(B),G=b[W]=b[W]||[],Y=B==null?0:typeof B=="string"?1:B.length,Z=0<J,Z=r(r({},z),{name:Z?"".concat(W,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:Z,keyTail:J,keyLength:Y,extractKey:ta(B),unique:!Z&&z.unique});return G.push(Z),Z.isPrimaryKey||T.push(Z),1<Y&&k(Y===2?B[0]:B.slice(0,Y-1),J+1,z),G.sort(function(te,ie){return te.keyTail-ie.keyTail}),Z}h=k(_.primaryKey.keyPath,0,_.primaryKey),b[":id"]=[h];for(var U=0,q=_.indexes;U<q.length;U++){var K=q[U];k(K.keyPath,0,K)}function Q(B){var J,z=B.query.index;return z.isVirtual?r(r({},B),{query:{index:z.lowLevelIndex,range:(J=B.query.range,z=z.keyTail,{type:J.type===1?2:J.type,lower:w(J.lower,J.lowerOpen?u.MAX_KEY:u.MIN_KEY,z),lowerOpen:!0,upper:w(J.upper,J.upperOpen?u.MIN_KEY:u.MAX_KEY,z),upperOpen:!0})}}):B}return r(r({},m),{schema:r(r({},_),{primaryKey:h,indexes:T,getIndexByKeyPath:function(B){return(B=b[so(B)])&&B[0]}}),count:function(B){return m.count(Q(B))},query:function(B){return m.query(Q(B))},openCursor:function(B){var J=B.query.index,z=J.keyTail,W=J.isVirtual,G=J.keyLength;return W?m.openCursor(Q(B)).then(function(Z){return Z&&Y(Z)}):m.openCursor(B);function Y(Z){return Object.create(Z,{continue:{value:function(te){te!=null?Z.continue(w(te,B.reverse?u.MAX_KEY:u.MIN_KEY,z)):B.unique?Z.continue(Z.key.slice(0,G).concat(B.reverse?u.MIN_KEY:u.MAX_KEY,z)):Z.continue()}},continuePrimaryKey:{value:function(te,ie){Z.continuePrimaryKey(w(te,u.MAX_KEY,z),ie)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var te=Z.key;return G===1?te[0]:te.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function X(u,h,m,_){return m=m||{},_=_||"",o(u).forEach(function(b){var T,k,U;p(h,b)?(T=u[b],k=h[b],typeof T=="object"&&typeof k=="object"&&T&&k?(U=Ke(T))!==Ke(k)?m[_+b]=h[b]:U==="Object"?X(T,k,m,_+b+"."):T!==k&&(m[_+b]=h[b]):T!==k&&(m[_+b]=h[b])):m[_+b]=void 0}),o(h).forEach(function(b){p(u,b)||(m[_+b]=h[b])}),m}function re(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var ve={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema.primaryKey;return r(r({},m),{mutate:function(b){var T=Re.trans,k=T.table(h).hook,U=k.deleting,q=k.creating,K=k.updating;switch(b.type){case"add":if(q.fire===$e)break;return T._promise("readwrite",function(){return Q(b)},!0);case"put":if(q.fire===$e&&K.fire===$e)break;return T._promise("readwrite",function(){return Q(b)},!0);case"delete":if(U.fire===$e)break;return T._promise("readwrite",function(){return Q(b)},!0);case"deleteRange":if(U.fire===$e)break;return T._promise("readwrite",function(){return(function B(J,z,W){return m.query({trans:J,values:!1,query:{index:_,range:z},limit:W}).then(function(G){var Y=G.result;return Q({type:"delete",keys:Y,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):Y.length<W?{failures:[],numFailures:0,lastResult:void 0}:B(J,r(r({},z),{lower:Y[Y.length-1],lowerOpen:!0}),W)})})})(b.trans,b.range,1e4)},!0)}return m.mutate(b);function Q(B){var J,z,W,G=Re.trans,Y=B.keys||re(_,B);if(!Y)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:Y}):r({},B)).type!=="delete"&&(B.values=s([],B.values)),B.keys&&(B.keys=s([],B.keys)),J=m,W=Y,((z=B).type==="add"?Promise.resolve([]):J.getMany({trans:z.trans,keys:W,cache:"immutable"})).then(function(Z){var te=Y.map(function(ie,ce){var ge,be,me,_e=Z[ce],Te={onerror:null,onsuccess:null};return B.type==="delete"?U.fire.call(Te,ie,_e,G):B.type==="add"||_e===void 0?(ge=q.fire.call(Te,ie,B.values[ce],G),ie==null&&ge!=null&&(B.keys[ce]=ie=ge,_.outbound||D(B.values[ce],_.keyPath,ie))):(ge=X(_e,B.values[ce]),(be=K.fire.call(Te,ge,ie,_e,G))&&(me=B.values[ce],Object.keys(be).forEach(function(we){p(me,we)?me[we]=be[we]:D(me,we,be[we])}))),Te});return m.mutate(B).then(function(ie){for(var ce=ie.failures,ge=ie.results,be=ie.numFailures,ie=ie.lastResult,me=0;me<Y.length;++me){var _e=(ge||Y)[me],Te=te[me];_e==null?Te.onerror&&Te.onerror(ce[me]):Te.onsuccess&&Te.onsuccess(B.type==="put"&&Z[me]?B.values[me]:_e)}return{failures:ce,results:ge,numFailures:be,lastResult:ie}}).catch(function(ie){return te.forEach(function(ce){return ce.onerror&&ce.onerror(ie)}),Promise.reject(ie)})})}}})}})}};function yt(u,h,m){try{if(!h||h.keys.length<u.length)return null;for(var _=[],b=0,T=0;b<h.keys.length&&T<u.length;++b)nt(h.keys[b],u[T])===0&&(_.push(m?P(h.values[b]):h.values[b]),++T);return _.length===u.length?_:null}catch{return null}}var sn={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var m=u.table(h);return r(r({},m),{getMany:function(_){if(!_.cache)return m.getMany(_);var b=yt(_.keys,_.trans._cache,_.cache==="clone");return b?Ie.resolve(b):m.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?P(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),m.mutate(_)}})}}}};function lt(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function on(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fn={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,m=new Xt(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(_,b,T){if(Re.subscr&&b!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return u.transaction(_,b,T)},table:function(_){var b=u.table(_),T=b.schema,k=T.primaryKey,B=T.indexes,U=k.extractKey,q=k.outbound,K=k.autoIncrement&&B.filter(function(z){return z.compound&&z.keyPath.includes(k.keyPath)}),Q=r(r({},b),{mutate:function(z){function W(we){return we="idb://".concat(h,"/").concat(_,"/").concat(we),ie[we]||(ie[we]=new Xt)}var G,Y,Z,te=z.trans,ie=z.mutatedParts||(z.mutatedParts={}),ce=W(""),ge=W(":dels"),be=z.type,Te=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[re(k,z).filter(function(we){return we}),z.values]:[],me=Te[0],_e=Te[1],Te=z.trans._cache;return a(me)?(ce.addKeys(me),(Te=be==="delete"||me.length===_e.length?yt(me,Te):null)||ge.addKeys(me),(Te||_e)&&(G=W,Y=Te,Z=_e,T.indexes.forEach(function(we){var xe=G(we.name||"");function Xe(st){return st!=null?we.extractKey(st):null}function tt(st){return we.multiEntry&&a(st)?st.forEach(function(nr){return xe.addKey(nr)}):xe.addKey(st)}(Y||Z).forEach(function(st,In){var Je=Y&&Xe(Y[In]),In=Z&&Xe(Z[In]);nt(Je,In)!==0&&(Je!=null&&tt(Je),In!=null&&tt(In))})}))):me?(_e={from:(_e=me.lower)!==null&&_e!==void 0?_e:u.MIN_KEY,to:(_e=me.upper)!==null&&_e!==void 0?_e:u.MAX_KEY},ge.add(_e),ce.add(_e)):(ce.add(m),ge.add(m),T.indexes.forEach(function(we){return W(we.name).add(m)})),b.mutate(z).then(function(we){return!me||z.type!=="add"&&z.type!=="put"||(ce.addKeys(we.results),K&&K.forEach(function(xe){for(var Xe=z.values.map(function(Je){return xe.extractKey(Je)}),tt=xe.keyPath.findIndex(function(Je){return Je===k.keyPath}),st=0,nr=we.results.length;st<nr;++st)Xe[st][tt]=we.results[st];W(xe.name).addKeys(Xe)})),te.mutatedParts=fo(te.mutatedParts||{},ie),we})}}),B=function(W){var G=W.query,W=G.index,G=G.range;return[W,new Xt((W=G.lower)!==null&&W!==void 0?W:u.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:u.MAX_KEY)]},J={get:function(z){return[k,new Xt(z.key)]},getMany:function(z){return[k,new Xt().addKeys(z.keys)]},count:B,query:B,openCursor:B};return o(J).forEach(function(z){Q[z]=function(W){var G=Re.subscr,Y=!!G,Z=lt(Re,b)&&on(z,W)?W.obsSet={}:G;if(Y){var te=function(_e){return _e="idb://".concat(h,"/").concat(_,"/").concat(_e),Z[_e]||(Z[_e]=new Xt)},ie=te(""),ce=te(":dels"),G=J[z](W),Y=G[0],G=G[1];if((z==="query"&&Y.isPrimaryKey&&!W.values?ce:te(Y.name||"")).add(G),!Y.isPrimaryKey){if(z!=="count"){var ge=z==="query"&&q&&W.values&&b.query(r(r({},W),{values:!1}));return b[z].apply(this,arguments).then(function(_e){if(z==="query"){if(q&&W.values)return ge.then(function(Xe){return Xe=Xe.result,ie.addKeys(Xe),_e});var Te=W.values?_e.result.map(U):_e.result;(W.values?ie:ce).addKeys(Te)}else if(z==="openCursor"){var we=_e,xe=W.values;return we&&Object.create(we,{key:{get:function(){return ce.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Xe=we.primaryKey;return ce.addKey(Xe),Xe}},value:{get:function(){return xe&&ie.addKey(we.primaryKey),we.value}}})}return _e})}ce.add(m)}}return b[z].apply(this,arguments)}}),Q}})}};function Ds(u,h,m){if(m.numFailures===0)return h;if(h.type==="deleteRange")return null;var _=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return m.numFailures===_?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(b,T){return!(T in m.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(b,T){return!(T in m.failures)})),h)}function Un(u,h){return m=u,((_=h).lower===void 0||(_.lowerOpen?0<nt(m,_.lower):0<=nt(m,_.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?nt(u,h.upper)<0:nt(u,h.upper)<=0));var m,_}function po(u,h,J,_,b,T){if(!J||J.length===0)return u;var k=h.query.index,U=k.multiEntry,q=h.query.range,K=_.schema.primaryKey.extractKey,Q=k.extractKey,B=(k.lowLevelIndex||k).extractKey,J=J.reduce(function(z,W){var G=z,Y=[];if(W.type==="add"||W.type==="put")for(var Z=new Xt,te=W.values.length-1;0<=te;--te){var ie,ce=W.values[te],ge=K(ce);Z.hasKey(ge)||(ie=Q(ce),(U&&a(ie)?ie.some(function(we){return Un(we,q)}):Un(ie,q))&&(Z.addKey(ge),Y.push(ce)))}switch(W.type){case"add":var be=new Xt().addKeys(h.values?z.map(function(xe){return K(xe)}):z),G=z.concat(h.values?Y.filter(function(xe){return xe=K(xe),!be.hasKey(xe)&&(be.addKey(xe),!0)}):Y.map(function(xe){return K(xe)}).filter(function(xe){return!be.hasKey(xe)&&(be.addKey(xe),!0)}));break;case"put":var me=new Xt().addKeys(W.values.map(function(xe){return K(xe)}));G=z.filter(function(xe){return!me.hasKey(h.values?K(xe):xe)}).concat(h.values?Y:Y.map(function(xe){return K(xe)}));break;case"delete":var _e=new Xt().addKeys(W.keys);G=z.filter(function(xe){return!_e.hasKey(h.values?K(xe):xe)});break;case"deleteRange":var Te=W.range;G=z.filter(function(xe){return!Un(K(xe),Te)})}return G},u);return J===u?u:(J.sort(function(z,W){return nt(B(z),B(W))||nt(K(z),K(W))}),h.limit&&h.limit<1/0&&(J.length>h.limit?J.length=h.limit:u.length===h.limit&&J.length<h.limit&&(b.dirty=!0)),T?Object.freeze(J):J)}function aa(u,h){return nt(u.lower,h.lower)===0&&nt(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function AA(u,h){return(function(m,_,b,T){if(m===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return 1;if(T)return-1}return _})(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=(function(m,_,b,T){if(m===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return-1;if(T)return 1}return _})(u.upper,h.upper,u.upperOpen,h.upperOpen)}function SA(u,h,m,_){u.subscribers.add(m),_.addEventListener("abort",function(){var b,T;u.subscribers.delete(m),u.subscribers.size===0&&(b=u,T=h,setTimeout(function(){b.subscribers.size===0&&Ce(T,b)},3e3))})}var CA={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return r(r({},u),{transaction:function(m,_,b){var T,k,U=u.transaction(m,_,b);return _==="readwrite"&&(k=(T=new AbortController).signal,b=function(q){return function(){if(T.abort(),_==="readwrite"){for(var K=new Set,Q=0,B=m;Q<B.length;Q++){var J=B[Q],z=ns["idb://".concat(h,"/").concat(J)];if(z){var W=u.table(J),G=z.optimisticOps.filter(function(xe){return xe.trans===U});if(U._explicit&&q&&U.mutatedParts)for(var Y=0,Z=Object.values(z.queries.query);Y<Z.length;Y++)for(var te=0,ie=(be=Z[Y]).slice();te<ie.length;te++)ia((me=ie[te]).obsSet,U.mutatedParts)&&(Ce(be,me),me.subscribers.forEach(function(xe){return K.add(xe)}));else if(0<G.length){z.optimisticOps=z.optimisticOps.filter(function(xe){return xe.trans!==U});for(var ce=0,ge=Object.values(z.queries.query);ce<ge.length;ce++)for(var be,me,_e,Te=0,we=(be=ge[ce]).slice();Te<we.length;Te++)(me=we[Te]).res!=null&&U.mutatedParts&&(q&&!me.dirty?(_e=Object.isFrozen(me.res),_e=po(me.res,me.req,G,W,me,_e),me.dirty?(Ce(be,me),me.subscribers.forEach(function(xe){return K.add(xe)})):_e!==me.res&&(me.res=_e,me.promise=Ie.resolve({result:_e}))):(me.dirty&&Ce(be,me),me.subscribers.forEach(function(xe){return K.add(xe)})))}}}K.forEach(function(xe){return xe()})}}},U.addEventListener("abort",b(!1),{signal:k}),U.addEventListener("error",b(!1),{signal:k}),U.addEventListener("complete",b(!0),{signal:k})),U},table:function(m){var _=u.table(m),b=_.schema.primaryKey;return r(r({},_),{mutate:function(T){var k=Re.trans;if(b.outbound||k.db._options.cache==="disabled"||k.explicit||k.idbtrans.mode!=="readwrite")return _.mutate(T);var U=ns["idb://".concat(h,"/").concat(m)];return U?(k=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||re(b,T).some(function(q){return q==null}))?(U.optimisticOps.push(T),T.mutatedParts&&ho(T.mutatedParts),k.then(function(q){0<q.numFailures&&(Ce(U.optimisticOps,T),(q=Ds(0,T,q))&&U.optimisticOps.push(q),T.mutatedParts&&ho(T.mutatedParts))}),k.catch(function(){Ce(U.optimisticOps,T),T.mutatedParts&&ho(T.mutatedParts)})):k.then(function(q){var K=Ds(0,r(r({},T),{values:T.values.map(function(Q,B){var J;return q.failures[B]?Q:(Q=(J=b.keyPath)!==null&&J!==void 0&&J.includes(".")?P(Q):r({},Q),D(Q,b.keyPath,q.results[B]),Q)})}),q);U.optimisticOps.push(K),queueMicrotask(function(){return T.mutatedParts&&ho(T.mutatedParts)})}),k):_.mutate(T)},query:function(T){if(!lt(Re,_)||!on("query",T))return _.query(T);var k=((K=Re.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",B=Re,U=B.requery,q=B.signal,K=(function(W,G,Y,Z){var te=ns["idb://".concat(W,"/").concat(G)];if(!te)return[];if(!(G=te.queries[Y]))return[null,!1,te,null];var ie=G[(Z.query?Z.query.index.name:null)||""];if(!ie)return[null,!1,te,null];switch(Y){case"query":var ce=ie.find(function(ge){return ge.req.limit===Z.limit&&ge.req.values===Z.values&&aa(ge.req.query.range,Z.query.range)});return ce?[ce,!0,te,ie]:[ie.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Z.limit&&(!Z.values||ge.req.values)&&AA(ge.req.query.range,Z.query.range)}),!1,te,ie];case"count":return ce=ie.find(function(ge){return aa(ge.req.query.range,Z.query.range)}),[ce,!!ce,te,ie]}})(h,m,"query",T),Q=K[0],B=K[1],J=K[2],z=K[3];return Q&&B?Q.obsSet=T.obsSet:(B=_.query(T).then(function(W){var G=W.result;if(Q&&(Q.res=G),k){for(var Y=0,Z=G.length;Y<Z;++Y)Object.freeze(G[Y]);Object.freeze(G)}else W.result=P(G);return W}).catch(function(W){return z&&Q&&Ce(z,Q),Promise.reject(W)}),Q={obsSet:T.obsSet,promise:B,subscribers:new Set,type:"query",req:T,dirty:!1},z?z.push(Q):(z=[Q],(J=J||(ns["idb://".concat(h,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=z)),SA(Q,z,U,q),Q.promise.then(function(W){return{result:po(W.result,T,J?.optimisticOps,_,Q,k)}})}})}})}};function el(u,h){return new Proxy(u,{get:function(m,_,b){return _==="db"?h:Reflect.get(m,_,b)}})}var xs=(Qt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new se.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,m=h.filter(function(_){return _._cfg.version===u})[0];return m||(m=new this.Version(u),h.push(m),h.sort(Xu),m.stores({}),this._state.autoSchema=!1,m)},Qt.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?u():new Ie(function(m,_){if(h._state.openComplete)return _(new se.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void _(new se.DatabaseClosed);h.open().catch($e)}h._state.dbReadyPromise.then(m,_)}).then(u)},Qt.prototype.use=function(u){var h=u.stack,m=u.create,_=u.level,b=u.name;return b&&this.unuse({stack:h,name:b}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:m,level:_??10,name:b}),u.sort(function(T,k){return T.level-k.level}),this},Qt.prototype.unuse=function(u){var h=u.stack,m=u.name,_=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(b){return _?b.create!==_:!!m&&b.name!==m})),this},Qt.prototype.open=function(){var u=this;return Pr(Mn,function(){return c(u)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,h=Yr.indexOf(this);if(0<=h&&Yr.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ie(function(m){u.dbReadyResolve=m}),u.openCanceller=new Ie(function(m,_){u.cancelOpen=_}))},Qt.prototype.close=function(m){var h=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;h?(m.isBeingOpened&&m.cancelOpen(new se.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new se.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Qt.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ie(function(b,T){function k(){h.close(u);var U=h._deps.indexedDB.deleteDatabase(h.name);U.onsuccess=mt(function(){var q,K,Q;q=h._deps,K=h.name,Q=q.indexedDB,q=q.IDBKeyRange,ra(Q)||K===Jr||ks(Q,q).delete(K).catch($e),b()}),U.onerror=mr(T),U.onblocked=h._fireOnBlocked}if(m)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(k):k()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var u=this;return o(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var u=(function(h,m,_){var b=arguments.length;if(b<2)throw new se.InvalidArgument("Too few arguments");for(var T=new Array(b-1);--b;)T[b-1]=arguments[b];return _=T.pop(),[h,O(T),_]}).apply(this,arguments);return this._transaction.apply(this,u)},Qt.prototype._transaction=function(u,h,m){var _=this,b=Re.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var T,k,U=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(k=h.map(function(K){if(K=K instanceof _.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),u=="r"||u===kr)T=kr;else{if(u!="rw"&&u!=Ji)throw new se.InvalidArgument("Invalid transaction mode: "+u);T=Ji}if(b){if(b.mode===kr&&T===Ji){if(!U)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&k.forEach(function(K){if(b&&b.storeNames.indexOf(K)===-1){if(!U)throw new se.SubTransaction("Table "+K+" not included in parent transaction.");b=null}}),U&&b&&!b.active&&(b=null)}}catch(K){return b?b._promise(null,function(Q,B){B(K)}):Nt(K)}var q=(function K(Q,B,J,z,W){return Ie.resolve().then(function(){var G=Re.transless||Re,Y=Q._createTransaction(B,J,Q._dbSchema,z);if(Y.explicit=!0,G={trans:Y,transless:G},z)Y.idbtrans=z.idbtrans;else try{Y.create(),Y.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ie){return ie.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,null,W)})):Nt(ie)}var Z,te=Tn(W);return te&&Es(),G=Ie.follow(function(){var ie;(Z=W.call(Y,Y))&&(te?(ie=dr.bind(null,null),Z.then(ie,ie)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=g(Z)))},G),(Z&&typeof Z.then=="function"?Ie.resolve(Z).then(function(ie){return Y.active?ie:Nt(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(ie){return z&&Y._resolve(),Y._completion.then(function(){return ie})}).catch(function(ie){return Y._reject(ie),Nt(ie)})})}).bind(null,this,T,k,b,m);return b?b._promise(T,q,"lock"):Re.trans?Pr(Re.transless,function(){return _._whenReady(q)}):this._whenReady(q)},Qt.prototype.table=function(u){if(!p(this._allTables,u))throw new se.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Qt);function Qt(u,h){var m=this;this._middlewares={},this.verno=0;var _=Qt.dependencies;this._options=h=r({addons:Qt.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},_=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,T,k,U,q,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};K.dbReadyPromise=new Ie(function(B){K.dbReadyResolve=B}),K.openCanceller=new Ie(function(B,J){K.cancelOpen=J}),this._state=K,this.name=u,this.on=er(this,"populate","blocked","versionchange","close",{ready:[ye,$e]}),this.once=function(B,J){var z=function(){for(var W=[],G=0;G<arguments.length;G++)W[G]=arguments[G];m.on(B).unsubscribe(z),J.apply(m,W)};return m.on(B,z)},this.on.ready.subscribe=R(this.on.ready.subscribe,function(B){return function(J,z){Qt.vip(function(){var W,G=m._state;G.openComplete?(G.dbOpenError||Ie.resolve().then(J),z&&B(J)):G.onReadyBeingFired?(G.onReadyBeingFired.push(J),z&&B(J)):(B(J),W=m,z||B(function Y(){W.on.ready.unsubscribe(J),W.on.ready.unsubscribe(Y)}))})}}),this.Collection=(b=this,Ln(Oh.prototype,function(Z,Y){this.db=b;var z=mc,W=null;if(Y)try{z=Y()}catch(te){W=te}var G=Z._ctx,Y=G.table,Z=Y.hook.reading.fire;this._ctx={table:Y,index:G.index,isPrimKey:!G.index||Y.schema.primKey.keyPath&&G.index===Y.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:W,or:G.or,valueMapper:Z!==N?Z:null}})),this.Table=(T=this,Ln(vc.prototype,function(B,J,z){this.db=T,this._tx=z,this.name=B,this.schema=J,this.hook=T._allTables[B]?T._allTables[B].hook:er(null,{creating:[fe,$e],reading:[$,N],updating:[he,$e],deleting:[ae,$e]})})),this.Transaction=(k=this,Ln(Nh.prototype,function(B,J,z,W,G){var Y=this;B!=="readonly"&&J.forEach(function(Z){Z=(Z=z[Z])===null||Z===void 0?void 0:Z.yProps,Z&&(J=J.concat(Z.map(function(te){return te.updatesTable})))}),this.db=k,this.mode=B,this.storeNames=J,this.schema=z,this.chromeTransactionDurability=W,this.idbtrans=null,this.on=er(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie(function(Z,te){Y._resolve=Z,Y._reject=te}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(Z){var te=Y.active;return Y.active=!1,Y.on.error.fire(Z),Y.parent?Y.parent._reject(Z):te&&Y.idbtrans&&Y.idbtrans.abort(),Nt(Z)})})),this.Version=(U=this,Ln(Lh.prototype,function(B){this.db=U,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(q=this,Ln(bc.prototype,function(B,J,z){if(this.db=q,this._ctx={table:B,index:J===":id"?null:J,or:z},this._cmp=this._ascending=nt,this._descending=function(W,G){return nt(G,W)},this._max=function(W,G){return 0<nt(W,G)?W:G},this._min=function(W,G){return nt(W,G)<0?W:G},this._IDBKeyRange=q._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=xr(h.IDBKeyRange),this._createTransaction=function(B,J,z,W){return new m.Transaction(B,J,z,m._options.chromeTransactionDurability,W)},this._fireOnBlocked=function(B){m.on("blocked").fire(B),Yr.filter(function(J){return J.name===m.name&&J!==m&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(B)})},this.use(sn),this.use(CA),this.use(fn),this.use(C),this.use(ve);var Q=new Proxy(this,{get:function(B,J,z){if(J==="_vip")return!0;if(J==="table")return function(G){return el(m.table(G),Q)};var W=Reflect.get(B,J,z);return W instanceof vc?el(W,Q):J==="tables"?W.map(function(G){return el(G,Q)}):J==="_createTransaction"?function(){return el(W.apply(this,arguments),Q)}:W}});this.vip=Q,_.forEach(function(B){return B(m)})}var tl,yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",RA=(Vh.prototype.subscribe=function(u,h,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:m})},Vh.prototype[yr]=function(){return this},Vh);function Vh(u){this._subscribe=u}try{tl={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{tl={indexedDB:null,IDBKeyRange:null}}function Hg(u){var h,m=!1,_=new RA(function(b){var T=Tn(u),k,U=!1,q={},K={},Q={get closed(){return U},unsubscribe:function(){U||(U=!0,k&&k.abort(),B&&Zr.storagemutated.unsubscribe(z))}};b.start&&b.start(Q);var B=!1,J=function(){return Xo(W)},z=function(G){fo(q,G),ia(K,q)&&J()},W=function(){var G,Y,Z;!U&&tl.indexedDB&&(q={},G={},k&&k.abort(),k=new AbortController,Z=(function(te){var ie=hr();try{T&&Es();var ce=Zn(u,te);return ce=T?ce.finally(dr):ce}finally{ie&&bs()}})(Y={subscr:G,signal:k.signal,requery:J,querier:u,trans:null}),Promise.resolve(Z).then(function(te){m=!0,h=te,U||Y.signal.aborted||(q={},(function(ie){for(var ce in ie)if(p(ie,ce))return;return 1})(K=G)||B||(Zr(ro,z),B=!0),Xo(function(){return!U&&b.next&&b.next(te)}))},function(te){m=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||U||Xo(function(){U||b.error&&b.error(te)})}))};return setTimeout(J,0),Q});return _.hasValue=function(){return m},_.getValue=function(){return h},_}var mo=xs;function Fh(u){var h=mi;try{mi=!0,Zr.storagemutated.fire(u),oa(u,!0)}finally{mi=h}}y(mo,r(r({},et),{delete:function(u){return new mo(u,{addons:[]}).delete()},exists:function(u){return new mo(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=mo.dependencies,m=h.indexedDB,h=h.IDBKeyRange,(ra(m)?Promise.resolve(m.databases()).then(function(_){return _.map(function(b){return b.name}).filter(function(b){return b!==Jr})}):ks(m,h).toCollection().primaryKeys()).then(u)}catch{return Nt(new se.MissingAPI)}var h,m},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return Re.trans?Pr(Re.transless,u):u()},vip:sa,async:function(u){return function(){try{var h=g(u.apply(this,arguments));return h&&typeof h.then=="function"?h:Ie.resolve(h)}catch(m){return Nt(m)}}},spawn:function(u,h,m){try{var _=g(u.apply(m,h||[]));return _&&typeof _.then=="function"?_:Ie.resolve(_)}catch(b){return Nt(b)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(u,h){return h=Ie.resolve(typeof u=="function"?mo.ignoreTransaction(u):u).timeout(h||6e4),Re.trans?Re.trans.waitFor(h):h},Promise:Ie,debug:{get:function(){return pe},set:function(u){de(u)}},derive:A,extend:l,props:y,override:R,Events:er,on:Zr,liveQuery:Hg,extendObservabilitySet:fo,getByKeyPath:ne,setByKeyPath:D,delByKeyPath:function(u,h){typeof h=="string"?D(u,h,void 0):"length"in h&&[].map.call(h,function(m){D(u,m,void 0)})},shallowClone:S,deepClone:P,getObjectDiff:X,cmp:nt,asap:j,minKey:-1/0,addons:[],connections:Yr,errnames:oe,dependencies:tl,cache:ns,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,m){return u+h/Math.pow(10,2*m)})})),mo.maxKey=xr(mo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zr(ro,function(u){mi||(u=new CustomEvent(gr,{detail:u}),mi=!0,dispatchEvent(u),mi=!1)}),addEventListener(gr,function(u){u=u.detail,mi||Fh(u)}));var ca,mi=!1,Kg=function(){};return typeof BroadcastChannel<"u"&&((Kg=function(){(ca=new BroadcastChannel(gr)).onmessage=function(u){return u.data&&Fh(u.data)}})(),typeof ca.unref=="function"&&ca.unref(),Zr(ro,function(u){mi||ca.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!xs.disableBfCache&&u.persisted){pe&&console.debug("Dexie: handling persisted pagehide"),ca?.close();for(var h=0,m=Yr;h<m.length;h++)m[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!xs.disableBfCache&&u.persisted&&(pe&&console.debug("Dexie: handling persisted pageshow"),Kg(),Fh({all:new Xt(-1/0,[[]])}))})),Ie.rejectionMapper=function(u,h){return!u||u instanceof pt||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Ne[u.name]?u:(h=new Ne[u.name](h||u.message,u),"stack"in u&&E(h,"stack",{get:function(){return this.inner.stack}}),h)},de(pe),r(xs,Object.freeze({__proto__:null,Dexie:xs,liveQuery:Hg,Entity:gc,cmp:nt,PropModification:eo,replacePrefix:function(u,h){return new eo({replacePrefix:[u,h]})},add:function(u){return new eo({add:u})},remove:function(u){return new eo({remove:u})},default:xs,RangeSet:Xt,mergeRanges:es,rangesOverlap:Ac}),{default:xs}),xs})})(Rl)),Rl.exports}var XO=JO();const Sp=fT(XO),I_=Symbol.for("Dexie"),pu=globalThis[I_]||(globalThis[I_]=Sp);if(Sp.semVer!==pu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Sp.semVer} and ${pu.semVer}`);const{liveQuery:pj,mergeRanges:mj,rangesOverlap:gj,RangeSet:yj,cmp:_j,Entity:vj,PropModification:wj,replacePrefix:bj,add:Ej,remove:Tj,DexieYProvider:Ij}=pu,hT=new pu("Agenda2DB");hT.version(10).stores({eventos:"id, group, date, normalizedList, normalizedTitle, normalizedLocale, normalizedDesc",tags:"&id, group, title",notificacoesEnviadas:"id",desc:"&id, text",titles:"&id, text",locales:"&id, text",relatorio:"&Codigo, normalizedMinisterio, normalizedNomeCidade"});const ZO=async()=>{const t=new pu("Agenda");try{return await t.delete(),!0}catch{return!1}};ZO();const eD=pn(t=>{const e=async(f={})=>{const{$sw:d}=t;return await d.send("fetchRelatorio",f)||[]},n=async(f={})=>{const{$sw:d}=t;return await d.send("fetchEventos",f)||[]},r=async f=>{const{$sw:d}=t;return await d.send(`fetch${f.charAt(0).toUpperCase()+f.slice(1)}`)||[]},s=async()=>r("titles"),i=async()=>r("locales"),o=async()=>r("desc"),a=async(f={},d=3,p=1e3)=>{const{$sw:y}=t;for(let v=0;v<d;v++)try{return await y.send("fetchTags",f)||[]}catch{if(v<d-1)await new Promise(E=>setTimeout(E,p));else return[]}};if(typeof window<"u")try{const f=JSON.parse(localStorage.getItem("relatorio_chunk_state")||"{}");f&&f.version&&f.totalChunks&&f.receivedCount<f.totalChunks&&setTimeout(()=>{window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&window.navigator.serviceWorker.controller.postMessage({type:"REQUEST_RELATORIO_CHUNKS",payload:{version:f.version,missingChunks:Array.from({length:f.totalChunks},(d,p)=>p+1).filter(d=>!f.receivedChunks[d])}})},2e3)}catch{}return{provide:{indexedDB:{db:hT,getEvents:n,getTitles:s,getLocales:i,getDesc:o,getTags:a,getRelatorio:e,getRecentTags:async(f={})=>{const{$sw:d}=t;return await d.send("fetchRecenteTags",f)||[]}}}}}),tD=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,f=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let y=(a&15)<<2|f>>6,v=f&63;l||(v=64,o||(y=64)),r.push(n[d],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||f==null||p==null)throw new rD;const y=i<<2|a>>4;if(r.push(y),f!==64){const v=a<<4&240|f>>2;if(r.push(v),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sD=function(t){const e=dT(t);return pT.encodeByteArray(e,!0)},mf=function(t){return sD(t).replace(/\./g,"")},mT=function(t){try{return pT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=()=>iD().__FIREBASE_DEFAULTS__,aD=()=>{if(typeof process>"u"||typeof A_>"u")return;const t=A_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return tD()||oD()||aD()||cD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>eh()?.emulatorHosts?.[t],uD=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yT=()=>eh()?.config,_T=t=>eh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),""].join(".")}const Gc={};function hD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function dD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S_=!1;function wT(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||Gc[t]===e||Gc[t]||S_)return;Gc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=hD().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{S_=!0,o()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=dD(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),A=n("learnmore"),L=document.getElementById(A)||document.createElement("a"),H=n("preprendIcon"),V=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;a(R),d(L,A);const x=f();l(V,H),R.append(V,E,L,x),document.body.appendChild(R)}i?(E.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function mD(){const t=eh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _D(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vD(){return!mD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qm(){try{return typeof indexedDB=="object"}catch{return!1}}function Hm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function ET(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wD,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hi.prototype.create)}}class Hi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zr(s,a,r)}}function bD(t,e){return t.replace(ED,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(C_(i)&&C_(o)){if(!Li(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function C_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ID(t,e){const n=new AD(t,e);return n.subscribe.bind(n)}class AD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ld),s.error===void 0&&(s.error=ld),s.complete===void 0&&(s.complete=ld);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,RD=2,PD=14400*1e3,kD=.5;function R_(t,e=CD,n=RD){const r=e*Math.pow(n,t),s=Math.round(kD*r*(Math.random()-.5)*2);return Math.min(PD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xD(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DD(t){return t===Io?void 0:t}function xD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const MD={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},LD=it.INFO,VD={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},FD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class th{constructor(e){this.name=e,this._logLevel=LD,this._logHandler=FD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let P_,k_;function $D(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jD(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Cp=new WeakMap,IT=new WeakMap,fd=new WeakMap,Km=new WeakMap;function BD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function qD(t){if(Cp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){Rp=t(Rp)}function KD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hd(this),e,...n);return IT.set(r,e.sort?e.sort():[e]),Gs(r)}:jD().includes(t)?function(...e){return t.apply(hd(this),e),Gs(TT.get(this))}:function(...e){return Gs(t.apply(hd(this),e))}}function zD(t){return typeof t=="function"?KD(t):(t instanceof IDBTransaction&&qD(t),UD(t,$D())?new Proxy(t,Rp):t)}function Gs(t){if(t instanceof IDBRequest)return BD(t);if(fd.has(t))return fd.get(t);const e=zD(t);return e!==t&&(fd.set(t,e),Km.set(e,t)),e}const hd=t=>Km.get(t);function nh(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}function dd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Gs(n).then(()=>{})}const WD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],pd=new Map;function O_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),s&&l.done]))[0]};return pd.set(e,i),i}HD(t=>({...t,get:(e,n,r)=>O_(e,n)||t.get(e,n,r),has:(e,n)=>!!O_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YD(t){return t.getComponent()?.type==="VERSION"}const Pp="@firebase/app",D_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new th("@firebase/app"),JD="@firebase/app-compat",XD="@firebase/analytics-compat",ZD="@firebase/analytics",ex="@firebase/app-check-compat",tx="@firebase/app-check",nx="@firebase/auth",rx="@firebase/auth-compat",sx="@firebase/database",ix="@firebase/data-connect",ox="@firebase/database-compat",ax="@firebase/functions",cx="@firebase/functions-compat",ux="@firebase/installations",lx="@firebase/installations-compat",fx="@firebase/messaging",hx="@firebase/messaging-compat",dx="@firebase/performance",px="@firebase/performance-compat",mx="@firebase/remote-config",gx="@firebase/remote-config-compat",yx="@firebase/storage",_x="@firebase/storage-compat",vx="@firebase/firestore",wx="@firebase/ai",bx="@firebase/firestore-compat",Ex="firebase",Tx="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",Ix={[Pp]:"fire-core",[JD]:"fire-core-compat",[ZD]:"fire-analytics",[XD]:"fire-analytics-compat",[tx]:"fire-app-check",[ex]:"fire-app-check-compat",[nx]:"fire-auth",[rx]:"fire-auth-compat",[sx]:"fire-rtdb",[ix]:"fire-data-connect",[ox]:"fire-rtdb-compat",[ax]:"fire-fn",[cx]:"fire-fn-compat",[ux]:"fire-iid",[lx]:"fire-iid-compat",[fx]:"fire-fcm",[hx]:"fire-fcm-compat",[dx]:"fire-perf",[px]:"fire-perf-compat",[mx]:"fire-rc",[gx]:"fire-rc-compat",[yx]:"fire-gcs",[_x]:"fire-gcs-compat",[vx]:"fire-fst",[bx]:"fire-fst-compat",[wx]:"fire-vertex","fire-js":"fire-js",[Ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,Ax=new Map,Op=new Map;function x_(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ar(t){const e=t.name;if(Op.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(const n of mu.values())x_(n,t);for(const n of Ax.values())x_(n,t);return!0}function Ki(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Hi("app","Firebase",Sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=Tx;function Dp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Oi.create("bad-app-name",{appName:String(s)});if(n||(n=yT()),!n)throw Oi.create("no-options");const i=mu.get(s);if(i){if(Li(n,i.options)&&Li(r,i.config))return i;throw Oi.create("duplicate-app",{appName:s})}const o=new ND(s);for(const l of Op.values())o.addComponent(l);const a=new Cx(n,r,o);return mu.set(s,a),a}function Mu(t=kp){const e=mu.get(t);if(!e&&t===kp&&yT())return Dp();if(!e)throw Oi.create("no-app",{appName:t});return e}function Rx(){return Array.from(mu.values())}function Jn(t,e,n){let r=Ix[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(o.join(" "));return}Ar(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebase-heartbeat-database",kx=1,gu="firebase-heartbeat-store";let md=null;function AT(){return md||(md=nh(Px,kx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),md}async function Ox(t){try{const n=(await AT()).transaction(gu),r=await n.objectStore(gu).get(ST(t));return await n.done,r}catch(e){if(e instanceof zr)ei.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(n.message)}}}async function N_(t,e){try{const r=(await AT()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,ST(t)),await r.done}catch(n){if(n instanceof zr)ei.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n?.message});ei.warn(r.message)}}}function ST(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1024,xx=30;class Nx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xx){const s=Vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M_(),{heartbeatsToSend:n,unsentEntries:r}=Mx(this._heartbeatsCache.heartbeats),s=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ei.warn(e),""}}}function M_(){return new Date().toISOString().substring(0,10)}function Mx(t,e=Dx){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),L_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qm()?Hm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ox(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L_(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}function Vx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){Ar(new ur("platform-logger",e=>new QD(e),"PRIVATE")),Ar(new ur("heartbeat",e=>new Nx(e),"PRIVATE")),Jn(Pp,D_,t),Jn(Pp,D_,"esm2020"),Jn("fire-js","")}Fx("");var Ux="firebase",$x="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(Ux,$x,"app");function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jx=CT,RT=new Hi("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new th("@firebase/auth");function Bx(t,...e){gf.logLevel<=it.WARN&&gf.warn(`Auth (${sc}): ${t}`,...e)}function Pl(t,...e){gf.logLevel<=it.ERROR&&gf.error(`Auth (${sc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,...e){throw Wm(t,...e)}function Br(t,...e){return Wm(t,...e)}function zm(t,e,n){const r={...jx(),[e]:n};return new Hi("auth","Firebase",r).create(e,{appName:t.name})}function No(t){return zm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),zm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RT.create(t,...e)}function We(t,e,...n){if(!t)throw Wm(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pl(e),new Error(e)}function ti(t,e){t||Hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){return typeof self<"u"&&self.location?.href||""}function Hx(){return V_()==="http:"||V_()==="https:"}function V_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hx()||bT()||"connection"in navigator)?navigator.onLine:!0}function zx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||yD()}get(){return Kx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qx=new Lu(3e4,6e4);function Qm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ic(t,e,n,r,s={}){return kT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Nu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:l,...i};return gD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&rc(t.emulatorConfig.host)&&(f.credentials="include"),PT.fetch()(await OT(t,t.config.apiHost,n,a),f)})}async function kT(t,e,n){t._canInitEmulator=!1;const r={...Wx,...e};try{const s=new Jx(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw zm(t,d,f);gs(t,d)}}catch(s){if(s instanceof zr)throw s;gs(t,"network-request-failed",{message:String(s)})}}async function Yx(t,e,n,r,s={}){const i=await ic(t,e,n,r,s);return"mfaPendingCredential"in i&&gs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function OT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Gm(t.config,s):`${t.config.apiScheme}://${s}`;return Gx.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class Jx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),Qx.get())})}}function yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Br(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e){return ic(t,"POST","/v1/accounts:delete",e)}async function yf(t,e){return ic(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zx(t,e=!1){const n=jt(t),r=await n.getIdToken(e),s=Ym(r);We(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Qc(gd(s.auth_time)),issuedAtTime:Qc(gd(s.iat)),expirationTime:Qc(gd(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function gd(t){return Number(t)*1e3}function Ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pl("JWT malformed, contained fewer than 3 sections"),null;try{const s=mT(n);return s?JSON.parse(s):(Pl("Failed to decode base64 JWT payload"),null)}catch(s){return Pl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function F_(t){const e=Ym(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&eN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){const e=t.auth,n=await t.getIdToken(),r=await yu(t,yf(e,{idToken:n}));We(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?DT(s.providerUserInfo):[],o=rN(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,f=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Np(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function nN(t){const e=jt(t);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e){const n=await kT(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await OT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&rc(t.emulatorConfig.host)&&(l.credentials="include"),PT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iN(t,e){return ic(t,"POST","/v2/accounts:revokeToken",Qm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await sN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Oa;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ur{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Np(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zx(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(No(this.auth));const e=await this.getIdToken();return await yu(this,Xx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:A}=n;We(p&&A,e,"internal-error");const L=Oa.fromJSON(this.name,A);We(typeof p=="string",e,"internal-error"),_i(r,e.name),_i(s,e.name),We(typeof y=="boolean",e,"internal-error"),We(typeof v=="boolean",e,"internal-error"),_i(i,e.name),_i(o,e.name),_i(a,e.name),_i(l,e.name),_i(f,e.name),_i(d,e.name);const H=new Ur({uid:p,auth:e,email:s,emailVerified:y,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:L,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(H.providerData=E.map(V=>({...V}))),l&&(H._redirectEventId=l),H}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oa;s.updateFromServerResponse(n);const i=new Ur({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _f(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?DT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Oa;a.updateFromIdToken(r);const l=new Ur({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Np(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function Ks(t){ti(t instanceof Function,"Expected a class definition");let e=U_.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const $_=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e,n){return`firebase:${t}:${e}:${n}`}class Da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=kl(this.userKey,s.apiKey,i),this.fullPersistenceKey=kl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yf(this.auth,{idToken:e}).catch(()=>{});return n?Ur._fromGetAccountInfoResponse(this.auth,n,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Da(Ks($_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||Ks($_);const o=kl(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const y=await yf(e,{idToken:d}).catch(()=>{});if(!y)break;p=await Ur._fromGetAccountInfoResponse(e,y,d)}else p=Ur._fromJSON(e,d);f!==i&&(a=p),i=f;break}}catch{}const l=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Da(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new Da(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if($T(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(FT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NT(t=xn()){return/firefox\//i.test(t)}function MT(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(t=xn()){return/crios\//i.test(t)}function VT(t=xn()){return/iemobile/i.test(t)}function FT(t=xn()){return/android/i.test(t)}function UT(t=xn()){return/blackberry/i.test(t)}function $T(t=xn()){return/webos/i.test(t)}function Jm(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oN(t=xn()){return Jm(t)&&!!window.navigator?.standalone}function aN(){return _D()&&document.documentMode===10}function jT(t=xn()){return Jm(t)||FT(t)||$T(t)||UT(t)||/windows phone/i.test(t)||VT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e=[]){let n;switch(t){case"Browser":n=j_(xn());break;case"Worker":n=`${j_(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e={}){return ic(t,"GET","/v2/passwordPolicy",Qm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=6;class fN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new cN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yf(this,{idToken:e}),r=await Ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fr(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(No(this));const n=e?jt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(No(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(No(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uN(this),n=new fN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rh(t){return jt(t)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ID(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dN(t){Xm=t}function pN(t){return Xm.loadJS(t)}function mN(){return Xm.gapiScript}function gN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){const n=Ki(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Li(i,e??{}))return s;gs(s,"already-initialized")}return n.initialize({options:e})}function _N(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vN(t,e,n){const r=rh(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=qT(e),{host:o,port:a}=wN(e),l=a===null?"":`:${a}`,f={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Li(f,r.config.emulator)&&Li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,rc(o)?(vT(`${i}//${o}${l}`),wT("Auth",!0)):bN()}function qT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wN(t){const e=qT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:q_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:q_(o)}}}function q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return Yx(t,"POST","/v1/accounts:signInWithIdp",Qm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class Vo extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Vo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Vu{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Vu{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Vu{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ur._fromIdTokenResponse(e,r,s),o=H_(r);return new Ha({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H_(r);return new Ha({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vf(e,n,r,s)}}function KT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(t,i,e,r):i})}async function TN(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(No(r));const s="reauthenticate";try{const i=await yu(t,KT(r,s,e,t),n);We(i.idToken,r,"internal-error");const o=Ym(i.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Ha._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e,n=!1){if(Fr(t.app))return Promise.reject(No(t));const r="signIn",s=await KT(t,r,e),i=await Ha._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){return jt(t).setPersistence(e)}function CN(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function RN(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function PN(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function Aj(t){return jt(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=1e3,ON=10;class WT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);aN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ON):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const GT=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async f=>f(n.origin,i)),l=await DN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const f=eg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(y.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function NN(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function MN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LN(){return navigator?.serviceWorker?.controller||null}function VN(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",FN=1,bf="firebaseLocalStorage",ZT="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(t,e){return t.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function UN(){const t=indexedDB.deleteDatabase(XT);return new Fu(t).toPromise()}function Mp(){const t=indexedDB.open(XT,FN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bf,{keyPath:ZT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),await UN(),e(await Mp()))})})}async function K_(t,e,n){const r=ih(t,!0).put({[ZT]:e,value:n});return new Fu(r).toPromise()}async function $N(t,e){const n=ih(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function z_(t,e){const n=ih(t,!0).delete(e);return new Fu(n).toPromise()}const jN=800,BN=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(VN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MN(),!this.activeServiceWorker)return;this.sender=new xN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await K_(e,wf,"1"),await z_(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$N(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ih(s,!1).getAll();return new Fu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e0.type="LOCAL";const qN=e0;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){return e?Ks(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends HT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HN(t){return AN(t.auth,new tg(t),t.bypassAuthState)}function KN(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),IN(n,new tg(t),t.bypassAuthState)}async function zN(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),TN(n,new tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HN;case"linkViaPopup":case"linkViaRedirect":return zN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:gs(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Lu(2e3,1e4);async function GN(t,e,n){if(Fr(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=rh(t);qx(t,e,Zm);const s=t0(r,n);return new Co(r,"signInViaPopup",e,s).executeNotNull()}class Co extends n0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="pendingRedirect",Ol=new Map;class YN extends n0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{const r=await JN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(t,e){const n=eM(e),r=ZN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XN(t,e){Ol.set(t._key(),e)}function ZN(t){return Ks(t._redirectPersistence)}function eM(t){return kl(QN,t.config.apiKey,t.name)}async function tM(t,e,n=!1){if(Fr(t.app))return Promise.reject(No(t));const r=rh(t),s=t0(r,e),o=await new YN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=600*1e3;class rM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!r0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nM&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e={}){return ic(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;async function cM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iM(t);for(const n of e)try{if(uM(n))return}catch{}gs(t,"unauthorized-domain")}function uM(t){const e=xp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aM.test(n))return!1;if(oM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Lu(3e4,6e4);function G_(){const t=us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fM(t){return new Promise((e,n)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(Br(t,"network-request-failed"))},timeout:lM.get()})}if(us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(us().gapi?.load)r();else{const s=gN("iframefcb");return us()[s]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},pN(`${mN()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Dl=null,e})}let Dl=null;function hM(t){return Dl=Dl||fM(t),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Lu(5e3,15e3),pM="__/auth/iframe",mM="emulator/auth/iframe",gM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gm(e,mM):`https://${t.config.authDomain}/${pM}`,r={apiKey:e.apiKey,appName:t.name,v:sc},s=yM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Nu(r).slice(1)}`}async function vM(t){const e=await hM(t),n=us().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:_M(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Br(t,"network-request-failed"),a=us().setTimeout(()=>{i(o)},dM.get());function l(){us().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bM=500,EM=600,TM="_blank",IM="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AM(t,e,n,r=bM,s=EM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...wM,width:r.toString(),height:s.toString(),top:i,left:o},f=xn().toLowerCase();n&&(a=LT(f)?TM:n),NT(f)&&(e=e||IM,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(oN(f)&&a!=="_self")return SM(e||"",a),new Q_(null);const p=window.open(e||"",a,d);We(p,t,"popup-blocked");try{p.focus()}catch{}return new Q_(p)}function SM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="__/auth/handler",RM="emulator/auth/handler",PM=encodeURIComponent("fac");async function Y_(t,e,n,r,s,i){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sc,eventId:s};if(e instanceof Zm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Vu){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),f=l?`#${PM}=${encodeURIComponent(l)}`:"";return`${kM(t)}?${Nu(a).slice(1)}${f}`}function kM({config:t}){return t.emulator?Gm(t,RM):`https://${t.authDomain}/${CM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class OM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=tM,this._overrideRedirectResult=XN}async _openPopup(e,n,r,s){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Y_(e,n,r,xp(),s);return AM(e,i,eg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Y_(e,n,r,xp(),s);return NN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ti(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vM(e),r=new rM(e);return n.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yd,{type:yd},s=>{const i=s?.[0]?.[yd];i!==void 0&&n(!!i),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||MT()||Jm()}}const DM=OM;var J_="@firebase/auth",X_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MM(t){Ar(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(t)},f=new hN(r,s,i,l);return _N(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ar(new ur("auth-internal",e=>{const n=rh(e.getProvider("auth").getImmediate());return(r=>new xM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(J_,X_,NM(t)),Jn(J_,X_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=300,VM=_T("authIdTokenMaxAge")||LM;let Z_=null;const FM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VM)return;const s=n?.token;Z_!==s&&(Z_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UM(t=Mu()){const e=Ki(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yN(t,{popupRedirectResolver:DM,persistence:[qN,GT,YT]}),r=_T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=FM(i.toString());RN(n,o,()=>o(n.currentUser)),CN(n,a=>o(a))}}const s=gT("auth");return s&&vN(n,`http://${s}`),n}function $M(){return document.getElementsByTagName("head")?.[0]??document}dN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Br("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",$M().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MM("Browser");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,s0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function I(){}I.prototype=S.prototype,D.D=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(O,F,M){for(var P=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)P[Ue-2]=arguments[Ue];return S.prototype[F].apply(O,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,S,I){I||(I=0);var O=Array(16);if(typeof S=="string")for(var F=0;16>F;++F)O[F]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(F=0;16>F;++F)O[F]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],F=D.g[2];var M=D.g[3],P=S+(M^I&(F^M))+O[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=M+(F^S&(I^F))+O[1]+3905402710&4294967295,M=S+(P<<12&4294967295|P>>>20),P=F+(I^M&(S^I))+O[2]+606105819&4294967295,F=M+(P<<17&4294967295|P>>>15),P=I+(S^F&(M^S))+O[3]+3250441966&4294967295,I=F+(P<<22&4294967295|P>>>10),P=S+(M^I&(F^M))+O[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=M+(F^S&(I^F))+O[5]+1200080426&4294967295,M=S+(P<<12&4294967295|P>>>20),P=F+(I^M&(S^I))+O[6]+2821735955&4294967295,F=M+(P<<17&4294967295|P>>>15),P=I+(S^F&(M^S))+O[7]+4249261313&4294967295,I=F+(P<<22&4294967295|P>>>10),P=S+(M^I&(F^M))+O[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=M+(F^S&(I^F))+O[9]+2336552879&4294967295,M=S+(P<<12&4294967295|P>>>20),P=F+(I^M&(S^I))+O[10]+4294925233&4294967295,F=M+(P<<17&4294967295|P>>>15),P=I+(S^F&(M^S))+O[11]+2304563134&4294967295,I=F+(P<<22&4294967295|P>>>10),P=S+(M^I&(F^M))+O[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=M+(F^S&(I^F))+O[13]+4254626195&4294967295,M=S+(P<<12&4294967295|P>>>20),P=F+(I^M&(S^I))+O[14]+2792965006&4294967295,F=M+(P<<17&4294967295|P>>>15),P=I+(S^F&(M^S))+O[15]+1236535329&4294967295,I=F+(P<<22&4294967295|P>>>10),P=S+(F^M&(I^F))+O[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=M+(I^F&(S^I))+O[6]+3225465664&4294967295,M=S+(P<<9&4294967295|P>>>23),P=F+(S^I&(M^S))+O[11]+643717713&4294967295,F=M+(P<<14&4294967295|P>>>18),P=I+(M^S&(F^M))+O[0]+3921069994&4294967295,I=F+(P<<20&4294967295|P>>>12),P=S+(F^M&(I^F))+O[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=M+(I^F&(S^I))+O[10]+38016083&4294967295,M=S+(P<<9&4294967295|P>>>23),P=F+(S^I&(M^S))+O[15]+3634488961&4294967295,F=M+(P<<14&4294967295|P>>>18),P=I+(M^S&(F^M))+O[4]+3889429448&4294967295,I=F+(P<<20&4294967295|P>>>12),P=S+(F^M&(I^F))+O[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=M+(I^F&(S^I))+O[14]+3275163606&4294967295,M=S+(P<<9&4294967295|P>>>23),P=F+(S^I&(M^S))+O[3]+4107603335&4294967295,F=M+(P<<14&4294967295|P>>>18),P=I+(M^S&(F^M))+O[8]+1163531501&4294967295,I=F+(P<<20&4294967295|P>>>12),P=S+(F^M&(I^F))+O[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=M+(I^F&(S^I))+O[2]+4243563512&4294967295,M=S+(P<<9&4294967295|P>>>23),P=F+(S^I&(M^S))+O[7]+1735328473&4294967295,F=M+(P<<14&4294967295|P>>>18),P=I+(M^S&(F^M))+O[12]+2368359562&4294967295,I=F+(P<<20&4294967295|P>>>12),P=S+(I^F^M)+O[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=M+(S^I^F)+O[8]+2272392833&4294967295,M=S+(P<<11&4294967295|P>>>21),P=F+(M^S^I)+O[11]+1839030562&4294967295,F=M+(P<<16&4294967295|P>>>16),P=I+(F^M^S)+O[14]+4259657740&4294967295,I=F+(P<<23&4294967295|P>>>9),P=S+(I^F^M)+O[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=M+(S^I^F)+O[4]+1272893353&4294967295,M=S+(P<<11&4294967295|P>>>21),P=F+(M^S^I)+O[7]+4139469664&4294967295,F=M+(P<<16&4294967295|P>>>16),P=I+(F^M^S)+O[10]+3200236656&4294967295,I=F+(P<<23&4294967295|P>>>9),P=S+(I^F^M)+O[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=M+(S^I^F)+O[0]+3936430074&4294967295,M=S+(P<<11&4294967295|P>>>21),P=F+(M^S^I)+O[3]+3572445317&4294967295,F=M+(P<<16&4294967295|P>>>16),P=I+(F^M^S)+O[6]+76029189&4294967295,I=F+(P<<23&4294967295|P>>>9),P=S+(I^F^M)+O[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=M+(S^I^F)+O[12]+3873151461&4294967295,M=S+(P<<11&4294967295|P>>>21),P=F+(M^S^I)+O[15]+530742520&4294967295,F=M+(P<<16&4294967295|P>>>16),P=I+(F^M^S)+O[2]+3299628645&4294967295,I=F+(P<<23&4294967295|P>>>9),P=S+(F^(I|~M))+O[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=M+(I^(S|~F))+O[7]+1126891415&4294967295,M=S+(P<<10&4294967295|P>>>22),P=F+(S^(M|~I))+O[14]+2878612391&4294967295,F=M+(P<<15&4294967295|P>>>17),P=I+(M^(F|~S))+O[5]+4237533241&4294967295,I=F+(P<<21&4294967295|P>>>11),P=S+(F^(I|~M))+O[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=M+(I^(S|~F))+O[3]+2399980690&4294967295,M=S+(P<<10&4294967295|P>>>22),P=F+(S^(M|~I))+O[10]+4293915773&4294967295,F=M+(P<<15&4294967295|P>>>17),P=I+(M^(F|~S))+O[1]+2240044497&4294967295,I=F+(P<<21&4294967295|P>>>11),P=S+(F^(I|~M))+O[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=M+(I^(S|~F))+O[15]+4264355552&4294967295,M=S+(P<<10&4294967295|P>>>22),P=F+(S^(M|~I))+O[6]+2734768916&4294967295,F=M+(P<<15&4294967295|P>>>17),P=I+(M^(F|~S))+O[13]+1309151649&4294967295,I=F+(P<<21&4294967295|P>>>11),P=S+(F^(I|~M))+O[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=M+(I^(S|~F))+O[11]+3174756917&4294967295,M=S+(P<<10&4294967295|P>>>22),P=F+(S^(M|~I))+O[2]+718787259&4294967295,F=M+(P<<15&4294967295|P>>>17),P=I+(M^(F|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(F+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var I=S-this.blockSize,O=this.B,F=this.h,M=0;M<S;){if(F==0)for(;M<=I;)s(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(O[F++]=D.charCodeAt(M++),F==this.blockSize){s(this,O),F=0;break}}else for(;M<S;)if(O[F++]=D[M++],F==this.blockSize){s(this,O),F=0;break}}this.h=F,this.o+=S},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var I=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=I&255,I/=256;for(this.u(D),D=Array(16),S=I=0;4>S;++S)for(var O=0;32>O;O+=8)D[I++]=this.g[S]>>>O&255;return D};function i(D,S){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function o(D,S){this.h=S;for(var I=[],O=!0,F=D.length-1;0<=F;F--){var M=D[F]|0;O&&M==S||(I[F]=M,O=!1)}this.g=I}var a={};function l(D){return-128<=D&&128>D?i(D,function(S){return new o([S|0],0>S?-1:0)}):new o([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return L(f(-D));for(var S=[],I=1,O=0;D>=I;O++)S[O]=D/I|0,I*=4294967296;return new o(S,0)}function d(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return L(d(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(S,8)),O=p,F=0;F<D.length;F+=8){var M=Math.min(8,D.length-F),P=parseInt(D.substring(F,F+M),S);8>M?(M=f(Math.pow(S,M)),O=O.j(M).add(f(P))):(O=O.j(I),O=O.add(f(P)))}return O}var p=l(0),y=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-L(this).m();for(var D=0,S=1,I=0;I<this.g.length;I++){var O=this.i(I);D+=(0<=O?O:4294967296+O)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(A(this))return"-"+L(this).toString(D);for(var S=f(Math.pow(D,6)),I=this,O="";;){var F=x(I,S).g;I=H(I,F.j(S));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=F,E(I))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=H(this,D),A(D)?-1:E(D)?0:1};function L(D){for(var S=D.g.length,I=[],O=0;O<S;O++)I[O]=~D.g[O];return new o(I,~D.h).add(y)}t.abs=function(){return A(this)?L(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],O=0,F=0;F<=S;F++){var M=O+(this.i(F)&65535)+(D.i(F)&65535),P=(M>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);O=P>>>16,M&=65535,P&=65535,I[F]=P<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function H(D,S){return D.add(L(S))}t.j=function(D){if(E(this)||E(D))return p;if(A(this))return A(D)?L(this).j(L(D)):L(L(this).j(D));if(A(D))return L(this.j(L(D)));if(0>this.l(v)&&0>D.l(v))return f(this.m()*D.m());for(var S=this.g.length+D.g.length,I=[],O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var F=0;F<D.g.length;F++){var M=this.i(O)>>>16,P=this.i(O)&65535,Ue=D.i(F)>>>16,Ke=D.i(F)&65535;I[2*O+2*F]+=P*Ke,V(I,2*O+2*F),I[2*O+2*F+1]+=M*Ke,V(I,2*O+2*F+1),I[2*O+2*F+1]+=P*Ue,V(I,2*O+2*F+1),I[2*O+2*F+2]+=M*Ue,V(I,2*O+2*F+2)}for(O=0;O<S;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=S;O<2*S;O++)I[O]=0;return new o(I,0)};function V(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function R(D,S){this.g=D,this.h=S}function x(D,S){if(E(S))throw Error("division by zero");if(E(D))return new R(p,p);if(A(D))return S=x(L(D),S),new R(L(S.g),L(S.h));if(A(S))return S=x(D,L(S)),new R(L(S.g),S.h);if(30<D.g.length){if(A(D)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var I=y,O=S;0>=O.l(D);)I=j(I),O=j(O);var F=ne(I,1),M=ne(O,1);for(O=ne(O,2),I=ne(I,2);!E(O);){var P=M.add(O);0>=P.l(D)&&(F=F.add(I),M=P),O=ne(O,1),I=ne(I,1)}return S=H(D,F.j(S)),new R(F,S)}for(F=p;0<=D.l(S);){for(I=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=f(I),P=M.j(S);A(P)||0<P.l(D);)I-=O,M=f(I),P=M.j(S);E(M)&&(M=y),F=F.add(M),D=H(D,P)}return new R(F,D)}t.A=function(D){return x(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)&D.i(O);return new o(I,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)|D.i(O);return new o(I,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)^D.i(O);return new o(I,this.h^D.h)};function j(D){for(var S=D.g.length+1,I=[],O=0;O<S;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new o(I,D.h)}function ne(D,S){var I=S>>5;S%=32;for(var O=D.g.length-I,F=[],M=0;M<O;M++)F[M]=0<S?D.i(M+I)>>>S|D.i(M+I+1)<<32-S:D.i(M+I);return new o(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Di=o}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,Lc,o0,xl,Lp,a0,c0,u0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _l=="object"&&_l];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var X=c[C];if(!(X in w))break e;w=w[X]}c=c[c.length-1],C=w[c],g=g(C),g!=C&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function i(c,g){c instanceof String&&(c+="");var w=0,C=!1,X={next:function(){if(!C&&w<c.length){var re=w++;return{value:g(re,c[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(c){return c||function(){return i(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function f(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,w){return c.call.apply(c.bind,arguments)}function p(c,g,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,C),c.apply(g,X)}}return function(){return c.apply(g,arguments)}}function y(c,g,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function v(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function E(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,X,re){for(var ve=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ve[yt-2]=arguments[yt];return g.prototype[X].apply(C,ve)}}function A(c){const g=c.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=c[C];return w}return[]}function L(c,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(l(C)){const X=c.length||0,re=C.length||0;c.length=X+re;for(let ve=0;ve<re;ve++)c[X+ve]=C[ve]}else c.push(C)}}class H{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function V(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var j=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function ne(c,g,w){for(const C in c)g.call(w,c[C],C,c)}function D(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function S(c){const g={};for(const w in c)g[w]=c[w];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let w,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(w in C)c[w]=C[w];for(let re=0;re<I.length;re++)w=I[re],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function F(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function M(c){a.setTimeout(()=>{throw c},0)}function P(){var c=ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ue{constructor(){this.h=this.g=null}add(g,w){const C=Ke.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Ke=new H(()=>new Ae,c=>c.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,Ce=!1,ht=new Ue,Kt=()=>{const c=a.Promise.resolve(void 0);Me=()=>{c.then(Tn)}};var Tn=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(w){M(w)}var g=Ke;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Ce=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Sr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return c})();function Nn(c,g){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{x(g.nodeName);var X=!0;break e}catch{}X=!1}X||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Nn.aa.h.call(this)}}E(Nn,pt);var zt={2:"touch",3:"pen",4:"mouse"};Nn.prototype.h=function(){Nn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function se(c,g,w,C,X){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=X,this.key=++Pe,this.da=this.fa=!1}function Ne(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,g,w,C,X){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ve=N(c,g,C,X);return-1<ve?(g=c[ve],w||(g.fa=!1)):(g=new se(g,this.src,re,!!C,X),g.fa=w,c.push(g)),g};function $e(c,g){var w=g.type;if(w in c.g){var C=c.g[w],X=Array.prototype.indexOf.call(C,g,void 0),re;(re=0<=X)&&Array.prototype.splice.call(C,X,1),re&&(Ne(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function N(c,g,w,C){for(var X=0;X<c.length;++X){var re=c[X];if(!re.da&&re.listener==g&&re.capture==!!w&&re.ha==C)return X}return-1}var $="closure_lm_"+(1e6*Math.random()|0),ee={};function fe(c,g,w,C,X){if(Array.isArray(g)){for(var re=0;re<g.length;re++)fe(c,g[re],w,C,X);return null}return w=Le(w),c&&c[oe]?c.K(g,w,f(C)?!!C.capture:!1,X):ae(c,g,w,!1,C,X)}function ae(c,g,w,C,X,re){if(!g)throw Error("Invalid event type");var ve=f(X)?!!X.capture:!!X,yt=Ve(c);if(yt||(c[$]=yt=new et(c)),w=yt.add(g,w,C,ve,re),w.proxy)return w;if(C=he(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Sr||(X=ve),X===void 0&&(X=!1),c.addEventListener(g.toString(),C,X);else if(c.attachEvent)c.attachEvent(pe(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function he(){function c(w){return g.call(c.src,c.listener,w)}const g=de;return c}function Ee(c,g,w,C,X){if(Array.isArray(g))for(var re=0;re<g.length;re++)Ee(c,g[re],w,C,X);else C=f(C)?!!C.capture:!!C,w=Le(w),c&&c[oe]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],w=N(re,w,C,X),-1<w&&(Ne(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ve(c))&&(g=c.g[g.toString()],c=-1,g&&(c=N(g,w,C,X)),(w=-1<c?g[c]:null)&&ye(w))}function ye(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[oe])$e(g.i,c);else{var w=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(w,C,c.capture):g.detachEvent?g.detachEvent(pe(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=Ve(g))?($e(w,c),w.h==0&&(w.src=null,g[$]=null)):Ne(c)}}}function pe(c){return c in ee?ee[c]:ee[c]="on"+c}function de(c,g){if(c.da)c=!0;else{g=new Nn(g,this);var w=c.listener,C=c.ha||c.src;c.fa&&ye(c),c=w.call(C,g)}return c}function Ve(c){return c=c[$],c instanceof et?c:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(c){return typeof c=="function"?c:(c[Se]||(c[Se]=function(g){return c.handleEvent(g)}),c[Se])}function ke(){kt.call(this),this.i=new et(this),this.M=this,this.F=null}E(ke,kt),ke.prototype[oe]=!0,ke.prototype.removeEventListener=function(c,g,w,C){Ee(this,c,g,w,C)};function Fe(c,g){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new pt(g,c);else if(g instanceof pt)g.target=g.target||c;else{var X=g;g=new pt(C,c),O(g,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ve=g.g=w[re];X=ct(ve,C,!0,g)&&X}if(ve=g.g=c,X=ct(ve,C,!0,g)&&X,X=ct(ve,C,!1,g)&&X,w)for(re=0;re<w.length;re++)ve=g.g=w[re],X=ct(ve,C,!1,g)&&X}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],C=0;C<w.length;C++)Ne(w[C]);delete c.g[g],c.h--}}this.F=null},ke.prototype.K=function(c,g,w,C){return this.i.add(String(c),g,!1,w,C)},ke.prototype.L=function(c,g,w,C){return this.i.add(String(c),g,!0,w,C)};function ct(c,g,w,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var X=!0,re=0;re<g.length;++re){var ve=g[re];if(ve&&!ve.da&&ve.capture==w){var yt=ve.listener,sn=ve.ha||ve.src;ve.fa&&$e(c.i,ve),X=yt.call(sn,C)!==!1&&X}}return X&&!C.defaultPrevented}function rt(c,g,w){if(typeof c=="function")w&&(c=y(c,w));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function Wt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,Wt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Vt extends kt{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(c){kt.call(this),this.h=c,this.g={}}E(Ot,kt);var Gt=[];function fr(c){ne(c.g,function(g,w){this.g.hasOwnProperty(w)&&ye(g)},c),c.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),fr(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=a.JSON.stringify,Re=a.JSON.parse,ln=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kn(){}Kn.prototype.h=null;function Wr(c){return c.h||(c.h=c.i())}function Ie(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zo(){pt.call(this,"d")}E(zo,pt);function Qi(){pt.call(this,"c")}E(Qi,pt);var Gr={},Wo=null;function Go(){return Wo=Wo||new ke}Gr.La="serverreachability";function Gu(c){pt.call(this,Gr.La,c)}E(Gu,pt);function hr(c){const g=Go();Fe(g,new Gu(g))}Gr.STAT_EVENT="statevent";function bs(c,g){pt.call(this,Gr.STAT_EVENT,c),this.stat=g}E(bs,pt);function rn(c){const g=Go();Fe(g,new bs(g,c))}Gr.Ma="timingevent";function Yi(c,g){pt.call(this,Gr.Ma,c),this.size=g}E(Yi,pt);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function xt(){this.g=!0}xt.prototype.xa=function(){this.g=!1};function Ph(c,g,w,C,X,re){c.info(function(){if(c.g)if(re)for(var ve="",yt=re.split("&"),sn=0;sn<yt.length;sn++){var lt=yt[sn].split("=");if(1<lt.length){var on=lt[0];lt=lt[1];var fn=on.split("_");ve=2<=fn.length&&fn[1]=="type"?ve+(on+"="+lt+"&"):ve+(on+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+g+`
`+w+`
`+ve})}function Qo(c,g,w,C,X,re,ve){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+g+`
`+w+`
`+re+" "+ve})}function Cr(c,g,w,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+kh(c,w)+(C?" "+C:"")})}function Yo(c,g){c.info(function(){return"TIMEOUT: "+g})}xt.prototype.info=function(){};function kh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var X=C[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Mn(w)}catch{return g}}var Zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function Ts(){}E(Ts,Kn),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},dr=new Ts;function Qr(c,g,w,C){this.j=c,this.i=g,this.l=w,this.R=C||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var dc={},Pr={};function Jo(c,g,w){c.L=1,c.v=to(Ln(g)),c.m=w,c.P=!0,Xo(c,null)}function Xo(c,g){c.F=Date.now(),zn(c),c.A=Ln(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),bc(w.i,"t",C),c.C=0,w=c.j.J,c.h=new Rr,c.g=ia(c.j,w?g:null,!c.m),0<c.O&&(c.M=new Vt(y(c.Y,c,c.g),c.O)),g=c.U,w=c.g,C=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gt[0]=X.toString()),X=Gt);for(var re=0;re<X.length;re++){var ve=fe(w,X[re],C||g.handleEvent,!1,g.h||g);if(!ve)break;g.g[ve.key]=ve}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),hr(),Ph(c.i,c.u,c.A,c.l,c.R,c.m)}Qr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Nr(c)==3?g.j():this.Y(c)},Qr.prototype.Y=function(c){try{if(c==this.g)e:{const fn=Nr(this.g);var g=this.g.Ba();const Ds=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||fn!=4||g==7||(g==8||0>=Ds?hr(3):hr(2)),Yr(this);var w=this.g.Z();this.X=w;t:if(Nt(this)){var C=Zu(this.g);c="";var X=C.length,re=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Jr(this);var ve="";break t}this.h.i=new a.TextDecoder}for(g=0;g<X;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(re&&g==X-1)});C.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,Qo(this.i,this.u,this.A,this.l,this.R,fn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,sn=this.g;if((yt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(yt)){var lt=yt;break t}}lt=null}if(w=lt)Cr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ji(this,w);else{this.o=!1,this.s=3,rn(12),kr(this),Jr(this);break e}}if(this.P){w=!0;let Un;for(;!this.J&&this.C<ve.length;)if(Un=Is(this,ve),Un==Pr){fn==4&&(this.s=4,rn(14),w=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==dc){this.s=4,rn(15),Cr(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Cr(this.i,this.l,Un,null),Ji(this,Un);if(Nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ve.length!=0||this.h.h||(this.s=1,rn(16),w=!1),this.o=this.o&&w,!w)Cr(this.i,this.l,ve,"[Invalid Chunked Response]"),kr(this),Jr(this);else if(0<ve.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Xt(on),on.M=!0,rn(11))}}else Cr(this.i,this.l,ve,null),Ji(this,ve);fn==4&&kr(this),this.o&&!this.J&&(fn==4?Ac(this.j,this):(this.o=!1,zn(this)))}else Tc(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),kr(this),Jr(this)}}}catch{}finally{}};function Nt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Is(c,g){var w=c.C,C=g.indexOf(`
`,w);return C==-1?Pr:(w=Number(g.substring(w,C)),isNaN(w)?dc:(C+=1,C+w>g.length?Pr:(g=g.slice(C,C+w),c.C=C+w,g)))}Qr.prototype.cancel=function(){this.J=!0,kr(this)};function zn(c){c.S=Date.now()+c.I,pc(c,c.I)}function pc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(y(c.ba,c),g)}function Yr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Qr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yo(this.i,this.A),this.L!=2&&(hr(),rn(17)),kr(this),this.s=2,Jr(this)):pc(this,this.S-c)};function Jr(c){c.j.G==0||c.J||Ac(c.j,c)}function kr(c){Yr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,fr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ji(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||nt(w.h,c))){if(!c.K&&nt(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)es(w),Rs(w);else break e;uo(w),rn(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=mt(y(w.Za,w),6e3));if(1>=gc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ts(w,11)}else if((c.K||w.g==c)&&es(w),!V(g))for(X=w.Da.g.parse(g),g=0;g<X.length;g++){let lt=X[g];if(w.T=lt[0],lt=lt[1],w.G==2)if(lt[0]=="c"){w.K=lt[1],w.ia=lt[2];const on=lt[3];on!=null&&(w.la=on,w.j.info("VER="+w.la));const fn=lt[4];fn!=null&&(w.Aa=fn,w.j.info("SVER="+w.Aa));const Ds=lt[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(C=1.5*Ds,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Un=c.g;if(Un){const po=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var re=C.h;re.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Zo(re,re.h),re.h=null))}if(C.D){const aa=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(C.ya=aa,gt(C.I,C.D,aa))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ve=c;if(C.qa=fo(C,C.J?C.ia:null,C.W),ve.K){yc(C.h,ve);var yt=ve,sn=C.L;sn&&(yt.I=sn),yt.B&&(Yr(yt),zn(yt)),C.g=ve}else sa(C);0<w.i.length&&co(w)}else lt[0]!="stop"&&lt[0]!="close"||ts(w,7);else w.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ts(w,7):hi(w):lt[0]!="noop"&&w.l&&w.l.ta(lt),w.v=0)}}hr(4)}catch{}}var As=class{constructor(c,g){this.g=c,this.map=g}};function mc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gc(c){return c.h?1:c.g?c.g.size:0}function nt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Zo(c,g){c.g?c.g.add(g):c.h=g}function yc(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}mc.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zi(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return A(c.i)}function eo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],w=c.length,C=0;C<w;C++)g.push(c[C]);return g}g=[],w=0;for(C in c)g[w++]=c[C];return g}function Qu(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const C in c)g[w++]=C;return g}}}function _c(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=Qu(c),C=eo(c),X=C.length,re=0;re<X;re++)g.call(void 0,C[re],w&&w[re],c)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function It(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),X=null;if(0<=C){var re=c[w].substring(0,C);X=c[w].substring(C+1)}else re=c[w];g(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof er){this.h=c.h,Or(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,w=new pr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),ea(this,w),this.m=c.m}else c&&(g=String(c).match(vc))?(this.h=!1,Or(this,g[1]||"",!0),this.o=Xr(g[2]||""),this.g=Xr(g[3]||"",!0),ci(this,g[4]),this.l=Xr(g[5]||"",!0),ea(this,g[6]||"",!0),this.m=Xr(g[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}er.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,ut,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,ut,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ui(w,w.charAt(0)=="/"?Dh:Yu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ui(w,Vn)),c.join("")};function Ln(c){return new er(c)}function Or(c,g,w){c.j=w?Xr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ea(c,g,w){g instanceof pr?(c.i=g,mr(c.i,c.h)):(w||(g=ui(g,xh)),c.i=new pr(g,c.h))}function gt(c,g,w){c.i.set(g,w)}function to(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Oh),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Oh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ut=/[#\/\?@]/g,Yu=/[#\?:]/g,Dh=/[#\?]/g,xh=/[#\?@]/g,Vn=/#/g;function pr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&It(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=pr.prototype,t.add=function(c,g){tr(this),this.i=null,c=Dt(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Dr(c,g){tr(c),g=Dt(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function wc(c,g){return tr(c),g=Dt(c,g),c.g.has(g)}t.forEach=function(c,g){tr(this),this.g.forEach(function(w,C){w.forEach(function(X){c.call(g,X,C,this)},this)},this)},t.na=function(){tr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const X=c[C];for(let re=0;re<X.length;re++)w.push(g[C])}return w},t.V=function(c){tr(this);let g=[];if(typeof c=="string")wc(this,c)&&(g=g.concat(this.g.get(Dt(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return tr(this),this.i=null,c=Dt(this,c),wc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function bc(c,g,w){Dr(c,g),0<w.length&&(c.i=null,c.g.set(Dt(c,g),A(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const re=encodeURIComponent(String(C)),ve=this.V(C);for(C=0;C<ve.length;C++){var X=re;ve[C]!==""&&(X+="="+encodeURIComponent(String(ve[C]))),c.push(X)}}return this.i=c.join("&")};function Dt(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function mr(c,g){g&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(w,C){var X=C.toLowerCase();C!=X&&(Dr(this,C),bc(this,X,w))},c)),c.j=g}function no(c,g){const w=new xt;if(a.Image){const C=new Image;C.onload=v(gr,w,"TestLoadImage: loaded",!0,g,C),C.onerror=v(gr,w,"TestLoadImage: error",!1,g,C),C.onabort=v(gr,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=v(gr,w,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function ro(c,g){const w=new xt,C=new AbortController,X=setTimeout(()=>{C.abort(),gr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(re=>{clearTimeout(X),re.ok?gr(w,"TestPingServer: ok",!0,g):gr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(X),gr(w,"TestPingServer: error",!1,g)})}function gr(c,g,w,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(w)}catch{}}function Zr(){this.g=new ln}function Nh(c,g,w){const C=w||"";try{_c(c,function(X,re){let ve=X;f(X)&&(ve=Mn(X)),g.push(C+re+"="+encodeURIComponent(ve))})}catch(X){throw g.push(C+"type="+encodeURIComponent("_badmap")),X}}function Fn(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Fn,Kn),Fn.prototype.g=function(){return new li(this.l,this.j)},Fn.prototype.i=(function(c){return function(){return c}})({});function li(c,g){ke.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(li,ke),t=li.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,xr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ec(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ec(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ss(this):xr(this),this.readyState==3&&Ec(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ss(this))},t.Qa=function(c){this.g&&(this.response=c,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ta(c){let g="";return ne(c,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function na(c,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=ta(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):gt(c,g,w))}function Mt(c){ke.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Mt,ke);var so=/^https?$/i,Mh=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Wr(this.o):Wr(dr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){Ju(this,re);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)w.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())w.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mh,g,void 0))||C||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of w)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xu(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){Ju(this,re)}};function Ju(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,io(c),fi(c)}function io(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},t.bb=function(){oo(this)};function oo(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Nr(c)!=4||c.Z()!=2)){if(c.u&&Nr(c)==4)rt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Nr(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=ve===0){var X=String(c.D).match(vc)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),C=!so.test(X?X.toLowerCase():"")}w=C}if(w)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var re=2<Nr(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",io(c)}}finally{fi(c)}}}}function fi(c,g){if(c.g){Xu(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{w.onreadystatechange=C}catch{}}}function Xu(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Re(g)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(c){const g={};c=(c.g&&2<=Nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(V(c[C]))continue;var w=F(c[C]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=g[X]||[];g[X]=re,re.push(w)}D(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Ic(c){this.Aa=0,this.i=[],this.j=new xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mc(c&&c.concurrentRequestLimit),this.Da=new Zr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ic.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,C){rn(0),this.W=c,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=fo(this,null,this.W),co(this)};function hi(c){if(ao(c),c.G==3){var g=c.U++,w=Ln(c.I);if(gt(w,"SID",c.K),gt(w,"RID",g),gt(w,"TYPE","terminate"),ks(c,w),g=new Qr(c,c.j,g),g.L=2,g.v=to(Ln(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=ia(g.j,null),g.g.ea(g.v)),g.F=Date.now(),zn(g)}Sc(c)}function Rs(c){c.g&&(Xt(c),c.g.cancel(),c.g=null)}function ao(c){Rs(c),c.u&&(a.clearTimeout(c.u),c.u=null),es(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function co(c){if(!Xi(c.h)&&!c.s){c.s=!0;var g=c.Ga;Me||Kt(),Ce||(Me(),Ce=!0),ht.add(g,c),c.B=0}}function Lh(c,g){return gc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(y(c.Ga,c,g),lo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Qr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=S(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=ra(this,X,g),w=Ln(this.I),gt(w,"RID",c),gt(w,"CVER",22),this.D&&gt(w,"X-HTTP-Session-Id",this.D),ks(this,w),re&&(this.O?g="headers="+encodeURIComponent(String(ta(re)))+"&"+g:this.m&&na(w,this.m,re)),Zo(this.h,X),this.Ua&&gt(w,"TYPE","init"),this.P?(gt(w,"$req",g),gt(w,"SID","null"),X.T=!0,Jo(X,w,null)):Jo(X,w,g),this.G=2}}else this.G==3&&(c?Ps(this,c):this.i.length==0||Xi(this.h)||Ps(this))};function Ps(c,g){var w;g?w=g.l:w=c.U++;const C=Ln(c.I);gt(C,"SID",c.K),gt(C,"RID",w),gt(C,"AID",c.T),ks(c,C),c.m&&c.o&&na(C,c.m,c.o),w=new Qr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ra(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zo(c.h,w),Jo(w,C,g)}function ks(c,g){c.H&&ne(c.H,function(w,C){gt(g,C,w)}),c.l&&_c({},function(w,C){gt(g,C,w)})}function ra(c,g,w){w=Math.min(c.i.length,w);var C=c.l?y(c.l.Na,c.l,c):null;e:{var X=c.i;let re=-1;for(;;){const ve=["count="+w];re==-1?0<w?(re=X[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let yt=!0;for(let sn=0;sn<w;sn++){let lt=X[sn].g;const on=X[sn].map;if(lt-=re,0>lt)re=Math.max(0,X[sn].g-100),yt=!1;else try{Nh(on,ve,"req"+lt+"_")}catch{C&&C(on)}}if(yt){C=ve.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,C}function sa(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Me||Kt(),Ce||(Me(),Ce=!0),ht.add(g,c),c.v=0}}function uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(y(c.Fa,c),lo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,di(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Rs(this),di(this))};function Xt(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function di(c){c.g=new Qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Ln(c.qa);gt(g,"RID","rpc"),gt(g,"SID",c.K),gt(g,"AID",c.T),gt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(g,"TO",c.ja),gt(g,"TYPE","xmlhttp"),ks(c,g),c.m&&c.o&&na(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=to(Ln(g)),w.m=null,w.P=!0,Xo(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Rs(this),uo(this),rn(19))};function es(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ac(c,g){var w=null;if(c.g==g){es(c),Xt(c),c.g=null;var C=2}else if(nt(c.h,g))w=g.D,yc(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var X=c.B;C=Go(),Fe(C,new Yi(C,w)),co(c)}else sa(c);else if(X=g.s,X==3||X==0&&0<g.X||!(C==1&&Lh(c,g)||C==2&&uo(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),X){case 1:ts(c,5);break;case 4:ts(c,10);break;case 3:ts(c,6);break;default:ts(c,2)}}}function lo(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function ts(c,g){if(c.j.info("Error code "+g),g==2){var w=y(c.fb,c),C=c.Xa;const X=!C;C=new er(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Or(C,"https"),to(C),X?no(C.toString(),w):ro(C.toString(),w)}else rn(2);c.G=0,c.l&&c.l.sa(g),Sc(c),ao(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Sc(c){if(c.G=0,c.ka=[],c.l){const g=Zi(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function fo(c,g,w){var C=w instanceof er?Ln(w):new er(w);if(C.g!="")g&&(C.g=g+"."+C.g),ci(C,C.s);else{var X=a.location;C=X.protocol,g=g?g+"."+X.hostname:X.hostname,X=+X.port;var re=new er(null);C&&Or(re,C),g&&(re.g=g),X&&ci(re,X),w&&(re.l=w),C=re}return w=c.D,g=c.ya,w&&g&&gt(C,w,g),gt(C,"VER",c.la),ks(c,C),C}function ia(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Mt(new Fn({eb:w})):new Mt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ns(){}t=ns.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pi(){}pi.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){ke.call(this),this.g=new Ic(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!V(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!V(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Os(this)}E(mn,ke),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){hi(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Mn(c),c=w);g.i.push(new As(g.Ya++,c)),g.G==3&&co(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,hi(this.g),delete this.g,mn.aa.N.call(this)};function ho(c){zo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(ho,zo);function oa(){Qi.call(this),this.status=1}E(oa,Qi);function Os(c){this.g=c}E(Os,ns),Os.prototype.ua=function(){Fe(this.g,"a")},Os.prototype.ta=function(c){Fe(this.g,new ho(c))},Os.prototype.sa=function(c){Fe(this.g,new oa)},Os.prototype.ra=function(){Fe(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,u0=function(){return new pi},c0=function(){return Go()},a0=Gr,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,xl=Zn,Es.COMPLETE="complete",o0=Es,Ie.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Lc=Ie,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,i0=Mt}).apply(typeof _l<"u"?_l:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",nv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new th("@firebase/firestore");function ya(){return Fo.logLevel}function De(t,...e){if(Fo.logLevel<=it.DEBUG){const n=e.map(ng);Fo.debug(`Firestore (${oc}): ${t}`,...n)}}function ni(t,...e){if(Fo.logLevel<=it.ERROR){const n=e.map(ng);Fo.error(`Firestore (${oc}): ${t}`,...n)}}function Ka(t,...e){if(Fo.logLevel<=it.WARN){const n=e.map(ng);Fo.warn(`Firestore (${oc}): ${t}`,...n)}}function ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,l0(t,r,n)}function l0(t,e,n){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ni(r),new Error(r)}function Et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||l0(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class BM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xi,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xi)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new f0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class HM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=i=>{i.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=WM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Vp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return _d(s)===_d(i)?ot(s,i):_d(s)?1:-1}return ot(t.length,e.length)}const GM=55296,QM=57343;function _d(t){const e=t.charCodeAt(0);return e>=GM&&e<=QM}function za(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__name__";class is{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=is.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ot(e.length,n.length)}static compareSegments(e,n){const r=is.isNumericId(e),s=is.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?is.extractNumericId(e).compare(is.extractNumericId(n)):Vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Pt extends is{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const YM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends is{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return YM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sv}static keyField(){return new bn([sv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Pt.fromString(e))}static fromName(e){return new je(Pt.fromString(e).popFirst(5))}static empty(){return new je(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){if(!n)throw new Oe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JM(t,e,n,r){if(e===!0&&r===!0)throw new Oe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iv(t){if(!je.isDocumentKey(t))throw new Oe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ov(t){if(je.isDocumentKey(t))throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function d0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(t);throw new Oe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uu(t,e){if(!d0(t))throw new Oe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Oe(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-62135596800,cv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cv);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<av)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:tn("string",bt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new bt(0,0))}static max(){return new Qe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function XM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Vi(s,je.empty(),e)}function ZM(t){return new Vi(t.readTime,t.key,_u)}class Vi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vi(Qe.min(),je.empty(),_u)}static max(){return new Vi(Qe.max(),je.empty(),_u)}}function eL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==tL)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((s=>s?le.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const f=l;n(e[f]).next((d=>{o[f]=d,++a,a===i&&r(o)}),(d=>s(d)))}}))}static doWhile(e,n){return new le(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function rL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function ch(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function sL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function iL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uv(e)),e=oL(t.get(n),e);return uv(e)}function oL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case p0:n+="";break;default:n+=i}}return n}function uv(t){return t+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vl(this.root,e,this.comparator,!0)}}class vl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new or([])}unionWith(e){let n=new cn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g0("Invalid base64 string: "+i):i}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const aL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=aL.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="server_timestamp",_0="__type__",v0="__previous_value__",w0="__local_write_time__";function ig(t){return(t?.mapValue?.fields||{})[_0]?.stringValue===y0}function uh(t){const e=t.mapValue.fields[v0];return ig(e)?uh(e):e}function vu(t){const e=Fi(t.mapValue.fields[w0].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,s,i,o,a,l,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=d}}const Tf="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||Tf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__type__",uL="__max__",wl={mapValue:{}},E0="__vector__",If="value";function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ig(t)?4:fL(t)?9007199254740991:lL(t)?10:11:He(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=$i(t);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Fi(s.timestampValue),a=Fi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Ui(s.bytesValue).isEqual(Ui(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Yt(s.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Yt(s.integerValue)===Yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yt(s.doubleValue),a=Yt(i.doubleValue);return o===a?Ef(o)===Ef(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(lv(o)!==lv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ys(o[l],a[l])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function bu(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function Wa(t,e){if(t===e)return 0;const n=$i(t),r=$i(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Yt(i.integerValue||i.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return hv(t.timestampValue,e.timestampValue);case 4:return hv(vu(t),vu(e));case 5:return Vp(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=Ui(i),l=Ui(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const d=ot(a[f],l[f]);if(d!==0)return d}return ot(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=ot(Yt(i.latitude),Yt(o.latitude));return a!==0?a:ot(Yt(i.longitude),Yt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dv(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},f=a[If]?.arrayValue,d=l[If]?.arrayValue,p=ot(f?.values?.length||0,d?.values?.length||0);return p!==0?p:dv(f,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===wl.mapValue&&o===wl.mapValue)return 0;if(i===wl.mapValue)return 1;if(o===wl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),f=o.fields||{},d=Object.keys(f);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=Vp(l[p],d[p]);if(y!==0)return y;const v=Wa(a[l[p]],f[d[p]]);if(v!==0)return v}return ot(l.length,d.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function hv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Fi(t),r=Fi(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function dv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wa(n[s],r[s]);if(i)return i}return ot(n.length,r.length)}function Ga(t){return Fp(t)}function Fp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ui(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Fp(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Fp(n.fields[o])}`;return s+"}"})(t.mapValue):He(61005,{value:t})}function Nl(t){switch($i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(t);return e?16+Nl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ui(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Nl(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return zi(r.fields,((i,o)=>{s+=i.length+Nl(o)})),s})(t.mapValue);default:throw He(13486,{value:t})}}function pv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Up(t){return!!t&&"integerValue"in t}function og(t){return!!t&&"arrayValue"in t}function mv(t){return!!t&&"nullValue"in t}function gv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ml(t){return!!t&&"mapValue"in t}function lL(t){return(t?.mapValue?.fields||{})[b0]?.stringValue===E0}function Yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return{...t}}function fL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ml(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yc(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ml(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ml(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zi(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Qn(Yc(this.value))}}function T0(t){const e=[];return zi(t.fields,((n,r)=>{const s=new bn([n]);if(Ml(r)){const i=T0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new On(e,0,Qe.min(),Qe.min(),Qe.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Qe.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Qe.min(),Qe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Qe.min(),Qe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function yv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _v(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function hL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{}class en extends I0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pL(e,n,r):n==="array-contains"?new yL(e,r):n==="in"?new _L(e,r):n==="not-in"?new vL(e,r):n==="array-contains-any"?new wL(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mL(e,r):new gL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wa(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends I0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kr(e,n)}matches(e){return A0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(t){return t.op==="and"}function S0(t){return dL(t)&&A0(t)}function dL(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function $p(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(S0(t))return t.filters.map((e=>$p(e))).join(",");{const e=t.filters.map((n=>$p(n))).join(",");return`${t.op}(${e})`}}function C0(t,e){return t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&ys(r.value,s.value)})(t,e):t instanceof Kr?(function(r,s){return s instanceof Kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&C0(o,s.filters[a])),!0):!1})(t,e):void He(19439)}function R0(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`})(t):t instanceof Kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"})(t):"Filter"}class pL extends en{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class mL extends en{constructor(e,n){super(e,"in",n),this.keys=P0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gL extends en{constructor(e,n){super(e,"not-in",n),this.keys=P0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P0(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class yL extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&bu(n.arrayValue,this.value)}}class _L extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class vL extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class wL extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function vv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new bL(t,e,n,r,s,i,o)}function ag(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$p(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ga(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ga(r))).join(",")),e.Te=n}return e.Te}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_v(t.startAt,e.startAt)&&_v(t.endAt,e.endAt)}function jp(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EL(t,e,n,r,s,i,o,a){return new $u(t,e,n,r,s,i,o,a)}function k0(t){return new $u(t)}function wv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O0(t){return t.collectionGroup!==null}function Jc(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cn(bn.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((f=>{f.isInequality()&&(a=a.add(f.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Sf(i,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Sf(bn.keyField(),r))}return e.Ie}function ls(t){const e=Ye(t);return e.Ee||(e.Ee=TL(e,Jc(t))),e.Ee}function TL(t,e){if(t.limitType==="F")return vv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Sf(s.field,i)}));const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return vv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qp(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return cg(ls(t),ls(e))&&t.limitType===e.limitType}function D0(t){return`${ag(ls(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>R0(s))).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ga(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ga(s))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):je.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Jc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const f=yv(o,a,l);return o.inclusive?f<=0:f<0})(r.startAt,Jc(r),s)||r.endAt&&!(function(o,a,l){const f=yv(o,a,l);return o.inclusive?f>=0:f>0})(r.endAt,Jc(r),s))})(t,e)}function IL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x0(t){return(e,n)=>{let r=!1;for(const s of Jc(t)){const i=AL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function AL(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),f=a.data.field(i);return l!==null&&f!==null?Wa(l,f):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return m0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Bt(je.comparator);function si(){return SL}const N0=new Bt(je.comparator);function Vc(...t){let e=N0;for(const n of t)e=e.insert(n.key,n);return e}function M0(t){let e=N0;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ro(){return Xc()}function L0(){return Xc()}function Xc(){return new qo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const CL=new Bt(je.comparator),RL=new cn(je.comparator);function at(...t){let e=RL;for(const n of t)e=e.add(n);return e}const PL=new cn(ot);function kL(){return PL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function V0(t){return{integerValue:""+t}}function OL(t,e){return sL(e)?V0(e):ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function DL(t,e,n){return t instanceof Cf?(function(s,i){const o={fields:{[_0]:{stringValue:y0},[w0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ig(i)&&(i=uh(i)),i&&(o.fields[v0]=i),{mapValue:o}})(n,e):t instanceof Eu?U0(t,e):t instanceof Tu?$0(t,e):(function(s,i){const o=F0(s,i),a=bv(o)+bv(s.Ae);return Up(o)&&Up(s.Ae)?V0(a):ug(s.serializer,a)})(t,e)}function xL(t,e,n){return t instanceof Eu?U0(t,e):t instanceof Tu?$0(t,e):n}function F0(t,e){return t instanceof Rf?(function(r){return Up(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Cf extends hh{}class Eu extends hh{constructor(e){super(),this.elements=e}}function U0(t,e){const n=j0(e);for(const r of t.elements)n.some((s=>ys(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Tu extends hh{constructor(e){super(),this.elements=e}}function $0(t,e){let n=j0(e);for(const r of t.elements)n=n.filter((s=>!ys(s,r)));return{arrayValue:{values:n}}}class Rf extends hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bv(t){return Yt(t.integerValue||t.doubleValue)}function j0(t){return og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Eu&&s instanceof Eu||r instanceof Tu&&s instanceof Tu?za(r.elements,s.elements,ys):r instanceof Rf&&s instanceof Rf?ys(r.Ae,s.Ae):r instanceof Cf&&s instanceof Cf})(t.transform,e.transform)}class ML{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dh{}function B0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lg(t.key,Tr.none()):new ju(t.key,t.data,Tr.none());{const n=t.data,r=Qn.empty();let s=new cn(bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wi(t.key,r,new or(s.toArray()),Tr.none())}}function LL(t,e,n){t instanceof ju?(function(s,i,o){const a=s.value.clone(),l=Tv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Wi?(function(s,i,o){if(!Ll(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Tv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(q0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Zc(t,e,n,r){return t instanceof ju?(function(i,o,a,l){if(!Ll(i.precondition,o))return a;const f=i.value.clone(),d=Iv(i.fieldTransforms,l,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wi?(function(i,o,a,l){if(!Ll(i.precondition,o))return a;const f=Iv(i.fieldTransforms,l,o),d=o.data;return d.setAll(q0(i)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,o,a){return Ll(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function VL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=F0(r.transform,s||null);i!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,i))}return n||null}function Ev(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&za(r,s,((i,o)=>NL(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends dh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wi extends dh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function q0(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tv(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xL(o,a,n[s]))}return r}function Iv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,DL(i,o,e))}return r}class lg extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FL extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&LL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L0();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=B0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,((n,r)=>Ev(n,r)))&&za(this.baseMutations,e.baseMutations,((n,r)=>Ev(n,r)))}}class fg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return CL})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new fg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function BL(t){switch(t){case ue.OK:return He(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function H0(t){if(t===void 0)return ni("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Zt.OK:return ue.OK;case Zt.CANCELLED:return ue.CANCELLED;case Zt.UNKNOWN:return ue.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ue.INTERNAL;case Zt.UNAVAILABLE:return ue.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ue.NOT_FOUND;case Zt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Zt.ABORTED:return ue.ABORTED;case Zt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Zt.DATA_LOSS:return ue.DATA_LOSS;default:return He(39323,{code:t})}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Di([4294967295,4294967295],0);function Av(t){const e=qL().encode(t),n=new s0;return n.update(e),new Uint8Array(n.digest())}function Sv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Di([n,r],0),new Di([s,i],0)]}class hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fc(`Invalid padding: ${n}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Di.fromNumber(r)));return s.compare(HL)===1&&(s=new Di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Av(e),[r,s]=Sv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new hg(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Av(e),[r,s]=Sv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ph(Qe.min(),s,new Bt(ot),si(),at())}}class Bu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bu(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class K0{constructor(e,n){this.targetId=e,this.Ce=n}}class z0{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cv{constructor(){this.ve=0,this.Fe=Rv(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:i})}})),new Bu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Rv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KL{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=bl(),this.He=bl(),this.Ye=new Bt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(jp(i))if(r===0){const o=new je(i.path);this.et(n,o,On.newNoDocument(o,Qe.min()))}else Et(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof g0)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hg(o,s,i)}catch(l){return Ka(l instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&jp(a.target)){const l=new je(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,On.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=at();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const f=this.ot(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new ph(e,n,this.Ye,this.je,r);return this.je=si(),this.Je=bl(),this.He=bl(),this.Ye=new Bt(ot),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Cv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bl(){return new Bt(je.comparator)}function Rv(){return new Bt(je.comparator)}const zL={asc:"ASCENDING",desc:"DESCENDING"},WL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GL={and:"AND",or:"OR"};class QL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function Pf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YL(t,e){return Pf(t,e.toTimestamp())}function fs(t){return Et(!!t,49232),Qe.fromTimestamp((function(n){const r=Fi(n);return new bt(r.seconds,r.nanos)})(t))}function dg(t,e){return Kp(t,e).canonicalString()}function Kp(t,e){const n=(function(s){return new Pt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function G0(t){const e=Pt.fromString(t);return Et(Z0(e),10190,{key:e.toString()}),e}function zp(t,e){return dg(t.databaseId,e.path)}function vd(t,e){const n=G0(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(Y0(n))}function Q0(t,e){return dg(t.databaseId,e)}function JL(t){const e=G0(t);return e.length===4?Pt.emptyPath():Y0(e)}function Wp(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y0(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Pv(t,e,n){return{name:zp(t,e),fields:n.value.mapValue.fields}}function XL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:He(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(Et(d===void 0||typeof d=="string",58123),En.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),En.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(f){const d=f.code===void 0?ue.UNKNOWN:H0(f.code);return new Oe(d,f.message||"")})(o);n=new z0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vd(t,r.document.name),i=fs(r.document.updateTime),o=r.document.createTime?fs(r.document.createTime):Qe.min(),a=new Qn({mapValue:{fields:r.document.fields}}),l=On.newFoundDocument(s,i,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Vl(f,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vd(t,r.document),i=r.readTime?fs(r.readTime):Qe.min(),o=On.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vd(t,r.document),i=r.removedTargetIds||[];n=new Vl([],i,s,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new jL(s,i),a=r.targetId;n=new K0(a,o)}}return n}function ZL(t,e){let n;if(e instanceof ju)n={update:Pv(t,e.key,e.value)};else if(e instanceof lg)n={delete:zp(t,e.key)};else if(e instanceof Wi)n={update:Pv(t,e.key,e.data),updateMask:cV(e.fieldMask)};else{if(!(e instanceof FL))return He(16599,{Vt:e.type});n={verify:zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw He(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:YL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:He(27497)})(t,e.precondition)),n}function eV(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?fs(s.updateTime):fs(i);return o.isEqual(Qe.min())&&(o=fs(i)),new ML(o,s.transformResults||[])})(n,e)))):[]}function tV(t,e){return{documents:[Q0(t,e.path)]}}function nV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q0(t,s);const i=(function(f){if(f.length!==0)return X0(Kr.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(f){if(f.length!==0)return f.map((d=>(function(y){return{field:va(y.field),direction:iV(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function rV(t){let e=JL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const y=J0(p);return y instanceof Kr&&S0(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(E){return new Sf(wa(E.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let y;return y=typeof p=="object"?p.value:p,ch(y)?null:y})(n.limit));let l=null;n.startAt&&(l=(function(p){const y=!!p.before,v=p.values||[];return new Af(v,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,v=p.values||[];return new Af(v,y)})(n.endAt)),EL(e,s,o,i,a,"F",l,f)}function sV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J0(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wa(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wa(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wa(n.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wa(n.unaryFilter.field);return en.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(wa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Kr.create(n.compositeFilter.filters.map((r=>J0(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function iV(t){return zL[t]}function oV(t){return WL[t]}function aV(t){return GL[t]}function va(t){return{fieldPath:t.canonicalString()}}function wa(t){return bn.fromServerFormat(t.fieldPath)}function X0(t){return t instanceof en?(function(n){if(n.op==="=="){if(gv(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NAN"}};if(mv(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gv(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NAN"}};if(mv(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(n.field),op:oV(n.op),value:n.value}}})(t):t instanceof Kr?(function(n){const r=n.getFilters().map((s=>X0(s)));return r.length===1?r[0]:{compositeFilter:{op:aV(n.op),filters:r}}})(t):He(54877,{filter:t})}function cV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Z0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,i=Qe.min(),o=Qe.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.yt=e}}function lV(t){const e=rV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.Cn=new hV}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Vi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class hV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(Pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eI=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(eI,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",dV=1048576;function Dv([t,e],[n,r]){const s=ot(t,n);return s===0?ot(e,r):s}class pV{constructor(e){this.Ir=e,this.buffer=new cn(Dv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(Ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cc(n)?De(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await ac(n)}await this.Vr(3e5)}))}}class gV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(ah.ce);const r=new pV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(kv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),ya()<=it.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(f-l)+`ms
Total Duration: ${f-d}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function yV(t,e){return new gV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.changes=new qo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Zc(r.mutation,s,or.empty(),bt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const s=Ro();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Vc();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=si();const o=Xc(),a=(function(){return Xc()})();return n.forEach(((l,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Wi)?i=i.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Zc(d.mutation,f,d.mutation.getFieldMask(),bt.now())):o.set(f.key,or.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>a.set(f,new vV(d,o.get(f)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Xc();let s=new Bt(((o,a)=>o-a)),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const f=n.get(l);if(f===null)return;let d=r.get(l)||or.empty();d=a.applyToLocalView(f,d),r.set(l,d);const p=(s.get(a.batchId)||at()).add(l);s=s.insert(a.batchId,p)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,d=l.value,p=L0();d.forEach((y=>{if(!i.has(y)){const v=B0(n.get(y),r.get(y));v!==null&&p.set(y,v),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Ro());let a=_u,l=i;return o.next((f=>le.forEach(f,((d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{l=l.insert(d,y)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,l,f,at()))).next((d=>({batchId:a,changes:M0(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let s=Vc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vc();return this.indexManager.getCollectionParents(e,i).next((a=>le.forEach(a,(l=>{const f=(function(p,y){return new $u(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((d=>{d.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,On.newInvalidDocument(d)))}));let a=Vc();return o.forEach(((l,f)=>{const d=i.get(l);d!==void 0&&Zc(d.mutation,f,or.empty(),bt.now()),fh(n,f)&&(a=a.insert(l,f))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:fs(s.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:lV(s.bundledQuery),readTime:fs(s.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.overlays=new Bt(je.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return le.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Ro(),i=n.length+1,o=new je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=Ro(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=Ro(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((f,d)=>a.set(f,d))),!(a.size()>=s)););return le.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $L(n,r));let i=this.qr.get(n);i===void 0&&(i=at(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Qr=new cn(hn.$r),this.Ur=new cn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new Pt([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Pt([])),r=new hn(n,e),s=new hn(n,e+1);let i=at();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(hn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(ot);return n.forEach((s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;je.isDocumentKey(i)||(i=i.child(""));const o=new hn(new je(i),0);let a=new cn(ot);return this.Zr.forEachWhile((l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(a=a.add(l.Yr)),!0)}),o),le.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),s=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.ri=e,this.docs=(function(){return new Bt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():On.newInvalidDocument(s))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=si();const o=n.path,a=new je(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:d}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||eL(ZM(d),r)<=0||(s.has(d.key)||fh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){He(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new SV(this)}getSize(e){return le.resolve(this.size)}}class SV extends _V{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.persistence=e,this.si=new qo((n=>ag(n)),cg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new pg,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),le.waitFor(i).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new TV,this.referenceDelegate=e(this),this.Pi=new CV(this),this.indexManager=new fV,this.remoteDocumentCache=(function(s){return new AV(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uV(n),this.Ii=new bV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const s=new RV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class RV extends nL{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ri=new pg,this.Vi=null}static mi(e){return new mg(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const s=je.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kf{constructor(e,n){this.persistence=e,this.pi=new qo((r=>iL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=yV(this,n)}static mi(e,n){return new kf(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?le.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,Qe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nl(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vD()?8:rL(xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new PV;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ya()<=it.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(ya()<=it.DEBUG&&De("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ya()<=it.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):le.resolve())}ys(e,n){if(wv(n))return le.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=qp(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=at(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const f=this.Ds(n,a);return this.Cs(n,f,o,l.readTime)?this.ys(e,qp(n,null,"F")):this.vs(e,f,n,l)}))))})))))}ws(e,n,r,s){return wv(n)||s.isEqual(Qe.min())?le.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?le.resolve(null):(ya()<=it.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_a(n)),this.vs(e,o,n,XM(s,_u)).next((a=>a)))}))}Ds(e,n){let r=new cn(x0(e));return n.forEach(((s,i)=>{fh(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ya()<=it.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",_a(n)),this.ps.getDocumentsMatchingQuery(e,n,Vi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",OV=3e8;class DV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Bt(ot),this.xs=new qo((i=>ag(i)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xV(t,e,n,r){return new DV(t,e,n,r)}async function nI(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=at();for(const f of s){o.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}for(const f of i){a.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:a})))}))}))}function NV(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,f,d){const p=f.batch,y=p.keys();let v=le.resolve();return y.forEach((E=>{v=v.next((()=>d.getEntry(l,E))).next((A=>{const L=f.docVersions.get(E);Et(L!==null,48541),A.version.compareTo(L)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),d.addEntry(A)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=at();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function rI(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MV(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((d,p)=>{const y=s.get(p);if(!y)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let v=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(En.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),(function(A,L,H){return A.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=OV?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(y,v,d)&&a.push(n.Pi.updateTargetData(i,v))}));let l=si(),f=at();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),a.push(LV(i,o,e.documentUpdates).next((d=>{l=d.ks,f=d.qs}))),!r.isEqual(Qe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(d)}return le.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,f))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function LV(t,e,n){let r=at(),s=at();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=si();return n.forEach(((a,l)=>{const f=i.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Qe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):De(yg,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function VV(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FV(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,le.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Gp(t,e,n){const r=Ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!cc(o))throw o;De(yg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function xv(t,e,n){const r=Ye(t);let s=Qe.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,f,d){const p=Ye(l),y=p.xs.get(d);return y!==void 0?le.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,d)})(r,o,ls(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Qe.min(),n?i:at()))).next((a=>(UV(r,IL(e),a),{documents:a,Qs:i})))))}function UV(t,e,n){let r=t.Os.get(e)||Qe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Nv{constructor(){this.activeTargetIds=kL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $V{constructor(){this.Mo=new Nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(Mv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(Mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El=null;function Qp(){return El===null?El=(function(){return 268435456+Math.round(2147483648*Math.random())})():El++,"0x"+El.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",BV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Tf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Qp(),a=this.zo(e,n.toUriEncodedString());De(wd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:f}=new URL(a),d=rc(f);return this.Jo(e,a,l,r,d).then((p=>(De(wd,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Ka(wd,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=BV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class KV extends qV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Qp();return new Promise(((a,l)=>{const f=new i0;f.setWithCredentials(!0),f.listenOnce(o0.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case xl.NO_ERROR:const p=f.getResponseJson();De(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case xl.TIMEOUT:De(Sn,`RPC '${e}' ${o} timed out`),l(new Oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case xl.HTTP_ERROR:const y=f.getStatus();if(De(Sn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const A=(function(H){const V=H.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN})(E.status);l(new Oe(A,E.message))}else l(new Oe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Oe(ue.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{De(Sn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(s);De(Sn,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=Qp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u0(),a=c0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");De(Sn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);this.I_(p);let y=!1,v=!1;const E=new HV({Yo:L=>{v?De(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(y||(De(Sn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),y=!0),De(Sn,`RPC '${e}' stream ${s} sending:`,L),p.send(L))},Zo:()=>p.close()}),A=(L,H,V)=>{L.listen(H,(R=>{try{V(R)}catch(x){setTimeout((()=>{throw x}),0)}}))};return A(p,Lc.EventType.OPEN,(()=>{v||(De(Sn,`RPC '${e}' stream ${s} transport opened.`),E.o_())})),A(p,Lc.EventType.CLOSE,(()=>{v||(v=!0,De(Sn,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))})),A(p,Lc.EventType.ERROR,(L=>{v||(v=!0,Ka(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),E.a_(new Oe(ue.UNAVAILABLE,"The operation could not be completed")))})),A(p,Lc.EventType.MESSAGE,(L=>{if(!v){const H=L.data[0];Et(!!H,16349);const V=H,R=V?.error||V[0]?.error;if(R){De(Sn,`RPC '${e}' stream ${s} received error:`,R);const x=R.status;let j=(function(S){const I=Zt[S];if(I!==void 0)return H0(I)})(x),ne=R.message;j===void 0&&(j=ue.INTERNAL,ne="Unknown error status: "+x+" with message "+R.message),v=!0,E.a_(new Oe(j,ne)),p.close()}else De(Sn,`RPC '${e}' stream ${s} received:`,H),E.u_(H)}})),A(a,a0.STAT_EVENT,(L=>{L.stat===Lp.PROXY?De(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Lp.NOPROXY&&De(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new QL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&De("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class iI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Oe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zV extends iI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XL(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Qe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Qe.min():o.readTime?fs(o.readTime):Qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Wp(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=jp(l)?{documents:tV(i,l)}:{query:nV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W0(i,o.resumeToken);const f=Hp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Qe.min())>0){a.readTime=Pf(i,o.snapshotVersion.toTimestamp());const f=Hp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}return a})(this.serializer,e);const r=sV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.q_(n)}}class WV extends iI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eV(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ZL(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{}class QV extends GV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Kp(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ue.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Kp(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class JV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ho(this)&&(De(Uo,"Restarting streams for network reachability change."),await(async function(l){const f=Ye(l);f.Ea.add(4),await qu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await gh(f)})(this))}))})),this.Ra=new YV(r,s)}}async function gh(t){if(Ho(t))for(const e of t.da)await e(!0)}async function qu(t){for(const e of t.da)await e(!1)}function oI(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?wg(n):uc(n).O_()&&vg(n,e))}function _g(t,e){const n=Ye(t),r=uc(n);n.Ia.delete(e),r.O_()&&aI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ho(n)&&n.Ra.set("Unknown"))}function vg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).Y_(e)}function aI(t,e){t.Va.Ue(e),uc(t).Z_(e)}function wg(t){t.Va=new KL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Ra.ua()}function bg(t){return Ho(t)&&!uc(t).x_()&&t.Ia.size>0}function Ho(t){return Ye(t).Ea.size===0}function cI(t){t.Va=void 0}async function XV(t){t.Ra.set("Online")}async function ZV(t){t.Ia.forEach(((e,n)=>{vg(t,e)}))}async function e2(t,e){cI(t),bg(t)?(t.Ra.ha(e),wg(t)):t.Ra.set("Unknown")}async function t2(t,e,n){if(t.Ra.set("Online"),e instanceof z0&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){De(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Of(t,r)}else if(e instanceof Vl?t.Va.Ze(e):e instanceof K0?t.Va.st(e):t.Va.tt(e),!n.isEqual(Qe.min()))try{const r=await rI(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,f)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),aI(i,l);const p=new Ci(d.target,l,f,d.sequenceNumber);vg(i,p)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){De(Uo,"Failed to raise snapshot:",r),await Of(t,r)}}async function Of(t,e,n){if(!cc(e))throw e;t.Ea.add(1),await qu(t),t.Ra.set("Offline"),n||(n=()=>rI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gh(t)}))}function uI(t,e){return e().catch((n=>Of(t,n,e)))}async function yh(t){const e=Ye(t),n=ji(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;n2(e);)try{const s=await VV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,r2(e,s)}catch(s){await Of(e,s)}lI(e)&&fI(e)}function n2(t){return Ho(t)&&t.Ta.length<10}function r2(t,e){t.Ta.push(e);const n=ji(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lI(t){return Ho(t)&&!ji(t).x_()&&t.Ta.length>0}function fI(t){ji(t).start()}async function s2(t){ji(t).ra()}async function i2(t){const e=ji(t);for(const n of t.Ta)e.ea(n.mutations)}async function o2(t,e,n){const r=t.Ta.shift(),s=fg.from(r,e,n);await uI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await yh(t)}async function a2(t,e){e&&ji(t).X_&&await(async function(r,s){if((function(o){return BL(o)&&o!==ue.ABORTED})(s.code)){const i=r.Ta.shift();ji(r).B_(),await uI(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await yh(r)}})(t,e),lI(t)&&fI(t)}async function Fv(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),De(Uo,"RemoteStore received new credentials");const r=Ho(n);n.Ea.add(3),await qu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gh(n)}async function c2(t,e){const n=Ye(t);e?(n.Ea.delete(2),await gh(n)):e||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function uc(t){return t.ma||(t.ma=(function(n,r,s){const i=Ye(n);return i.sa(),new zV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:XV.bind(null,t),t_:ZV.bind(null,t),r_:e2.bind(null,t),H_:t2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),bg(t)?wg(t):t.Ra.set("Unknown")):(await t.ma.stop(),cI(t))}))),t.ma}function ji(t){return t.fa||(t.fa=(function(n,r,s){const i=Ye(n);return i.sa(),new WV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:s2.bind(null,t),r_:a2.bind(null,t),ta:i2.bind(null,t),na:o2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yh(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Eg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(ni("AsyncQueue",`${e}: ${t}`),cc(t))return new Oe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(e){return new Na(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Vc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.ga=new Bt(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ya{constructor(e,n,r,s,i,o,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Ya(e,n,Na.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class l2{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=$v(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new Oe(ue.ABORTED,"Firestore shutting down"))}}function $v(){return new qo((t=>D0(t)),lh)}async function f2(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new u2,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Tg(o,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Ig(n)}async function h2(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d2(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Ig(n)}function p2(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Ig(t){t.Ca.forEach((e=>{e.next()}))}var Yp,jv;(jv=Yp||(Yp={})).Ma="default",jv.Cache="cache";class m2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class dI{constructor(e){this.key=e}}class g2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=x0(e),this.tu=new Na(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Uv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,p)=>{const y=s.get(d),v=fh(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;y&&v?y.data.isEqual(v.data)?E!==A&&(r.track({type:3,doc:v}),L=!0):this.su(y,v)||(r.track({type:2,doc:v}),L=!0,(l&&this.eu(v,l)>0||f&&this.eu(v,f)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),L=!0):y&&!v&&(r.track({type:1,doc:y}),L=!0,(l||f)&&(a=!0)),L&&(v?(o=o.add(v),i=A?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(v,E){const A=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:L})}};return A(v)-A(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,f=l!==this.Za;return this.Za=l,o.length!==0||f?{snapshot:new Ya(this.query,e.tu,i,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class y2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _2{constructor(e){this.key=e,this.hu=!1}}class v2{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new qo((a=>D0(a)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(je.comparator),this.Au=new Map,this.Ru=new pg,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w2(t,e,n=!0){const r=vI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await pI(r,e,n,!0),s}async function b2(t,e){const n=vI(t);await pI(n,e,!0,!1)}async function pI(t,e,n,r){const s=await FV(t.localStore,ls(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await E2(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&oI(t.remoteStore,s),a}async function E2(t,e,n,r,s){t.pu=(p,y,v)=>(async function(A,L,H,V){let R=L.view.ru(H);R.Cs&&(R=await xv(A.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,R))));const x=V&&V.targetChanges.get(L.targetId),j=V&&V.targetMismatches.get(L.targetId)!=null,ne=L.view.applyChanges(R,A.isPrimaryClient,x,j);return qv(A,L.targetId,ne.au),ne.snapshot})(t,p,y,v);const i=await xv(t.localStore,e,!0),o=new g2(e,i.Qs),a=o.ru(i.documents),l=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(a,t.isPrimaryClient,l);qv(t,n,f.au);const d=new y2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function T2(t,e,n){const r=Ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!lh(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_g(r.remoteStore,s.targetId),Jp(r,s.targetId)})).catch(ac)):(Jp(r,s.targetId),await Gp(r.localStore,s.targetId,!0))}async function I2(t,e){const n=Ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_g(n.remoteStore,r.targetId))}async function A2(t,e,n){const r=D2(t);try{const s=await(function(o,a){const l=Ye(o),f=bt.now(),d=a.reduce(((v,E)=>v.add(E.key)),at());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=si(),A=at();return l.Ns.getEntries(v,d).next((L=>{E=L,E.forEach(((H,V)=>{V.isValidDocument()||(A=A.add(H))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,E))).next((L=>{p=L;const H=[];for(const V of a){const R=VL(V,p.get(V.key).overlayedDocument);R!=null&&H.push(new Wi(V.key,R,T0(R.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,f,H,a)})).next((L=>{y=L;const H=L.applyToLocalDocumentSet(p,A);return l.documentOverlayCache.saveOverlays(v,L.batchId,H)}))})).then((()=>({batchId:y.batchId,changes:M0(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let f=o.Vu[o.currentUser.toKey()];f||(f=new Bt(ot)),f=f.insert(a,l),o.Vu[o.currentUser.toKey()]=f})(r,s.batchId,n),await Hu(r,s.changes),await yh(r.remoteStore)}catch(s){const i=Tg(s,"Failed to persist write");n.reject(i)}}async function mI(t,e){const n=Ye(t);try{const r=await MV(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Et(o.hu,14607):s.removedDocuments.size>0&&(Et(o.hu,42227),o.hu=!1))})),await Hu(n,r,e)}catch(r){await ac(r)}}function Bv(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=Ye(o);l.onlineState=a;let f=!1;l.queries.forEach(((d,p)=>{for(const y of p.Sa)y.va(a)&&(f=!0)})),f&&Ig(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S2(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Bt(je.comparator);o=o.insert(i,On.newNoDocument(i,Qe.min()));const a=at().add(i),l=new ph(Qe.min(),new Map,new Bt(ot),o,a);await mI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Sg(r)}else await Gp(r.localStore,e,!1).then((()=>Jp(r,e,n))).catch(ac)}async function C2(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await NV(n.localStore,e);yI(n,r,null),gI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,s)}catch(s){await ac(s)}}async function R2(t,e,n){const r=Ye(t);try{const s=await(function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return l.mutationQueue.lookupMutationBatch(f,a).next((p=>(Et(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(f,p)))).next((()=>l.mutationQueue.performConsistencyCheck(f))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(f,d,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>l.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);yI(r,e,n),gI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,s)}catch(s){await ac(s)}}function gI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yI(t,e,n){const r=Ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Jp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||_I(t,r)}))}function _I(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_g(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Sg(t))}function qv(t,e,n){for(const r of n)r instanceof hI?(t.Ru.addReference(r.key,e),P2(t,r)):r instanceof dI?(De(Ag,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_I(t,r.key)):He(19791,{wu:r})}function P2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(Ag,"New document in limbo: "+n),t.Eu.add(r),Sg(t))}function Sg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new _2(n)),t.du=t.du.insert(n,r),oI(t.remoteStore,new Ci(ls(k0(n.path)),r,"TargetPurposeLimboResolution",ah.ce))}}async function Hu(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(f){s.push(f);const d=gg.As(l.targetId,f);i.push(d)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,f){const d=Ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(y=>le.forEach(y.Es,(v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>le.forEach(y.ds,(v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!cc(p))throw p;De(yg,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const v=d.Ms.get(y),E=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(y,A)}}})(r.localStore,i))}async function k2(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){De(Ag,"User change. New user:",e.toKey());const r=await nI(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new Oe(ue.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.Ls)}}function O2(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let s=at();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function vI(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S2.bind(null,e),e.Pu.H_=d2.bind(null,e.eventManager),e.Pu.yu=p2.bind(null,e.eventManager),e}function D2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,e),e}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xV(this.persistence,new kV,e.initialUser,this.serializer)}Cu(e){return new tI(mg.mi,this.serializer)}Du(e){return new $V}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class x2 extends Df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new tI((r=>kf.mi(r,n)),this.serializer)}}class Xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new l2})()}createDatastore(e){const n=mh(e.databaseInfo.databaseId),r=(function(i){return new KV(i)})(e.databaseInfo);return(function(i,o,a,l){return new QV(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new JV(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bv(this.syncEngine,n,0)),(function(){return Lv.v()?new Lv:new jV})())}createSyncEngine(e,n){return(function(s,i,o,a,l,f,d){const p=new v2(s,i,o,a,l,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);De(Uo,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class M2{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{De(Bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(De(Bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ed(t,e){t.asyncQueue.verifyOperationInProgress(),De(Bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await nI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L2(t);De(Bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Fv(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Fv(e.remoteStore,s))),t._onlineComponents=e}async function L2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Bi,"Using user provided OfflineComponentProvider");try{await Ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Ed(t,new Df)}}else De(Bi,"Using default OfflineComponentProvider"),await Ed(t,new x2(void 0));return t._offlineComponents}async function wI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Bi,"Using user provided OnlineComponentProvider"),await Hv(t,t._uninitializedComponentsProvider._online)):(De(Bi,"Using default OnlineComponentProvider"),await Hv(t,new Xp))),t._onlineComponents}function V2(t){return wI(t).then((e=>e.syncEngine))}async function F2(t){const e=await wI(t),n=e.eventManager;return n.onListen=w2.bind(null,e.syncEngine),n.onUnlisten=T2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),n}function U2(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,f){const d=new N2({next:y=>{d.Nu(),o.enqueueAndForget((()=>h2(i,p))),y.fromCache&&l.source==="server"?f.reject(new Oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new m2(a,d,{includeMetadataChanges:!0,qa:!0});return f2(i,p)})(await F2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firestore.googleapis.com",zv=!0;class Wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EI,this.ssl=zv}else this.host=e.host,this.ssl=e.ssl??zv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dV)throw new Oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jM;switch(r.type){case"firstParty":return new KM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Kv.get(n);r&&(De("ComponentProvider","Removing Datastore"),Kv.delete(n),r.terminate())})(this),Promise.resolve()}}function $2(t,e,n,r={}){t=ri(t,_h);const s=rc(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(vT(`https://${a}`),wT("Firestore",!0)),i.host!==EI&&i.host!==a&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Li(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Rn.MOCK_USER;else{f=fD(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Oe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rn(p)}t._authCredentials=new BM(new f0(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uu(n,nn._jsonSchema))return new nn(e,r||null,new je(Pt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class Ni extends lc{constructor(e,n,r){super(e,n,k0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new je(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function j2(t,e,...n){if(t=jt(t),h0("collection","path",e),t instanceof _h){const r=Pt.fromString(e,...n);return ov(r),new Ni(t,null,r)}{if(!(t instanceof nn||t instanceof Ni))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return ov(r),new Ni(t.firestore,null,r)}}function TI(t,e,...n){if(t=jt(t),arguments.length===1&&(e=rg.newId()),h0("doc","path",e),t instanceof _h){const r=Pt.fromString(e,...n);return iv(r),new nn(t,null,new je(r))}{if(!(t instanceof nn||t instanceof Ni))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return iv(r),new nn(t.firestore,t instanceof Ni?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sI(this,"async_queue_retry"),this._c=()=>{const r=bd();r&&De(Gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cc(e))throw e;De(Gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",Yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Eg.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fc extends _h{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Qv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function B2(t,e){const n=typeof t=="object"?t:Mu(),r=typeof t=="string"?t:Tf,s=Ki(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=uD("firestore");i&&$2(s,...i)}return s}function II(t){if(t._terminated)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q2(t),t._firestoreClient}function q2(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new cL(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,bI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new M2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(En.fromBase64String(e))}catch(n){throw new Oe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:tn("string",wr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:tn("string",hs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new Oe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:tn("string",ds._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class K2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class AI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class Rg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SI(this.Ac)&&H2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mh(e)}Cc(e,n,r,s=!1){return new Rg({Ac:e,methodName:n,Dc:r,path:bn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new z2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Pg("Data must be an object, but it was:",o,r);const a=RI(r,o);let l,f;if(i.merge)l=new or(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const y=Zp(e,p,n);if(!o.contains(y))throw new Oe(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);kI(d,y)||d.push(y)}l=new or(d),f=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,f=o.fieldTransforms;return new K2(new Qn(a),l,f)}class bh extends Cg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function W2(t,e,n,r){const s=t.Cc(1,e,n);Pg("Data must be an object, but it was:",s,r);const i=[],o=Qn.empty();zi(r,((l,f)=>{const d=kg(e,l,n);f=jt(f);const p=s.yc(d);if(f instanceof bh)i.push(d);else{const y=Ku(f,p);y!=null&&(i.push(d),o.set(d,y))}}));const a=new or(i);return new AI(o,a,s.fieldTransforms)}function G2(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Zp(e,r,n)],l=[s];if(i.length%2!=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)a.push(Zp(e,i[y])),l.push(i[y+1]);const f=[],d=Qn.empty();for(let y=a.length-1;y>=0;--y)if(!kI(f,a[y])){const v=a[y];let E=l[y];E=jt(E);const A=o.yc(v);if(E instanceof bh)f.push(v);else{const L=Ku(E,A);L!=null&&(f.push(v),d.set(v,L))}}const p=new or(f);return new AI(d,p,o.fieldTransforms)}function Q2(t,e,n,r=!1){return Ku(n,t.Cc(r?4:3,e))}function Ku(t,e){if(PI(t=jt(t)))return Pg("Unsupported field value:",e,t),RI(t,e);if(t instanceof Cg)return(function(r,s){if(!SI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=Ku(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:Pf(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pf(s.serializer,i)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:W0(s.serializer,r._byteString)};if(r instanceof nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ds)return(function(o,a){return{mapValue:{fields:{[b0]:{stringValue:E0},[If]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw a.Sc("VectorValues must only contain numeric values.");return ug(a.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${oh(r)}`)})(t,e)}function RI(t,e){const n={};return m0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,((r,s)=>{const i=Ku(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function PI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof hs||t instanceof wr||t instanceof nn||t instanceof Cg||t instanceof ds)}function Pg(t,e,n){if(!PI(n)||!d0(n)){const r=oh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Zp(t,e,n){if((e=jt(e))instanceof vh)return e._internalPath;if(typeof e=="string")return kg(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y2=new RegExp("[~\\*/\\[\\]]");function kg(t,e,n){if(e.search(Y2)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vh(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Oe(ue.INVALID_ARGUMENT,a+t+l)}function kI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J2 extends OI{data(){return super.data()}}function Og(t,e){return typeof e=="string"?kg(t,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class Z2 extends Dg{}function Cj(t,e,...n){let r=[];e instanceof Dg&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof xg)).length,a=i.filter((l=>l instanceof Eh)).length;if(o>1||o>0&&a>0)throw new Oe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Eh extends Z2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Eh(e,n,r)}_apply(e){const n=this._parse(e);return DI(e._query,n),new lc(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=wh(e.firestore);return(function(i,o,a,l,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Xv(p,d);const E=[];for(const A of p)E.push(Jv(l,i,A));y={arrayValue:{values:E}}}else y=Jv(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Xv(p,d),y=Q2(a,o,p,d==="in"||d==="not-in");return en.create(f,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rj(t,e,n){const r=e,s=Og("where",t);return Eh._create(s,r,n)}class xg extends Dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DI(o,l),o=Bp(o,l)})(e._query,n),new lc(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jv(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&n.indexOf("/")!==-1)throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!je.isDocumentKey(r))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pv(t,new je(r))}if(n instanceof nn)return pv(t,n._key);throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function Xv(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eF{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[If].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new ds(n)}convertGeoPoint(e){return new hs(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);Et(Z0(r),9688,{name:e});const s=new wu(r.get(1),r.get(3)),i=new je(r.popFirst(5));return s.isEqual(n)||ni(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends OI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:tn("string",Ma._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Fl extends Ma{data(e={}){return super.data(e)}}class La{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fl(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Fl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Tl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Fl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Tl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tF(a.type),doc:l,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:tn("string",La._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class nF extends eF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Pj(t){t=ri(t,lc);const e=ri(t.firestore,fc),n=II(e),r=new nF(e);return X2(t._query),U2(n,t._query).then((s=>new La(e,r,t,s)))}function rF(t,e,n){t=ri(t,nn);const r=ri(t.firestore,fc),s=xI(t.converter,e,n);return Th(r,[CI(wh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function kj(t,e,n,...r){t=ri(t,nn);const s=ri(t.firestore,fc),i=wh(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof vh?G2(i,"updateDoc",t._key,e,n,r):W2(i,"updateDoc",t._key,e),Th(s,[o.toMutation(t._key,Tr.exists(!0))])}function Oj(t){return Th(ri(t.firestore,fc),[new lg(t._key,Tr.none())])}function Dj(t,e){const n=ri(t.firestore,fc),r=TI(t),s=xI(t.converter,e);return Th(n,[CI(wh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function Th(t,e){return(function(r,s){const i=new xi;return r.asyncQueue.enqueueAndForget((async()=>A2(await V2(r),s,i))),i.promise})(II(t),e)}(function(e,n=!0){(function(s){oc=s})(sc),Ar(new ur("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fc(new qM(r.getProvider("auth-internal")),new zM(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(f.options.projectId,d)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Jn(tv,nv,e),Jn(tv,nv,"esm2020")})();const NI="@firebase/installations",Ng="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e4,LI=`w:${Ng}`,VI="FIS_v2",sF="https://firebaseinstallations.googleapis.com/v1",iF=3600*1e3,oF="installations",aF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$o=new Hi(oF,aF,cF);function FI(t){return t instanceof zr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI({projectId:t}){return`${sF}/projects/${t}/installations`}function $I(t){return{token:t.token,requestStatus:2,expiresIn:lF(t.expiresIn),creationTime:Date.now()}}async function jI(t,e){const r=(await e.json()).error;return $o.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uF(t,{refreshToken:e}){const n=BI(t);return n.append("Authorization",fF(e)),n}async function qI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function lF(t){return Number(t.replace("s","000"))}function fF(t){return`${VI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UI(t),s=BI(t),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={fid:n,authVersion:VI,appId:t.appId,sdkVersion:LI},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qI(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:$I(f.authToken)}}else throw await jI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/^[cdef][\w-]{21}$/,em="";function mF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gF(t);return pF.test(n)?n:em}catch{return em}}function gF(t){return dF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Map;function zI(t,e){const n=Ih(t);WI(n,e),yF(n,e)}function WI(t,e){const n=KI.get(t);if(n)for(const r of n)r(e)}function yF(t,e){const n=_F();n&&n.postMessage({key:t,fid:e}),vF()}let Po=null;function _F(){return!Po&&"BroadcastChannel"in self&&(Po=new BroadcastChannel("[Firebase] FID Change"),Po.onmessage=t=>{WI(t.data.key,t.data.fid)}),Po}function vF(){KI.size===0&&Po&&(Po.close(),Po=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="firebase-installations-database",bF=1,jo="firebase-installations-store";let Td=null;function Mg(){return Td||(Td=nh(wF,bF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jo)}}})),Td}async function Nf(t,e){const n=Ih(t),s=(await Mg()).transaction(jo,"readwrite"),i=s.objectStore(jo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&zI(t,e.fid),e}async function GI(t){const e=Ih(t),r=(await Mg()).transaction(jo,"readwrite");await r.objectStore(jo).delete(e),await r.done}async function Ah(t,e){const n=Ih(t),s=(await Mg()).transaction(jo,"readwrite"),i=s.objectStore(jo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&zI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(t){let e;const n=await Ah(t.appConfig,r=>{const s=EF(r),i=TF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===em?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function EF(t){const e=t||{fid:mF(),registrationStatus:0};return QI(e)}function TF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject($o.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AF(t)}:{installationEntry:e}}async function IF(t,e){try{const n=await hF(t,e);return Nf(t.appConfig,n)}catch(n){throw FI(n)&&n.customData.serverCode===409?await GI(t.appConfig):await Nf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AF(t){let e=await Zv(t.appConfig);for(;e.registrationStatus===1;)await HI(100),e=await Zv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lg(t);return r||n}return e}function Zv(t){return Ah(t,e=>{if(!e)throw $o.create("installation-not-found");return QI(e)})}function QI(t){return SF(t)?{fid:t.fid,registrationStatus:0}:t}function SF(t){return t.registrationStatus===1&&t.registrationTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF({appConfig:t,heartbeatServiceProvider:e},n){const r=RF(t,n),s=uF(t,n),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={installation:{sdkVersion:LI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await qI(()=>fetch(r,a));if(l.ok){const f=await l.json();return $I(f)}else throw await jI("Generate Auth Token",l)}function RF(t,{fid:e}){return`${UI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t,e=!1){let n;const r=await Ah(t.appConfig,i=>{if(!YI(i))throw $o.create("not-registered");const o=i.authToken;if(!e&&OF(o))return i;if(o.requestStatus===1)return n=PF(t,e),i;{if(!navigator.onLine)throw $o.create("app-offline");const a=xF(i);return n=kF(t,a),a}});return n?await n:r.authToken}async function PF(t,e){let n=await ew(t.appConfig);for(;n.authToken.requestStatus===1;)await HI(100),n=await ew(t.appConfig);const r=n.authToken;return r.requestStatus===0?Vg(t,e):r}function ew(t){return Ah(t,e=>{if(!YI(e))throw $o.create("not-registered");const n=e.authToken;return NF(n)?{...e,authToken:{requestStatus:0}}:e})}async function kF(t,e){try{const n=await CF(t,e),r={...e,authToken:n};return await Nf(t.appConfig,r),n}catch(n){if(FI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Nf(t.appConfig,r)}throw n}}function YI(t){return t!==void 0&&t.registrationStatus===2}function OF(t){return t.requestStatus===2&&!DF(t)}function DF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iF}function xF(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function NF(t){return t.requestStatus===1&&t.requestTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Lg(e);return r?r.catch(console.error):Vg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e=!1){const n=t;return await VF(n),(await Vg(n,e)).token}async function VF(t){const{registrationPromise:e}=await Lg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){if(!t||!t.options)throw Id("App Configuration");if(!t.name)throw Id("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Id(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Id(t){return $o.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="installations",UF="installations-internal",$F=t=>{const e=t.getProvider("app").getImmediate(),n=FF(e),r=Ki(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jF=t=>{const e=t.getProvider("app").getImmediate(),n=Ki(e,JI).getImmediate();return{getId:()=>MF(n),getToken:s=>LF(n,s)}};function BF(){Ar(new ur(JI,$F,"PUBLIC")),Ar(new ur(UF,jF,"PRIVATE"))}BF();Jn(NI,Ng);Jn(NI,Ng,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="/firebase-messaging-sw.js",HF="/firebase-cloud-messaging-push-scope",XI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",KF="https://fcmregistrations.googleapis.com/v1",ZI="google.c.a.c_id",zF="google.c.a.c_l",WF="google.c.a.ts",GF="google.c.a.e",tw=1e4;var nw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(nw||(nw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Iu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Iu||(Iu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function QF(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="fcm_token_details_db",YF=5,rw="fcm_token_object_Store";async function JF(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Ad))return null;let e=null;return(await nh(Ad,YF,{upgrade:async(r,s,i,o)=>{if(s<2||!r.objectStoreNames.contains(rw))return;const a=o.objectStore(rw),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(s===2){const f=l;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Fs(f.vapidKey)}}}else if(s===3){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fs(f.auth),p256dh:Fs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fs(f.vapidKey)}}}else if(s===4){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fs(f.auth),p256dh:Fs(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fs(f.vapidKey)}}}}}})).close(),await dd(Ad),await dd("fcm_vapid_details_db"),await dd("undefined"),XF(e)?e:null}function XF(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="firebase-messaging-database",e4=1,Au="firebase-messaging-store";let Sd=null;function eA(){return Sd||(Sd=nh(ZF,e4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Au)}}})),Sd}async function t4(t){const e=tA(t),r=await(await eA()).transaction(Au).objectStore(Au).get(e);if(r)return r;{const s=await JF(t.appConfig.senderId);if(s)return await Fg(t,s),s}}async function Fg(t,e){const n=tA(t),s=(await eA()).transaction(Au,"readwrite");return await s.objectStore(Au).put(e,n),await s.done,e}function tA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dn=new Hi("messaging","Messaging",n4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){const n=await $g(t),r=nA(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(Ug(t.appConfig),s)).json()}catch(o){throw Dn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-subscribe-no-token");return i.token}async function s4(t,e){const n=await $g(t),r=nA(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${Ug(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Dn.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-update-no-token");return i.token}async function i4(t,e){const r={method:"DELETE",headers:await $g(t)};try{const i=await(await fetch(`${Ug(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw Dn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Dn.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function Ug({projectId:t}){return`${KF}/projects/${t}/registrations`}async function $g({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function nA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==XI&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=10080*60*1e3;async function a4(t){const e=await u4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Fs(e.getKey("auth")),p256dh:Fs(e.getKey("p256dh"))},r=await t4(t.firebaseDependencies);if(r){if(l4(r.subscriptionOptions,n))return Date.now()>=r.createTime+o4?c4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await i4(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return sw(t.firebaseDependencies,n)}else return sw(t.firebaseDependencies,n)}async function c4(t,e){try{const n=await s4(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await Fg(t.firebaseDependencies,r),n}catch(n){throw n}}async function sw(t,e){const r={token:await r4(t,e),createTime:Date.now(),subscriptionOptions:e};return await Fg(t,r),r.token}async function u4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QF(e)})}function l4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return f4(e,t),h4(e,t),d4(e,t),e}function f4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function h4(t,e){e.data&&(t.data=e.data)}function d4(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){return typeof t=="object"&&!!t&&ZI in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){if(!t||!t.options)throw Cd("App Configuration Object");if(!t.name)throw Cd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Cd(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Cd(t){return Dn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=m4(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t){try{t.swRegistration=await navigator.serviceWorker.register(qF,{scope:HF}),t.swRegistration.update().catch(()=>{}),await _4(t.swRegistration)}catch(e){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function _4(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${tw} ms`)),tw),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){if(!e&&!t.swRegistration&&await y4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=XI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(t,e){if(!navigator)throw Dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Dn.create("permission-blocked");return await w4(t,e?.vapidKey),await v4(t,e?.serviceWorkerRegistration),a4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e,n){const r=E4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ZI],message_name:n[zF],message_time:n[WF],message_device_time:Math.floor(Date.now()/1e3)})}function E4(t){switch(t){case Iu.NOTIFICATION_CLICKED:return"notification_open";case Iu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Iu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(iw(n)):t.onMessageHandler.next(iw(n)));const r=n.data;p4(r)&&r[GF]==="1"&&await b4(t,n.messageType,r)}const ow="@firebase/messaging",aw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=t=>{const e=new g4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>T4(e,n)),e},A4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>rA(e,r)}};function S4(){Ar(new ur("messaging",I4,"PUBLIC")),Ar(new ur("messaging-internal",A4,"PRIVATE")),Jn(ow,aw),Jn(ow,aw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(){try{await Hm()}catch{return!1}return typeof window<"u"&&qm()&&ET()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){if(!navigator)throw Dn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t=Mu()){return C4().then(e=>{if(!e)throw Dn.create("unsupported-browser")},e=>{throw Dn.create("indexed-db-unsupported")}),Ki(jt(t),"messaging").getImmediate()}async function k4(t,e){return t=jt(t),rA(t,e)}function O4(t,e){return t=jt(t),R4(t,e)}S4();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="analytics",D4="firebase_id",x4="origin",N4=60*1e3,M4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new th("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ar=new Hi("analytics","Analytics",L4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){if(!t.startsWith(jg)){const e=ar.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function sA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function F4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function U4(t,e){const n=F4("firebase-js-sdk-policy",{createScriptURL:V4}),r=document.createElement("script"),s=`${jg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function $4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function j4(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await sA(n)).find(f=>f.measurementId===s);l&&await e[l.appId]}}catch(a){Xn.error(a)}t("config",s,i)}async function B4(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await sA(n);for(const l of o){const f=a.find(p=>p.measurementId===l),d=f&&e[f.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Xn.error(i)}}function q4(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await B4(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await j4(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,f]=o;t("get",a,l,f)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Xn.error(a)}}return s}function H4(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=q4(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function K4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=30,W4=1e3;class G4{constructor(e={},n=W4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iA=new G4;function Q4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Y4(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Q4(n)},s=M4.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();a.error?.message&&(o=a.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function J4(t,e=iA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ar.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ar.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eU;return setTimeout(async()=>{a.abort()},N4),oA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function oA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=iA){const{appId:i,measurementId:o}=t;try{await X4(r,e)}catch(a){if(o)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:i,measurementId:o};throw a}try{const a=await Y4(t);return s.deleteThrottleMetadata(i),a}catch(a){const l=a;if(!Z4(l)){if(s.deleteThrottleMetadata(i),o)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw a}const f=Number(l?.customData?.httpStatus)===503?R_(n,s.intervalMillis,z4):R_(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,d),Xn.debug(`Calling attemptFetch again in ${f} millis`),oA(t,d,r,s)}}function X4(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z4(t){if(!(t instanceof zr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(){if(qm())try{await Hm()}catch(t){return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rU(t,e,n,r,s,i,o){const a=J4(t);a.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Xn.error(y)),e.push(a);const l=nU().then(y=>{if(y)return r.getId()}),[f,d]=await Promise.all([a,l]);K4(i)||U4(i,f.measurementId),s("js",new Date);const p=o?.config??{};return p[x4]="firebase",p.update=!0,d!=null&&(p[D4]=d),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.app=e}_delete(){return delete eu[this.app.options.appId],Promise.resolve()}}let eu={},cw=[];const uw={};let Rd="dataLayer",iU="gtag",lw,aA,fw=!1;function oU(){const t=[];if(bT()&&t.push("This is a browser extension environment."),ET()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ar.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function aU(t,e,n){oU();const r=t.options.appId;if(!r)throw ar.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ar.create("no-api-key");if(eu[r]!=null)throw ar.create("already-exists",{id:r});if(!fw){$4(Rd);const{wrappedGtag:i,gtagCore:o}=H4(eu,cw,uw,Rd,iU);aA=i,lw=o,fw=!0}return eu[r]=rU(t,cw,uw,e,lw,Rd,n),new sU(t)}function cU(t=Mu()){t=jt(t);const e=Ki(t,Mf);return e.isInitialized()?e.getImmediate():uU(t)}function uU(t,e={}){const n=Ki(t,Mf);if(n.isInitialized()){const s=n.getImmediate();if(Li(e,n.getOptions()))return s;throw ar.create("already-initialized")}return n.initialize({options:e})}function lU(t,e,n,r){t=jt(t),tU(aA,eu[t.app.options.appId],e,n,r).catch(s=>Xn.error(s))}const hw="@firebase/analytics",dw="0.10.18";function fU(){Ar(new ur(Mf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aU(r,s,n)},"PUBLIC")),Ar(new ur("analytics-internal",t,"PRIVATE")),Jn(hw,dw),Jn(hw,dw,"esm2020");function t(e){try{const n=e.getProvider(Mf).getImmediate();return{logEvent:(r,s,i)=>lU(n,r,s,i)}}catch(n){throw ar.create("interop-component-reg-failed",{reason:n})}}}fU();const cA=xu("settingsApp",{state:()=>({theme:"light",language:"pt-BR",user:null,location:{city:null,state:null,lat:null,log:null,confirmed:!1},notifications:{status:"loading",fcmToken:null},install:{canInstall:!1,deferredPrompt:null}}),getters:{pendingConfigsCount(t){let e=0;return t.notifications.status!=="granted"&&e++,t.install.canInstall&&e++,t.user===null&&e++,e}},actions:{async init(){"Notification"in window&&navigator.permissions&&navigator.permissions.query&&(this.notifications.status=Notification.permission,navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{console.log("[settings.js] Permisso de notificao alterada:",t.state),this.notifications.status=t.state}})),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.install.deferredPrompt=t,this.install.canInstall=!0})},userChanged(t){this.user=t},sendMessage(t){console.log("[Settings Messaging] Mensagem recebida:",t),t.notification&&"Notification"in window&&Notification.permission==="granted"&&new Notification(t.notification.title,{body:t.notification.body,icon:t.notification.icon||"/favicon.ico"})}},persist:{key:"settings-app",storage:localStorage,paths:["location","language","theme","user"]}}),hU=pn(async()=>{let t,e;const n={apiKey:"AIzaSyDjh-kSamZSSOA1pEwMuCB1HZxiZBgCaVE",authDomain:"agenda-408113.firebaseapp.com",projectId:"agenda-408113",storageBucket:"agenda-408113.appspot.com",messagingSenderId:"865568496873",appId:"1:865568496873:web:66e24b202af5ba7f1b6478",measurementId:"G-KDP8RZ0Z19"},r="BJt_lJHggy9DmtbU64-umpjs4jgfSZgBG21yBlXHM_rh-71-SAT27MuiWFwuNTivWIwQAHzo-CTYL3xBaCi01Rc",s=Dp(n),i=cA(),o=UM(s),a=Ft(null);let l=null;try{[t,e]=cs(()=>SN(o,GT)),await t,e()}catch(E){console.error("Erro ao configurar a persistncia de sesso:",E)}const f=B2(s),d=j2(f,"events"),p=async E=>{try{const A=TI(f,"users",E.uid);await rF(A,E,{merge:!0})}catch(A){console.error("Erro ao atualizar perfil do usurio no Firestore:",A)}};PN(o,async E=>{if(E){a.value=E;const A={uid:E.uid,displayName:E.displayName,email:E.email,photoURL:E.photoURL,lastLogin:bt.now(),emailVerified:E.emailVerified||!1,createdAt:E.metadata?.creationTime?bt.fromDate(new Date(E.metadata.creationTime)):bt.now(),lastLoginAt:E.metadata?.lastSignInTime?bt.fromDate(new Date(E.metadata.lastSignInTime)):bt.now(),phoneNumber:E.phoneNumber||null,...i.location};i.userChanged(A),p(A)}});const y=async()=>{try{return await GN(o,new Bs),window.location.reload(),!0}catch(E){console.error("Erro ao fazer login com Google:",E)}},v=async()=>{try{return await o.signOut(),console.warn("Usurio desconectado:",i.user.uid),i.user.uid=null,i.userChanged(a.value),!0}catch(E){console.error("Erro durante o logout:",E)}};if("Notification"in window&&"serviceWorker"in navigator&&Notification.permission==="granted")try{const E=([t,e]=cs(()=>navigator.serviceWorker.getRegistration()),t=await t,e(),t);if(!E){console.warn("[Firebase Messaging] Nenhum Service Worker registrado.");return}const A=Rx().length?Mu():Dp(n);l=P4(A),cU(A),i.notifications.fcmToken=([t,e]=cs(()=>k4(l,{vapidKey:r,serviceWorkerRegistration:E})),t=await t,e(),t),O4(l,i.sendMessage)}catch(E){console.error("[Firebase Messaging] Erro ao inicializar:",E)}else console.log("[Firebase Messaging] Ambiente ou permisso inadequada!");return{provide:{session:{firebaseAuth:o,firebaseDb:f,eventsCollection:d,currentUser:a,loginWithGoogle:y,logoutWithGoogle:v},notifications:{fcmToken:i.notifications.fcmToken,messaging:l}}}});function pw(t,e="operao"){if(t?.error){console.error(`Erro ao ${e}:`,t.error);const n=t.error.code;throw n===401?(console.error("Token invlido ou expirado."),new Error("Token invlido ou expirado.")):n===403?(console.error("Acesso negado ao calendrio."),new Error("Acesso negado ao calendrio.")):n===404?(console.error("Calendrio no encontrado."),new Error("Calendrio no encontrado.")):n===500?(console.error("Erro interno do servidor."),new Error("Erro interno do servidor.")):new Error(t.error.message)}}function dU(){const t=new Date,e=new Date;return e.setDate(t.getDate()+70),{today:t.toISOString().split("T")[0],future:e.toISOString().split("T")[0]}}function mw(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())}function pU(t){return t.startsWith("start")||t.startsWith("end")||t.startsWith("calendarIDs")}function ha(t){return(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function mU(t,e){let n=Array.isArray(t)?t:[];const{search:r,title:s,locale:i,date:o}=e;if(r){const a=ha(r),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""} ${f.location||""} ${f.description||""}`,p=ha(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(s){const a=ha(s),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""}`,p=ha(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(i){const a=ha(i),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.location||""}`,p=ha(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}return o&&(n=n.filter(a=>{const l=a.start?.date||(a.start?.dateTime?a.start.dateTime.split("T")[0]:void 0);return o.startsWith(l)})),n??[]}function gU(t){try{const e=["br","p","b","strong","i","em"];let n=t.replace(/[\n\r]/g,"<br />");return n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(r,s)=>e.includes(s.toLowerCase())?r:""),n=n.replace(/<([a-z][a-z0-9]*)\b[^>]*>/gi,"<$1>"),n=n.replace(/&nbsp;/g," "),n=n.replace(/\u00A0/g," "),n}catch{return""}}function xj(t){try{return[[/(ES)\b/g,"O"],[/(ES)\b/g,"O"],[/(AIS)\b/g,"AL"],[/(EIS)\b/g,"EL"],[/(IS)\b/g,"IL"],[/(US)\b/g,"U"],[/(OS)\b/g,"O"],[/(AS)\b/g,"A"],[/(ES)\b/g,"E"],[/(S)\b/g,""]].reduce((n,[r,s])=>n.replace(r,s),t)}catch{return""}}const{today:yU,future:_U}=dU(),vU=xu("agenda",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],events:[],filters:{calendarIDs:[],title:"",locale:"",search:"",date:"",start:yU,end:_U}}),persist:{paths:["calendars","titles","locales","desc","events","filters"]},getters:{eventsLocales(t){const e=new Set;return t.events.forEach(n=>{n.location&&typeof n.location=="string"&&n.location.trim()&&e.add(n.location.trim())}),Array.from(e).sort((n,r)=>n.localeCompare(r,"pt-BR"))},eventsFiltered(t){return mU(t.events,t.filters)}},actions:{setLoading(t){this.loading=t},async awaitGapi(){for(let t=0;t<30;t++){if(window&&window?.gapi?.client?.calendar)return;await new Promise(e=>setTimeout(e,200))}throw new Error("Google Calendar API no carregou aps 30 tentativas.")},async fetchGoogleCalendars(){this.setLoading(!0);try{await this.awaitGapi();const{result:t}=await window.gapi.client.calendar.calendarList.list();return pw(t,"buscar calendrios"),this.calendars=(t.items||[]).map(e=>{let n=e.description||"";return n=n.replace(/<(?!\/?(b|br|p|u|i|em)\b)[^>]*>/gi,"").replace(/<(b|br|p|u|i|em)\s+[^>]*>/gi,"<$1>"),{...e,description:gU(n)}}),this.calendars}finally{this.setLoading(!1)}},async fetchGoogleEvents(t=null,e={}){this.setLoading(!0);try{if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const n=[];let r;const s=t||this.filters.calendarIDs;for(const i of s)do{const o={calendarId:i,timeMin:e.timeMin||this.filters.start+"T00:00:00Z",timeMax:e.timeMax||this.filters.end+"T23:59:59Z",showDeleted:!1,singleEvents:!0,maxResults:e.maxResults||1e4,orderBy:"startTime",...r&&{pageToken:r}},{result:a}=await window.gapi.client.calendar.events.list(o);pw(a,"buscar eventos"),a?.items?.length&&n.push(...a.items.map(l=>({calendarId:i,...l}))),r=a.nextPageToken}while(r);return JSON.stringify(this.events)!==JSON.stringify(n)&&(this.events=n),n}finally{this.setLoading(!1)}},async createGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:n}=await window.gapi.client.calendar.events.insert({calendarId:t,resource:e});return n&&!this.events.some(r=>r.id===n.id)&&this.events.unshift({calendarId:t,...n}),n},async updateGoogleEvent(t,e,n){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:r}=await window.gapi.client.calendar.events.update({calendarId:t,eventId:e,resource:n});if(r){const s=this.events.findIndex(i=>i.id===e);s!==-1&&JSON.stringify(this.events[s])!==JSON.stringify(r)&&(this.events[s]={calendarId:t,...r})}return r},async deleteGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");await window.gapi.client.calendar.events.delete({calendarId:t,eventId:e});const n=this.events.findIndex(r=>r.id===e);n!==-1&&this.events.splice(n,1)},async handleFilterChange(t){this.setLoading(!0);try{const{start:e,end:n}=t.filters;if(!mw(e)||!mw(n))throw t.events=[],new Error("Datas invlidas. Use o formato yyyy-mm-dd.");if(e>n)throw t.events=[],new Error("A data inicial deve ser menor ou igual  data final.");await this.fetchGoogleCalendars(),await this.fetchGoogleEvents()}finally{this.setLoading(!1)}},init(){this.$subscribe(async(t,e)=>{console.log("Mutation na agenda:",t);try{t.storeId==="agenda"&&t?.events?.key&&pU(t.events.key)&&await this.handleFilterChange(e)}catch(n){console.log("Erro ao iniciar o monitor de mudanas na agenda:",n)}},{detached:!0})}}}),wU=globalThis.setInterval;async function bU(t){const e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():null}const EU=xu("auth",{state:()=>({user:{name:"",email:"",picture:"",token:"",expires_in:0,expires_at:Date.now(),rawUserInfo:{},expires_countdown:0}}),actions:{client:null,tokenClient:null,configs:{},setUserFromToken(t){this.$patch(e=>{e.user.name=t.name||"",e.user.email=t.email||"",e.user.picture=t.picture||"",e.user.token=t.access_token||"",e.user.expires_in=t.expires_in||0,e.user.expires_at=Date.now()+(t.expires_in?t.expires_in*1e3:0),e.user.rawUserInfo=t.rawUserInfo||{}}),this.startCountdown()},clearToken(){this.user.token&&(this.user.token="")},clearUser(){this.$patch(t=>{t.user.token="",t.user.expires_in=0,t.user.expires_at=Date.now(),t.user.rawUserInfo={},t.user.expires_countdown=0}),this.stopCountdown()},startCountdown(){this.user&&this.user.token&&this.user.expires_at>Date.now()?(this.stopCountdown(),this.updateCountdown(),this.countdownInterval=wU(this.updateCountdown,1e3)):(this.clearToken(),this.user.expires_countdown=0)},stopCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null},updateCountdown(){const t=Math.max(0,Math.floor((this.user.expires_at-Date.now())/1e3));this.user.expires_countdown=t,t===0&&(this.clearToken(),this.stopCountdown())},async init({clientId:t,apiKey:e,discoveryDocs:n,scopes:r}){this.configs={clientId:t,apiKey:e,discoveryDocs:n,scopes:r};let s=0;for(;(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)&&s<50;)await new Promise(i=>setTimeout(i,100)),s++;if(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)throw new Error("Google API no carregada. Verifique se o script do Google API foi includo.");await new Promise(i=>window.gapi.load("client",i)),await window.gapi.client.init({apiKey:this.configs.apiKey,discoveryDocs:this.configs.discoveryDocs}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.configs.clientId,scope:this.configs.scopes,callback:""}),this.user.token&&this.user.expires_at&&this.user.expires_at>Date.now()&&window.gapi.client.setToken({access_token:this.user.token}),this.startCountdown()},async signIn({callback:t,errorCallback:e}={}){if(!this.tokenClient)throw new Error("Google Auth no inicializado. Chame initGoogleAuth antes.");this.tokenClient.callback=async n=>{if(n.error){e&&e(n);return}const r=await bU(n.access_token);this.setUserFromToken({...n,name:r?.name,email:r?.email,picture:r?.picture,expires_in:n.expires_in,rawUserInfo:r}),t&&t(this.user)},this.tokenClient.requestAccessToken({prompt:"consent"})},signOut(){const t=window.gapi?.client?.getToken?.();t&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken("")),this.clearUser()}},persist:{paths:["user"]}});var Pd,gw;function uA(){if(gw)return Pd;gw=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Pd=t,Pd}var kd,yw;function TU(){if(yw)return kd;yw=1;var t=typeof Mc=="object"&&Mc&&Mc.Object===Object&&Mc;return kd=t,kd}var Od,_w;function lA(){if(_w)return Od;_w=1;var t=TU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Od=n,Od}var Dd,vw;function IU(){if(vw)return Dd;vw=1;var t=lA(),e=function(){return t.Date.now()};return Dd=e,Dd}var xd,ww;function AU(){if(ww)return xd;ww=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return xd=e,xd}var Nd,bw;function SU(){if(bw)return Nd;bw=1;var t=AU(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Nd=n,Nd}var Md,Ew;function fA(){if(Ew)return Md;Ew=1;var t=lA(),e=t.Symbol;return Md=e,Md}var Ld,Tw;function CU(){if(Tw)return Ld;Tw=1;var t=fA(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var a=n.call(o,s),l=o[s];try{o[s]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(a?o[s]=l:delete o[s]),d}return Ld=i,Ld}var Vd,Iw;function RU(){if(Iw)return Vd;Iw=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Vd=n,Vd}var Fd,Aw;function PU(){if(Aw)return Fd;Aw=1;var t=fA(),e=CU(),n=RU(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?e(a):n(a)}return Fd=o,Fd}var Ud,Sw;function kU(){if(Sw)return Ud;Sw=1;function t(e){return e!=null&&typeof e=="object"}return Ud=t,Ud}var $d,Cw;function OU(){if(Cw)return $d;Cw=1;var t=PU(),e=kU(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return $d=r,$d}var jd,Rw;function DU(){if(Rw)return jd;Rw=1;var t=SU(),e=uA(),n=OU(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=i.test(f);return p||o.test(f)?a(f.slice(2),p?2:8):s.test(f)?r:+f}return jd=l,jd}var Bd,Pw;function xU(){if(Pw)return Bd;Pw=1;var t=uA(),e=IU(),n=DU(),r="Expected a function",s=Math.max,i=Math.min;function o(a,l,f){var d,p,y,v,E,A,L=0,H=!1,V=!1,R=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(H=!!f.leading,V="maxWait"in f,y=V?s(n(f.maxWait)||0,l):y,R="trailing"in f?!!f.trailing:R);function x(P){var Ue=d,Ke=p;return d=p=void 0,L=P,v=a.apply(Ke,Ue),v}function j(P){return L=P,E=setTimeout(S,l),H?x(P):v}function ne(P){var Ue=P-A,Ke=P-L,Ae=l-Ue;return V?i(Ae,y-Ke):Ae}function D(P){var Ue=P-A,Ke=P-L;return A===void 0||Ue>=l||Ue<0||V&&Ke>=y}function S(){var P=e();if(D(P))return I(P);E=setTimeout(S,ne(P))}function I(P){return E=void 0,R&&d?x(P):(d=p=void 0,v)}function O(){E!==void 0&&clearTimeout(E),L=0,d=A=p=E=void 0}function F(){return E===void 0?v:I(e())}function M(){var P=e(),Ue=D(P);if(d=arguments,p=this,A=P,Ue){if(E===void 0)return j(A);if(V)return clearTimeout(E),E=setTimeout(S,l),x(A)}return E===void 0&&(E=setTimeout(S,l)),v}return M.cancel=O,M.flush=F,M}return Bd=o,Bd}var NU=xU();const MU=fT(NU),Ri=(t="")=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),LU=(t,e)=>{if(!Array.isArray(t)||!e)return[];let n=t;const{search:r,title:s,locale:i,date:o,start:a,end:l,calendars:f=[]}=e;if(f.length){const d=new Set(f.map(Ri));n=n.filter(p=>d.has(p.normalizedList))}if(o){const d=o.slice(0,10);n=n.filter(p=>p.date instanceof Date&&p.date.toISOString().startsWith(d))}else{if(a){const d=new Date(a+"T00:00:00");n=n.filter(p=>p.date>=d)}if(l){const d=new Date(l+"T23:59:59");n=n.filter(p=>p.date<=d)}}if(r){const p=Ri(r).replace(/\bou\b/gi,",").split(/,|\s+/).map(y=>y.trim()).filter(Boolean).map(y=>new RegExp(`\\b${y}`,"i"));n=n.filter(y=>{const v=`${y.normalizedTitle||""} ${y.normalizedLocale||""} ${y.normalizedDesc||""}`;return p.every(E=>E.test(v))})}if(s){const d=new RegExp(Ri(s),"i");n=n.filter(p=>d.test(p.normalizedTitle))}if(i){const d=new RegExp(`^${Ri(i)}`,"i");n=n.filter(p=>d.test(p.normalizedLocale))}return n};MU((t,e,n)=>{const r=LU(t,e);n(r)},1e3);const qd={date:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),time:new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:new Intl.DateTimeFormat("pt-BR",{weekday:"short"})};function VU(t){const e=t.date?new Date(t.date):null,n=t.title==="AVISOS  IRMANDADE";t.noDate=t.desc.includes("!nodate"),t.noDate&&(t.desc=t.desc.replace(/!nodate/gi,"").trim());const r=e&&!n&&!t.noDate,s=e&&e.getHours()>=3,{title:i,locale:o,desc:a,list:l}=t,f={...t,onDate:e};return r?(f.formatDate=qd.date.format(e),f.formatWeek=qd.weekday.format(e).replace(".","")):(f.formatDate="",f.formatWeek=""),r&&s?f.formatTime=qd.time.format(e):f.formatTime="",f.normalizedTitle=Ri(i),f.normalizedLocale=Ri(o),f.normalizedDesc=Ri(a),f.normalizedList=Ri(l),f.desc=(a||"").replace(/<(?!\/?(b|br)\b)[^>]*>/gi,""),f.date=e,f.end=new Date(t.end),f}const FU=xu("lista",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],allEvents:[]}),persist:{paths:["calendars","titles","locales","desc","allEvents"]},actions:{setLoading(t){this.loading=t},async loadEventsFromFile(){this.setLoading(!0);try{if(!this.allEvents?.length)try{let t;if(t=await $fetch(`/data/data.json?v=${new Date().toISOString().replace(/\D/g,"")}`),t?.eventos){const e=(t.eventos.items||[]).map(VU);this.locales=t.eventos.locales||[],this.titles=t.eventos.titles||[],this.desc=t.eventos.desc||[],this.allEvents=e}}catch(t){console.error("Erro ao carregar eventos:",t)}}finally{this.setLoading(!1),console.log("Lista inicializada com sucesso!")}},async init(){console.warn("Inicializando lista..."),this.loadEventsFromFile()}}}),UU=xu("tags",{state:()=>({tags:[],defaultTags:[],suggestionsTags:[]}),persist:{paths:["tags","defaultTags","suggestionsTags"]},actions:{async loadTagsFromFile(){if(!this.tags.length)try{if(!navigator.onLine){const i=await(await caches.open("v1")).match("/data/tags.json");if(i){const o=await i.json();this.tags=o.tags||[],this.defaultTags=o.defaultTags||[],this.suggestionsTags=o.suggestionsTags||[]}return}const{data:t,status:e,error:n}=await g_(`/data/tags.json?v=${new Date().toISOString().replace(/\D/g,"")}`,{key:"tags-data",server:!1},"$Y5ByR0upLZ");this.tags=t.value.tags||[],this.defaultTags=t.value.defaultTags||[],this.suggestionsTags=t.value.suggestionsTags||[];const{data:r}=await g_("/data/tags-circulares.json",{key:"tags-circulares",server:!1},"$MflRSbdvcv");this.tags=this.tags.concat(r.value.tags||[]),e.value==="success"&&t.value?(await caches.open("v1")).put("/data/tags.json",new Response(JSON.stringify(t.value),{headers:{"Content-Type":"application/json"}})):console.error("Erro ao carregar tags: ",n)}catch(t){console.error("Falha ao carregar tags:",t)}},async init(){this.loadTagsFromFile()}}}),$U=()=>({agenda:vU(),lista:FU(),auth:EU(),tags:UU(),settings:cA()}),jU=pn({name:"init-app",setup(){},hooks:{"app:mounted":()=>{const{auth:t,agenda:e,settings:n}=$U();e.init(),n.init(),t.init({clientId:"865568496873-o4enb1hhvpmj2unq7v9n6dcg94h5itp6.apps.googleusercontent.com",apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scopes:"openid profile email https://www.googleapis.com/auth/calendar"})}}}),BU=pn(async t=>{let e,n;function r(o,a={},l,f=5e3){const d=crypto.randomUUID?.()||Math.random().toString(36).slice(2),p=navigator.serviceWorker.controller;if(!p)return Promise.reject(new Error("Service Worker no est pronto."));const y=r._pending||=new Map;return new Promise((E,A)=>{const L=setTimeout(()=>{y.delete(d),A(new Error(`Timeout aguardando resposta do SW (${o})`))},f);y.set(d,H=>{clearTimeout(L),y.delete(d);const V=typeof H=="string"?JSON.parse(H):H;l?.(V),V&&V.error?A(new Error(V.error)):E(V)}),p.postMessage({id:d,type:o,payload:JSON.stringify(a)})})}const s={},i=(o,a)=>{s[o]||(s[o]=[]),s[o].push(a)};if(navigator.serviceWorker.addEventListener("message",o=>{const{id:a,type:l,result:f,message:d,data:p}=o.data,y=r._pending?.get(a);if(y){const v=typeof f=="string"?JSON.parse(f):f;y(v)}else if(s[l]){const v=typeof d=="string"?JSON.parse(d):d,E=typeof p=="string"?JSON.parse(p):p;s[l].forEach(A=>A({message:v,data:E}))}}),"serviceWorker"in navigator){try{const o=([e,n]=cs(()=>navigator.serviceWorker.register("/service-worker.js")),e=await e,n(),e);i("activated",a=>{console.log("Client: Service Worker ativado!",a.message)}),i("init",a=>{console.log("Client: Service Worker inicializado!",a.message)}),i("status_update",a=>{console.log("Client: Status Update:",a.message)}),i("message",a=>{const{$toast:l}=t;l.info(a.message,{duration:5e3,position:"bottom-right"})}),o.addEventListener("updatefound",async()=>{o.installing?(console.log("Client: Service worker installing"),o.installing.addEventListener("statechange",async a=>{a.target.state==="activated"&&(console.log("Client: Service worker est instalado e ativo!"),window.location.reload())})):o.active&&console.log("Client: Service worker est ativo!")}),navigator.serviceWorker.controller&&console.log("Client: Service Worker iniciado.")}catch(o){console.error("Client: Falha no registro do Service Worker: ",o)}navigator.serviceWorker.addEventListener("controllerchange",async()=>{console.log("Client: O Service Worker ativo mudou. "),navigator.serviceWorker.controller&&await r("client_ping",{clientStatus:"controller_changed"})})}return r("update").then(()=>{console.log("Client: Verificao inicial de atualizao concluda.")}),{provide:{sw:{send:r,receve:i}}}}),zu={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ja={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Hn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},qU={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},HU={dangerouslyHTMLString:!1,multiple:!0,position:zu.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},KU={rtl:!1,newestOnTop:!1,toastClassName:""},hA={...HU,...KU};Hn.DEFAULT;var wt=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(wt||{}),tm=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(tm||{});const zU={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},WU={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},GU={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},QU={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},kw="Toastify--animate Toastify__none-enter";function dA(t,e=!1){var n;let r=zU;if(!t||typeof t=="string")switch(t){case"flip":r=QU;break;case"zoom":r=GU;break;case"slide":r=WU;break}else r=t;if(e)r.enter=kw;else if(r.enter===kw){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function YU(t){return t.containerId||String(t.position)}const Sh="will-unmount";function JU(t=zu.TOP_RIGHT){return!!document.querySelector(`.${wt.CSS_NAMESPACE}__toast-container--${t}`)}function XU(t=zu.TOP_RIGHT){return`${wt.CSS_NAMESPACE}__toast-container--${t}`}function ZU(t,e,n=!1){const r=[`${wt.CSS_NAMESPACE}__toast-container`,`${wt.CSS_NAMESPACE}__toast-container--${t}`,n?`${wt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Va(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function e$(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:i={}}=t,o=wt.CSS_NAMESPACE,a=XU(n),l=document.querySelector(`.${o}`),f=document.querySelector(`.${a}`),d=!!f&&!((e=f.className)!=null&&e.includes(Sh)),p=l||document.createElement("div"),y=document.createElement("div");y.className=ZU(n,r,s),y.dataset.testid=`${wt.CSS_NAMESPACE}__toast-container--${n}`,y.id=YU(t);for(const v in i)if(Object.prototype.hasOwnProperty.call(i,v)){const E=i[v];y.style[v]=E}return l||(p.className=wt.CSS_NAMESPACE,document.body.appendChild(p)),d||p.appendChild(y),y}function nm(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),i=document.getElementById(s);i&&i.removeEventListener("animationend",nm,!1);try{Su[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Su[s],delete yn[s]}catch{}}const Su=un({});function t$(t,e){const n=document.getElementById(String(e));n&&(Su[n.id]=t)}function rm(t,e=!0){const n=String(t);if(!Su[n])return;const r=document.getElementById(n);r&&r.classList.add(Sh),e?(r$(t),r&&r.addEventListener("animationend",nm,!1)):nm(n),_s.items=_s.items.filter(s=>s.containerId!==t)}function n$(t){for(const e in Su)rm(e,t);_s.items=[]}function pA(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...dA(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function r$(t){for(const e in yn)if(e===t)for(const n of yn[e]||[])pA(n)}function s$(t){const e=Xa().find(n=>n.toastId===t);return e?.containerId}function Bg(t){return document.getElementById(t)}function i$(t){const e=Bg(t.containerId);return e&&e.classList.contains(Sh)}function Ow(t){var e;const n=Mi(t.content)?Ge(t.content.props):null;return n??Ge((e=t.data)!=null?e:{})}function o$(t){return t?_s.items.filter(e=>e.containerId===t).length>0:_s.items.length>0}function a$(){if(_s.items.length>0){const t=_s.items.shift();Ul(t?.toastContent,t?.toastProps)}}const yn=un({}),_s=un({items:[]});function Xa(){const t=Ge(yn);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function c$(t){return Xa().find(e=>e.toastId===t)}function Ul(t,e={}){if(i$(e)){const n=Bg(e.containerId);n&&n.addEventListener("animationend",sm.bind(null,t,e),!1)}else sm(t,e)}function sm(t,e={}){const n=Bg(e.containerId);n&&n.removeEventListener("animationend",sm.bind(null,t,e),!1);const r=yn[e.containerId]||[],s=r.length>0;if(!s&&!JU(e.position)){const i=e$(e),o=nE(R$,e);e.useHandler&&e.useHandler(o),o.mount(i),t$(o,i.id)}s&&!e.updateId&&(e.position=r[0].position),cr(()=>{e.updateId?sr.update(e):sr.add(t,e)})}const sr={add(t,e){const{containerId:n=""}=e;n&&(yn[n]=yn[n]||[],yn[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=yn[n])==null||r.unshift(e):(s=yn[n])==null||s.push(e),e.onOpen&&e.onOpen(Ow(e))},e.delay||0))},remove(t){if(t){const e=s$(t);if(e){const n=yn[e];let r=n.find(s=>s.toastId===t);yn[e]=n.filter(s=>s.toastId!==t),!yn[e].length&&!o$(e)&&rm(e,!1),a$(),cr(()=>{r!=null&&r.onClose&&(r.onClose(Ow(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){yn[e]=yn[e]||[];const n=yn[e].find(i=>i.toastId===t.toastId),r=n?.position!==t.position||n?.transition!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};sr.dismissForce(t?.toastId),setTimeout(()=>{dt(s.content,s)},t.delay||0)}},clear(t,e=!0){t?rm(t,e):n$(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",sr.dismissCallback,!1),setTimeout(()=>{sr.remove(n)}))},dismiss(t){if(t){const e=Xa();for(const n of e)if(n.toastId===t){pA(n,r=>{r.addEventListener("animationend",sr.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Xa();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",sr.dismissCallback,!1),sr.remove(t));break}}}},u$=un({useHandler:void 0}),mA=un({}),Lf=un({});function gA(){return Math.random().toString(36).substring(2,9)}function l$(t){return typeof t=="number"&&!isNaN(t)}function im(t){return typeof t=="string"}function Va(t){return typeof t=="function"}function Ch(...t){return vs(...t)}function $l(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof t?.type=="object")}function f$(t={}){mA[`${wt.CSS_NAMESPACE}-default-options`]=t}function h$(){return mA[`${wt.CSS_NAMESPACE}-default-options`]||hA}function d$(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var jl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(jl||{});const yA={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:zu.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ja.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Hn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},p$={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Hn.DEFAULT},theme:{type:String,required:!1,default:Ja.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},m$=Jt({name:"ProgressBar",props:p$,setup(t,{attrs:e}){const n=Ft(),r=Ze(()=>t.hide?"true":"false"),s=Ze(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),i=Ze(()=>[`${wt.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${wt.CSS_NAMESPACE}__progress-bar--controlled`:`${wt.CSS_NAMESPACE}__progress-bar--animated`,`${wt.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=Ze(()=>`${i.value} ${e?.class||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},f=Ze(()=>t.controlledProgress?null:l),d=Ze(()=>t.controlledProgress?l:null);return Bc(()=>{n.value&&(a(),n.value.onanimationend=f.value,n.value.ontransitionend=d.value)}),()=>ze("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:o.value,style:s.value},null)}}),g$=Jt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ja.AUTO},type:{type:String,required:!1,default:Ja.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>ze("button",{class:`${wt.CSS_NAMESPACE}__close-button ${wt.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[ze("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[ze("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Rh=({theme:t,type:e,path:n,...r})=>ze("svg",vs({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[ze("path",{d:n},null)]);function y$(t){return ze(Rh,vs(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function _$(t){return ze(Rh,vs(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function v$(t){return ze(Rh,vs(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function w$(t){return ze(Rh,vs(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function b$(){return ze("div",{class:`${wt.CSS_NAMESPACE}__spinner`},null)}const Bl={info:_$,warning:y$,success:v$,error:w$,spinner:b$},E$=t=>t in Bl;function T$({theme:t,type:e,isLoading:n,icon:r}){let s;const i=!!n||e==="loading",o={theme:t,type:e};if(i&&(r===void 0||typeof r=="boolean"))return Bl.spinner();if(r!==!1){if($l(r))s=Ge(r);else if(Va(r)){const a=r;o.type=i?"loading":e,s=a(o),s=!s&&i?Bl.spinner():s}else Mi(r)?s=ms(r,o):im(r)||l$(r)?s=r:E$(e)&&(s=Bl[e](o));return s}}const I$=()=>{};function A$(t,e,n=wt.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,i=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,i)})})}function S$(t){const e=Ft(!1),n=Ft(!1),r=Ft(!1),s=Ft(jl.Enter),i=un({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||wt.COLLAPSE_DURATION}),o=i.done||I$,a=Ze(()=>i.appendPosition?`${i.enter}--${i.position}`:i.enter),l=Ze(()=>i.appendPosition?`${i.exit}--${i.position}`:i.exit),f=Ze(()=>t.pauseOnHover?{onMouseenter:L,onMouseleave:A}:{});function d(){const V=a.value.split(" ");y().addEventListener(tm.ENTRANCE_ANIMATION_END,A,{once:!0});const R=j=>{const ne=y();j.target===ne&&(ne.dispatchEvent(new Event(tm.ENTRANCE_ANIMATION_END)),ne.removeEventListener("animationend",R),ne.removeEventListener("animationcancel",R),s.value===jl.Enter&&j.type!=="animationcancel"&&ne.classList.remove(...V))},x=()=>{const j=y();j.classList.add(...V),j.addEventListener("animationend",R),j.addEventListener("animationcancel",R)};t.pauseOnFocusLoss&&v(),x()}function p(){if(!y())return;const V=()=>{const x=y();x.removeEventListener("animationend",V),i.collapse?A$(x,o,i.collapseDuration):o()},R=()=>{const x=y();s.value=jl.Exit,x&&(x.className+=` ${l.value}`,x.addEventListener("animationend",V))};n.value||(r.value?V():setTimeout(R))}function y(){return t.toastRef.value}function v(){document.hasFocus()||L(),window.addEventListener("focus",A),window.addEventListener("blur",L)}function E(){window.removeEventListener("focus",A),window.removeEventListener("blur",L)}function A(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function L(){e.value=!1}function H(V){V&&(V.stopPropagation(),V.preventDefault()),n.value=!1}return Bc(p),Bc(()=>{const V=Xa();n.value=V.findIndex(R=>R.toastId===i.toastId)>-1}),Bc(()=>{t.isLoading!==void 0&&(t.loading.value?L():A())}),Bo(d),lr(()=>{t.pauseOnFocusLoss&&E()}),{isIn:n,isRunning:e,hideToast:H,eventHandlers:f}}const C$=Jt({name:"ToastItem",inheritAttrs:!1,props:yA,setup(t){const e=Ft(),n=Ze(()=>!!t.isLoading),r=Ze(()=>t.progress!==void 0&&t.progress!==null),s=Ze(()=>T$(t)),i=Ze(()=>[`${wt.CSS_NAMESPACE}__toast`,`${wt.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:f}=S$({toastRef:e,loading:n,done:()=>{sr.remove(t.toastId)},...dA(t.transition,t.disabledEnterTransition),...t});return()=>ze("div",vs({id:t.toastId,class:i.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},f.value),[ze("div",{role:t.role,"data-testid":"toast-body",class:`${wt.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&ze("div",{"data-testid":`toast-icon-${t.type}`,class:[`${wt.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${wt.CSS_NAMESPACE}--animate-icon ${wt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[$l(s.value)?qt(Ge(s.value),{theme:t.theme,type:t.type}):Va(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),ze("div",{"data-testid":"toast-content"},[$l(t.content)?qt(Ge(t.content),{toastProps:Ge(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Va(t.content)?t.content({toastProps:Ge(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?qt("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&ze(g$,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),$l(t.closeButton)?qt(Ge(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Va(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,ze(m$,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let tu=0;function _A(){typeof window>"u"||(tu&&window.cancelAnimationFrame(tu),tu=window.requestAnimationFrame(_A),Lf.lastUrl!==window.location.href&&(Lf.lastUrl=window.location.href,sr.clear()))}const R$=Jt({name:"ToastifyContainer",inheritAttrs:!1,props:yA,setup(t){const e=Ze(()=>t.containerId),n=Ze(()=>yn[e.value]||[]),r=Ze(()=>n.value.filter(s=>s.position===t.position));return Bo(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(_A)}),lr(()=>{typeof window<"u"&&tu&&(window.cancelAnimationFrame(tu),Lf.lastUrl="")}),()=>ze(kn,null,[r.value.map(s=>{const{toastId:i=""}=s;return ze(C$,vs({key:i},s),null)})])}});let Hd=!1;const vA={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function wA(){const t=[];return Xa().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(Sh)&&t.push(e)}),t}function P$(t){const e=wA().length,n=t??0;return n>0&&e+_s.items.length>=n}function k$(t){P$(t.limit)&&!t.updateId&&_s.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Gi(t,e,n={}){if(Hd)return;n=Ch(h$(),{type:e},Ge(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=gA()),n={...n,...n.type==="loading"?vA:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n?.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=d$()),k$(n),Lf.lastUrl=window.location.href,n.multiple?_s.items.length?n.updateId&&Ul(t,n):Ul(t,n):(Hd=!0,dt.clearAll(void 0,!1),setTimeout(()=>{Ul(t,n)},0),setTimeout(()=>{Hd=!1},390)),n.toastId}const dt=(t,e)=>Gi(t,Hn.DEFAULT,e);dt.info=(t,e)=>Gi(t,Hn.DEFAULT,{...e,type:Hn.INFO});dt.error=(t,e)=>Gi(t,Hn.DEFAULT,{...e,type:Hn.ERROR});dt.warning=(t,e)=>Gi(t,Hn.DEFAULT,{...e,type:Hn.WARNING});dt.warn=dt.warning;dt.success=(t,e)=>Gi(t,Hn.DEFAULT,{...e,type:Hn.SUCCESS});dt.loading=(t,e)=>Gi(t,Hn.DEFAULT,Ch(e,vA));dt.dark=(t,e)=>Gi(t,Hn.DEFAULT,Ch(e,{theme:Ja.DARK}));dt.remove=t=>{t?sr.dismiss(t):sr.clear()};dt.clearAll=(t,e)=>{cr(()=>{sr.clear(t,e)})};dt.isActive=t=>{let e=!1;return e=wA().findIndex(n=>n.toastId===t)>-1,e};dt.update=(t,e={})=>{setTimeout(()=>{const n=c$(t);if(n){const r=Ge(n),{content:s}=r,i={...r,...e,toastId:e.toastId||t,updateId:gA()},o=i.render||s;delete i.render,Gi(o,i.type,i)}},0)};dt.done=t=>{dt.update(t,{isLoading:!1,progress:1})};dt.promise=O$;function O$(t,{pending:e,error:n,success:r},s){var i,o,a;let l;const f={...s||{},autoClose:!1};e&&(l=im(e)?dt.loading(e,f):dt.loading(e.render,{...f,...e}));const d={autoClose:(i=s?.autoClose)!=null?i:!0,closeOnClick:(o=s?.closeOnClick)!=null?o:!0,closeButton:(a=s?.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},p=(v,E,A)=>{if(E==null){dt.remove(l);return}const L={type:v,...d,...s,data:A},H=im(E)?{render:E}:E;return l?dt.update(l,{...L,...H,isLoading:!1}):dt(H.render,{...L,...H,isLoading:!1}),A},y=Va(t)?t():t;return y.then(v=>{p("success",r,v)}).catch(v=>{p("error",n,v)}),y}dt.POSITION=zu;dt.THEME=Ja;dt.TYPE=Hn;dt.TRANSITIONS=qU;const bA={install(t,e={}){u$.useHandler=e.useHandler||(()=>{}),D$(e)}};typeof window<"u"&&(window.Vue3Toastify=bA);function D$(t={}){const e=Ch(hA,t);f$(e)}const x$=pn(t=>(t.vueApp.use(bA,{autoClose:2e3,theme:"dark",progressStyle:{background:"#757575"},style:{opacity:.8},position:"bottom-right"}),{provide:{toast:{success:dt.success,error:dt.error,info:dt.info,warn:dt.warn,promise:dt.promise}}})),N$=[E1,I1,P1,Zk,tO,nO,rO,iO,VO,FO,UO,BO,QO,eD,hU,jU,BU,x$],om=Symbol("head-component"),qg={body:{type:Boolean,default:void 0},tagPosition:{type:String}},Wu=t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function Ko(){return Ht(om,EA,!0)}function EA(){const t=Ht(om,null);if(t)return t;const e=un({}),n=VE(e),r={input:e,entry:n};return Ws(om,r),r}const hc={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};({...hc,...qg});({...hc,...qg});({...hc});const M$=Jt({name:"Title",inheritAttrs:!1,setup(t,{slots:e}){const{input:n}=Ko();return lr(()=>n.title=null),()=>{const r=e.default?.();return n.title=r?.[0]?.children?String(r?.[0]?.children):void 0,null}}}),L$=Jt({name:"Meta",inheritAttrs:!1,props:{...hc,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(t){const{input:e}=Ko();e.meta||=[];const n=e.meta.push({})-1;return lr(()=>e.meta[n]=null),()=>{const r={"http-equiv":t.httpEquiv,...Wu(t)};return"httpEquiv"in r&&delete r.httpEquiv,e.meta[n]=r,null}}}),V$=Jt({name:"Style",inheritAttrs:!1,props:{...hc,...qg,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(t,{slots:e}){const{input:n}=Ko();n.style||=[];const r=n.style.push({})-1;return lr(()=>n.style[r]=null),()=>{const s=Wu(t),i=e.default?.()?.[0]?.children;return i&&(n.style[r]=s,s.textContent=i),null}}}),F$=Jt({name:"Head",inheritAttrs:!1,setup:(t,e)=>(EA(),()=>e.slots.default?.())});({...hc});const TA=(t="RouteProvider")=>Jt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Ws(Lo,as(s)),()=>e.vnode?qt(e.vnode,{ref:e.vnodeRef}):e.vnode}}),U$=TA(),Dw=new WeakMap,$$=Jt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Lt(),i=Ft(),o=Ht(Lo,null);let a;r({pageRef:i});const l=Ht(wE,null);let f;const d=s.deferHydration();if(s.isHydrating){const y=s.hooks.hookOnce("app:error",d);qn().beforeEach(y)}t.pageKey&&Er(()=>t.pageKey,(y,v)=>{y!==v&&s.callHook("page:loading:start")});let p=!1;{const y=qn().beforeResolve(()=>{p=!1});nc(()=>{y()})}return()=>qt(eT,{name:t.name,route:t.route,...e},{default:y=>{const v=B$(o,y.route,y.Component),E=o&&o.matched.length===y.route.matched.length;if(!y.Component){if(f&&!E)return f;d();return}if(f&&l&&!l.isCurrent(y.route))return f;if(v&&o&&(!l||l?.isCurrent(o)))return E?f:null;const A=Ep(y,t.pageKey),L=q$(o,y.route,y.Component);!s.isHydrating&&a===A&&!L&&cr(()=>{p=!0,s.callHook("page:loading:end")}),a=A;const H=!!(t.transition??y.route.meta.pageTransition??xy),V=H&&j$([t.transition,y.route.meta.pageTransition,xy,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",y.Component)}}]),R=t.keepalive??y.route.meta.keepalive??aP;return f=nT(H&&V,Lk(R,qt(Rm,{suspensible:!0,onPending:()=>{H&&(s._runningTransition=!0),s.callHook("page:start",y.Component)},onResolve:()=>{cr(()=>s.callHook("page:finish",y.Component).then(()=>{if(delete s._runningTransition,!p&&!L)return p=!0,s.callHook("page:loading:end")}).finally(d))}},{default:()=>{const x={key:A||void 0,vnode:n.default?H$(n.default,y):y.Component,route:y.route,renderKey:A||void 0,trackRootNodes:H,vnodeRef:i};if(!R)return qt(U$,x);const j=y.Component.type,ne=j;let D=Dw.get(ne);return D||(D=TA(j.name||j.__name),Dw.set(ne,D)),qt(D,x)}}))).default(),f}})}});function j$(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?jm(n.onAfterLeave):void 0});return _E(...e)}function B$(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Ep({route:e,Component:n})!==Ep({route:t,Component:n})}function q$(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function H$(t,e){const n=t(e);return n.length===1?qt(n[0]):qt(kn,void 0,n)}const K$=Jt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>qt(Si[t.name],t.layoutProps,e.slots)}}),z$={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},W$=Jt({name:"NuxtLayout",inheritAttrs:!1,props:z$,setup(t,e){const n=Lt(),r=Ht(Lo),i=!r||r===Qf()?tT():r,o=Ze(()=>{let d=Rt(t.name)??i?.meta.layout??"default";return d&&!(d in Si)&&t.fallback&&(d=Rt(t.fallback)),d}),a=Xs();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const d=n.hooks.hookOnce("app:error",l);qn().beforeEach(d)}let f;return()=>{const d=o.value&&o.value in Si,p=i?.meta.layoutTransition??oP,y=f;return f=o.value,nT(d&&p,{default:()=>qt(Rm,{suspensible:!0,onResolve:()=>{cr(l)}},{default:()=>qt(G$,{layoutProps:vs(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:v=>v!==y&&v===o.value,hasTransition:!!p},e.slots)})}).default()}}}),G$=Jt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Ws(wE,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Ht(Lo);if(r&&r===Qf()){const i=tT(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Ws(Lo,as(o))}return()=>!n||typeof n=="string"&&!(n in Si)?e.slots.default?.():qt(K$,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),IA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Q$={__name:"app",setup(t){const e=Ft("Agenda Regional Faina");return m1({title:e.value,ogTitle:"Agenda Regional Faina",description:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogDescription:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogImage:"https://congregacaocristanobrasil.org.br/assets/images/logo-ccb-light.png",twitterCard:"summary_large_image",keywords:"Agenda, Regional, Faina, Congregao, Atendimentos, Eventos, Batismos"}),(n,r)=>{const s=M$,i=L$,o=V$,a=F$,l=Yd("VitePwaManifest"),f=$$,d=W$;return os(),Pm(kn,null,[ze(a,null,{default:So(()=>[ze(s,null,{default:So(()=>[cu(Hl(Rt(e)),1)]),_:1}),ze(i,{name:"description",content:Rt(e)},null,8,["content"]),ze(o,null,{default:So(()=>[...r[0]||(r[0]=[cu(" body {} ",-1)])]),_:1})]),_:1}),ze(d,null,{default:So(()=>[ze(l),ze(f)]),_:1})],64)}}},Y$=IA(Q$,[["__scopeId","data-v-8ea51f04"]]),J$={class:"error-page"},X$={__name:"error",setup(t){const e=Ou();return console.error("Um erro ocorreu:",e.value),EE({redirect:"/"}),(n,r)=>{const s=xO;return os(),Pm("div",J$,[nf("h1",null,Hl(Rt(e).statusCode),1),nf("p",null,Hl(Rt(e).message),1),ze(s,{to:"/"},{default:So(()=>[...r[0]||(r[0]=[cu("Voltar para a pgina inicial",-1)])]),_:1})])}}},Z$=IA(X$,[["__scopeId","data-v-785eb261"]]),ej={key:0},xw={__name:"nuxt-root",setup(t){const e=()=>null,n=Lt(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);qn().beforeEach(f)}const s=!1;Ws(Lo,Qf()),n.hooks.callHookWith(f=>f.map(d=>d()),"vue:setup");const i=Ou(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Tb((f,d,p)=>{if(n.hooks.callHook("vue:error",f,d,p).catch(y=>console.error("[nuxt] Error in `vue:error` hook",y)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(TE(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>To(f)),!1});const l=!1;return(f,d)=>(os(),pa(Rm,{onResolve:Rt(r)},{default:So(()=>[Rt(o)?(os(),Pm("div",ej)):Rt(i)?(os(),pa(Rt(Z$),{key:1,error:Rt(i)},null,8,["error"])):Rt(l)?(os(),pa(Rt(e),{key:2,context:Rt(l)},null,8,["context"])):Rt(s)?(os(),pa(LS(Rt(s)),{key:3})):(os(),pa(Rt(Y$),{key:4}))]),_:1},8,["onResolve"]))}};let Nw;{let t;Nw=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?nR(xw):nE(xw),s=pP({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=ki(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Ny.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Ny.id)?.remove()});try{await yP(s,N$)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(fP),await s.hooks.callHook("app:mounted",r),await cr()}catch(o){i(o)}return r},t=Nw().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Bs as $,Bo as A,pa as B,cj as C,LU as D,dm as E,kn as F,gU as G,cA as H,uj as I,Jt as J,qt as K,Bc as L,lj as M,cr as N,sj as O,Yd as P,nc as Q,dU as R,Em as S,DC as T,fS as U,oi as V,VE as W,xj as X,aj as Y,GN as Z,IA as _,nf as a,Aj as a0,bt as a1,kj as a2,TI as a3,Dj as a4,Oj as a5,Cj as a6,Rj as a7,Pj as a8,$$ as a9,ec as aa,nu as ab,Xs as ac,ze as b,Pm as c,xO as d,cu as e,Lt as f,tT as g,rj as h,Er as i,Ze as j,tj as k,fj as l,Rt as m,nj as n,os as o,yO as p,hj as q,Ft as r,pm as s,ij as t,$U as u,oj as v,So as w,Hl as x,g_ as y,un as z};
