import{O as o}from"./osfUo7GJ.js";const s=o("systemConfig",{state:()=>({theme:"light",language:"pt-BR",notifications:{status:"loading",fcmToken:null}}),getters:{pendingConfigsCount(i){let t=0;return i.notifications.status!=="granted"&&t++,t}},actions:{updateNotificationPermission(){typeof Notification<"u"&&(this.notifications.status=Notification.permission)},async enableNotifications(i){if(!i){alert("Serviço de Notificações não disponível.");return}this.notifications.status="loading";const t=await i();this.updateNotificationPermission(),Notification.permission==="denied"?alert("Permissão de notificações negada. Você pode desbloquear nas configurações do navegador."):Notification.permission==="granted"&&typeof t=="string"&&t!=="denied"&&(this.notifications.fcmToken=t)},showUnlockInstructions(){alert("Para ativar as notificações, vá nas configurações do seu navegador e permita notificações para este aplicativo.")},monitorNotificationPermission(){navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"notifications"}).then(i=>{i.onchange=()=>{this.updateNotificationPermission()}})}}});export{s as u};
