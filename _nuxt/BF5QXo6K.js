import{_ as C,h as D}from"./CN-h7QNZ.js";import{_ as E,u as T,r as i,g as N,j as S,i as A,c,d as k,a as e,n as t,f,t as n,k as d,s as L,v as u,w as B,e as I,b as m,W as V,E as $}from"./LHGl8s7Z.js";const q={class:"grid-item header"},R={class:"between"},M={class:"title"},U={class:"grid-item main"},W={style:{"margin-top":"25px"}},G={class:"card uppercase"},H={class:"title uppercase"},O={key:0},Y=["innerHTML"],j={class:"title"},z={key:1,class:"flex"},F={class:"flex menu"},J={__name:"index",setup(K){const{$toast:g}=T(),b=i(null),s=i(null),p=i(!1),{lista:_}=N(),v=i({labelDesc:"",labelLocale:""}),l=S(()=>{const o=_.allEvents.find(a=>a.id===h.query?.id);return v.value.labelDesc=["BATISMOS","SANTAS CEIAS"].includes(o?.title?.toUpperCase())?"Atendimento":"",o}),h=A();console.log(l,h.query?.id);const y=()=>{!!navigator.share?navigator.share({title:l.value.title,text:`

*${l.value.title}*

ðŸ“ ${l.value.locale}
ðŸ“… ${l.value.formatDate} ðŸ•’ ${l.value.formatTime}

`,url:location.href}).then(()=>g.success("NÃ£o foi possÃ­vel compartilhar.")):(navigator.clipboard.writeText(location.href),g.success("URL copiada."))},x=async()=>{if(s.value){p.value=!0;const o=s.value.style.backgroundColor;s.value.style.backgroundColor="#fff";try{const a=await D(s.value,{backgroundColor:null,useCORS:!0,scrollY:-window.scrollY,scale:2}),r=document.createElement("a");r.download="convite.png",r.href=a.toDataURL("image/png"),r.click(),console.log("Imagem gerada e download iniciado.")}catch(a){s.value.style.backgroundColor=o,console.error("Erro ao gerar a imagem:",a),alert("NÃ£o foi possÃ­vel gerar a imagem. Verifique o console para mais detalhes.")}finally{s.value.style.backgroundColor=o,p.value=!1}}};return(o,a)=>{const r=C,w=I;return m(),c("div",null,[k(r,{show:p.value||t(_).loading},null,8,["show"]),t(l)?(m(),c("div",{key:0,class:"convite-wrapper",ref_key:"wrapperElement",ref:b},[e("div",{class:"convite-grid",ref_key:"conviteGridElement",ref:s},[e("header",q,[e("div",R,[e("div",M,[a[0]||(a[0]=e("i",{class:"las la-bullhorn",style:{transform:"rotate(-8deg)"}},null,-1)),f(" "+n(t(l).group),1)])])]),e("main",U,[e("div",W,[e("h1",G,n(t(V)(t(l)?.title)),1),e("p",null,n(t(l)?.locale),1)]),e("div",H,[v.value.labelDesc?(m(),c("small",O,n(v.value.labelDesc),1)):L("",!0),e("div",{innerHTML:t($)(t(l).desc)},null,8,Y)]),d(e("div",j,[d(e("p",{class:"card uppercase"},n(t(l).formatWeek),513),[[u,t(l).formatWeek]]),d(e("p",null,[a[1]||(a[1]=e("i",{class:"las la-calendar-check"},null,-1)),f(n(t(l).formatDate),1)],512),[[u,t(l).formatDate]]),d(e("p",null,[a[2]||(a[2]=e("i",{class:"las la-clock"},null,-1)),f("Ã s "+n(t(l).formatTime.replace(":","h")),1)],512),[[u,t(l).formatTime]])],512),[[u,t(l).formatDate]]),a[3]||(a[3]=e("div",{class:"contenteditable",contenteditable:"true"},null,-1))]),a[4]||(a[4]=e("footer",{class:"grid-item footer"},null,-1))],512)],512)):(m(),c("div",z,"Evento nÃ£o encontrado")),e("div",F,[e("button",{onClick:y},a[5]||(a[5]=[e("i",{class:"las la-share-alt-square","aria-label":"Compartilhar",role:"img"},[e("span",{class:"sr-only"},"Compartilhar")],-1)])),e("button",{onClick:x},a[6]||(a[6]=[e("i",{class:"las la-file-download","aria-label":"Compartilhar",role:"img"},[e("span",{class:"sr-only"},"Baixar")],-1)])),e("button",null,[k(w,{to:"/agenda?next=true&regionais=true"},{default:B(()=>a[7]||(a[7]=[e("i",{class:"las la-calendar"},null,-1)])),_:1,__:[7]})])])])}}},X=E(J,[["__scopeId","data-v-e2d1f5cc"]]);export{X as default};
