import{_ as D,g as F,u as I,r as A,h as P,o as V,i as E,j as L,c as o,a as e,k,l as U,v as y,m as i,F as $,n as K,d as u,w as c,e as W,p as j,b as a,q as M,f as B,s as R,t as x}from"#entry";const O={class:"main"},Z={class:"search contener"},G=["value"],H=["src"],J={key:1,class:"las la-user"},Q={key:1,class:"las la-user-slash"},X={class:"suggestions"},Y={class:"contener"},ee=["onClick"],te={class:"title"},se={key:0,class:"las la-external-link-alt external-link-icon","aria-label":"Link externo",title:"Este link abrirá em uma nova aba."},ne={class:"buttons"},le={class:"contener"},oe={class:"contener footer"},ae={style:{position:"relative",display:"inline-block"}},re={key:0,class:"badge"},ie={__name:"index",async setup(ue){let d,b;const f=j(),S=E(),{settings:p}=F(),{$indexedDB:q}=I(),_=A(([d,b]=P(()=>q.getTags()),d=await d,b(),d||[])),r=A("");V(()=>{const s=S.query.search;typeof s=="string"&&(r.value=s)});const v=s=>s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),C=s=>typeof s=="string"&&s.startsWith("http"),g=L(()=>{const s=r.value.trim();if(!s)return _?.value?.slice(0,40);const t=v(s).split(/\s+/).filter(Boolean);return _?.value.filter(n=>{const l=v(`${n.title||""} ${n.description||""} ${n.group||""}`).split(/\s+/).filter(Boolean);return t.every(h=>l.some(T=>T.includes(h)))})}),z=s=>{r.value=s.target.value},w=s=>{!s||!s.href||(C(s.href)?window.open(s.href,"_blank","noopener noreferrer"):f.push(s.href))},m=()=>{const s=r.value.trim();if(!s)return alert("Por favor, digite sua busca!");const t=g.value.find(n=>v(n.title)===v(s))||{href:`/lista?search=${encodeURIComponent(s)}`};w(t)},N=L(()=>p?.pendingConfigsCount??0);return(s,t)=>{const n=W;return a(),o("div",O,[e("header",null,[e("div",Z,[e("i",{class:"la la-search clickable",onClick:m}),e("input",{type:"text",placeholder:"Pesquisar...",value:r.value,onInput:z,onKeyup:U(m,["enter"])},null,40,G),k(e("i",{class:"la la-times clickable",onClick:t[0]||(t[0]=l=>r.value="")},null,512),[[y,r.value]]),e("div",{class:"user-info",onClick:t[1]||(t[1]=l=>i(f).push("/perfil")),style:{cursor:"pointer"}},[i(p).user?(a(),o($,{key:0},[i(p).user.photoURL?(a(),o("img",{key:0,src:i(p).user.photoURL,alt:"Avatar do usuário"},null,8,H)):(a(),o("i",J))],64)):(a(),o("i",Q))])])]),e("div",X,[e("ul",Y,[(a(!0),o($,null,K(g.value,(l,h)=>(a(),o("li",{key:l.href+l.title.replace(/[^a-zA-Z0-9 ]/g,"")+h,onClick:()=>w(l)},[e("i",{class:M([l.icon||"la la-folder","icon"])},null,2),e("div",null,[e("strong",te,[B(x(l.title)+" ",1),C(l.href)?(a(),o("i",se)):R("",!0)]),e("small",null,x(l.description),1)])],8,ee))),128)),k(e("li",{onClick:m},[...t[3]||(t[3]=[e("i",{class:"la la-calendar"},null,-1),e("div",null,[e("strong",null,"Pesquisar na agenda"),e("small",null,"Nenhum resultado encontrado.")],-1)])],512),[[y,!g.value.length]]),k(e("li",{onClick:t[2]||(t[2]=()=>i(f).push("/navegar"))},[...t[4]||(t[4]=[e("i",{class:"la la-chevron-down"},null,-1),e("div",null,[e("strong",null,"Navegar"),e("small",null,"Outros resultados...")],-1)])],512),[[y,!r.value&&_.value?.length]])])]),e("div",ne,[e("div",le,[u(n,{to:"/navegar"},{default:c(()=>[...t[5]||(t[5]=[e("button",null,"Navegar",-1)])]),_:1}),u(n,{to:"/recentes"},{default:c(()=>[...t[6]||(t[6]=[e("button",null,"Atualizações",-1)])]),_:1}),u(n,{to:"/agenda?regionais=true"},{default:c(()=>[...t[7]||(t[7]=[e("button",null,"Próximos",-1)])]),_:1})])]),e("footer",null,[e("div",oe,[t[10]||(t[10]=e("span",null,"Regional Faina",-1)),u(n,{to:"/sobre"},{default:c(()=>[...t[8]||(t[8]=[B("Sobre",-1)])]),_:1}),u(n,{to:"/settings"},{default:c(()=>[e("div",ae,[t[9]||(t[9]=e("i",{class:"la la-cog"},null,-1)),N.value>0?(a(),o("span",re,x(N.value),1)):R("",!0)])]),_:1})])])])}}},de=D(ie,[["__scopeId","data-v-ba9a6e22"]]);export{de as default};
