import{_ as x,g as L,f as z,z as q,r as k,i as W,c as _,o as s,a,t as U,x as y,F as m,n as b,s as R,G as Y,Y as j,j as I,b as $,m as g}from"#entry";const V={class:"agenda-container"},G={class:"month-header"},H={key:0,class:"loading-indicator"},J={key:1},Q={class:"schedule-date"},X={class:"schedule-time"},Z=["innerHTML"],K={key:2,class:"no-results"},ee={__name:"CalendarAgendaMonth",props:{year:{type:Number,default:()=>new Date().getFullYear()},month:{type:Number,required:!0}},setup(l){const r=l,p=["SANTAS CEIAS","ENSAIOS REGIONAIS","REUNIÕES PARA A MOCIDADE","REUNIÕES DIVERSAS","REUNIÕES REGIONAIS"],S=e=>(e.title||e.normalizedTitle||"").toUpperCase(),C=e=>{const c=e.title==="REUNIÕES DIVERSAS"||e.title==="REUNIÕES REGIONAIS"?": "+e.desc:"",v=e.locale?e.locale.replace(/(.+?)\s*-\s*(.+)/,"$2 ($1)"):"",D=new Date(e.date||e.start);return{time:e.formatTime||e.formatDate||"",event:Y(j(e.title||"").toUpperCase()+" - "+v+c),title:S(e),day:D.getDate(),month:D.getMonth(),year:D.getFullYear()}},u=L(),{$indexedDB:o}=z(),n=q({search:"",title:"",locale:"",calendars:[]}),t=k([]),d=k(!1),f=k("");(()=>{const e=u.query||{};["search","title","locale"].forEach(c=>{e[c]!==void 0&&(n[c]=String(e[c]))}),e.calendars&&(n.calendars=Array.isArray(e.calendars)?e.calendars.map(String):String(e.calendars).split(",").filter(Boolean))})();async function w(){d.value=!0,t.value=[],f.value=new Date(r.year,r.month-1).toLocaleString("pt-BR",{month:"long"}).toUpperCase();try{const{year:e,month:c}=r,v=new Date(e,c+1,0).getDate(),D={...n,start:`${e}-${String(c).padStart(2,"0")}-01`,end:`${e}-${String(c).padStart(2,"0")}-${v}`},{data:B}=await o.getEvents(D)||{},A=B?.events;if(!A)return;let O=[];Array.isArray(A)?O=A:Object.values(A).forEach(i=>{Array.isArray(i)&&O.push(...i)});const M=O.map(C).filter(i=>p.includes(i.title));M.sort((i,E)=>{if(i.day!==E.day)return i.day-E.day;const N=i.time||"00:00",P=E.time||"00:00";return N!==P?N.localeCompare(P):i.title.localeCompare(E.title)});const T=[];let F=null;M.forEach(i=>{const E=new Date(e,c,i.day),N=E.toLocaleString("pt-BR",{weekday:"short"}).replace(".","").toUpperCase();T.push({displayDate:i.day!==F?`${String(i.day).padStart(2,"0")} ${N}`:"",time:i.time,event:i.event,isSunday:E.getDay()===0,isEventRow:!0,day:i.day}),F=i.day}),t.value=T}catch(e){console.error("Erro ao processar agenda:",e)}finally{d.value=!1}}return W(()=>[n.search,n.title,n.locale,n.calendars.join(","),r.year,r.month],w,{immediate:!0}),(e,c)=>(s(),_("div",V,[a("div",G,y(f.value)+" - "+y(r.year),1),d.value?(s(),_("div",H,"Carregando eventos...")):(s(),_("table",J,[a("tbody",null,[(s(!0),_(m,null,b(t.value,(v,D)=>(s(),_("tr",{key:D,class:R({sunday:v.isSunday,"event-row":v.isEventRow})},[a("td",Q,y(v.displayDate),1),a("td",X,y(v.time),1),a("td",{class:"schedule-event",innerHTML:v.event},null,8,Z)],2))),128))])])),!d.value&&t.value.length===0?(s(),_("div",K," Nenhum evento encontrado para este mês que corresponda aos filtros. ")):U("",!0)]))}},te=x(ee,[["__scopeId","data-v-5cb4a2f2"]]),ae={class:"month-card"},_e={class:"month-header"},se={class:"month-name"},ne={class:"year-label"},re={class:"weekdays-grid"},oe={class:"days-grid"},ie={__name:"CalendarMonth",props:{monthName:String,monthIndex:{type:Number,required:!0},year:Number,startDayOfWeek:Number,daysInMonth:Number,holidays:{type:Array,default:()=>[]}},setup(l){const r=l,p=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],S=I(()=>r.startDayOfWeek),C=o=>{const t=new Date(r.year,r.monthIndex,o).getDay();return t===0||t===6},u=o=>r.holidays.some(n=>n.day===o);return(o,n)=>(s(),_("div",ae,[a("div",_e,[a("span",se,y(l.monthName),1),a("span",ne,y(l.year),1)]),a("div",re,[(s(),_(m,null,b(p,t=>a("span",{key:t,class:R(["weekday-label",{"is-weekend":t==="SAB"||t==="DOM"}])},y(t),3)),64))]),a("div",oe,[(s(!0),_(m,null,b(S.value,t=>(s(),_("span",{key:"blank-"+t,class:"day-cell is-blank"}))),128)),(s(!0),_(m,null,b(l.daysInMonth,t=>(s(),_("span",{key:t,class:R(["day-cell",{"is-weekend":C(t),"is-holiday":u(t)}])},y(t),3))),128))])]))}},le=x(ie,[["__scopeId","data-v-c8b144f0"]]),de={class:"calendar-container"},ce={class:"months-grid"},ye={__name:"CalendarYear",props:{year:{type:Number,default:2026,validator:l=>l>1900&&l<2100},holidays:{type:Array,required:!1,default:()=>[]}},setup(l){const r=l,p=I(()=>r.holidays),S=I(()=>["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].map((o,n)=>{const t=new Date(r.year,n+1,0).getDate(),d=new Date(r.year,n,1);return{name:o,monthIndex:n,daysInMonth:t,startDayOfWeek:d.getDay()}})),C=I(()=>{const u=Array.from({length:12},()=>[]);return p.value.forEach(o=>{const n=o.date.split("/");let t,d,f;n.length===2&&(t=Number(n[0]),d=Number(n[1])-1,f=null),n.length===3&&(t=Number(n[0]),d=Number(n[1])-1,f=Number(n[2])),d>=0&&d<12&&(f||u[d].push({day:t,description:o.description}),f===r.year&&u[d].push({day:t,description:o.description}))}),u});return(u,o)=>(s(),_("div",de,[a("div",ce,[(s(!0),_(m,null,b(S.value,(n,t)=>(s(),_("div",{key:t,class:"month-wrapper"},[$(le,{"month-name":n.name,"month-index":n.monthIndex,year:l.year,"start-day-of-week":n.startDayOfWeek,"days-in-month":n.daysInMonth,holidays:C.value[t]},null,8,["month-name","month-index","year","start-day-of-week","days-in-month","holidays"])]))),128))])]))}},pe=x(ye,[["__scopeId","data-v-53b9f232"]]),ue={},he={class:"linhas-table"};function me(l,r){return s(),_("table",he,[a("tbody",null,[(s(),_(m,null,b(26,p=>a("tr",{key:p},[...r[0]||(r[0]=[a("td",null,null,-1)])])),64))])])}const fe=Object.assign(x(ue,[["render",me],["__scopeId","data-v-a205d622"]]),{__name:"CalendarLinhasTable"});function ve(){return{holidays:[{date:"01/01",description:"Confraternização Universal",type:"fixed"},{date:"21/04",description:"Tiradentes",type:"fixed"},{date:"01/05",description:"Dia do Trabalhador",type:"fixed"},{date:"07/09",description:"Independência do Brasil",type:"fixed"},{date:"12/10",description:"Nossa Senhora Aparecida",type:"fixed"},{date:"02/11",description:"Finados",type:"fixed"},{date:"15/11",description:"Proclamação da República",type:"fixed"},{date:"20/11",description:"Dia Nacional de Zumbi e da Consciência Negra",type:"fixed"},{date:"25/12",description:"Natal",type:"fixed"},{date:"04/03/2025",description:"Carnaval",type:"variable"},{date:"18/04/2025",description:"Paixão de Cristo",type:"variable"},{date:"19/06/2025",description:"Corpus Christi",type:"variable"},{date:"17/02/2026",description:"Carnaval",type:"variable"},{date:"03/04/2026",description:"Paixão de Cristo",type:"variable"},{date:"04/06/2026",description:"Corpus Christi",type:"variable"},{date:"09/02/2027",description:"Carnaval",type:"variable"},{date:"26/03/2027",description:"Paixão de Cristo",type:"variable"},{date:"27/05/2027",description:"Corpus Christi",type:"variable"},{date:"29/02/2028",description:"Carnaval",type:"variable"},{date:"14/04/2028",description:"Paixão de Cristo",type:"variable"},{date:"15/06/2028",description:"Corpus Christi",type:"variable"},{date:"13/02/2029",description:"Carnaval",type:"variable"},{date:"30/03/2029",description:"Paixão de Cristo",type:"variable"},{date:"31/05/2029",description:"Corpus Christi",type:"variable"},{date:"05/03/2030",description:"Carnaval",type:"variable"},{date:"19/04/2030",description:"Paixão de Cristo",type:"variable"},{date:"20/06/2030",description:"Corpus Christi",type:"variable"}]}}const ge={key:0,class:"d-flex flex-column justify-end align-center",style:{"padding-bottom":"50px",height:"90%"}},be={key:1,class:"d-flex flex-column justify-center align-center cover",style:{height:"100%"}},Se={class:"year"},Ce={key:2,class:"content"},De={key:3,class:"d-flex items-center justify-center",style:{height:"100%"}},Ee={key:4,class:"content",style:{"line-height":"1.5","padding-top":"20px"}},xe={key:5,class:"content"},Ae={key:6,class:"content"},Ne={__name:"calendar-print",setup(l){const r=new URLSearchParams(location.search),p=k(+r.get("ano")||new Date().getFullYear()),S=r.get("titulo")||"Calendário de Reuniões",C=r.get("calendars")||"",u=[{sheets:[{type:"address"},{type:"cover"},{type:"agenda",month:10},{type:"linhas"}]},{sheets:[{type:"empty"},{type:"linhas"},{type:"agenda",month:3},{type:"linhas"}]},{sheets:[{type:"empty"},{type:"dados"},{type:"agenda",month:9},{type:"linhas"}]},{sheets:[{type:"calendarYear",yearOffset:0},{type:"linhas"},{type:"agenda",month:4},{type:"linhas"}]},{sheets:[{type:"agenda",month:12},{type:"feriados"},{type:"agenda",month:8},{type:"linhas"}]},{sheets:[{type:"agenda",month:1},{type:"linhas"},{type:"agenda",month:5},{type:"linhas"}]},{sheets:[{type:"agenda",month:11},{type:"linhas"},{type:"agenda",month:7},{type:"linhas"}]},{sheets:[{type:"agenda",month:2},{type:"linhas"},{type:"agenda",month:6},{type:"linhas"}]}],{holidays:o}=ve();return(n,t)=>(s(),_("div",null,[(s(),_(m,null,b(u,(d,f)=>a("div",{key:f,class:"A4"},[(s(!0),_(m,null,b(d.sheets,(h,w)=>(s(),_("div",{key:w,class:"page"},[h.type==="address"?(s(),_("div",ge,[...t[0]||(t[0]=[a("p",null,"Avenida Féliz de Brito, S/N",-1),a("p",null,"Vila Vieira - Faina - GO",-1)])])):h.type==="cover"?(s(),_("div",be,[a("h2",null,y(g(S)),1),a("div",null,y(g(C)),1),a("div",Se,y(g(p)),1)])):U("",!0),h.type==="agenda"?(s(),_("div",Ce,[$(te,{year:g(p),month:h.month,events:[],holidays:g(o)},null,8,["year","month","holidays"])])):h.type==="calendarYear"?(s(),_("div",De,[$(pe,{year:g(p)+(h.yearOffset||0),holidays:g(o)},null,8,["year","holidays"])])):h.type==="dados"?(s(),_("div",Ee,[...t[1]||(t[1]=[a("div",{style:{"font-weight":"bold","text-align":"center","margin-bottom":"20px"}}," DADOS PESSOAIS ",-1),a("p",null,"______________________________________________________ Nome",-1),a("p",null," ______________________________________________________ Ministério ",-1),a("p",null," ______________________________________________________ Endereço ",-1),a("p",null,"______________________________________________________ Cidade",-1),a("p",null,"______________________________________________________ Estado",-1),a("p",null,"______________________________________________________ CEP",-1),a("p",null," ______________________________________________________ Telefone ",-1),a("p",null,"______________________________________________________ E-mail",-1)])])):h.type==="linhas"?(s(),_("div",xe,[$(fe)])):h.type==="feriados"?(s(),_("div",Ae,[t[2]||(t[2]=a("div",{style:{"font-weight":"bold","text-align":"center","margin-bottom":"10px"}}," FERIADOS NACIONAIS ",-1)),a("ul",null,[(s(!0),_(m,null,b(g(o).filter(e=>e&&(e.type==="fixed"||e.date&&e.date.includes(String(g(p))))),(e,c)=>(s(),_("li",{key:c,style:{"margin-bottom":"4px"}},y(e.date)+" - "+y(e.description),1))),128))])])):(s(),_(m,{key:7},[],64))]))),128))])),64))]))}},Ie=x(Ne,[["__scopeId","data-v-5d62736e"]]);export{Ie as default};
