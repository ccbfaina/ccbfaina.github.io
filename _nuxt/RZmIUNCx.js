import{L as de}from"./8kPz0r0A.js";import{_ as ve,x as ce,r as y,h as ee,D as te,A as pe,f as fe,Q as be,c as i,C as le,m as r,F as E,a as t,z as p,n as m,t as v,i as h,v as x,b as me,e as $,E as se,k as L,M as ge,o as a,O as ne,P as _e}from"./C-91Jj7U.js";import{F as ye}from"./BR9l5xTL.js";import{a as he,S as ke,E as Se}from"./Dmy6SKWv.js";const De={class:"tabs-container print-hide"},ze={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},Ce=["aria-selected"],Te={class:"badge"},Ee=["aria-selected"],xe=["aria-selected"],$e={class:"tab-content"},Le={id:"tab-content-lista",role:"tabpanel"},Ve={class:"text-center"},Be={key:0},Fe={key:1},Ie={key:2},je={key:3},we={key:4},Ge={id:"tab-content-filters",role:"tabpanel"},Me={id:"tab-content-print",role:"tabpanel"},Oe={class:"text-center flex col items-center gap-4"},Ae={class:"p form-group flex items-center aling-center"},Ne={class:"a4 print-hide"},Pe={class:"settings-list print-hide"},qe=["onDragstart","onDragover","onDrop"],Ue=["onClick"],He={key:0,class:"print-page"},We=["onDragstart","onDragover","onDrop"],Ke={class:"table-container"},Qe={colspan:"5"},Re={class:"flex items-center aling-center justify-center"},Je=["onClick"],Xe={key:0},Ye={key:0},Ze={key:0},et=["innerHTML"],tt={__name:"index",setup(lt){const{lista:s}=ce(),u=y("lista"),c=y({fontSize:17});function ae(){c.value.fontSize<10&&(c.value.fontSize=10),c.value.fontSize>25&&(c.value.fontSize=25),c.value.fontSize=Math.round(c.value.fontSize*10)/10}const V=l=>{var e;return(e=l==null?void 0:l.replace(/-$/,""))==null?void 0:e.trim()},oe=l=>{if(!l)return 0;let e=0;return l.search&&e++,l.title&&e++,l.locale&&e++,l.date&&e++,l.calendars&&l.calendars.length>0&&e++,e},ie=()=>{u.value="lista",setTimeout(()=>{window.print()},1e3)},re=ee(()=>oe(s.filters)),d=y([]);te(()=>s.groupedEventsByTitle,()=>{var l,e,_,D,z;if(((e=(l=s.filters)==null?void 0:l.calendars)==null?void 0:e.length)>0||(_=s.filters)!=null&&_.locale||(D=s.filters)!=null&&D.date||(z=s.filters)!=null&&z.search){if(!s.groupedEventsByTitle){d.value=[];return}d.value=Object.entries(s.groupedEventsByTitle).map(([C,T])=>({title:C,items:T}))}else return d.value=[]},{immediate:!0,deep:!0});const g=y(null),k=y(null),B=l=>{g.value=l},F=l=>{k.value=l},I=l=>{if(g.value===null||g.value===l){g.value=null,k.value=null;return}const e=d.value.slice(),[_]=e.splice(g.value,1);e.splice(l,0,_),d.value=e,g.value=null,k.value=null},b=pe({});te(d,()=>{d.value&&d.value.forEach(l=>{l.title in b||(b[l.title]=!0)})},{immediate:!0});const j=l=>{u.value="print",b[l]=!b[l]},w=ee(()=>d.value.length>0&&d.value.every(l=>b[l.title])),ue=l=>{d.value.forEach(e=>{b[e.title]=l})},S=y(null);return fe(()=>{S.value=new he({extensions:[ke],content:`
      <p>Oração Santa Ceia</p>
      <p><strong>Pão:</strong> "Senhor, abençoa este Pão que vamos comer, que é a comunhão do Corpo de Cristo."</p>
      <p><strong>Cálice:</strong> "Senhor, abençoa o Cálice que vamos beber, que é a comunhão do Sangue de Cristo."</p>
    `,editable:!0})}),be(()=>{S.value&&S.value.destroy()}),(l,e)=>{var D,z,C,T,G,M,O,A,N,P,q,U,H,W,K,Q,R,J,X,Y,Z;const _=de;return a(),i("div",{style:ge({fontSize:c.value.fontSize+"px"})},[r(s).loading?(a(),le(_,{key:0})):(a(),i(E,{key:1},[t("div",De,[t("nav",ze,[t("span",{id:"tab-filters","aria-selected":u.value==="filters",role:"tab",type:"button",class:m(["tab",{active:u.value==="filters"}]),style:{position:"relative"},onClick:e[0]||(e[0]=n=>u.value="filters")},[t("span",Te,v(re.value),1),e[6]||(e[6]=t("i",{class:"la la-filter z-10"},null,-1))],10,Ce),t("span",{id:"tab-print","aria-selected":u.value==="print",role:"tab",type:"button",class:m(["tab",{active:u.value==="print"}]),onClick:e[1]||(e[1]=n=>u.value="print")},e[7]||(e[7]=[t("i",{class:"la la-print"},null,-1)]),10,Ee),t("span",{id:"tab-lista","aria-selected":u.value==="lista",role:"tab",type:"button",class:m(["tab",{active:u.value==="lista"}]),onClick:e[2]||(e[2]=n=>u.value="lista")}," Lista ",10,xe)])]),t("div",null,[t("div",$e,[h(t("div",Le,[t("div",Ve,[e[8]||(e[8]=t("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),(D=r(s).filters)!=null&&D.calendars?(a(),i("div",Be,[t("b",null,v((((z=r(s).filters)==null?void 0:z.calendars)||[]).map(n=>V(n)).join(", ")),1)])):p("",!0),(C=r(s).filters)!=null&&C.locale?(a(),i("span",Fe,[t("b",null,v(V((T=r(s).filters)==null?void 0:T.locale)),1)])):p("",!0),(G=r(s).filters)!=null&&G.date?(a(),i("span",Ie," Data: "+v((N=(A=(O=(M=r(s).filters.date)==null?void 0:M.split("T")[0])==null?void 0:O.split("-"))==null?void 0:A.reverse())==null?void 0:N.join("/")),1)):p("",!0),!r(s).filters.date&&((P=r(s).filters)!=null&&P.start||(q=r(s).filters)!=null&&q.end)?(a(),i("div",je," Período: "+v((Q=(K=(W=(H=(U=r(s).filters)==null?void 0:U.start)==null?void 0:H.split("T")[0])==null?void 0:W.split("-"))==null?void 0:K.reverse())==null?void 0:Q.join("/"))+" à "+v((Z=(Y=(X=(J=(R=r(s).filters)==null?void 0:R.end)==null?void 0:J.split("T")[0])==null?void 0:X.split("-"))==null?void 0:Y.reverse())==null?void 0:Z.join("/")),1)):p("",!0),r(s).filters.search?(a(),i("div",we,v(r(s).filters.search),1)):p("",!0)])],512),[[x,u.value==="lista"]]),h(t("div",Ge,[me(ye)],512),[[x,u.value==="filters"]]),h(t("div",Me,[t("div",Oe,[e[12]||(e[12]=t("b",{class:"mb-4 p"},"Ajustes de impressão:",-1)),t("div",Ae,[e[9]||(e[9]=t("label",null,"Fonte",-1)),h(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>c.value.fontSize=n),type:"range",min:"10",max:"25",step:"0.1",placeholder:"Font Size"},null,512),[[se,c.value.fontSize,void 0,{number:!0}]]),h(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>c.value.fontSize=n),type:"number",min:"10",max:"25",step:"0.1",style:{width:"70px","margin-left":"8px"},onInput:ae},null,544),[[se,c.value.fontSize,void 0,{number:!0}]]),e[10]||(e[10]=$(" px "))]),t("div",{class:"p"},[t("button",{class:"success",onClick:ie},e[11]||(e[11]=[t("i",{class:"la la-print"},null,-1),$(" Imprimir ")]))])]),t("div",Ne,[t("div",Pe,[e[13]||(e[13]=t("b",null,"Lista",-1)),t("div",null,[t("i",{class:m(["la",w.value?"la-toggle-on":"la-toggle-off"]),title:"Ocultar todos",onClick:e[5]||(e[5]=n=>ue(!w.value))},null,2)])]),(a(!0),i(E,null,L(d.value,(n,f)=>(a(),i("div",{key:n.title,class:m(["settings-list print-hide",{"drag-over":k.value===f}]),draggable:"true",onDragstart:o=>B(f),onDragover:ne(o=>F(f),["prevent"]),onDrop:o=>I(f)},[$(v(n.title)+" ",1),t("i",{class:m(["la",b[n.title]?"la-toggle-on":"la-toggle-off"]),title:"Alterar visibilidade",onClick:o=>j(n.title)},null,10,Ue)],42,qe))),128))])],512),[[x,u.value==="print"]])])]),d.value?(a(),i("div",He,[(a(!0),i(E,null,L(d.value,(n,f)=>h((a(),i("div",{key:n.title,class:m(["table-list",{"drag-over":k.value===f}]),draggable:"true",style:{cursor:"move"},onDragstart:o=>B(f),onDragover:ne(o=>F(f),["prevent"]),onDrop:o=>I(f)},[t("div",Ke,[t("table",null,[t("thead",null,[t("tr",null,[t("th",Qe,[t("div",Re,[$(v(n.title)+" ",1),t("i",{class:"la la-toggle-on print-hide",style:{cursor:"pointer"},onClick:o=>j(n.title)},null,8,Je)])])])]),t("tbody",null,[(a(!0),i(E,null,L(n.items,o=>(a(),i("tr",{key:o.id},[t("td",null,[o.formatDate?(a(),i("span",Xe,v(o.formatDate),1)):p("",!0)]),t("td",null,[o.formatWeek?(a(),i("span",Ye,v(o.formatWeek),1)):p("",!0)]),t("td",null,[o.formatTime?(a(),i("span",Ze,v(o.formatTime),1)):p("",!0)]),t("td",null,v(o.locale),1),t("td",null,[o.desc?(a(),i("span",{key:0,innerHTML:r(_e)(o.desc)},null,8,et)):p("",!0)])]))),128))])])])],42,We)),[[x,b[n.title]]])),128)),S.value?(a(),le(r(Se),{key:0,editor:S.value,class:"editable"},null,8,["editor"])):p("",!0)])):p("",!0)],64))],4)}}},ut=ve(tt,[["__scopeId","data-v-a6b98a6f"]]);export{ut as default};
