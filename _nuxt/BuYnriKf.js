import{L as k}from"./B7S8XWMP.js";import{_ as h,u as T,y as A,h as L,z as O,c as r,A as x,l as v,F as D,p as _,k as w,o as a,a as i,t as p,E as H}from"./CMPFHgJK.js";const I={key:0,class:"print-page"},N={class:"day-header"},b={class:"event-list"},E=["innerHTML"],M={__name:"proximos",setup(V){const{lista:d}=T(),f=A({}),g=L(()=>{const c=new Date,n=new Date;n.setDate(c.getDate()+7);const u=e=>String(e).padStart(2,"0"),m=e=>{const s=new Date,t=new Date;s.setHours(0,0,0,0),t.setDate(s.getDate()+1),t.setHours(0,0,0,0);const o=new Date(e);return o.setHours(0,0,0,0),o.getTime()===s.getTime()?"Hoje":o.getTime()===t.getTime()?"Amanhã":`${u(e.getDate())}/${u(e.getMonth()+1)}`},l={};return d.events.filter(e=>{if(!e?.onDate)return!1;const s=new Date(e.onDate);return s>=c&&s<=n}).filter(e=>!["AVISOS À IRMANDADE","NOVOS SERVOS PARA O MINISTÉRIO"].includes(e.title)).forEach(e=>{const s=new Date(e.onDate),t=m(s);l[t]||(l[t]=[]),l[t].push(e)}),Object.entries(l).map(([e,s])=>({day:e,items:s.sort((t,o)=>{const y=new Date(t.onDate),S=new Date(o.onDate);return y-S||(t.event||"").localeCompare(o.event||"")||(t.title||"").localeCompare(o.title||"")})})).sort((e,s)=>{const t=new Date(e.items[0]?.onDate),o=new Date(s.items[0]?.onDate);return t-o})});return O(()=>d.events,()=>{for(const c of d.events||[]){const n=c.title||"Sem título";n in f||(f[n]=!0)}},{immediate:!0}),(c,n)=>{const u=k;return a(),r("div",null,[v(d).loading?(a(),x(u,{key:0})):(a(),r(D,{key:1},[g.value.length?(a(),r("div",I,[(a(!0),r(D,null,w(g.value,({day:m,items:l})=>(a(),r("div",{key:m,class:"day-section"},[i("h2",N,p(m)+" "+p(l[0].formatWeek),1),i("dl",b,[(a(!0),r(D,null,w(l,e=>(a(),r("div",{key:e.id,class:"event-entry"},[n[0]||(n[0]=i("dt",null,"Título",-1)),i("dd",null,p(e.title),1),n[1]||(n[1]=i("dt",null,"Local",-1)),i("dd",null,p(e.locale),1),n[2]||(n[2]=i("dt",null,"Detalhes",-1)),e.desc?(a(),r("dd",{key:0,innerHTML:`${e.formatTime} - ${v(H)(e.desc)}`},null,8,E)):_("",!0)]))),128))])]))),128))])):_("",!0)],64))])}}},$=h(M,[["__scopeId","data-v-7443a63b"]]);export{$ as default};
