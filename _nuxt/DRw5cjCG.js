const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C_iMeBHb.js","./index.HquAO-fW.css","./ogIjDjE8.js","./sobre.c9vjT2Gh.css","./BjSfDYNm.js","./DxGekH0p.js","./LoadingSpinner.B8lNEaQd.css","./agenda.OejyoQvn.css","./BrG3FQ9L.js","./perfil.NIbQGJpK.css","./tIJWH_xx.js","./D0Dr7phT.js","./BlSOZO3q.js","./eventos.BNNYPXRk.css","./CH_qQSz2.js","./navegar.DXE9DLXy.css","./B3TTzcI5.js","./recentes.xXa5L1-o.css","./BwU4Rk2b.js","./servicos.DXKw4MpX.css","./CD00gXOZ.js","./settings.D81KzNVB.css","./DHst6W5C.js","./relatorio.DgWA3aL3.css","./hQ6PYla6.js","./view.Cgllb6Jc.css","./CcfTsluV.js","./index.C01wgp59.css","./C-fJpana.js","./index.BsZu2C0V.css","./DhLKuG8v.js","./index.D044gGT0.css","./D3GhYwk4.js","./contato.3ci9Le7x.css","./WXRnlHAn.js","./calendar.DviLHcB8.css","./CADOhUKT.js","./solicitar.C0T4GfkF.css","./CHQnh2ww.js","./manutencao.DIm-6Bk8.css","./BiC3ZW8T.js","./levantamento_preventiva.D-3OeP-V.css","./BccrEfUY.js","./DVRzMo9P.js","./DcV_niIN.js","./menu.0lHMkiB6.css","./default.BllfGIqY.css","./C3huEMbv.js","./form.D8ztOVBm.css","./B2drjIQJ.js","./C1KcFNN8.js","./landscape.BFEAchZd.css","./CiXMYJe1.js","./noscroll.DrWb4tOw.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cm(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const St={},Ta=[],jr=()=>{},jw=()=>!1,Ru=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),um=t=>t.startsWith("onUpdate:"),dn=Object.assign,lm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},NA=Object.prototype.hasOwnProperty,vt=(t,e)=>NA.call(t,e),qe=Array.isArray,Ia=t=>ec(t)==="[object Map]",Ff=t=>ec(t)==="[object Set]",Gg=t=>ec(t)==="[object Date]",xA=t=>ec(t)==="[object RegExp]",He=t=>typeof t=="function",$t=t=>typeof t=="string",ps=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",fm=t=>(It(t)||He(t))&&He(t.then)&&He(t.catch),Bw=Object.prototype.toString,ec=t=>Bw.call(t),MA=t=>ec(t).slice(8,-1),hm=t=>ec(t)==="[object Object]",dm=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Aa=cm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uf=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},LA=/-\w/g,Ar=Uf(t=>t.replace(LA,e=>e.slice(1).toUpperCase())),VA=/\B([A-Z])/g,Hi=Uf(t=>t.replace(VA,"-$1").toLowerCase()),$f=Uf(t=>t.charAt(0).toUpperCase()+t.slice(1)),jh=Uf(t=>t?`on${$f(t)}`:""),ki=(t,e)=>!Object.is(t,e),Sa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},qw=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Hl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Hw=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let Qg;const jf=()=>Qg||(Qg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pm(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=$t(r)?jA(r):pm(r);if(s)for(const i in s)e[i]=s[i]}return e}else if($t(t)||It(t))return t}const FA=/;(?![^(]*\))/g,UA=/:([^]+)/,$A=/\/\*[^]*?\*\//g;function jA(t){const e={};return t.replace($A,"").split(FA).forEach(n=>{if(n){const r=n.split(UA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function mm(t){let e="";if($t(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const r=mm(t[n]);r&&(e+=r+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const BA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qA=cm(BA);function Kw(t){return!!t||t===""}function HA(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Bf(t[r],e[r]);return n}function Bf(t,e){if(t===e)return!0;let n=Gg(t),r=Gg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ps(t),r=ps(e),n||r)return t===e;if(n=qe(t),r=qe(e),n||r)return n&&r?HA(t,e):!1;if(n=It(t),r=It(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Bf(t[o],e[o]))return!1}}return String(t)===String(e)}function KA(t,e){return t.findIndex(n=>Bf(n,e))}const zw=t=>!!(t&&t.__v_isRef===!0),Kl=t=>$t(t)?t:t==null?"":qe(t)||It(t)&&(t.toString===Bw||!He(t.toString))?zw(t)?Kl(t.value):JSON.stringify(t,Ww,2):String(t),Ww=(t,e)=>zw(e)?Ww(t,e.value):Ia(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Bh(r,i)+" =>"]=s,n),{})}:Ff(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bh(n))}:ps(e)?Bh(e):It(e)&&!qe(e)&&!hm(e)?String(e):e,Bh=(t,e="")=>{var n;return ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function zA(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cn;class Gw{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cn,!e&&Cn&&(this.index=(Cn.scopes||(Cn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Cn;try{return Cn=this,e()}finally{Cn=n}}}on(){++this._on===1&&(this.prevScope=Cn,Cn=this)}off(){this._on>0&&--this._on===0&&(Cn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function gm(t){return new Gw(t)}function tc(){return Cn}function ru(t,e=!1){Cn&&Cn.cleanups.push(t)}let Ct;const qh=new WeakSet;class Qw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cn&&Cn.active&&Cn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qh.has(this)&&(qh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yg(this),Xw(this);const e=Ct,n=Br;Ct=this,Br=!0;try{return this.fn()}finally{Zw(this),Ct=e,Br=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vm(e);this.deps=this.depsTail=void 0,Yg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zd(this)&&this.run()}get dirty(){return zd(this)}}let Yw=0,$c,jc;function Jw(t,e=!1){if(t.flags|=8,e){t.next=jc,jc=t;return}t.next=$c,$c=t}function ym(){Yw++}function _m(){if(--Yw>0)return;if(jc){let e=jc;for(jc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;$c;){let e=$c;for($c=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Xw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Zw(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),vm(r),WA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function zd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(eb(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function eb(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===su)||(t.globalVersion=su,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!zd(t))))return;t.flags|=2;const e=t.dep,n=Ct,r=Br;Ct=t,Br=!0;try{Xw(t);const s=t.fn(t._value);(e.version===0||ki(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ct=n,Br=r,Zw(t),t.flags&=-3}}function vm(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)vm(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function WA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Br=!0;const tb=[];function Ys(){tb.push(Br),Br=!1}function Js(){const t=tb.pop();Br=t===void 0?!0:t}function Yg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ct;Ct=void 0;try{e()}finally{Ct=n}}}let su=0;class GA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ct||!Br||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new GA(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,nb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=r)}return n}trigger(e){this.version++,su++,this.notify(e)}notify(e){ym();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_m()}}}function nb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)nb(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const zl=new WeakMap,Oo=Symbol(""),Wd=Symbol(""),iu=Symbol("");function Pn(t,e,n){if(Br&&Ct){let r=zl.get(t);r||zl.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new qf),s.map=r,s.key=n),s.track()}}function js(t,e,n,r,s,i){const o=zl.get(t);if(!o){su++;return}const a=l=>{l&&l.trigger()};if(ym(),e==="clear")o.forEach(a);else{const l=qe(t),f=l&&dm(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,g)=>{(g==="length"||g===iu||!ps(g)&&g>=d)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),f&&a(o.get(iu)),e){case"add":l?f&&a(o.get("length")):(a(o.get(Oo)),Ia(t)&&a(o.get(Wd)));break;case"delete":l||(a(o.get(Oo)),Ia(t)&&a(o.get(Wd)));break;case"set":Ia(t)&&a(o.get(Oo));break}}_m()}function QA(t,e){const n=zl.get(t);return n&&n.get(e)}function la(t){const e=Ge(t);return e===t?e:(Pn(e,"iterate",iu),br(t)?e:e.map(vn))}function Hf(t){return Pn(t=Ge(t),"iterate",iu),t}const YA={__proto__:null,[Symbol.iterator](){return Hh(this,Symbol.iterator,vn)},concat(...t){return la(this).concat(...t.map(e=>qe(e)?la(e):e))},entries(){return Hh(this,"entries",t=>(t[1]=vn(t[1]),t))},every(t,e){return xs(this,"every",t,e,void 0,arguments)},filter(t,e){return xs(this,"filter",t,e,n=>n.map(vn),arguments)},find(t,e){return xs(this,"find",t,e,vn,arguments)},findIndex(t,e){return xs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return xs(this,"findLast",t,e,vn,arguments)},findLastIndex(t,e){return xs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return xs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Kh(this,"includes",t)},indexOf(...t){return Kh(this,"indexOf",t)},join(t){return la(this).join(t)},lastIndexOf(...t){return Kh(this,"lastIndexOf",t)},map(t,e){return xs(this,"map",t,e,void 0,arguments)},pop(){return Rc(this,"pop")},push(...t){return Rc(this,"push",t)},reduce(t,...e){return Jg(this,"reduce",t,e)},reduceRight(t,...e){return Jg(this,"reduceRight",t,e)},shift(){return Rc(this,"shift")},some(t,e){return xs(this,"some",t,e,void 0,arguments)},splice(...t){return Rc(this,"splice",t)},toReversed(){return la(this).toReversed()},toSorted(t){return la(this).toSorted(t)},toSpliced(...t){return la(this).toSpliced(...t)},unshift(...t){return Rc(this,"unshift",t)},values(){return Hh(this,"values",vn)}};function Hh(t,e,n){const r=Hf(t),s=r[e]();return r!==t&&!br(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const JA=Array.prototype;function xs(t,e,n,r,s,i){const o=Hf(t),a=o!==t&&!br(t),l=o[e];if(l!==JA[e]){const p=l.apply(t,i);return a?vn(p):p}let f=n;o!==t&&(a?f=function(p,g){return n.call(this,vn(p),g,t)}:n.length>2&&(f=function(p,g){return n.call(this,p,g,t)}));const d=l.call(o,f,r);return a&&s?s(d):d}function Jg(t,e,n,r){const s=Hf(t);let i=n;return s!==t&&(br(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,vn(a),l,t)}),s[e](i,...r)}function Kh(t,e,n){const r=Ge(t);Pn(r,"iterate",iu);const s=r[e](...n);return(s===-1||s===!1)&&Em(n[0])?(n[0]=Ge(n[0]),r[e](...n)):s}function Rc(t,e,n=[]){Ys(),ym();const r=Ge(t)[e].apply(t,n);return _m(),Js(),r}const XA=cm("__proto__,__v_isRef,__isVue"),rb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ps));function ZA(t){ps(t)||(t=String(t));const e=Ge(this);return Pn(e,"has",t),e.hasOwnProperty(t)}class sb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?uS:cb:i?ab:ob).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=qe(e);if(!s){let l;if(o&&(l=YA[n]))return l;if(n==="hasOwnProperty")return ZA}const a=Reflect.get(e,n,Ut(e)?e:r);if((ps(n)?rb.has(n):XA(n))||(s||Pn(e,"get",n),i))return a;if(Ut(a)){const l=o&&dm(n)?a:a.value;return s&&It(l)?Qd(l):l}return It(a)?s?Qd(a):un(a):a}}class ib extends sb{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Xs(i);if(!br(r)&&!Xs(r)&&(i=Ge(i),r=Ge(r)),!qe(e)&&Ut(i)&&!Ut(r))return l||(i.value=r),!0}const o=qe(e)&&dm(n)?Number(n)<e.length:vt(e,n),a=Reflect.set(e,n,r,Ut(e)?e:s);return e===Ge(s)&&(o?ki(r,i)&&js(e,"set",n,r):js(e,"add",n,r)),a}deleteProperty(e,n){const r=vt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&js(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ps(n)||!rb.has(n))&&Pn(e,"has",n),r}ownKeys(e){return Pn(e,"iterate",qe(e)?"length":Oo),Reflect.ownKeys(e)}}class eS extends sb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const tS=new ib,nS=new eS,rS=new ib(!0);const Gd=t=>t,sl=t=>Reflect.getPrototypeOf(t);function sS(t,e,n){return function(...r){const s=this.__v_raw,i=Ge(s),o=Ia(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=s[t](...r),d=n?Gd:e?Wl:vn;return!e&&Pn(i,"iterate",l?Wd:Oo),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:a?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function il(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function iS(t,e){const n={get(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);t||(ki(s,a)&&Pn(o,"get",s),Pn(o,"get",a));const{has:l}=sl(o),f=e?Gd:t?Wl:vn;if(l.call(o,s))return f(i.get(s));if(l.call(o,a))return f(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Pn(Ge(s),"iterate",Oo),s.size},has(s){const i=this.__v_raw,o=Ge(i),a=Ge(s);return t||(ki(s,a)&&Pn(o,"has",s),Pn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Ge(a),f=e?Gd:t?Wl:vn;return!t&&Pn(l,"iterate",Oo),a.forEach((d,p)=>s.call(i,f(d),f(p),o))}};return dn(n,t?{add:il("add"),set:il("set"),delete:il("delete"),clear:il("clear")}:{add(s){!e&&!br(s)&&!Xs(s)&&(s=Ge(s));const i=Ge(this);return sl(i).has.call(i,s)||(i.add(s),js(i,"add",s,s)),this},set(s,i){!e&&!br(i)&&!Xs(i)&&(i=Ge(i));const o=Ge(this),{has:a,get:l}=sl(o);let f=a.call(o,s);f||(s=Ge(s),f=a.call(o,s));const d=l.call(o,s);return o.set(s,i),f?ki(i,d)&&js(o,"set",s,i):js(o,"add",s,i),this},delete(s){const i=Ge(this),{has:o,get:a}=sl(i);let l=o.call(i,s);l||(s=Ge(s),l=o.call(i,s)),a&&a.call(i,s);const f=i.delete(s);return l&&js(i,"delete",s,void 0),f},clear(){const s=Ge(this),i=s.size!==0,o=s.clear();return i&&js(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=sS(s,t,e)}),n}function wm(t,e){const n=iS(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(vt(n,s)&&s in r?n:r,s,i)}const oS={get:wm(!1,!1)},aS={get:wm(!1,!0)},cS={get:wm(!0,!1)};const ob=new WeakMap,ab=new WeakMap,cb=new WeakMap,uS=new WeakMap;function lS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fS(t){return t.__v_skip||!Object.isExtensible(t)?0:lS(MA(t))}function un(t){return Xs(t)?t:bm(t,!1,tS,oS,ob)}function cs(t){return bm(t,!1,rS,aS,ab)}function Qd(t){return bm(t,!0,nS,cS,cb)}function bm(t,e,n,r,s){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=fS(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Ws(t){return Xs(t)?Ws(t.__v_raw):!!(t&&t.__v_isReactive)}function Xs(t){return!!(t&&t.__v_isReadonly)}function br(t){return!!(t&&t.__v_isShallow)}function Em(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function Tm(t){return!vt(t,"__v_skip")&&Object.isExtensible(t)&&qw(t,"__v_skip",!0),t}const vn=t=>It(t)?un(t):t,Wl=t=>It(t)?Qd(t):t;function Ut(t){return t?t.__v_isRef===!0:!1}function Ft(t){return ub(t,!1)}function Zs(t){return ub(t,!0)}function ub(t,e){return Ut(t)?t:new hS(t,e)}class hS{constructor(e,n){this.dep=new qf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:vn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||br(e)||Xs(e);e=r?e:Ge(e),ki(e,n)&&(this._rawValue=e,this._value=r?e:vn(e),this.dep.trigger())}}function Rt(t){return Ut(t)?t.value:t}function Vr(t){return He(t)?t():Rt(t)}const dS={get:(t,e,n)=>e==="__v_raw"?t:Rt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ut(s)&&!Ut(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function lb(t){return Ws(t)?t:new Proxy(t,dS)}class pS{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new qf,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function mS(t){return new pS(t)}function gS(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=hb(t,n);return e}class yS{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return QA(Ge(this._object),this._key)}}class _S{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function fb(t,e,n){return Ut(t)?t:He(t)?new _S(t):It(t)&&arguments.length>1?hb(t,e,n):Ft(t)}function hb(t,e,n){const r=t[e];return Ut(r)?r:new yS(t,e,n)}class vS{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new qf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=su-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Jw(this,!0),!0}get value(){const e=this.dep.track();return eb(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function wS(t,e,n=!1){let r,s;return He(t)?r=t:(r=t.get,s=t.set),new vS(r,s,n)}const ol={},Gl=new WeakMap;let To;function bS(t,e=!1,n=To){if(n){let r=Gl.get(n);r||Gl.set(n,r=[]),r.push(t)}}function ES(t,e,n=St){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,f=N=>s?N:br(N)||s===!1||s===0?Bs(N,1):Bs(N);let d,p,g,v,E=!1,S=!1;if(Ut(t)?(p=()=>t.value,E=br(t)):Ws(t)?(p=()=>f(t),E=!0):qe(t)?(S=!0,E=t.some(N=>Ws(N)||br(N)),p=()=>t.map(N=>{if(Ut(N))return N.value;if(Ws(N))return f(N);if(He(N))return l?l(N,2):N()})):He(t)?e?p=l?()=>l(t,2):t:p=()=>{if(g){Ys();try{g()}finally{Js()}}const N=To;To=d;try{return l?l(t,3,[v]):t(v)}finally{To=N}}:p=jr,e&&s){const N=p,$=s===!0?1/0:s;p=()=>Bs(N(),$)}const L=tc(),q=()=>{d.stop(),L&&L.active&&lm(L.effects,d)};if(i&&e){const N=e;e=(...$)=>{N(...$),q()}}let V=S?new Array(t.length).fill(ol):ol;const R=N=>{if(!(!(d.flags&1)||!d.dirty&&!N))if(e){const $=d.run();if(s||E||(S?$.some((te,O)=>ki(te,V[O])):ki($,V))){g&&g();const te=To;To=d;try{const O=[$,V===ol?void 0:S&&V[0]===ol?[]:V,v];V=$,l?l(e,3,O):e(...O)}finally{To=te}}}else d.run()};return a&&a(R),d=new Qw(p),d.scheduler=o?()=>o(R,!1):R,v=N=>bS(N,!1,d),g=d.onStop=()=>{const N=Gl.get(d);if(N){if(l)l(N,4);else for(const $ of N)$();Gl.delete(d)}},e?r?R(!0):V=d.run():o?o(R.bind(null,!0),!0):d.run(),q.pause=d.pause.bind(d),q.resume=d.resume.bind(d),q.stop=q,q}function Bs(t,e=1/0,n){if(e<=0||!It(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ut(t))Bs(t.value,e,n);else if(qe(t))for(let r=0;r<t.length;r++)Bs(t[r],e,n);else if(Ff(t)||Ia(t))t.forEach(r=>{Bs(r,e,n)});else if(hm(t)){for(const r in t)Bs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Bs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pu(t,e,n,r){try{return r?t(...r):t()}catch(s){nc(s,e,n)}}function Hr(t,e,n,r){if(He(t)){const s=Pu(t,e,n,r);return s&&fm(s)&&s.catch(i=>{nc(i,e,n)}),s}if(qe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Hr(t[i],e,n,r));return s}}function nc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||St;if(e){let a=e.parent;const l=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,l,f)===!1)return}a=a.parent}if(i){Ys(),Pu(i,null,10,[t,l,f]),Js();return}}TS(t,n,s,r,o)}function TS(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Bn=[];let ss=-1;const Ca=[];let bi=null,pa=0;const db=Promise.resolve();let Ql=null;function cr(t){const e=Ql||db;return t?e.then(this?t.bind(this):t):e}function IS(t){let e=ss+1,n=Bn.length;for(;e<n;){const r=e+n>>>1,s=Bn[r],i=au(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Im(t){if(!(t.flags&1)){const e=au(t),n=Bn[Bn.length-1];!n||!(t.flags&2)&&e>=au(n)?Bn.push(t):Bn.splice(IS(e),0,t),t.flags|=1,pb()}}function pb(){Ql||(Ql=db.then(mb))}function ou(t){qe(t)?Ca.push(...t):bi&&t.id===-1?bi.splice(pa+1,0,t):t.flags&1||(Ca.push(t),t.flags|=1),pb()}function Xg(t,e,n=ss+1){for(;n<Bn.length;n++){const r=Bn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Bn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Yl(t){if(Ca.length){const e=[...new Set(Ca)].sort((n,r)=>au(n)-au(r));if(Ca.length=0,bi){bi.push(...e);return}for(bi=e,pa=0;pa<bi.length;pa++){const n=bi[pa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}bi=null,pa=0}}const au=t=>t.id==null?t.flags&2?-1:1/0:t.id;function mb(t){try{for(ss=0;ss<Bn.length;ss++){const e=Bn[ss];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ss<Bn.length;ss++){const e=Bn[ss];e&&(e.flags&=-2)}ss=-1,Bn.length=0,Yl(),Ql=null,(Bn.length||Ca.length)&&mb()}}let ir=null,gb=null;function Jl(t){const e=ir;return ir=t,gb=t&&t.type.__scopeId||null,e}function Co(t,e=ir,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&nf(-1);const i=Jl(e);let o;try{o=t(...s)}finally{Jl(i),r._d&&nf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function uj(t,e){if(ir===null)return t;const n=Gf(ir),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=St]=e[s];i&&(He(i)&&(i={mounted:i,updated:i}),i.deep&&Bs(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function is(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ys(),Hr(l,n,8,[t.el,a,t,e]),Js())}}const AS=Symbol("_vte"),yb=t=>t.__isTeleport,$s=Symbol("_leaveCb"),al=Symbol("_enterCb");function SS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qo(()=>{t.isMounted=!0}),rc(()=>{t.isUnmounting=!0}),t}const _r=[Function,Array],_b={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_r,onEnter:_r,onAfterEnter:_r,onEnterCancelled:_r,onBeforeLeave:_r,onLeave:_r,onAfterLeave:_r,onLeaveCancelled:_r,onBeforeAppear:_r,onAppear:_r,onAfterAppear:_r,onAppearCancelled:_r},vb=t=>{const e=t.subTree;return e.component?vb(e.component):e},CS={name:"BaseTransition",props:_b,setup(t,{slots:e}){const n=ai(),r=SS();return()=>{const s=e.default&&Eb(e.default(),!0);if(!s||!s.length)return;const i=wb(s),o=Ge(t),{mode:a}=o;if(r.isLeaving)return zh(i);const l=Zg(i);if(!l)return zh(i);let f=Yd(l,o,r,n,p=>f=p);l.type!==an&&Ua(l,f);let d=n.subTree&&Zg(n.subTree);if(d&&d.type!==an&&!Fr(d,l)&&vb(n).type!==an){let p=Yd(d,o,r,n);if(Ua(d,p),a==="out-in"&&l.type!==an)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},zh(i);a==="in-out"&&l.type!==an?p.delayLeave=(g,v,E)=>{const S=bb(r,d);S[String(d.key)]=d,g[$s]=()=>{v(),g[$s]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{E(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function wb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==an){e=n;break}}return e}const RS=CS;function bb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Yd(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:g,onLeave:v,onAfterLeave:E,onLeaveCancelled:S,onBeforeAppear:L,onAppear:q,onAfterAppear:V,onAppearCancelled:R}=e,N=String(t.key),$=bb(n,t),te=(A,k)=>{A&&Hr(A,r,9,k)},O=(A,k)=>{const F=k[1];te(A,k),qe(A)?A.every(M=>M.length<=1)&&F():A.length<=1&&F()},I={mode:o,persisted:a,beforeEnter(A){let k=l;if(!n.isMounted)if(i)k=L||l;else return;A[$s]&&A[$s](!0);const F=$[N];F&&Fr(t,F)&&F.el[$s]&&F.el[$s](),te(k,[A])},enter(A){let k=f,F=d,M=p;if(!n.isMounted)if(i)k=q||f,F=V||d,M=R||p;else return;let C=!1;const Pe=A[al]=$e=>{C||(C=!0,$e?te(M,[A]):te(F,[A]),I.delayedLeave&&I.delayedLeave(),A[al]=void 0)};k?O(k,[A,Pe]):Pe()},leave(A,k){const F=String(t.key);if(A[al]&&A[al](!0),n.isUnmounting)return k();te(g,[A]);let M=!1;const C=A[$s]=Pe=>{M||(M=!0,k(),Pe?te(S,[A]):te(E,[A]),A[$s]=void 0,$[F]===t&&delete $[F])};$[F]=t,v?O(v,[A,C]):C()},clone(A){const k=Yd(A,e,n,r,s);return s&&s(k),k}};return I}function zh(t){if(ku(t))return t=ms(t),t.children=null,t}function Zg(t){if(!ku(t))return yb(t.type)&&t.children?wb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&He(n.default))return n.default()}}function Ua(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ua(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Eb(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===kn?(o.patchFlag&128&&s++,r=r.concat(Eb(o.children,e,a))):(e||o.type!==an)&&r.push(a!=null?ms(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Jt(t,e){return He(t)?dn({name:t.name},e,{setup:t}):t}function Am(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Xl=new WeakMap;function Ra(t,e,n,r,s=!1){if(qe(t)){t.forEach((E,S)=>Ra(E,e&&(qe(e)?e[S]:e),n,r,s));return}if(Do(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ra(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Gf(r.component):r.el,o=s?null:i,{i:a,r:l}=t,f=e&&e.r,d=a.refs===St?a.refs={}:a.refs,p=a.setupState,g=Ge(p),v=p===St?jw:E=>vt(g,E);if(f!=null&&f!==l){if(ey(e),$t(f))d[f]=null,v(f)&&(p[f]=null);else if(Ut(f)){f.value=null;const E=e;E.k&&(d[E.k]=null)}}if(He(l))Pu(l,a,12,[o,d]);else{const E=$t(l),S=Ut(l);if(E||S){const L=()=>{if(t.f){const q=E?v(l)?p[l]:d[l]:l.value;if(s)qe(q)&&lm(q,i);else if(qe(q))q.includes(i)||q.push(i);else if(E)d[l]=[i],v(l)&&(p[l]=d[l]);else{const V=[i];l.value=V,t.k&&(d[t.k]=V)}}else E?(d[l]=o,v(l)&&(p[l]=o)):S&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const q=()=>{L(),Xl.delete(t)};q.id=-1,Xl.set(t,q),gn(q,n)}else ey(t),L()}}}function ey(t){const e=Xl.get(t);e&&(e.flags|=8,Xl.delete(t))}let ty=!1;const fa=()=>{ty||(console.error("Hydration completed but contains mismatches."),ty=!0)},PS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",kS=t=>t.namespaceURI.includes("MathML"),cl=t=>{if(t.nodeType===1){if(PS(t))return"svg";if(kS(t))return"mathml"}},Ea=t=>t.nodeType===8;function OS(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:f}}=t,d=(R,N)=>{if(!N.hasChildNodes()){n(null,R,N),Yl(),N._vnode=R;return}p(N.firstChild,R,null,null,null),Yl(),N._vnode=R},p=(R,N,$,te,O,I=!1)=>{I=I||!!N.dynamicChildren;const A=Ea(R)&&R.data==="[",k=()=>S(R,N,$,te,O,A),{type:F,ref:M,shapeFlag:C,patchFlag:Pe}=N;let $e=R.nodeType;N.el=R,Pe===-2&&(I=!1,N.dynamicChildren=null);let be=null;switch(F){case xo:$e!==3?N.children===""?(l(N.el=s(""),o(R),R),be=R):be=k():(R.data!==N.children&&(fa(),R.data=N.children),be=i(R));break;case an:V(R)?(be=i(R),q(N.el=R.content.firstChild,R,$)):$e!==8||A?be=k():be=i(R);break;case ka:if(A&&(R=i(R),$e=R.nodeType),$e===1||$e===3){be=R;const Ne=!N.children.length;for(let Ce=0;Ce<N.staticCount;Ce++)Ne&&(N.children+=be.nodeType===1?be.outerHTML:be.data),Ce===N.staticCount-1&&(N.anchor=be),be=i(be);return A?i(be):be}else k();break;case kn:A?be=E(R,N,$,te,O,I):be=k();break;default:if(C&1)($e!==1||N.type.toLowerCase()!==R.tagName.toLowerCase())&&!V(R)?be=k():be=g(R,N,$,te,O,I);else if(C&6){N.slotScopeIds=O;const Ne=o(R);if(A?be=L(R):Ea(R)&&R.data==="teleport start"?be=L(R,R.data,"teleport end"):be=i(R),e(N,Ne,null,$,te,cl(Ne),I),Do(N)&&!N.type.__asyncResolved){let Ce;A?(Ce=ze(kn),Ce.anchor=be?be.previousSibling:Ne.lastChild):Ce=R.nodeType===3?uu(""):ze("div"),Ce.el=R,N.component.subTree=Ce}}else C&64?$e!==8?be=k():be=N.type.hydrate(R,N,$,te,O,I,t,v):C&128&&(be=N.type.hydrate(R,N,$,te,cl(o(R)),O,I,t,p))}return M!=null&&Ra(M,null,te,N),be},g=(R,N,$,te,O,I)=>{I=I||!!N.dynamicChildren;const{type:A,props:k,patchFlag:F,shapeFlag:M,dirs:C,transition:Pe}=N,$e=A==="input"||A==="option";if($e||F!==-1){C&&is(N,null,$,"created");let be=!1;if(V(R)){be=Kb(null,Pe)&&$&&$.vnode.props&&$.vnode.props.appear;const Ce=R.content.firstChild;if(be){const ht=Ce.getAttribute("class");ht&&(Ce.$cls=ht),Pe.beforeEnter(Ce)}q(Ce,R,$),N.el=R=Ce}if(M&16&&!(k&&(k.innerHTML||k.textContent))){let Ce=v(R.firstChild,N,R,$,te,O,I);for(;Ce;){ul(R,1)||fa();const ht=Ce;Ce=Ce.nextSibling,a(ht)}}else if(M&8){let Ce=N.children;Ce[0]===`
`&&(R.tagName==="PRE"||R.tagName==="TEXTAREA")&&(Ce=Ce.slice(1)),R.textContent!==Ce&&(ul(R,0)||fa(),R.textContent=N.children)}if(k){if($e||!I||F&48){const Ce=R.tagName.includes("-");for(const ht in k)($e&&(ht.endsWith("value")||ht==="indeterminate")||Ru(ht)&&!Aa(ht)||ht[0]==="."||Ce)&&r(R,ht,null,k[ht],void 0,$)}else if(k.onClick)r(R,"onClick",null,k.onClick,void 0,$);else if(F&4&&Ws(k.style))for(const Ce in k.style)k.style[Ce]}let Ne;(Ne=k&&k.onVnodeBeforeMount)&&Wn(Ne,$,N),C&&is(N,null,$,"beforeMount"),((Ne=k&&k.onVnodeMounted)||C||be)&&Jb(()=>{Ne&&Wn(Ne,$,N),be&&Pe.enter(R),C&&is(N,null,$,"mounted")},te)}return R.nextSibling},v=(R,N,$,te,O,I,A)=>{A=A||!!N.dynamicChildren;const k=N.children,F=k.length;for(let M=0;M<F;M++){const C=A?k[M]:k[M]=rr(k[M]),Pe=C.type===xo;R?(Pe&&!A&&M+1<F&&rr(k[M+1]).type===xo&&(l(s(R.data.slice(C.children.length)),$,i(R)),R.data=C.children),R=p(R,C,te,O,I,A)):Pe&&!C.children?l(C.el=s(""),$):(ul($,1)||fa(),n(null,C,$,null,te,O,cl($),I))}return R},E=(R,N,$,te,O,I)=>{const{slotScopeIds:A}=N;A&&(O=O?O.concat(A):A);const k=o(R),F=v(i(R),N,k,$,te,O,I);return F&&Ea(F)&&F.data==="]"?i(N.anchor=F):(fa(),l(N.anchor=f("]"),k,F),F)},S=(R,N,$,te,O,I)=>{if(ul(R.parentElement,1)||fa(),N.el=null,I){const F=L(R);for(;;){const M=i(R);if(M&&M!==F)a(M);else break}}const A=i(R),k=o(R);return a(R),n(null,N,k,A,$,te,cl(k),O),$&&($.vnode.el=N.el,Wf($,N.el)),A},L=(R,N="[",$="]")=>{let te=0;for(;R;)if(R=i(R),R&&Ea(R)&&(R.data===N&&te++,R.data===$)){if(te===0)return i(R);te--}return R},q=(R,N,$)=>{const te=N.parentNode;te&&te.replaceChild(R,N);let O=$;for(;O;)O.vnode.el===N&&(O.vnode.el=O.subTree.el=R),O=O.parent},V=R=>R.nodeType===1&&R.tagName==="TEMPLATE";return[d,p]}const ny="data-allow-mismatch",DS={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ul(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ny);)t=t.parentElement;const n=t&&t.getAttribute(ny);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(DS[e])}}jf().requestIdleCallback;jf().cancelIdleCallback;function NS(t,e){if(Ea(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Ea(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Do=t=>!!t.type.__asyncLoader;function Pc(t){He(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let f=null,d,p=0;const g=()=>(p++,f=null,v()),v=()=>{let E;return f||(E=f=e().catch(S=>{if(S=S instanceof Error?S:new Error(String(S)),l)return new Promise((L,q)=>{l(S,()=>L(g()),()=>q(S),p+1)});throw S}).then(S=>E!==f&&f?f:(S&&(S.__esModule||S[Symbol.toStringTag]==="Module")&&(S=S.default),d=S,S)))};return Jt({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(E,S,L){let q=!1;(S.bu||(S.bu=[])).push(()=>q=!0);const V=()=>{q||L()},R=i?()=>{const N=i(V,$=>NS(E,$));N&&(S.bum||(S.bum=[])).push(N)}:V;d?R():v().then(()=>!S.isUnmounted&&R())},get __asyncResolved(){return d},setup(){const E=wn;if(Am(E),d)return()=>Wh(d,E);const S=R=>{f=null,nc(R,E,13,!r)};if(a&&E.suspense||ja)return v().then(R=>()=>Wh(R,E)).catch(R=>(S(R),()=>r?ze(r,{error:R}):null));const L=Ft(!1),q=Ft(),V=Ft(!!s);return s&&setTimeout(()=>{V.value=!1},s),o!=null&&setTimeout(()=>{if(!L.value&&!q.value){const R=new Error(`Async component timed out after ${o}ms.`);S(R),q.value=R}},o),v().then(()=>{L.value=!0,E.parent&&ku(E.parent.vnode)&&E.parent.update()}).catch(R=>{S(R),q.value=R}),()=>{if(L.value&&d)return Wh(d,E);if(q.value&&r)return ze(r,{error:q.value});if(n&&!V.value)return ze(n)}}})}function Wh(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ze(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ku=t=>t.type.__isKeepAlive,xS={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ai(),r=n.ctx;if(!r.renderer)return()=>{const V=e.default&&e.default();return V&&V.length===1?V[0]:V};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:f,um:d,o:{createElement:p}}}=r,g=p("div");r.activate=(V,R,N,$,te)=>{const O=V.component;f(V,R,N,0,a),l(O.vnode,V,R,N,O,a,$,V.slotScopeIds,te),gn(()=>{O.isDeactivated=!1,O.a&&Sa(O.a);const I=V.props&&V.props.onVnodeMounted;I&&Wn(I,O.parent,V)},a)},r.deactivate=V=>{const R=V.component;ef(R.m),ef(R.a),f(V,g,null,1,a),gn(()=>{R.da&&Sa(R.da);const N=V.props&&V.props.onVnodeUnmounted;N&&Wn(N,R.parent,V),R.isDeactivated=!0},a)};function v(V){Gh(V),d(V,n,a,!0)}function E(V){s.forEach((R,N)=>{const $=op(R.type);$&&!V($)&&S(N)})}function S(V){const R=s.get(V);R&&(!o||!Fr(R,o))?v(R):o&&Gh(o),s.delete(V),i.delete(V)}Er(()=>[t.include,t.exclude],([V,R])=>{V&&E(N=>xc(V,N)),R&&E(N=>!xc(R,N))},{flush:"post",deep:!0});let L=null;const q=()=>{L!=null&&(tf(n.subTree.type)?gn(()=>{s.set(L,ll(n.subTree))},n.subTree.suspense):s.set(L,ll(n.subTree)))};return qo(q),Rb(q),rc(()=>{s.forEach(V=>{const{subTree:R,suspense:N}=n,$=ll(R);if(V.type===$.type&&V.key===$.key){Gh($);const te=$.component.da;te&&gn(te,N);return}v(V)})}),()=>{if(L=null,!e.default)return o=null;const V=e.default(),R=V[0];if(V.length>1)return o=null,V;if(!Li(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let N=ll(R);if(N.type===an)return o=null,N;const $=N.type,te=op(Do(N)?N.type.__asyncResolved||{}:$),{include:O,exclude:I,max:A}=t;if(O&&(!te||!xc(O,te))||I&&te&&xc(I,te))return N.shapeFlag&=-257,o=N,R;const k=N.key==null?$:N.key,F=s.get(k);return N.el&&(N=ms(N),R.shapeFlag&128&&(R.ssContent=N)),L=k,F?(N.el=F.el,N.component=F.component,N.transition&&Ua(N,N.transition),N.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),A&&i.size>parseInt(A,10)&&S(i.values().next().value)),N.shapeFlag|=256,o=N,tf(R.type)?R:N}}},MS=xS;function xc(t,e){return qe(t)?t.some(n=>xc(n,e)):$t(t)?t.split(",").includes(e):xA(t)?(t.lastIndex=0,t.test(e)):!1}function Tb(t,e){Ab(t,"a",e)}function Ib(t,e){Ab(t,"da",e)}function Ab(t,e,n=wn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Kf(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ku(s.parent.vnode)&&LS(r,e,n,s),s=s.parent}}function LS(t,e,n,r){const s=Kf(e,t,r,!0);lr(()=>{lm(r[e],s)},n)}function Gh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ll(t){return t.shapeFlag&128?t.ssContent:t}function Kf(t,e,n=wn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ys();const a=Lo(n),l=Hr(e,n,t,o);return a(),Js(),l});return r?s.unshift(i):s.push(i),i}}const oi=t=>(e,n=wn)=>{(!ja||t==="sp")&&Kf(t,(...r)=>e(...r),n)},Sb=oi("bm"),qo=oi("m"),Cb=oi("bu"),Rb=oi("u"),rc=oi("bum"),lr=oi("um"),VS=oi("sp"),FS=oi("rtg"),US=oi("rtc");function Pb(t,e=wn){Kf("ec",t,e)}const kb="components";function Jd(t,e){return Db(kb,t,!0,e)||t}const Ob=Symbol.for("v-ndc");function $S(t){return $t(t)?Db(kb,t,!1)||t:t||Ob}function Db(t,e,n=!0,r=!1){const s=ir||wn;if(s){const i=s.type;{const a=op(i,!1);if(a&&(a===e||a===Ar(e)||a===$f(Ar(e))))return i}const o=ry(s[t]||i[t],e)||ry(s.appContext[t],e);return!o&&r?i:o}}function ry(t,e){return t&&(t[e]||t[Ar(e)]||t[$f(Ar(e))])}function lj(t,e,n,r){let s;const i=n,o=qe(t);if(o||$t(t)){const a=o&&Ws(t);let l=!1,f=!1;a&&(l=!br(t),f=Xs(t),t=Hf(t)),s=new Array(t.length);for(let d=0,p=t.length;d<p;d++)s[d]=e(l?f?Wl(vn(t[d])):vn(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(It(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}const Xd=t=>t?tE(t)?Gf(t):Xd(t.parent):null,Bc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xd(t.parent),$root:t=>Xd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xb(t),$forceUpdate:t=>t.f||(t.f=()=>{Im(t.update)}),$nextTick:t=>t.n||(t.n=cr.bind(t.proxy)),$watch:t=>oC.bind(t)}),Qh=(t,e)=>t!==St&&!t.__isScriptSetup&&vt(t,e),jS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Qh(r,e))return o[e]=1,r[e];if(s!==St&&vt(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&vt(f,e))return o[e]=3,i[e];if(n!==St&&vt(n,e))return o[e]=4,n[e];Zd&&(o[e]=0)}}const d=Bc[e];let p,g;if(d)return e==="$attrs"&&Pn(t.attrs,"get",""),d(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==St&&vt(n,e))return o[e]=4,n[e];if(g=l.config.globalProperties,vt(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Qh(s,e)?(s[e]=n,!0):r!==St&&vt(r,e)?(r[e]=n,!0):vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let l,f;return!!(n[a]||t!==St&&a[0]!=="$"&&vt(t,a)||Qh(e,a)||(l=i[0])&&vt(l,a)||vt(r,a)||vt(Bc,a)||vt(s.config.globalProperties,a)||(f=o.__cssModules)&&f[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function sy(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function fj(t){const e=ai();let n=t();return sp(),fm(n)&&(n=n.catch(r=>{throw Lo(e),r})),[n,()=>Lo(e)]}let Zd=!0;function BS(t){const e=xb(t),n=t.proxy,r=t.ctx;Zd=!1,e.beforeCreate&&iy(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:f,created:d,beforeMount:p,mounted:g,beforeUpdate:v,updated:E,activated:S,deactivated:L,beforeDestroy:q,beforeUnmount:V,destroyed:R,unmounted:N,render:$,renderTracked:te,renderTriggered:O,errorCaptured:I,serverPrefetch:A,expose:k,inheritAttrs:F,components:M,directives:C,filters:Pe}=e;if(f&&qS(f,r,null),o)for(const Ne in o){const Ce=o[Ne];He(Ce)&&(r[Ne]=Ce.bind(n))}if(s){const Ne=s.call(n,n);It(Ne)&&(t.data=un(Ne))}if(Zd=!0,i)for(const Ne in i){const Ce=i[Ne],ht=He(Ce)?Ce.bind(n,n):He(Ce.get)?Ce.get.bind(n,n):jr,Kt=!He(Ce)&&He(Ce.set)?Ce.set.bind(n):jr,Tn=Ze({get:ht,set:Kt});Object.defineProperty(r,Ne,{enumerable:!0,configurable:!0,get:()=>Tn.value,set:kt=>Tn.value=kt})}if(a)for(const Ne in a)Nb(a[Ne],r,n,Ne);if(l){const Ne=He(l)?l.call(n):l;Reflect.ownKeys(Ne).forEach(Ce=>{Gs(Ce,Ne[Ce])})}d&&iy(d,t,"c");function be(Ne,Ce){qe(Ce)?Ce.forEach(ht=>Ne(ht.bind(n))):Ce&&Ne(Ce.bind(n))}if(be(Sb,p),be(qo,g),be(Cb,v),be(Rb,E),be(Tb,S),be(Ib,L),be(Pb,I),be(US,te),be(FS,O),be(rc,V),be(lr,N),be(VS,A),qe(k))if(k.length){const Ne=t.exposed||(t.exposed={});k.forEach(Ce=>{Object.defineProperty(Ne,Ce,{get:()=>n[Ce],set:ht=>n[Ce]=ht,enumerable:!0})})}else t.exposed||(t.exposed={});$&&t.render===jr&&(t.render=$),F!=null&&(t.inheritAttrs=F),M&&(t.components=M),C&&(t.directives=C),A&&Am(t)}function qS(t,e,n=jr){qe(t)&&(t=ep(t));for(const r in t){const s=t[r];let i;It(s)?"default"in s?i=Ht(s.from||r,s.default,!0):i=Ht(s.from||r):i=Ht(s),Ut(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function iy(t,e,n){Hr(qe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Nb(t,e,n,r){let s=r.includes(".")?Gb(n,r):()=>n[r];if($t(t)){const i=e[t];He(i)&&Er(s,i)}else if(He(t))Er(s,t.bind(n));else if(It(t))if(qe(t))t.forEach(i=>Nb(i,e,n,r));else{const i=He(t.handler)?t.handler.bind(n):e[t.handler];He(i)&&Er(s,i,t)}}function xb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(f=>Zl(l,f,o,!0)),Zl(l,e,o)),It(e)&&i.set(e,l),l}function Zl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Zl(t,i,n,!0),s&&s.forEach(o=>Zl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=HS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const HS={data:oy,props:ay,emits:ay,methods:Mc,computed:Mc,beforeCreate:jn,created:jn,beforeMount:jn,mounted:jn,beforeUpdate:jn,updated:jn,beforeDestroy:jn,beforeUnmount:jn,destroyed:jn,unmounted:jn,activated:jn,deactivated:jn,errorCaptured:jn,serverPrefetch:jn,components:Mc,directives:Mc,watch:zS,provide:oy,inject:KS};function oy(t,e){return e?t?function(){return dn(He(t)?t.call(this,this):t,He(e)?e.call(this,this):e)}:e:t}function KS(t,e){return Mc(ep(t),ep(e))}function ep(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jn(t,e){return t?[...new Set([].concat(t,e))]:e}function Mc(t,e){return t?dn(Object.create(null),t,e):e}function ay(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:dn(Object.create(null),sy(t),sy(e??{})):e}function zS(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=jn(t[r],e[r]);return n}function Mb(){return{app:null,config:{isNativeTag:jw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WS=0;function GS(t,e){return function(r,s=null){He(r)||(r=dn({},r)),s!=null&&!It(s)&&(s=null);const i=Mb(),o=new WeakSet,a=[];let l=!1;const f=i.app={_uid:WS++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:kC,get config(){return i.config},set config(d){},use(d,...p){return o.has(d)||(d&&He(d.install)?(o.add(d),d.install(f,...p)):He(d)&&(o.add(d),d(f,...p))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,p){return p?(i.components[d]=p,f):i.components[d]},directive(d,p){return p?(i.directives[d]=p,f):i.directives[d]},mount(d,p,g){if(!l){const v=f._ceVNode||ze(r,s);return v.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),p&&e?e(v,d):t(v,d,g),l=!0,f._container=d,d.__vue_app__=f,Gf(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Hr(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(d,p){return i.provides[d]=p,f},runWithContext(d){const p=No;No=f;try{return d()}finally{No=p}}};return f}}let No=null;function Gs(t,e){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[t]=e}}function Ht(t,e,n=!1){const r=ai();if(r||No){let s=No?No._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&He(e)?e.call(r&&r.proxy):e}}function Ou(){return!!(ai()||No)}const Lb={},Vb=()=>Object.create(Lb),Fb=t=>Object.getPrototypeOf(t)===Lb;function QS(t,e,n,r=!1){const s={},i=Vb();t.propsDefaults=Object.create(null),Ub(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:cs(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function YS(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ge(s),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(zf(t.emitsOptions,g))continue;const v=e[g];if(l)if(vt(i,g))v!==i[g]&&(i[g]=v,f=!0);else{const E=Ar(g);s[E]=tp(l,a,E,v,t,!1)}else v!==i[g]&&(i[g]=v,f=!0)}}}else{Ub(t,e,s,i)&&(f=!0);let d;for(const p in a)(!e||!vt(e,p)&&((d=Hi(p))===p||!vt(e,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=tp(l,a,p,void 0,t,!0)):delete s[p]);if(i!==a)for(const p in i)(!e||!vt(e,p))&&(delete i[p],f=!0)}f&&js(t.attrs,"set","")}function Ub(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Aa(l))continue;const f=e[l];let d;s&&vt(s,d=Ar(l))?!i||!i.includes(d)?n[d]=f:(a||(a={}))[d]=f:zf(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(i){const l=Ge(n),f=a||St;for(let d=0;d<i.length;d++){const p=i[d];n[p]=tp(s,l,p,f[p],t,!vt(f,p))}}return o}function tp(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&He(l)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=Lo(s);r=f[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Hi(n))&&(r=!0))}return r}const JS=new WeakMap;function $b(t,e,n=!1){const r=n?JS:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!He(t)){const d=p=>{l=!0;const[g,v]=$b(p,e,!0);dn(o,g),v&&a.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return It(t)&&r.set(t,Ta),Ta;if(qe(i))for(let d=0;d<i.length;d++){const p=Ar(i[d]);cy(p)&&(o[p]=St)}else if(i)for(const d in i){const p=Ar(d);if(cy(p)){const g=i[d],v=o[p]=qe(g)||He(g)?{type:g}:dn({},g),E=v.type;let S=!1,L=!0;if(qe(E))for(let q=0;q<E.length;++q){const V=E[q],R=He(V)&&V.name;if(R==="Boolean"){S=!0;break}else R==="String"&&(L=!1)}else S=He(E)&&E.name==="Boolean";v[0]=S,v[1]=L,(S||vt(v,"default"))&&a.push(p)}}const f=[o,a];return It(t)&&r.set(t,f),f}function cy(t){return t[0]!=="$"&&!Aa(t)}const Sm=t=>t==="_"||t==="_ctx"||t==="$stable",Cm=t=>qe(t)?t.map(rr):[rr(t)],XS=(t,e,n)=>{if(e._n)return e;const r=Co((...s)=>Cm(e(...s)),n);return r._c=!1,r},jb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Sm(s))continue;const i=t[s];if(He(i))e[s]=XS(s,i,r);else if(i!=null){const o=Cm(i);e[s]=()=>o}}},Bb=(t,e)=>{const n=Cm(e);t.slots.default=()=>n},qb=(t,e,n)=>{for(const r in e)(n||!Sm(r))&&(t[r]=e[r])},ZS=(t,e,n)=>{const r=t.slots=Vb();if(t.vnode.shapeFlag&32){const s=e._;s?(qb(r,e,n),n&&qw(r,"_",s,!0)):jb(e,r)}else e&&Bb(t,e)},eC=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=St;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:qb(s,e,n):(i=!e.$stable,jb(e,s)),o=e}else e&&(Bb(t,e),o={default:1});if(i)for(const a in s)!Sm(a)&&o[a]==null&&delete s[a]},gn=Jb;function tC(t){return Hb(t)}function nC(t){return Hb(t,OS)}function Hb(t,e){const n=jf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:f,setElementText:d,parentNode:p,nextSibling:g,setScopeId:v=jr,insertStaticContent:E}=t,S=(x,j,ee,fe=null,ae=null,he=null,Te=void 0,ye=null,pe=!!j.dynamicChildren)=>{if(x===j)return;x&&!Fr(x,j)&&(fe=oe(x),kt(x,ae,he,!0),x=null),j.patchFlag===-2&&(pe=!1,j.dynamicChildren=null);const{type:de,ref:Fe,shapeFlag:Se}=j;switch(de){case xo:L(x,j,ee,fe);break;case an:q(x,j,ee,fe);break;case ka:x==null&&V(j,ee,fe,Te);break;case kn:M(x,j,ee,fe,ae,he,Te,ye,pe);break;default:Se&1?$(x,j,ee,fe,ae,he,Te,ye,pe):Se&6?C(x,j,ee,fe,ae,he,Te,ye,pe):(Se&64||Se&128)&&de.process(x,j,ee,fe,ae,he,Te,ye,pe,Le)}Fe!=null&&ae?Ra(Fe,x&&x.ref,he,j||x,!j):Fe==null&&x&&x.ref!=null&&Ra(x.ref,null,he,x,!0)},L=(x,j,ee,fe)=>{if(x==null)r(j.el=a(j.children),ee,fe);else{const ae=j.el=x.el;j.children!==x.children&&f(ae,j.children)}},q=(x,j,ee,fe)=>{x==null?r(j.el=l(j.children||""),ee,fe):j.el=x.el},V=(x,j,ee,fe)=>{[x.el,x.anchor]=E(x.children,j,ee,fe,x.el,x.anchor)},R=({el:x,anchor:j},ee,fe)=>{let ae;for(;x&&x!==j;)ae=g(x),r(x,ee,fe),x=ae;r(j,ee,fe)},N=({el:x,anchor:j})=>{let ee;for(;x&&x!==j;)ee=g(x),s(x),x=ee;s(j)},$=(x,j,ee,fe,ae,he,Te,ye,pe)=>{j.type==="svg"?Te="svg":j.type==="math"&&(Te="mathml"),x==null?te(j,ee,fe,ae,he,Te,ye,pe):A(x,j,ae,he,Te,ye,pe)},te=(x,j,ee,fe,ae,he,Te,ye)=>{let pe,de;const{props:Fe,shapeFlag:Se,transition:Ve,dirs:Oe}=x;if(pe=x.el=o(x.type,he,Fe&&Fe.is,Fe),Se&8?d(pe,x.children):Se&16&&I(x.children,pe,null,fe,ae,Yh(x,he),Te,ye),Oe&&is(x,null,fe,"created"),O(pe,x,x.scopeId,Te,fe),Fe){for(const ct in Fe)ct!=="value"&&!Aa(ct)&&i(pe,ct,null,Fe[ct],he,fe);"value"in Fe&&i(pe,"value",null,Fe.value,he),(de=Fe.onVnodeBeforeMount)&&Wn(de,fe,x)}Oe&&is(x,null,fe,"beforeMount");const Ue=Kb(ae,Ve);Ue&&Ve.beforeEnter(pe),r(pe,j,ee),((de=Fe&&Fe.onVnodeMounted)||Ue||Oe)&&gn(()=>{de&&Wn(de,fe,x),Ue&&Ve.enter(pe),Oe&&is(x,null,fe,"mounted")},ae)},O=(x,j,ee,fe,ae)=>{if(ee&&v(x,ee),fe)for(let he=0;he<fe.length;he++)v(x,fe[he]);if(ae){let he=ae.subTree;if(j===he||tf(he.type)&&(he.ssContent===j||he.ssFallback===j)){const Te=ae.vnode;O(x,Te,Te.scopeId,Te.slotScopeIds,ae.parent)}}},I=(x,j,ee,fe,ae,he,Te,ye,pe=0)=>{for(let de=pe;de<x.length;de++){const Fe=x[de]=ye?Ei(x[de]):rr(x[de]);S(null,Fe,j,ee,fe,ae,he,Te,ye)}},A=(x,j,ee,fe,ae,he,Te)=>{const ye=j.el=x.el;let{patchFlag:pe,dynamicChildren:de,dirs:Fe}=j;pe|=x.patchFlag&16;const Se=x.props||St,Ve=j.props||St;let Oe;if(ee&&_o(ee,!1),(Oe=Ve.onVnodeBeforeUpdate)&&Wn(Oe,ee,j,x),Fe&&is(j,x,ee,"beforeUpdate"),ee&&_o(ee,!0),(Se.innerHTML&&Ve.innerHTML==null||Se.textContent&&Ve.textContent==null)&&d(ye,""),de?k(x.dynamicChildren,de,ye,ee,fe,Yh(j,ae),he):Te||Ce(x,j,ye,null,ee,fe,Yh(j,ae),he,!1),pe>0){if(pe&16)F(ye,Se,Ve,ee,ae);else if(pe&2&&Se.class!==Ve.class&&i(ye,"class",null,Ve.class,ae),pe&4&&i(ye,"style",Se.style,Ve.style,ae),pe&8){const Ue=j.dynamicProps;for(let ct=0;ct<Ue.length;ct++){const rt=Ue[ct],Wt=Se[rt],Vt=Ve[rt];(Vt!==Wt||rt==="value")&&i(ye,rt,Wt,Vt,ae,ee)}}pe&1&&x.children!==j.children&&d(ye,j.children)}else!Te&&de==null&&F(ye,Se,Ve,ee,ae);((Oe=Ve.onVnodeUpdated)||Fe)&&gn(()=>{Oe&&Wn(Oe,ee,j,x),Fe&&is(j,x,ee,"updated")},fe)},k=(x,j,ee,fe,ae,he,Te)=>{for(let ye=0;ye<j.length;ye++){const pe=x[ye],de=j[ye],Fe=pe.el&&(pe.type===kn||!Fr(pe,de)||pe.shapeFlag&198)?p(pe.el):ee;S(pe,de,Fe,null,fe,ae,he,Te,!0)}},F=(x,j,ee,fe,ae)=>{if(j!==ee){if(j!==St)for(const he in j)!Aa(he)&&!(he in ee)&&i(x,he,j[he],null,ae,fe);for(const he in ee){if(Aa(he))continue;const Te=ee[he],ye=j[he];Te!==ye&&he!=="value"&&i(x,he,ye,Te,ae,fe)}"value"in ee&&i(x,"value",j.value,ee.value,ae)}},M=(x,j,ee,fe,ae,he,Te,ye,pe)=>{const de=j.el=x?x.el:a(""),Fe=j.anchor=x?x.anchor:a("");let{patchFlag:Se,dynamicChildren:Ve,slotScopeIds:Oe}=j;Oe&&(ye=ye?ye.concat(Oe):Oe),x==null?(r(de,ee,fe),r(Fe,ee,fe),I(j.children||[],ee,Fe,ae,he,Te,ye,pe)):Se>0&&Se&64&&Ve&&x.dynamicChildren?(k(x.dynamicChildren,Ve,ee,ae,he,Te,ye),(j.key!=null||ae&&j===ae.subTree)&&zb(x,j,!0)):Ce(x,j,ee,Fe,ae,he,Te,ye,pe)},C=(x,j,ee,fe,ae,he,Te,ye,pe)=>{j.slotScopeIds=ye,x==null?j.shapeFlag&512?ae.ctx.activate(j,ee,fe,Te,pe):Pe(j,ee,fe,ae,he,Te,pe):$e(x,j,pe)},Pe=(x,j,ee,fe,ae,he,Te)=>{const ye=x.component=IC(x,fe,ae);if(ku(x)&&(ye.ctx.renderer=Le),AC(ye,!1,Te),ye.asyncDep){if(ae&&ae.registerDep(ye,be,Te),!x.el){const pe=ye.subTree=ze(an);q(null,pe,j,ee),x.placeholder=pe.el}}else be(ye,x,j,ee,ae,he,Te)},$e=(x,j,ee)=>{const fe=j.component=x.component;if(dC(x,j,ee))if(fe.asyncDep&&!fe.asyncResolved){Ne(fe,j,ee);return}else fe.next=j,fe.update();else j.el=x.el,fe.vnode=j},be=(x,j,ee,fe,ae,he,Te)=>{const ye=()=>{if(x.isMounted){let{next:Se,bu:Ve,u:Oe,parent:Ue,vnode:ct}=x;{const Gt=Wb(x);if(Gt){Se&&(Se.el=ct.el,Ne(x,Se,Te)),Gt.asyncDep.then(()=>{x.isUnmounted||ye()});return}}let rt=Se,Wt;_o(x,!1),Se?(Se.el=ct.el,Ne(x,Se,Te)):Se=ct,Ve&&Sa(Ve),(Wt=Se.props&&Se.props.onVnodeBeforeUpdate)&&Wn(Wt,Ue,Se,ct),_o(x,!0);const Vt=Jh(x),Ot=x.subTree;x.subTree=Vt,S(Ot,Vt,p(Ot.el),oe(Ot),x,ae,he),Se.el=Vt.el,rt===null&&Wf(x,Vt.el),Oe&&gn(Oe,ae),(Wt=Se.props&&Se.props.onVnodeUpdated)&&gn(()=>Wn(Wt,Ue,Se,ct),ae)}else{let Se;const{el:Ve,props:Oe}=j,{bm:Ue,m:ct,parent:rt,root:Wt,type:Vt}=x,Ot=Do(j);if(_o(x,!1),Ue&&Sa(Ue),!Ot&&(Se=Oe&&Oe.onVnodeBeforeMount)&&Wn(Se,rt,j),_o(x,!0),Ve&&je){const Gt=()=>{x.subTree=Jh(x),je(Ve,x.subTree,x,ae,null)};Ot&&Vt.__asyncHydrate?Vt.__asyncHydrate(Ve,x,Gt):Gt()}else{Wt.ce&&Wt.ce._def.shadowRoot!==!1&&Wt.ce._injectChildStyle(Vt);const Gt=x.subTree=Jh(x);S(null,Gt,ee,fe,x,ae,he),j.el=Gt.el}if(ct&&gn(ct,ae),!Ot&&(Se=Oe&&Oe.onVnodeMounted)){const Gt=j;gn(()=>Wn(Se,rt,Gt),ae)}(j.shapeFlag&256||rt&&Do(rt.vnode)&&rt.vnode.shapeFlag&256)&&x.a&&gn(x.a,ae),x.isMounted=!0,j=ee=fe=null}};x.scope.on();const pe=x.effect=new Qw(ye);x.scope.off();const de=x.update=pe.run.bind(pe),Fe=x.job=pe.runIfDirty.bind(pe);Fe.i=x,Fe.id=x.uid,pe.scheduler=()=>Im(Fe),_o(x,!0),de()},Ne=(x,j,ee)=>{j.component=x;const fe=x.vnode.props;x.vnode=j,x.next=null,YS(x,j.props,fe,ee),eC(x,j.children,ee),Ys(),Xg(x),Js()},Ce=(x,j,ee,fe,ae,he,Te,ye,pe=!1)=>{const de=x&&x.children,Fe=x?x.shapeFlag:0,Se=j.children,{patchFlag:Ve,shapeFlag:Oe}=j;if(Ve>0){if(Ve&128){Kt(de,Se,ee,fe,ae,he,Te,ye,pe);return}else if(Ve&256){ht(de,Se,ee,fe,ae,he,Te,ye,pe);return}}Oe&8?(Fe&16&&zt(de,ae,he),Se!==de&&d(ee,Se)):Fe&16?Oe&16?Kt(de,Se,ee,fe,ae,he,Te,ye,pe):zt(de,ae,he,!0):(Fe&8&&d(ee,""),Oe&16&&I(Se,ee,fe,ae,he,Te,ye,pe))},ht=(x,j,ee,fe,ae,he,Te,ye,pe)=>{x=x||Ta,j=j||Ta;const de=x.length,Fe=j.length,Se=Math.min(de,Fe);let Ve;for(Ve=0;Ve<Se;Ve++){const Oe=j[Ve]=pe?Ei(j[Ve]):rr(j[Ve]);S(x[Ve],Oe,ee,null,ae,he,Te,ye,pe)}de>Fe?zt(x,ae,he,!0,!1,Se):I(j,ee,fe,ae,he,Te,ye,pe,Se)},Kt=(x,j,ee,fe,ae,he,Te,ye,pe)=>{let de=0;const Fe=j.length;let Se=x.length-1,Ve=Fe-1;for(;de<=Se&&de<=Ve;){const Oe=x[de],Ue=j[de]=pe?Ei(j[de]):rr(j[de]);if(Fr(Oe,Ue))S(Oe,Ue,ee,null,ae,he,Te,ye,pe);else break;de++}for(;de<=Se&&de<=Ve;){const Oe=x[Se],Ue=j[Ve]=pe?Ei(j[Ve]):rr(j[Ve]);if(Fr(Oe,Ue))S(Oe,Ue,ee,null,ae,he,Te,ye,pe);else break;Se--,Ve--}if(de>Se){if(de<=Ve){const Oe=Ve+1,Ue=Oe<Fe?j[Oe].el:fe;for(;de<=Ve;)S(null,j[de]=pe?Ei(j[de]):rr(j[de]),ee,Ue,ae,he,Te,ye,pe),de++}}else if(de>Ve)for(;de<=Se;)kt(x[de],ae,he,!0),de++;else{const Oe=de,Ue=de,ct=new Map;for(de=Ue;de<=Ve;de++){const Re=j[de]=pe?Ei(j[de]):rr(j[de]);Re.key!=null&&ct.set(Re.key,de)}let rt,Wt=0;const Vt=Ve-Ue+1;let Ot=!1,Gt=0;const fr=new Array(Vt);for(de=0;de<Vt;de++)fr[de]=0;for(de=Oe;de<=Se;de++){const Re=x[de];if(Wt>=Vt){kt(Re,ae,he,!0);continue}let ln;if(Re.key!=null)ln=ct.get(Re.key);else for(rt=Ue;rt<=Ve;rt++)if(fr[rt-Ue]===0&&Fr(Re,j[rt])){ln=rt;break}ln===void 0?kt(Re,ae,he,!0):(fr[ln-Ue]=de+1,ln>=Gt?Gt=ln:Ot=!0,S(Re,j[ln],ee,null,ae,he,Te,ye,pe),Wt++)}const Mn=Ot?rC(fr):Ta;for(rt=Mn.length-1,de=Vt-1;de>=0;de--){const Re=Ue+de,ln=j[Re],Kn=j[Re+1],Gr=Re+1<Fe?Kn.el||Kn.placeholder:fe;fr[de]===0?S(null,ln,ee,Gr,ae,he,Te,ye,pe):Ot&&(rt<0||de!==Mn[rt]?Tn(ln,ee,Gr,2):rt--)}}},Tn=(x,j,ee,fe,ae=null)=>{const{el:he,type:Te,transition:ye,children:pe,shapeFlag:de}=x;if(de&6){Tn(x.component.subTree,j,ee,fe);return}if(de&128){x.suspense.move(j,ee,fe);return}if(de&64){Te.move(x,j,ee,Le);return}if(Te===kn){r(he,j,ee);for(let Se=0;Se<pe.length;Se++)Tn(pe[Se],j,ee,fe);r(x.anchor,j,ee);return}if(Te===ka){R(x,j,ee);return}if(fe!==2&&de&1&&ye)if(fe===0)ye.beforeEnter(he),r(he,j,ee),gn(()=>ye.enter(he),ae);else{const{leave:Se,delayLeave:Ve,afterLeave:Oe}=ye,Ue=()=>{x.ctx.isUnmounted?s(he):r(he,j,ee)},ct=()=>{he._isLeaving&&he[$s](!0),Se(he,()=>{Ue(),Oe&&Oe()})};Ve?Ve(he,Ue,ct):ct()}else r(he,j,ee)},kt=(x,j,ee,fe=!1,ae=!1)=>{const{type:he,props:Te,ref:ye,children:pe,dynamicChildren:de,shapeFlag:Fe,patchFlag:Se,dirs:Ve,cacheIndex:Oe}=x;if(Se===-2&&(ae=!1),ye!=null&&(Ys(),Ra(ye,null,ee,x,!0),Js()),Oe!=null&&(j.renderCache[Oe]=void 0),Fe&256){j.ctx.deactivate(x);return}const Ue=Fe&1&&Ve,ct=!Do(x);let rt;if(ct&&(rt=Te&&Te.onVnodeBeforeUnmount)&&Wn(rt,j,x),Fe&6)xn(x.component,ee,fe);else{if(Fe&128){x.suspense.unmount(ee,fe);return}Ue&&is(x,null,j,"beforeUnmount"),Fe&64?x.type.remove(x,j,ee,Le,fe):de&&!de.hasOnce&&(he!==kn||Se>0&&Se&64)?zt(de,j,ee,!1,!0):(he===kn&&Se&384||!ae&&Fe&16)&&zt(pe,j,ee),fe&&pt(x)}(ct&&(rt=Te&&Te.onVnodeUnmounted)||Ue)&&gn(()=>{rt&&Wn(rt,j,x),Ue&&is(x,null,j,"unmounted")},ee)},pt=x=>{const{type:j,el:ee,anchor:fe,transition:ae}=x;if(j===kn){Cr(ee,fe);return}if(j===ka){N(x);return}const he=()=>{s(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(x.shapeFlag&1&&ae&&!ae.persisted){const{leave:Te,delayLeave:ye}=ae,pe=()=>Te(ee,he);ye?ye(x.el,he,pe):pe()}else he()},Cr=(x,j)=>{let ee;for(;x!==j;)ee=g(x),s(x),x=ee;s(j)},xn=(x,j,ee)=>{const{bum:fe,scope:ae,job:he,subTree:Te,um:ye,m:pe,a:de}=x;ef(pe),ef(de),fe&&Sa(fe),ae.stop(),he&&(he.flags|=8,kt(Te,x,j,ee)),ye&&gn(ye,j),gn(()=>{x.isUnmounted=!0},j)},zt=(x,j,ee,fe=!1,ae=!1,he=0)=>{for(let Te=he;Te<x.length;Te++)kt(x[Te],j,ee,fe,ae)},oe=x=>{if(x.shapeFlag&6)return oe(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const j=g(x.anchor||x.el),ee=j&&j[AS];return ee?g(ee):j};let ke=!1;const se=(x,j,ee)=>{x==null?j._vnode&&kt(j._vnode,null,null,!0):S(j._vnode||null,x,j,null,null,null,ee),j._vnode=x,ke||(ke=!0,Xg(),Yl(),ke=!1)},Le={p:S,um:kt,m:Tn,r:pt,mt:Pe,mc:I,pc:Ce,pbc:k,n:oe,o:t};let et,je;return e&&([et,je]=e(Le)),{render:se,hydrate:et,createApp:GS(se,et)}}function Yh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function _o({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Kb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zb(t,e,n=!1){const r=t.children,s=e.children;if(qe(r)&&qe(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ei(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&zb(o,a)),a.type===xo&&a.patchFlag!==-1&&(a.el=o.el),a.type===an&&!a.el&&(a.el=o.el)}}function rC(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<f?i=a+1:o=a;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Wb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wb(e)}function ef(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const sC=Symbol.for("v-scx"),iC=()=>Ht(sC);function qc(t,e){return Rm(t,null,e)}function Er(t,e,n){return Rm(t,e,n)}function Rm(t,e,n=St){const{immediate:r,deep:s,flush:i,once:o}=n,a=dn({},n),l=e&&r||!e&&i!=="post";let f;if(ja){if(i==="sync"){const v=iC();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=jr,v.resume=jr,v.pause=jr,v}}const d=wn;a.call=(v,E,S)=>Hr(v,d,E,S);let p=!1;i==="post"?a.scheduler=v=>{gn(v,d&&d.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(v,E)=>{E?v():Im(v)}),a.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=ES(t,e,a);return ja&&(f?f.push(g):l&&g()),g}function oC(t,e,n){const r=this.proxy,s=$t(t)?t.includes(".")?Gb(r,t):()=>r[t]:t.bind(r,r);let i;He(e)?i=e:(i=e.handler,n=e);const o=Lo(this),a=Rm(s,i.bind(r),n);return o(),a}function Gb(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const aC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ar(e)}Modifiers`]||t[`${Hi(e)}Modifiers`];function cC(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||St;let s=n;const i=e.startsWith("update:"),o=i&&aC(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>$t(d)?d.trim():d)),o.number&&(s=n.map(Hl)));let a,l=r[a=jh(e)]||r[a=jh(Ar(e))];!l&&i&&(l=r[a=jh(Hi(e))]),l&&Hr(l,t,6,s);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Hr(f,t,6,s)}}const uC=new WeakMap;function Qb(t,e,n=!1){const r=n?uC:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!He(t)){const l=f=>{const d=Qb(f,e,!0);d&&(a=!0,dn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(It(t)&&r.set(t,null),null):(qe(i)?i.forEach(l=>o[l]=null):dn(o,i),It(t)&&r.set(t,o),o)}function zf(t,e){return!t||!Ru(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(t,e[0].toLowerCase()+e.slice(1))||vt(t,Hi(e))||vt(t,e))}function Jh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:f,renderCache:d,props:p,data:g,setupState:v,ctx:E,inheritAttrs:S}=t,L=Jl(t);let q,V;try{if(n.shapeFlag&4){const N=s||r,$=N;q=rr(f.call($,N,d,p,v,g,E)),V=a}else{const N=e;q=rr(N.length>1?N(p,{attrs:a,slots:o,emit:l}):N(p,null)),V=e.props?a:fC(a)}}catch(N){Hc.length=0,nc(N,t,1),q=ze(an)}let R=q;if(V&&S!==!1){const N=Object.keys(V),{shapeFlag:$}=R;N.length&&$&7&&(i&&N.some(um)&&(V=hC(V,i)),R=ms(R,V,!1,!0))}return n.dirs&&(R=ms(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&Ua(R,n.transition),q=R,Jl(L),q}function lC(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Li(s)){if(s.type!==an||s.children==="v-if"){if(n)return;n=s}}else return}return n}const fC=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ru(n))&&((e||(e={}))[n]=t[n]);return e},hC=(t,e)=>{const n={};for(const r in t)(!um(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function dC(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?uy(r,o,f):!!o;if(l&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(o[g]!==r[g]&&!zf(f,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?uy(r,o,f):!0:!!o;return!1}function uy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!zf(n,i))return!0}return!1}function Wf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const tf=t=>t.__isSuspense;let np=0;const pC={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,f){if(t==null)mC(e,n,r,s,i,o,a,l,f);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}gC(t,e,n,r,s,o,a,l,f)}},hydrate:yC,normalize:_C},Pm=pC;function cu(t,e){const n=t.props&&t.props[e];He(n)&&n()}function mC(t,e,n,r,s,i,o,a,l){const{p:f,o:{createElement:d}}=l,p=d("div"),g=t.suspense=Yb(t,s,r,e,p,n,i,o,a,l);f(null,g.pendingBranch=t.ssContent,p,null,r,g,i,o),g.deps>0?(cu(t,"onPending"),cu(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,i,o),Pa(g,t.ssFallback)):g.resolve(!1,!0)}function gC(t,e,n,r,s,i,o,a,{p:l,um:f,o:{createElement:d}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const g=e.ssContent,v=e.ssFallback,{activeBranch:E,pendingBranch:S,isInFallback:L,isHydrating:q}=p;if(S)p.pendingBranch=g,Fr(S,g)?(l(S,g,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():L&&(q||(l(E,v,n,r,s,null,i,o,a),Pa(p,v)))):(p.pendingId=np++,q?(p.isHydrating=!1,p.activeBranch=S):f(S,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),L?(l(null,g,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0?p.resolve():(l(E,v,n,r,s,null,i,o,a),Pa(p,v))):E&&Fr(E,g)?(l(E,g,n,r,s,p,i,o,a),p.resolve(!0)):(l(null,g,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0&&p.resolve()));else if(E&&Fr(E,g))l(E,g,n,r,s,p,i,o,a),Pa(p,g);else if(cu(e,"onPending"),p.pendingBranch=g,g.shapeFlag&512?p.pendingId=g.component.suspenseId:p.pendingId=np++,l(null,g,p.hiddenContainer,null,s,p,i,o,a),p.deps<=0)p.resolve();else{const{timeout:V,pendingId:R}=p;V>0?setTimeout(()=>{p.pendingId===R&&p.fallback(v)},V):V===0&&p.fallback(v)}}function Yb(t,e,n,r,s,i,o,a,l,f,d=!1){const{p,m:g,um:v,n:E,o:{parentNode:S,remove:L}}=f;let q;const V=vC(t);V&&e&&e.pendingBranch&&(q=e.pendingId,e.deps++);const R=t.props?Hw(t.props.timeout):void 0,N=i,$={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:np++,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(te=!1,O=!1){const{vnode:I,activeBranch:A,pendingBranch:k,pendingId:F,effects:M,parentComponent:C,container:Pe}=$;let $e=!1;$.isHydrating?$.isHydrating=!1:te||($e=A&&k.transition&&k.transition.mode==="out-in",$e&&(A.transition.afterLeave=()=>{F===$.pendingId&&(g(k,Pe,i===N?E(A):i,0),ou(M))}),A&&(S(A.el)===Pe&&(i=E(A)),v(A,C,$,!0)),$e||g(k,Pe,i,0)),Pa($,k),$.pendingBranch=null,$.isInFallback=!1;let be=$.parent,Ne=!1;for(;be;){if(be.pendingBranch){be.effects.push(...M),Ne=!0;break}be=be.parent}!Ne&&!$e&&ou(M),$.effects=[],V&&e&&e.pendingBranch&&q===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),cu(I,"onResolve")},fallback(te){if(!$.pendingBranch)return;const{vnode:O,activeBranch:I,parentComponent:A,container:k,namespace:F}=$;cu(O,"onFallback");const M=E(I),C=()=>{$.isInFallback&&(p(null,te,k,M,A,null,F,a,l),Pa($,te))},Pe=te.transition&&te.transition.mode==="out-in";Pe&&(I.transition.afterLeave=C),$.isInFallback=!0,v(I,A,null,!0),Pe||C()},move(te,O,I){$.activeBranch&&g($.activeBranch,te,O,I),$.container=te},next(){return $.activeBranch&&E($.activeBranch)},registerDep(te,O,I){const A=!!$.pendingBranch;A&&$.deps++;const k=te.vnode.el;te.asyncDep.catch(F=>{nc(F,te,0)}).then(F=>{if(te.isUnmounted||$.isUnmounted||$.pendingId!==te.suspenseId)return;te.asyncResolved=!0;const{vnode:M}=te;ip(te,F),k&&(M.el=k);const C=!k&&te.subTree.el;O(te,M,S(k||te.subTree.el),k?null:E(te.subTree),$,o,I),C&&L(C),Wf(te,M.el),A&&--$.deps===0&&$.resolve()})},unmount(te,O){$.isUnmounted=!0,$.activeBranch&&v($.activeBranch,n,te,O),$.pendingBranch&&v($.pendingBranch,n,te,O)}};return $}function yC(t,e,n,r,s,i,o,a,l){const f=e.suspense=Yb(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),d=l(t,f.pendingBranch=e.ssContent,n,f,i,o);return f.deps===0&&f.resolve(!1,!0),d}function _C(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=ly(r?n.default:n),t.ssFallback=r?ly(n.fallback):ze(an)}function ly(t){let e;if(He(t)){const n=$a&&t._c;n&&(t._d=!1,as()),t=t(),n&&(t._d=!0,e=Yn,Xb())}return qe(t)&&(t=lC(t)),t=rr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Jb(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):ou(t)}function Pa(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Wf(r,s))}function vC(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const kn=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),ka=Symbol.for("v-stc"),Hc=[];let Yn=null;function as(t=!1){Hc.push(Yn=t?null:[])}function Xb(){Hc.pop(),Yn=Hc[Hc.length-1]||null}let $a=1;function nf(t,e=!1){$a+=t,t<0&&Yn&&e&&(Yn.hasOnce=!0)}function Zb(t){return t.dynamicChildren=$a>0?Yn||Ta:null,Xb(),$a>0&&Yn&&Yn.push(t),t}function km(t,e,n,r,s,i){return Zb(rf(t,e,n,r,s,i,!0))}function ma(t,e,n,r,s){return Zb(ze(t,e,n,r,s,!0))}function Li(t){return t?t.__v_isVNode===!0:!1}function Fr(t,e){return t.type===e.type&&t.key===e.key}const eE=({key:t})=>t??null,Al=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Ut(t)||He(t)?{i:ir,r:t,k:e,f:!!n}:t:null);function rf(t,e=null,n=null,r=0,s=null,i=t===kn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&eE(e),ref:e&&Al(e),scopeId:gb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ir};return a?(Om(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),$a>0&&!o&&Yn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Yn.push(l),l}const ze=wC;function wC(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Ob)&&(t=an),Li(t)){const a=ms(t,e,!0);return n&&Om(a,n),$a>0&&!i&&Yn&&(a.shapeFlag&6?Yn[Yn.indexOf(t)]=a:Yn.push(a)),a.patchFlag=-2,a}if(PC(t)&&(t=t.__vccOpts),e){e=bC(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=mm(a)),It(l)&&(Em(l)&&!qe(l)&&(l=dn({},l)),e.style=pm(l))}const o=$t(t)?1:tf(t)?128:yb(t)?64:It(t)?4:He(t)?2:0;return rf(t,e,n,r,s,o,i,!0)}function bC(t){return t?Em(t)||Fb(t)?dn({},t):t:null}function ms(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,f=e?vs(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&eE(f),ref:e&&e.ref?n&&i?qe(i)?i.concat(Al(e)):[i,Al(e)]:Al(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ua(d,l.clone(d)),d}function uu(t=" ",e=0){return ze(xo,null,t,e)}function hj(t,e){const n=ze(ka,null,t);return n.staticCount=e,n}function dj(t="",e=!1){return e?(as(),ma(an,null,t)):ze(an,null,t)}function rr(t){return t==null||typeof t=="boolean"?ze(an):qe(t)?ze(kn,null,t.slice()):Li(t)?Ei(t):ze(xo,null,String(t))}function Ei(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function Om(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Om(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Fb(e)?e._ctx=ir:s===3&&ir&&(ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:ir},n=32):(e=String(e),r&64?(n=16,e=[uu(e)]):n=8);t.children=e,t.shapeFlag|=n}function vs(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=mm([e.class,r.class]));else if(s==="style")e.style=pm([e.style,r.style]);else if(Ru(s)){const i=e[s],o=r[s];o&&i!==o&&!(qe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Wn(t,e,n,r=null){Hr(t,e,7,[n,r])}const EC=Mb();let TC=0;function IC(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||EC,i={uid:TC++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$b(r,s),emitsOptions:Qb(r,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=cC.bind(null,i),t.ce&&t.ce(i),i}let wn=null;const ai=()=>wn||ir;let sf,rp;{const t=jf(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};sf=e("__VUE_INSTANCE_SETTERS__",n=>wn=n),rp=e("__VUE_SSR_SETTERS__",n=>ja=n)}const Lo=t=>{const e=wn;return sf(t),t.scope.on(),()=>{t.scope.off(),sf(e)}},sp=()=>{wn&&wn.scope.off(),sf(null)};function tE(t){return t.vnode.shapeFlag&4}let ja=!1;function AC(t,e=!1,n=!1){e&&rp(e);const{props:r,children:s}=t.vnode,i=tE(t);QS(t,r,i,e),ZS(t,s,n||e);const o=i?SC(t,e):void 0;return e&&rp(!1),o}function SC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jS);const{setup:r}=n;if(r){Ys();const s=t.setupContext=r.length>1?RC(t):null,i=Lo(t),o=Pu(r,t,0,[t.props,s]),a=fm(o);if(Js(),i(),(a||t.sp)&&!Do(t)&&Am(t),a){if(o.then(sp,sp),e)return o.then(l=>{ip(t,l)}).catch(l=>{nc(l,t,0)});t.asyncDep=o}else ip(t,o)}else nE(t)}function ip(t,e,n){He(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=lb(e)),nE(t)}function nE(t,e,n){const r=t.type;t.render||(t.render=r.render||jr);{const s=Lo(t);Ys();try{BS(t)}finally{Js(),s()}}}const CC={get(t,e){return Pn(t,"get",""),t[e]}};function RC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,CC),slots:t.slots,emit:t.emit,expose:e}}function Gf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(lb(Tm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bc)return Bc[n](t)},has(e,n){return n in e||n in Bc}})):t.proxy}function op(t,e=!0){return He(t)?t.displayName||t.name:t.name||e&&t.__name}function PC(t){return He(t)&&"__vccOpts"in t}const Ze=(t,e)=>wS(t,e,ja);function qt(t,e,n){try{nf(-1);const r=arguments.length;return r===2?It(e)&&!qe(e)?Li(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Li(n)&&(n=[n]),ze(t,e,n))}finally{nf(1)}}const kC="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ap;const fy=typeof window<"u"&&window.trustedTypes;if(fy)try{ap=fy.createPolicy("vue",{createHTML:t=>t})}catch{}const rE=ap?t=>ap.createHTML(t):t=>t,OC="http://www.w3.org/2000/svg",DC="http://www.w3.org/1998/Math/MathML",Fs=typeof document<"u"?document:null,hy=Fs&&Fs.createElement("template"),NC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Fs.createElementNS(OC,t):e==="mathml"?Fs.createElementNS(DC,t):n?Fs.createElement(t,{is:n}):Fs.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Fs.createTextNode(t),createComment:t=>Fs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{hy.innerHTML=rE(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=hy.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},yi="transition",kc="animation",lu=Symbol("_vtc"),sE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xC=dn({},_b,sE),MC=t=>(t.displayName="Transition",t.props=xC,t),LC=MC((t,{slots:e})=>qt(RS,VC(t),e)),vo=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},dy=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function VC(t){const e={};for(const M in t)M in sE||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:f=o,appearToClass:d=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,E=FC(s),S=E&&E[0],L=E&&E[1],{onBeforeEnter:q,onEnter:V,onEnterCancelled:R,onLeave:N,onLeaveCancelled:$,onBeforeAppear:te=q,onAppear:O=V,onAppearCancelled:I=R}=e,A=(M,C,Pe,$e)=>{M._enterCancelled=$e,wo(M,C?d:a),wo(M,C?f:o),Pe&&Pe()},k=(M,C)=>{M._isLeaving=!1,wo(M,p),wo(M,v),wo(M,g),C&&C()},F=M=>(C,Pe)=>{const $e=M?O:V,be=()=>A(C,M,Pe);vo($e,[C,be]),py(()=>{wo(C,M?l:i),Ms(C,M?d:a),dy($e)||my(C,r,S,be)})};return dn(e,{onBeforeEnter(M){vo(q,[M]),Ms(M,i),Ms(M,o)},onBeforeAppear(M){vo(te,[M]),Ms(M,l),Ms(M,f)},onEnter:F(!1),onAppear:F(!0),onLeave(M,C){M._isLeaving=!0;const Pe=()=>k(M,C);Ms(M,p),M._enterCancelled?(Ms(M,g),_y(M)):(_y(M),Ms(M,g)),py(()=>{M._isLeaving&&(wo(M,p),Ms(M,v),dy(N)||my(M,r,L,Pe))}),vo(N,[M,Pe])},onEnterCancelled(M){A(M,!1,void 0,!0),vo(R,[M])},onAppearCancelled(M){A(M,!0,void 0,!0),vo(I,[M])},onLeaveCancelled(M){k(M),vo($,[M])}})}function FC(t){if(t==null)return null;if(It(t))return[Xh(t.enter),Xh(t.leave)];{const e=Xh(t);return[e,e]}}function Xh(t){return Hw(t)}function Ms(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[lu]||(t[lu]=new Set)).add(e)}function wo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[lu];n&&(n.delete(e),n.size||(t[lu]=void 0))}function py(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let UC=0;function my(t,e,n,r){const s=t._endId=++UC,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=$C(t,e);if(!o)return r();const f=o+"end";let d=0;const p=()=>{t.removeEventListener(f,g),i()},g=v=>{v.target===t&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},a+1),t.addEventListener(f,g)}function $C(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),s=r(`${yi}Delay`),i=r(`${yi}Duration`),o=gy(s,i),a=r(`${kc}Delay`),l=r(`${kc}Duration`),f=gy(a,l);let d=null,p=0,g=0;e===yi?o>0&&(d=yi,p=o,g=i.length):e===kc?f>0&&(d=kc,p=f,g=l.length):(p=Math.max(o,f),d=p>0?o>f?yi:kc:null,g=d?d===yi?i.length:l.length:0);const v=d===yi&&/\b(?:transform|all)(?:,|$)/.test(r(`${yi}Property`).toString());return{type:d,timeout:p,propCount:g,hasTransform:v}}function gy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>yy(n)+yy(t[r])))}function yy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function _y(t){return(t?t.ownerDocument:document).body.offsetHeight}function jC(t,e,n){const r=t[lu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const of=Symbol("_vod"),iE=Symbol("_vsh"),pj={name:"show",beforeMount(t,{value:e},{transition:n}){t[of]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Oc(t,!0),r.enter(t)):r.leave(t,()=>{Oc(t,!1)}):Oc(t,e))},beforeUnmount(t,{value:e}){Oc(t,e)}};function Oc(t,e){t.style.display=e?t[of]:"none",t[iE]=!e}const oE=Symbol("");function mj(t){const e=ai();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>af(i,s))},r=()=>{const s=t(e.proxy);e.ce?af(e.ce,s):cp(e.subTree,s),n(s)};Cb(()=>{ou(r)}),qo(()=>{Er(r,jr,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),lr(()=>s.disconnect())})}function cp(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{cp(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)af(t.el,e);else if(t.type===kn)t.children.forEach(n=>cp(n,e));else if(t.type===ka){let{el:n,anchor:r}=t;for(;n&&(af(n,e),n!==r);)n=n.nextSibling}}function af(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=zA(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[oE]=r}}const BC=/(?:^|;)\s*display\s*:/;function qC(t,e,n){const r=t.style,s=$t(n);let i=!1;if(n&&!s){if(e)if($t(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Sl(r,a,"")}else for(const o in e)n[o]==null&&Sl(r,o,"");for(const o in n)o==="display"&&(i=!0),Sl(r,o,n[o])}else if(s){if(e!==n){const o=r[oE];o&&(n+=";"+o),r.cssText=n,i=BC.test(n)}}else e&&t.removeAttribute("style");of in t&&(t[of]=i?r.display:"",t[iE]&&(r.display="none"))}const vy=/\s*!important$/;function Sl(t,e,n){if(qe(n))n.forEach(r=>Sl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=HC(t,e);vy.test(n)?t.setProperty(Hi(r),n.replace(vy,""),"important"):t[r]=n}}const wy=["Webkit","Moz","ms"],Zh={};function HC(t,e){const n=Zh[e];if(n)return n;let r=Ar(e);if(r!=="filter"&&r in t)return Zh[e]=r;r=$f(r);for(let s=0;s<wy.length;s++){const i=wy[s]+r;if(i in t)return Zh[e]=i}return e}const by="http://www.w3.org/1999/xlink";function Ey(t,e,n,r,s,i=qA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(by,e.slice(6,e.length)):t.setAttributeNS(by,e,n):n==null||i&&!Kw(n)?t.removeAttribute(e):t.setAttribute(e,i?"":ps(n)?String(n):n)}function Ty(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?rE(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Kw(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function So(t,e,n,r){t.addEventListener(e,n,r)}function KC(t,e,n,r){t.removeEventListener(e,n,r)}const Iy=Symbol("_vei");function zC(t,e,n,r,s=null){const i=t[Iy]||(t[Iy]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=WC(e);if(r){const f=i[e]=YC(r,s);So(t,a,f,l)}else o&&(KC(t,a,o,l),i[e]=void 0)}}const Ay=/(?:Once|Passive|Capture)$/;function WC(t){let e;if(Ay.test(t)){e={};let r;for(;r=t.match(Ay);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hi(t.slice(2)),e]}let ed=0;const GC=Promise.resolve(),QC=()=>ed||(GC.then(()=>ed=0),ed=Date.now());function YC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Hr(JC(r,n.value),e,5,[r])};return n.value=t,n.attached=QC(),n}function JC(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Sy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,XC=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?jC(t,r,o):e==="style"?qC(t,n,r):Ru(e)?um(e)||zC(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ZC(t,e,r,o))?(Ty(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ey(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(r))?Ty(t,Ar(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ey(t,e,r,o))};function ZC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sy(e)&&He(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Sy(e)&&$t(n)?!1:e in t}const cf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>Sa(e,n):e};function eR(t){t.target.composing=!0}function Cy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Oa=Symbol("_assign"),gj={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Oa]=cf(s);const i=r||s.props&&s.props.type==="number";So(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Hl(a)),t[Oa](a)}),n&&So(t,"change",()=>{t.value=t.value.trim()}),e||(So(t,"compositionstart",eR),So(t,"compositionend",Cy),So(t,"change",Cy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Oa]=cf(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Hl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},yj={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ff(e);So(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hl(uf(o)):uf(o));t[Oa](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,cr(()=>{t._assigning=!1})}),t[Oa]=cf(r)},mounted(t,{value:e}){Ry(t,e)},beforeUpdate(t,e,n){t[Oa]=cf(n)},updated(t,{value:e}){t._assigning||Ry(t,e)}};function Ry(t,e){const n=t.multiple,r=qe(e);if(!(n&&!r&&!Ff(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=uf(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(f=>String(f)===String(a)):o.selected=KA(e,a)>-1}else o.selected=e.has(a);else if(Bf(uf(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function uf(t){return"_value"in t?t._value:t.value}const tR=["ctrl","shift","alt","meta"],nR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>tR.some(n=>t[`${n}Key`]&&!e.includes(n))},_j=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=nR[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},rR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vj=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Hi(s.key);if(e.some(o=>o===i||rR[o]===i))return t(s)}))},aE=dn({patchProp:XC},NC);let Kc,Py=!1;function sR(){return Kc||(Kc=tC(aE))}function iR(){return Kc=Py?Kc:nC(aE),Py=!0,Kc}const cE=((...t)=>{const e=sR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=lE(r);if(!s)return;const i=e._component;!He(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,uE(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e}),oR=((...t)=>{const e=iR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=lE(r);if(s)return n(s,!0,uE(s))},e});function uE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function lE(t){return $t(t)?document.querySelector(t):t}const aR=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,cR=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,uR=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function lR(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){fR(t);return}return e}function fR(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ba(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!uR.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(aR.test(t)||cR.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,lR)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const hR=/#/g,dR=/&/g,pR=/\//g,mR=/=/g,Dm=/\+/g,gR=/%5e/gi,yR=/%60/gi,_R=/%7c/gi,vR=/%20/gi;function wR(t){return encodeURI(""+t).replace(_R,"|")}function up(t){return wR(typeof t=="string"?t:JSON.stringify(t)).replace(Dm,"%2B").replace(vR,"+").replace(hR,"%23").replace(dR,"%26").replace(yR,"`").replace(gR,"^").replace(pR,"%2F")}function td(t){return up(t).replace(mR,"%3D")}function lf(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function bR(t){return lf(t.replace(Dm," "))}function ER(t){return lf(t.replace(Dm," "))}function Nm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=bR(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=ER(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function TR(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${td(t)}=${up(n)}`).join("&"):`${td(t)}=${up(e)}`:td(t)}function IR(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>TR(e,t[e])).filter(Boolean).join("&")}const AR=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,SR=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,CR=/^([/\\]\s*){2,}[^/\\]/,RR=/^[\s\0]*(blob|data|javascript|vbscript):$/i,PR=/\/$|\/\?|\/#/,kR=/^\.?\//;function ci(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?AR.test(t):SR.test(t)||(e.acceptRelative?CR.test(t):!1)}function OR(t){return!!t&&RR.test(t)}function lp(t="",e){return e?PR.test(t):t.endsWith("/")}function fu(t="",e){if(!e)return(lp(t)?t.slice(0,-1):t)||"/";if(!lp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function fE(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(lp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function DR(t,e){if(hE(e)||ci(t))return t;const n=fu(e);return t.startsWith(n)?t:Qf(n,t)}function ky(t,e){if(hE(e))return t;const n=fu(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function ff(t,e){const n=mE(t),r={...Nm(n.search),...e};return n.search=IR(r),MR(n)}function hE(t){return!t||t==="/"}function NR(t){return t&&t!=="/"}function Qf(t,...e){let n=t||"";for(const r of e.filter(s=>NR(s)))if(n){const s=r.replace(kR,"");n=fE(n)+s}else n=r;return n}function dE(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&ci(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function xR(t,e){return lf(fu(t))===lf(fu(e))}const pE=Symbol.for("ufo:protocolRelative");function mE(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,g=""]=n;return{protocol:p.toLowerCase(),pathname:g,href:p+g,auth:"",host:"",search:"",hash:""}}if(!ci(t,{acceptRelative:!0}))return Oy(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:f,hash:d}=Oy(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:f,hash:d,[pE]:!r}}function Oy(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function MR(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[pE]?(t.protocol||"")+"//":"")+s+i+e+n+r}class LR extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function VR(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new LR(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[f]}});return a}const FR=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Dy(t="GET"){return FR.has(t.toUpperCase())}function UR(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const $R=new Set(["image/svg","application/xml","application/xhtml","application/html"]),jR=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function BR(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return jR.test(e)?"json":$R.has(e)||e.startsWith("text/")?"text":"blob"}function qR(t,e,n,r){const s=HR(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function HR(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function fl(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const KR=new Set([408,409,425,429,500,502,503,504]),zR=new Set([101,204,205,304]);function gE(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let d;typeof a.options.retry=="number"?d=a.options.retry:d=Dy(a.options.method)?0:1;const p=a.response&&a.response.status||500;if(d>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(p):KR.has(p))){const g=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return g>0&&await new Promise(v=>setTimeout(v,g)),i(a.request,{...a.options,retry:d-1})}}const f=VR(a);throw Error.captureStackTrace&&Error.captureStackTrace(f,i),f}const i=async function(l,f={}){const d={request:l,options:qR(l,f,t.defaults,n),response:void 0,error:void 0};d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&await fl(d,d.options.onRequest),typeof d.request=="string"&&(d.options.baseURL&&(d.request=DR(d.request,d.options.baseURL)),d.options.query&&(d.request=ff(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&Dy(d.options.method)&&(UR(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half")));let p;if(!d.options.signal&&d.options.timeout){const v=new r;p=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,v.abort(E)},d.options.timeout),d.options.signal=v.signal}try{d.response=await e(d.request,d.options)}catch(v){return d.error=v,d.options.onRequestError&&await fl(d,d.options.onRequestError),await s(d)}finally{p&&clearTimeout(p)}if((d.response.body||d.response._bodyInit)&&!zR.has(d.response.status)&&d.options.method!=="HEAD"){const v=(d.options.parseResponse?"json":d.options.responseType)||BR(d.response.headers.get("content-type")||"");switch(v){case"json":{const E=await d.response.text(),S=d.options.parseResponse||Ba;d.response._data=S(E);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[v]()}}return d.options.onResponse&&await fl(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await fl(d,d.options.onResponseError),await s(d)):d.response},o=async function(l,f){return(await i(l,f))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},l={})=>gE({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const hf=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),WR=hf.fetch?(...t)=>hf.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),GR=hf.Headers,QR=hf.AbortController,YR=gE({fetch:WR,Headers:GR,AbortController:QR}),JR=YR,XR=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,xm=()=>XR().app,ZR=()=>xm().baseURL,eP=()=>xm().buildAssetsDir,Mm=(...t)=>dE(yE(),eP(),...t),yE=(...t)=>{const e=xm(),n=e.cdnURL||e.baseURL;return t.length?dE(n,...t):n};globalThis.__buildAssetsURL=Mm,globalThis.__publicAssetsURL=yE;globalThis.$fetch||(globalThis.$fetch=JR.create({baseURL:ZR()}));"global"in globalThis||(globalThis.global=globalThis);function fp(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?fp(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const tP={run:t=>t()},nP=()=>tP,_E=typeof console.createTask<"u"?console.createTask:nP;function rP(t,e){const n=e.shift(),r=_E(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function sP(t,e){const n=e.shift(),r=_E(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function nd(t,e){for(const n of[...t])n(e)}class iP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=fp(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=fp(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(rP,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(sP,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&nd(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&nd(this._after,s)}):(this._after&&s&&nd(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function vE(){return new iP}function oP(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},f=()=>e===o?l:void 0;hp.add(f);try{const d=s?s.run(o,a):a();return n||(e=void 0),await d}finally{hp.delete(f)}}}}function aP(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=oP({...t,...r})),e[n]}}}const df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Ny="__unctx__",cP=df[Ny]||(df[Ny]=aP()),uP=(t,e={})=>cP.get(t,e),xy="__unctx_async_handlers__",hp=df[xy]||(df[xy]=new Set);function Tr(t){const e=[];for(const s of hp){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const lP=!1,My=!1,fP=!1,Ly={id:"__nuxt-loader"},hP={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},dP={deep:!1},pP={},mP="#__nuxt",wE="nuxt-app",Vy=36e5,gP="vite:preloadError";function bE(t=wE){return uP(t,{asyncContext:!1})}const yP="__nuxt_plugin";function _P(t){let e=0;const n={_id:t.id||wE||"nuxt-app",_scope:gm(),provide:void 0,versions:{get nuxt(){return"4.1.3"},get vue(){return n.vueApp.version}},payload:cs({...t.ssrContext?.payload||{},data:cs({}),state:un({}),once:new Set,_errors:cs({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!tc()?n._scope.run(()=>Fy(n,s)):Fy(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:cs({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=vE(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;hl(n,o,i),hl(n.vueApp.config.globalProperties,o,i)},hl(n.vueApp,"$nuxt",n),hl(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(gP,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Lt;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function vP(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function wP(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function bP(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(l){const f=l.dependsOn?.filter(d=>e.some(p=>p._name===d)&&!n.has(d))??[];if(f.length>0)r.push([new Set(f),l]);else{const d=wP(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([p,g])=>{p.has(l._name)&&(p.delete(l._name),p.size===0&&(o++,await a(g)))})))}).catch(p=>{if(!l.parallel&&!t.payload.error)throw p;i||=p});l.parallel?s.push(d):await d}}for(const l of e)vP(t,l);for(const l of e)await a(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw t.payload.error||i}function pn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[yP]:!0,_name:e})}const EP=pn;function Fy(t,e,n){const r=()=>e();return bE(t._id).set(t),t.vueApp.runWithContext(r)}function TP(t){let e;return Ou()&&(e=ai()?.appContext.app.$nuxt),e||=bE(t).tryUse(),e||null}function Lt(t){const e=TP(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function ei(t){return Lt().$config}function hl(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function IP(t,e){return{ctx:{table:t},matchAll:n=>TE(n,t)}}function EE(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,EE(s)])):new Map(Object.entries(t[n]));return e}function AP(t){return IP(EE(t))}function TE(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Uy(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Uy(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...TE(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Uy(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function rd(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function dp(t,e,n=".",r){if(!rd(e))return dp(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:rd(o)&&rd(s[i])?s[i]=dp(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function SP(t){return(...e)=>e.reduce((n,r)=>dp(n,r,"",t),{})}const IE=SP();function CP(t,e){try{return e in t}catch{return!1}}class $y extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:pp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=AE(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function RP(t){if(typeof t=="string")return new $y(t);if(PP(t))return t;const e=new $y(t.message??t.statusMessage??"",{cause:t.cause||t});if(CP(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=pp(t.statusCode,e.statusCode):t.status&&(e.statusCode=pp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;AE(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function PP(t){return t?.constructor?.__h3_error__===!0}const kP=/[^\u0009\u0020-\u007E]/g;function AE(t=""){return t.replace(kP,"")}function pp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const SE=Symbol("layout-meta"),Vo=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const qn=()=>Lt()?.$router,Yf=()=>Ou()?Ht(Vo,Lt()._route):Lt()._route;const OP=()=>{try{if(Lt()._processingMiddleware)return!0}catch{return!1}return!1},DP=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?mp(t):qn().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:f={}}=e.open,d=[];for(const[p,g]of Object.entries(f))g!==void 0&&d.push(`${p.toLowerCase()}=${g}`);return open(n,l,d.join(", ")),Promise.resolve()}const r=ci(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&OR(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=OP();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:f,hash:d}=mE(t);return{path:l,...f&&{query:Nm(f)},...d&&{hash:d},replace:!0}}return{...t,replace:!0}}return t}const o=qn(),a=Lt();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function mp(t){return ff(t.path||"",t.query||{})+(t.hash||"")}const CE="__nuxt_error",Du=()=>fb(Lt().payload,"error"),Io=t=>{const e=Oi(t);try{const n=Du();Lt().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},NP=async(t={})=>{const e=Lt(),n=Du();e.callHook("app:error:cleared",t),t.redirect&&await qn().replace(t.redirect),n.value=void 0},RE=t=>!!t&&typeof t=="object"&&CE in t,Oi=t=>{const e=RP(t);return Object.defineProperty(e,CE,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let PE;const Nu=t=>PE=t,kE=Symbol();function gp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zc||(zc={}));function xP(){const t=gm(!0),e=t.run(()=>Ft({}));let n=[],r=[];const s=Tm({install(i){Nu(s),s._a=i,i.provide(kE,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const OE=()=>{};function jy(t,e,n,r=OE){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&tc()&&ru(s),s}function ha(t,...e){t.slice().forEach(n=>{n(...e)})}const MP=t=>t(),By=Symbol(),sd=Symbol();function yp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];gp(s)&&gp(r)&&t.hasOwnProperty(n)&&!Ut(r)&&!Ws(r)?t[n]=yp(s,r):t[n]=r}return t}const LP=Symbol();function VP(t){return!gp(t)||!Object.prototype.hasOwnProperty.call(t,LP)}const{assign:wi}=Object;function FP(t){return!!(Ut(t)&&t.effect)}function UP(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function f(){a||(n.state.value[t]=s?s():{});const d=gS(n.state.value[t]);return wi(d,i,Object.keys(o||{}).reduce((p,g)=>(p[g]=Tm(Ze(()=>{Nu(n);const v=n._s.get(t);return o[g].call(v,v)})),p),{}))}return l=DE(t,f,e,n,r,!0),l}function DE(t,e,n={},r,s,i){let o;const a=wi({actions:{}},n),l={deep:!0};let f,d,p=[],g=[],v;const E=r.state.value[t];!i&&!E&&(r.state.value[t]={}),Ft({});let S;function L(I){let A;f=d=!1,typeof I=="function"?(I(r.state.value[t]),A={type:zc.patchFunction,storeId:t,events:v}):(yp(r.state.value[t],I),A={type:zc.patchObject,payload:I,storeId:t,events:v});const k=S=Symbol();cr().then(()=>{S===k&&(f=!0)}),d=!0,ha(p,A,r.state.value[t])}const q=i?function(){const{state:A}=n,k=A?A():{};this.$patch(F=>{wi(F,k)})}:OE;function V(){o.stop(),p=[],g=[],r._s.delete(t)}const R=(I,A="")=>{if(By in I)return I[sd]=A,I;const k=function(){Nu(r);const F=Array.from(arguments),M=[],C=[];function Pe(Ne){M.push(Ne)}function $e(Ne){C.push(Ne)}ha(g,{args:F,name:k[sd],store:$,after:Pe,onError:$e});let be;try{be=I.apply(this&&this.$id===t?this:$,F)}catch(Ne){throw ha(C,Ne),Ne}return be instanceof Promise?be.then(Ne=>(ha(M,Ne),Ne)).catch(Ne=>(ha(C,Ne),Promise.reject(Ne))):(ha(M,be),be)};return k[By]=!0,k[sd]=A,k},N={_p:r,$id:t,$onAction:jy.bind(null,g),$patch:L,$reset:q,$subscribe(I,A={}){const k=jy(p,I,A.detached,()=>F()),F=o.run(()=>Er(()=>r.state.value[t],M=>{(A.flush==="sync"?d:f)&&I({storeId:t,type:zc.direct,events:v},M)},wi({},l,A)));return k},$dispose:V},$=un(N);r._s.set(t,$);const O=(r._a&&r._a.runWithContext||MP)(()=>r._e.run(()=>(o=gm()).run(()=>e({action:R}))));for(const I in O){const A=O[I];if(Ut(A)&&!FP(A)||Ws(A))i||(E&&VP(A)&&(Ut(A)?A.value=E[I]:yp(A,E[I])),r.state.value[t][I]=A);else if(typeof A=="function"){const k=R(A,I);O[I]=k,a.actions[I]=A}}return wi($,O),wi(Ge($),O),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:I=>{L(A=>{wi(A,I)})}}),r._p.forEach(I=>{wi($,o.run(()=>I({store:$,app:r._a,pinia:r,options:a})))}),E&&i&&n.hydrate&&n.hydrate($.$state,E),f=!0,d=!0,$}/*! #__NO_SIDE_EFFECTS__ */function xu(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=Ou();return o=o||(l?Ht(kE,null):null),o&&Nu(o),o=PE,o._s.has(t)||(s?DE(t,e,r,o):UP(t,r,o)),o._s.get(t)}return i.$id=t,i}function $P(t){const e=BP(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const jP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function BP(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=jP.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const qP=-1,HP=-2,KP=-3,zP=-4,WP=-5,GP=-6;function QP(t,e){return YP(JSON.parse(t),e)}function YP(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===qP)return;if(i===KP)return NaN;if(i===zP)return 1/0;if(i===WP)return-1/0;if(i===GP)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],f=e?.[l];if(f)return r[i]=f(s(a[1]));switch(l){case"Date":r[i]=new Date(a[1]);break;case"Set":const d=new Set;r[i]=d;for(let v=1;v<a.length;v+=1)d.add(s(a[v]));break;case"Map":const p=new Map;r[i]=p;for(let v=1;v<a.length;v+=2)p.set(s(a[v]),s(a[v+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const g=Object.create(null);r[i]=g;for(let v=1;v<a.length;v+=2)g[a[v]]=s(a[v+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const v=globalThis[l],E=new v(s(a[1]));r[i]=a[2]!==void 0?E.subarray(a[2],a[3]):E;break}case"ArrayBuffer":{const v=a[1],E=$P(v);r[i]=E;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const v=l.slice(9);r[i]=Temporal[v].from(a[1]);break}case"URL":{const v=new URL(a[1]);r[i]=v;break}case"URLSearchParams":{const v=new URLSearchParams(a[1]);r[i]=v;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[i]=l;for(let f=0;f<a.length;f+=1){const d=a[f];d!==HP&&(l[f]=s(d))}}else{const l={};r[i]=l;for(const f in a){if(f==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const d=a[f];l[f]=s(d)}}return r[i]}return s(0)}const JP=new Set(["link","style","script","noscript"]),XP=new Set(["title","titleTemplate","script","style","noscript"]),qy=new Set(["base","meta","link","style","script","noscript"]),ZP=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),e1=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),t1=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),n1=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Lm=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),hu={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},r1={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},NE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${Hs(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?Hs(t):`${Hs(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${Hs(t)} ${e}`}},charset:{}};function Hs(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:hu.META.has(e.slice(0,n))||hu.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function xE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function _p(t){return Array.isArray(t)?t.map(_p):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[Hs(e),_p(n)]))}function ME(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const f=i({key:o,value:a});if(f!==void 0)return f}const l=typeof a=="object"?ME(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${l}`}).join(n)}function Hy(t,e){const n=xE(e),r=Hs(t),s=LE(r);if(!Lm.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return pf(i||{}).sort((o,a)=>(o[s]?.length||0)-(a[s]?.length||0))}function LE(t){if(NE[t]?.metaKey==="http-equiv"||hu.HTTP_EQUIV.has(t))return"http-equiv";const e=Hs(t),n=e.indexOf(":");return n===-1?"name":hu.OG.has(e.slice(0,n))?"property":"name"}function s1(t){return r1[t]||Hs(t)}function i1(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:ME(_p(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...NE[e]?.unpack})}function pf(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[f,d]of Object.entries(o)){const p=`${s}${f==="url"?"":`:${f}`}`,g=pf({[p]:d});(f==="url"?a:l).push(...g)}e.push(...a,...l)}else e.push(...typeof o=="string"?pf({[s]:o}):Hy(s,o));continue}if(typeof i=="object"&&i)if(hu.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";i.url&&e.push({[l]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[f,d]of Object.entries(i))f!=="url"&&f!=="secureUrl"&&e.push({[l]:`${o}:${a}:${f}`,content:d})}else Lm.has(Hs(s))?e.push(...Hy(s,i)):n[s]=xE(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=LE(s),a=s1(s),l=i===null?"_null":typeof i=="object"?i1(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const o1={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(pf(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},a1=["name","property","http-equiv"],c1=new Set(["viewport","description","keywords","robots"]);function VE(t){const e=t.split(":");return e.length?Lm.has(e[1]):!1}function vp(t){const{props:e,tag:n}=t;if(e1.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of a1)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=c1.has(s),l=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(XP.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Ky(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function mf(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>mf(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=mf(s[o],e,o);return i}return s}function u1(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function FE(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=u1(n,r);return}if(t1.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function l1(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=FE({tag:t,props:{}},n);return r.key&&JP.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function f1(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=mf(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(l1(s,o))}),r.flat()}const zy=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wy={base:-10,title:10},h1={critical:-8,high:-1,low:2},Gy={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},d1=/@import/,Dc=t=>t===""||t===!0;function p1(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=h1[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Gy;if(e.tag in Wy)n=Wy[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Gy.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Dc(e.props.async)?n=s.script.async:e.props.src&&!Dc(e.props.defer)&&!Dc(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:Dc(e.props.defer)&&e.props.src&&!Dc(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&d1.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Qy(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function m1(t={}){const e=vE();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Qy(o,a),push(a,l){const f={...l||{}};delete f.head;const d=f._index??o._entryCount++,p={_i:d,input:a,options:f},g={_poll(v=!1){o.dirty=!0,!v&&i.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(v){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=v,r.set(d,p),g._poll())}};return g.patch(a),g},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const g=i.values().next().value;i.delete(g);const v=r.get(g);if(v){const E={tags:f1(v.input,t.propResolvers||[]).map(S=>Object.assign(S,v.options)),entry:v};await e.callHook("entries:normalize",E),v._tags=E.tags.map((S,L)=>(S._w=p1(o,S),S._p=(v._i<<10)+L,S._d=vp(S),S))}}let l=!1;a.entries.flatMap(g=>(g._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(zy).reduce((g,v)=>{const E=String(v._d||v._p);if(!g.has(E))return g.set(E,v);const S=g.get(E);if((v?.tagDuplicateStrategy||(n1.has(v.tag)?"merge":null)||(v.key&&v.key===S.key?"merge":null))==="merge"){const q={...S.props};Object.entries(v.props).forEach(([V,R])=>q[V]=V==="style"?new Map([...S.props.style||new Map,...R]):V==="class"?new Set([...S.props.class||new Set,...R]):R),g.set(E,{...v,props:q})}else v._p>>10===S._p>>10&&v.tag==="meta"&&VE(E)?(g.set(E,Object.assign([...Array.isArray(S)?S:[S],v],v)),l=!0):(v._w===S._w?v._p>S._p:v?._w<S?._w)&&g.set(E,v);return g},a.tagMap);const f=a.tagMap.get("title"),d=a.tagMap.get("titleTemplate");if(o._title=f?.textContent,d){const g=d?.textContent;if(o._titleTemplate=g,g){let v=typeof g=="function"?g(f?.textContent):g;typeof v=="string"&&!o.plugins.has("template-params")&&(v=v.replace("%s",f?.textContent||"")),f?v===null?a.tagMap.delete("title"):a.tagMap.set("title",{...f,textContent:v}):(d.tag="title",d.textContent=v)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(zy)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const p=[];for(const g of a.tags){const{innerHTML:v,tag:E,props:S}=g;if(ZP.has(E)&&!(Object.keys(S).length===0&&!g.innerHTML&&!g.textContent)&&!(E==="meta"&&!S.content&&!S["http-equiv"]&&!S.charset)){if(E==="script"&&v){if(S.type?.endsWith("json")){const L=typeof v=="string"?v:JSON.stringify(v);g.innerHTML=L.replace(/</g,"\\u003C")}else typeof v=="string"&&(g.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));g._d=vp(g)}p.push(g)}}return p},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Qy(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const g1=(t,e)=>Ut(e)?Vr(e):e,Vm="usehead";function y1(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Vm,t)}}.install}function UE(){if(Ou()){const t=Ht(Vm);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function $E(t,e={}){const n=e.head||UE();return n.ssr?n.push(t||{},e):_1(n,t,e)}function _1(t,e,n={}){const r=Ft(!1);let s;return qc(()=>{const o=r.value?{}:mf(e,g1);s?s.patch(o):s=t.push(o,n)}),ai()&&(rc(()=>{s.dispose()}),Ib(()=>{r.value=!0}),Tb(()=>{r.value=!1})),s}function v1(t={},e={}){(e.head||UE()).use(o1);const{title:r,titleTemplate:s,...i}=t;return $E({title:r,titleTemplate:s,_flatMeta:i},e)}function jE(t){const e=t||Lt();return e.ssrContext?.head||e.runWithContext(()=>{if(Ou()){const n=Ht(Vm);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function BE(t,e={}){const n=e.head||jE(e.nuxt);return $E(t,{head:n,...e})}function w1(t,e={}){const n=e.head||jE(e.nuxt);return v1(t,{head:n,...e})}const b1="modulepreload",E1=function(t,e){return new URL(t,e).href},Yy={},Tt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=f(n.map(d=>{if(d=E1(d,r),d in Yy)return;Yy[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const S=o[E];if(S.href===d&&(!p||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":b1,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((E,S)=>{v.addEventListener("load",E),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let Cl,Rl;function T1(){return Cl=$fetch(Mm(`builds/meta/${ei().app.buildId}.json`),{responseType:"json"}),Cl.then(t=>{Rl=AP(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Cl}function Jf(){return Cl||T1()}async function Fm(t){const e=typeof t=="string"?t:t.path;if(await Jf(),!Rl)return console.error("[nuxt] Error creating app manifest matcher.",Rl),{};try{return IE({},...Rl.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Jy(t,e={}){if(!await HE(t))return null;const r=await A1(t,e);return await qE(r)||null}const I1="_payload.json";async function A1(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ci(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=ei(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await HE(t)?i:r.app.baseURL;return Qf(o,n.pathname,I1+(s?`?${s}`:""))}async function qE(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(KE));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function HE(t=Yf().path){const e=Lt();return t=t.replace(/\/$/,""),(await Jf()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Fm({path:t});return!!r.prerender&&!r.redirect})}let bo=null;async function S1(){if(bo)return bo;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await KE(t.textContent||""),n=t.dataset.src?await qE(t.dataset.src):void 0;return bo={...e,...n,...window.__NUXT__},bo.config?.public&&(bo.config.public=un(bo.config.public)),bo}async function KE(t){return await QP(t,Lt()._payloadRevivers)}function zE(t,e){Lt()._payloadRevivers[t]=e}const C1=EP(()=>{zE("skipHydrate",t=>{})}),R1=[["NuxtError",t=>Oi(t)],["EmptyShallowRef",t=>Zs(t==="_"?void 0:t==="0n"?BigInt(0):Ba(t))],["EmptyRef",t=>Ft(t==="_"?void 0:t==="0n"?BigInt(0):Ba(t))],["ShallowRef",t=>Zs(t)],["ShallowReactive",t=>cs(t)],["Ref",t=>Ft(t)],["Reactive",t=>un(t)]],P1=pn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of R1)zE(r,s);Object.assign(t.payload,([e,n]=Tr(()=>t.runWithContext(S1)),e=await e,n(),e)),delete window.__NUXT__}});async function Um(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(v=>{t.resolveTags().then(E=>{v(E.map(S=>{const L=i.get(S._d)||0,q={tag:S,id:(L?`${S._d}:${L}`:S._d)||Ky(S),shouldRender:!0};return S._d&&VE(S._d)&&i.set(S._d,L+1),q}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const v of["body","head"]){const E=n[v]?.children;for(const S of E){const L=S.tagName.toLowerCase();if(!qy.has(L))continue;const q=FE({tag:L,props:{}},{innerHTML:S.innerHTML,...S.getAttributeNames().reduce((V,R)=>(V[R]=S.getAttribute(R),V),{})||{}});if(q.key=S.getAttribute("data-hid")||void 0,q._d=vp(q)||Ky(q),a.elMap.has(q._d)){let V=1,R=q._d;for(;a.elMap.has(R);)R=`${q._d}:${V++}`;a.elMap.set(R,S)}else a.elMap.set(q._d,S)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(v,E,S){const L=`${v}:${E}`;a.sideEffects[L]=S,delete a.pendingSideEffects[L]}function f({id:v,$el:E,tag:S}){const L=S.tag.endsWith("Attrs");a.elMap.set(v,E),L||(S.textContent&&S.textContent!==E.textContent&&(E.textContent=S.textContent),S.innerHTML&&S.innerHTML!==E.innerHTML&&(E.innerHTML=S.innerHTML),l(v,"el",()=>{E?.remove(),a.elMap.delete(v)}));for(const q in S.props){if(!Object.prototype.hasOwnProperty.call(S.props,q))continue;const V=S.props[q];if(q.startsWith("on")&&typeof V=="function"){const N=E?.dataset;if(N&&N[`${q}fired`]){const $=q.slice(0,-5);V.call(E,new Event($.substring(2)))}E.getAttribute(`data-${q}`)!==""&&((S.tag==="bodyAttrs"?n.defaultView:E).addEventListener(q.substring(2),V.bind(E)),E.setAttribute(`data-${q}`,""));continue}const R=`attr:${q}`;if(q==="class"){if(!V)continue;for(const N of V)L&&l(v,`${R}:${N}`,()=>E.classList.remove(N)),!E.classList.contains(N)&&E.classList.add(N)}else if(q==="style"){if(!V)continue;for(const[N,$]of V)l(v,`${R}:${N}`,()=>{E.style.removeProperty(N)}),E.style.setProperty(N,$)}else V!==!1&&V!==null&&(E.getAttribute(q)!==V&&E.setAttribute(q,V===!0?"":String(V)),L&&l(v,R,()=>E.removeAttribute(q)))}}const d=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await o;for(const v of g){const{tag:E,shouldRender:S,id:L}=v;if(S){if(E.tag==="title"){n.title=E.textContent,l("title","",()=>n.title=a.title);continue}v.$el=v.$el||a.elMap.get(L),v.$el?f(v):qy.has(E.tag)&&d.push(v)}}for(const v of d){const E=v.tag.tagPosition||"head";v.$el=n.createElement(v.tag.tag),f(v),p[E]=p[E]||n.createDocumentFragment(),p[E].appendChild(v.$el)}for(const v of g)await t.hooks.callHook("dom:renderTag",v,n,l);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const v in a.pendingSideEffects)a.pendingSideEffects[v]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function k1(t={}){const e=t.domOptions?.render||Um;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return m1({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function O1(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function D1(t={}){const e=k1({domOptions:{render:O1(()=>Um(e),n=>setTimeout(n,0))},...t});return e.install=y1(e),e}const N1={disableDefaults:!0},x1=pn({name:"nuxt:head",enforce:"pre",setup(t){const e=D1(N1);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Um(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ga=typeof document<"u";function WE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function M1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&WE(t.default)}const _t=Object.assign;function id(t,e){const n={};for(const r in e){const s=e[r];n[r]=Kr(s)?s.map(t):t(s)}return n}const Wc=()=>{},Kr=Array.isArray,GE=/#/g,L1=/&/g,V1=/\//g,F1=/=/g,U1=/\?/g,QE=/\+/g,$1=/%5B/g,j1=/%5D/g,YE=/%5E/g,B1=/%60/g,JE=/%7B/g,q1=/%7C/g,XE=/%7D/g,H1=/%20/g;function $m(t){return encodeURI(""+t).replace(q1,"|").replace($1,"[").replace(j1,"]")}function K1(t){return $m(t).replace(JE,"{").replace(XE,"}").replace(YE,"^")}function wp(t){return $m(t).replace(QE,"%2B").replace(H1,"+").replace(GE,"%23").replace(L1,"%26").replace(B1,"`").replace(JE,"{").replace(XE,"}").replace(YE,"^")}function z1(t){return wp(t).replace(F1,"%3D")}function W1(t){return $m(t).replace(GE,"%23").replace(U1,"%3F")}function G1(t){return t==null?"":W1(t).replace(V1,"%2F")}function du(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Q1=/\/$/,Y1=t=>t.replace(Q1,"");function od(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ek(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:du(o)}}function J1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function X1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&qa(e.matched[r],n.matched[s])&&ZE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ZE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Z1(t[n],e[n]))return!1;return!0}function Z1(t,e){return Kr(t)?Zy(t,e):Kr(e)?Zy(e,t):t===e}function Zy(t,e){return Kr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ek(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pu;(function(t){t.pop="pop",t.push="push"})(pu||(pu={}));var Gc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gc||(Gc={}));function tk(t){if(!t)if(ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Y1(t)}const nk=/^[^#]+#/;function rk(t,e){return t.replace(nk,"#")+e}function sk(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xf=()=>({left:window.scrollX,top:window.scrollY});function ik(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=sk(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function e_(t,e){return(history.state?history.state.position-e:-1)+t}const bp=new Map;function ok(t,e){bp.set(t,e)}function ak(t){const e=bp.get(t);return bp.delete(t),e}let ck=()=>location.protocol+"//"+location.host;function eT(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Xy(l,"")}return Xy(n,t)+r+s}function uk(t,e,n,r){let s=[],i=[],o=null;const a=({state:g})=>{const v=eT(t,location),E=n.value,S=e.value;let L=0;if(g){if(n.value=v,e.value=g,o&&o===E){o=null;return}L=S?g.position-S.position:0}else r(v);s.forEach(q=>{q(n.value,E,{delta:L,type:pu.pop,direction:L?L>0?Gc.forward:Gc.back:Gc.unknown})})};function l(){o=n.value}function f(g){s.push(g);const v=()=>{const E=s.indexOf(g);E>-1&&s.splice(E,1)};return i.push(v),v}function d(){const{history:g}=window;g.state&&g.replaceState(_t({},g.state,{scroll:Xf()}),"")}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:f,destroy:p}}function t_(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Xf():null}}function lk(t){const{history:e,location:n}=window,r={value:eT(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,f,d){const p=t.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:ck()+t+l;try{e[d?"replaceState":"pushState"](f,"",g),s.value=f}catch(v){console.error(v),n[d?"replace":"assign"](g)}}function o(l,f){const d=_t({},e.state,t_(s.value.back,l,s.value.forward,!0),f,{position:s.value.position});i(l,d,!0),r.value=l}function a(l,f){const d=_t({},s.value,e.state,{forward:l,scroll:Xf()});i(d.current,d,!0);const p=_t({},t_(r.value,l,null),{position:d.position+1},f);i(l,p,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function fk(t){t=tk(t);const e=lk(t),n=uk(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:t,go:r,createHref:rk.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function hk(t){return typeof t=="string"||t&&typeof t=="object"}function tT(t){return typeof t=="string"||typeof t=="symbol"}const nT=Symbol("");var n_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(n_||(n_={}));function Ha(t,e){return _t(new Error,{type:t,[nT]:!0},e)}function Ls(t,e){return t instanceof Error&&nT in t&&(e==null||!!(t.type&e))}const r_="[^/]+?",dk={sensitive:!1,strict:!1,start:!0,end:!0},pk=/[.+*?^${}()[\]/\\]/g;function mk(t,e){const n=_t({},dk,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const d=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let p=0;p<f.length;p++){const g=f[p];let v=40+(n.sensitive?.25:0);if(g.type===0)p||(s+="/"),s+=g.value.replace(pk,"\\$&"),v+=40;else if(g.type===1){const{value:E,repeatable:S,optional:L,regexp:q}=g;i.push({name:E,repeatable:S,optional:L});const V=q||r_;if(V!==r_){v+=10;try{new RegExp(`(${V})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${E}" (${V}): `+N.message)}}let R=S?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;p||(R=L&&f.length<2?`(?:/${R})`:"/"+R),L&&(R+="?"),s+=R,v+=20,L&&(v+=-8),S&&(v+=-20),V===".*"&&(v+=-50)}d.push(v)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(f){const d=f.match(o),p={};if(!d)return null;for(let g=1;g<d.length;g++){const v=d[g]||"",E=i[g-1];p[E.name]=v&&E.repeatable?v.split("/"):v}return p}function l(f){let d="",p=!1;for(const g of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of g)if(v.type===0)d+=v.value;else if(v.type===1){const{value:E,repeatable:S,optional:L}=v,q=E in f?f[E]:"";if(Kr(q)&&!S)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const V=Kr(q)?q.join("/"):q;if(!V)if(L)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);d+=V}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function gk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function rT(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=gk(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(s_(r))return 1;if(s_(s))return-1}return s.length-r.length}function s_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const yk={type:0,value:""},_k=/[a-zA-Z0-9_]/;function vk(t){if(!t)return[[]];if(t==="/")return[[yk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,f="",d="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function g(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&p(),o()):l===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:_k.test(l)?g():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),o(),s}function wk(t,e,n){const r=mk(vk(t.path),n),s=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function bk(t,e){const n=[],r=new Map;e=c_({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,g,v){const E=!v,S=o_(p);S.aliasOf=v&&v.record;const L=c_(e,p),q=[S];if("alias"in p){const N=typeof p.alias=="string"?[p.alias]:p.alias;for(const $ of N)q.push(o_(_t({},S,{components:v?v.record.components:S.components,path:$,aliasOf:v?v.record:S})))}let V,R;for(const N of q){const{path:$}=N;if(g&&$[0]!=="/"){const te=g.record.path,O=te[te.length-1]==="/"?"":"/";N.path=g.record.path+($&&O+$)}if(V=wk(N,g,L),v?v.alias.push(V):(R=R||V,R!==V&&R.alias.push(V),E&&p.name&&!a_(V)&&o(p.name)),sT(V)&&l(V),S.children){const te=S.children;for(let O=0;O<te.length;O++)i(te[O],V,v&&v.children[O])}v=v||V}return R?()=>{o(R)}:Wc}function o(p){if(tT(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return n}function l(p){const g=Ik(p,n);n.splice(g,0,p),p.record.name&&!a_(p)&&r.set(p.record.name,p)}function f(p,g){let v,E={},S,L;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Ha(1,{location:p});L=v.record.name,E=_t(i_(g.params,v.keys.filter(R=>!R.optional).concat(v.parent?v.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),p.params&&i_(p.params,v.keys.map(R=>R.name))),S=v.stringify(E)}else if(p.path!=null)S=p.path,v=n.find(R=>R.re.test(S)),v&&(E=v.parse(S),L=v.record.name);else{if(v=g.name?r.get(g.name):n.find(R=>R.re.test(g.path)),!v)throw Ha(1,{location:p,currentLocation:g});L=v.record.name,E=_t({},g.params,p.params),S=v.stringify(E)}const q=[];let V=v;for(;V;)q.unshift(V.record),V=V.parent;return{name:L,path:S,params:E,matched:q,meta:Tk(q)}}t.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function i_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function o_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ek(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ek(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function a_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Tk(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function c_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ik(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;rT(t,e[i])<0?r=i:n=i+1}const s=Ak(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Ak(t){let e=t;for(;e=e.parent;)if(sT(e)&&rT(t,e)===0)return e}function sT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Sk(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(QE," "),o=i.indexOf("="),a=du(o<0?i:i.slice(0,o)),l=o<0?null:du(i.slice(o+1));if(a in e){let f=e[a];Kr(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function u_(t){let e="";for(let n in t){const r=t[n];if(n=z1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kr(r)?r.map(i=>i&&wp(i)):[r&&wp(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Ck(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Kr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Rk=Symbol(""),l_=Symbol(""),Zf=Symbol(""),jm=Symbol(""),Ep=Symbol("");function Nc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ti(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(Ha(4,{from:n,to:e})):g instanceof Error?l(g):hk(g)?l(Ha(2,{from:e,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),a())},d=i(()=>t.call(r&&r.instances[s],e,n,f));let p=Promise.resolve(d);t.length<3&&(p=p.then(f)),p.catch(g=>l(g))})}function ad(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(WE(l)){const d=(l.__vccOpts||l)[e];d&&i.push(Ti(d,n,r,o,a,s))}else{let f=l();i.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=M1(d)?d.default:d;o.mods[a]=d,o.components[a]=p;const v=(p.__vccOpts||p)[e];return v&&Ti(v,n,r,o,a,s)()}))}}return i}function f_(t){const e=Ht(Zf),n=Ht(jm),r=Ze(()=>{const l=Rt(t.to);return e.resolve(l)}),s=Ze(()=>{const{matched:l}=r.value,{length:f}=l,d=l[f-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(qa.bind(null,d));if(g>-1)return g;const v=h_(l[f-2]);return f>1&&h_(d)===v&&p[p.length-1].path!==v?p.findIndex(qa.bind(null,l[f-2])):g}),i=Ze(()=>s.value>-1&&Nk(n.params,r.value.params)),o=Ze(()=>s.value>-1&&s.value===n.matched.length-1&&ZE(n.params,r.value.params));function a(l={}){if(Dk(l)){const f=e[Rt(t.replace)?"replace":"push"](Rt(t.to)).catch(Wc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Pk(t){return t.length===1?t[0]:t}const kk=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:f_,setup(t,{slots:e}){const n=un(f_(t)),{options:r}=Ht(Zf),s=Ze(()=>({[d_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[d_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Pk(e.default(n));return t.custom?i:qt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ok=kk;function Dk(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Nk(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Kr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function h_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const d_=(t,e,n)=>t??e??n,xk=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ht(Ep),s=Ze(()=>t.route||r.value),i=Ht(l_,0),o=Ze(()=>{let f=Rt(i);const{matched:d}=s.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),a=Ze(()=>s.value.matched[o.value]);Gs(l_,Ze(()=>o.value+1)),Gs(Rk,a),Gs(Ep,s);const l=Ft();return Er(()=>[l.value,a.value,t.name],([f,d,p],[g,v,E])=>{d&&(d.instances[p]=f,v&&v!==d&&f&&f===g&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),f&&d&&(!v||!qa(d,v)||!g)&&(d.enterCallbacks[p]||[]).forEach(S=>S(f))},{flush:"post"}),()=>{const f=s.value,d=t.name,p=a.value,g=p&&p.components[d];if(!g)return p_(n.default,{Component:g,route:f});const v=p.props[d],E=v?v===!0?f.params:typeof v=="function"?v(f):v:null,L=qt(g,_t({},E,e,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return p_(n.default,{Component:L,route:f})||L}}});function p_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const iT=xk;function Mk(t){const e=bk(t.routes,t),n=t.parseQuery||Sk,r=t.stringifyQuery||u_,s=t.history,i=Nc(),o=Nc(),a=Nc(),l=Zs(vr);let f=vr;ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=id.bind(null,oe=>""+oe),p=id.bind(null,G1),g=id.bind(null,du);function v(oe,ke){let se,Le;return tT(oe)?(se=e.getRecordMatcher(oe),Le=ke):Le=oe,e.addRoute(Le,se)}function E(oe){const ke=e.getRecordMatcher(oe);ke&&e.removeRoute(ke)}function S(){return e.getRoutes().map(oe=>oe.record)}function L(oe){return!!e.getRecordMatcher(oe)}function q(oe,ke){if(ke=_t({},ke||l.value),typeof oe=="string"){const j=od(n,oe,ke.path),ee=e.resolve({path:j.path},ke),fe=s.createHref(j.fullPath);return _t(j,ee,{params:g(ee.params),hash:du(j.hash),redirectedFrom:void 0,href:fe})}let se;if(oe.path!=null)se=_t({},oe,{path:od(n,oe.path,ke.path).path});else{const j=_t({},oe.params);for(const ee in j)j[ee]==null&&delete j[ee];se=_t({},oe,{params:p(j)}),ke.params=p(ke.params)}const Le=e.resolve(se,ke),et=oe.hash||"";Le.params=d(g(Le.params));const je=J1(r,_t({},oe,{hash:K1(et),path:Le.path})),x=s.createHref(je);return _t({fullPath:je,hash:et,query:r===u_?Ck(oe.query):oe.query||{}},Le,{redirectedFrom:void 0,href:x})}function V(oe){return typeof oe=="string"?od(n,oe,l.value.path):_t({},oe)}function R(oe,ke){if(f!==oe)return Ha(8,{from:ke,to:oe})}function N(oe){return O(oe)}function $(oe){return N(_t(V(oe),{replace:!0}))}function te(oe){const ke=oe.matched[oe.matched.length-1];if(ke&&ke.redirect){const{redirect:se}=ke;let Le=typeof se=="function"?se(oe):se;return typeof Le=="string"&&(Le=Le.includes("?")||Le.includes("#")?Le=V(Le):{path:Le},Le.params={}),_t({query:oe.query,hash:oe.hash,params:Le.path!=null?{}:oe.params},Le)}}function O(oe,ke){const se=f=q(oe),Le=l.value,et=oe.state,je=oe.force,x=oe.replace===!0,j=te(se);if(j)return O(_t(V(j),{state:typeof j=="object"?_t({},et,j.state):et,force:je,replace:x}),ke||se);const ee=se;ee.redirectedFrom=ke;let fe;return!je&&X1(r,Le,se)&&(fe=Ha(16,{to:ee,from:Le}),Tn(Le,Le,!0,!1)),(fe?Promise.resolve(fe):k(ee,Le)).catch(ae=>Ls(ae)?Ls(ae,2)?ae:Kt(ae):Ce(ae,ee,Le)).then(ae=>{if(ae){if(Ls(ae,2))return O(_t({replace:x},V(ae.to),{state:typeof ae.to=="object"?_t({},et,ae.to.state):et,force:je}),ke||ee)}else ae=M(ee,Le,!0,x,et);return F(ee,Le,ae),ae})}function I(oe,ke){const se=R(oe,ke);return se?Promise.reject(se):Promise.resolve()}function A(oe){const ke=Cr.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(oe):oe()}function k(oe,ke){let se;const[Le,et,je]=Lk(oe,ke);se=ad(Le.reverse(),"beforeRouteLeave",oe,ke);for(const j of Le)j.leaveGuards.forEach(ee=>{se.push(Ti(ee,oe,ke))});const x=I.bind(null,oe,ke);return se.push(x),zt(se).then(()=>{se=[];for(const j of i.list())se.push(Ti(j,oe,ke));return se.push(x),zt(se)}).then(()=>{se=ad(et,"beforeRouteUpdate",oe,ke);for(const j of et)j.updateGuards.forEach(ee=>{se.push(Ti(ee,oe,ke))});return se.push(x),zt(se)}).then(()=>{se=[];for(const j of je)if(j.beforeEnter)if(Kr(j.beforeEnter))for(const ee of j.beforeEnter)se.push(Ti(ee,oe,ke));else se.push(Ti(j.beforeEnter,oe,ke));return se.push(x),zt(se)}).then(()=>(oe.matched.forEach(j=>j.enterCallbacks={}),se=ad(je,"beforeRouteEnter",oe,ke,A),se.push(x),zt(se))).then(()=>{se=[];for(const j of o.list())se.push(Ti(j,oe,ke));return se.push(x),zt(se)}).catch(j=>Ls(j,8)?j:Promise.reject(j))}function F(oe,ke,se){a.list().forEach(Le=>A(()=>Le(oe,ke,se)))}function M(oe,ke,se,Le,et){const je=R(oe,ke);if(je)return je;const x=ke===vr,j=ga?history.state:{};se&&(Le||x?s.replace(oe.fullPath,_t({scroll:x&&j&&j.scroll},et)):s.push(oe.fullPath,et)),l.value=oe,Tn(oe,ke,se,x),Kt()}let C;function Pe(){C||(C=s.listen((oe,ke,se)=>{if(!xn.listening)return;const Le=q(oe),et=te(Le);if(et){O(_t(et,{replace:!0,force:!0}),Le).catch(Wc);return}f=Le;const je=l.value;ga&&ok(e_(je.fullPath,se.delta),Xf()),k(Le,je).catch(x=>Ls(x,12)?x:Ls(x,2)?(O(_t(V(x.to),{force:!0}),Le).then(j=>{Ls(j,20)&&!se.delta&&se.type===pu.pop&&s.go(-1,!1)}).catch(Wc),Promise.reject()):(se.delta&&s.go(-se.delta,!1),Ce(x,Le,je))).then(x=>{x=x||M(Le,je,!1),x&&(se.delta&&!Ls(x,8)?s.go(-se.delta,!1):se.type===pu.pop&&Ls(x,20)&&s.go(-1,!1)),F(Le,je,x)}).catch(Wc)}))}let $e=Nc(),be=Nc(),Ne;function Ce(oe,ke,se){Kt(oe);const Le=be.list();return Le.length?Le.forEach(et=>et(oe,ke,se)):console.error(oe),Promise.reject(oe)}function ht(){return Ne&&l.value!==vr?Promise.resolve():new Promise((oe,ke)=>{$e.add([oe,ke])})}function Kt(oe){return Ne||(Ne=!oe,Pe(),$e.list().forEach(([ke,se])=>oe?se(oe):ke()),$e.reset()),oe}function Tn(oe,ke,se,Le){const{scrollBehavior:et}=t;if(!ga||!et)return Promise.resolve();const je=!se&&ak(e_(oe.fullPath,0))||(Le||!se)&&history.state&&history.state.scroll||null;return cr().then(()=>et(oe,ke,je)).then(x=>x&&ik(x)).catch(x=>Ce(x,oe,ke))}const kt=oe=>s.go(oe);let pt;const Cr=new Set,xn={currentRoute:l,listening:!0,addRoute:v,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:S,resolve:q,options:t,push:N,replace:$,go:kt,back:()=>kt(-1),forward:()=>kt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:ht,install(oe){const ke=this;oe.component("RouterLink",Ok),oe.component("RouterView",iT),oe.config.globalProperties.$router=ke,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>Rt(l)}),ga&&!pt&&l.value===vr&&(pt=!0,N(s.location).catch(et=>{}));const se={};for(const et in vr)Object.defineProperty(se,et,{get:()=>l.value[et],enumerable:!0});oe.provide(Zf,ke),oe.provide(jm,cs(se)),oe.provide(Ep,l);const Le=oe.unmount;Cr.add(oe),oe.unmount=function(){Cr.delete(oe),Cr.size<1&&(f=vr,C&&C(),C=null,l.value=vr,pt=!1,Ne=!1),Le()}}};function zt(oe){return oe.reduce((ke,se)=>ke.then(()=>A(se)),Promise.resolve())}return xn}function Lk(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(f=>qa(f,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>qa(f,l))||s.push(l))}return[n,r,s]}function wj(){return Ht(Zf)}function oT(t){return Ht(jm)}const Vk=/(:\w+)\([^)]+\)/g,Fk=/(:\w+)[?+*]/g,Uk=/:\w+/g,$k=(t,e)=>e.path.replace(Vk,"$1").replace(Fk,"$1").replace(Uk,n=>t.params[n.slice(1)]?.toString()||""),Tp=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&$k(t.route,n));return typeof r=="function"?r(t.route):r},jk=(t,e)=>({default:()=>t?qt(MS,t===!0?{}:t,e):e});function Bm(t){return Array.isArray(t)?t:[t]}const Bk={layout:"home"},qk={layout:"noscroll"},Hk={layout:"form"},Kk={layout:"form"},zk={layout:"form"},Wk={layout:"form"},cd=[{name:"db",path:"/db",component:()=>Tt(()=>import("./CvdAHn_p.js"),[],import.meta.url)},{name:"200",path:"/200",component:()=>Tt(()=>import("./BTifWfq9.js"),[],import.meta.url)},{name:"404",path:"/404",component:()=>Tt(()=>import("./DCd5pDUq.js"),[],import.meta.url)},{name:"500",path:"/500",component:()=>Tt(()=>import("./NFVe2y4Y.js"),[],import.meta.url)},{name:"index",path:"/",meta:Bk||{},component:()=>Tt(()=>import("./C_iMeBHb.js"),__vite__mapDeps([0,1]),import.meta.url)},{name:"sobre",path:"/sobre",component:()=>Tt(()=>import("./ogIjDjE8.js"),__vite__mapDeps([2,3]),import.meta.url)},{name:"agenda",path:"/agenda",meta:qk||{},component:()=>Tt(()=>import("./BjSfDYNm.js"),__vite__mapDeps([4,5,6,7]),import.meta.url)},{name:"perfil",path:"/perfil",component:()=>Tt(()=>import("./BrG3FQ9L.js"),__vite__mapDeps([8,9]),import.meta.url)},{name:"eventos",path:"/eventos",component:()=>Tt(()=>import("./tIJWH_xx.js"),__vite__mapDeps([10,11,12,13]),import.meta.url)},{name:"navegar",path:"/navegar",component:()=>Tt(()=>import("./CH_qQSz2.js"),__vite__mapDeps([14,15]),import.meta.url)},{name:"recentes",path:"/recentes",component:()=>Tt(()=>import("./B3TTzcI5.js"),__vite__mapDeps([16,17]),import.meta.url)},{name:"servicos",path:"/servicos",component:()=>Tt(()=>import("./BwU4Rk2b.js"),__vite__mapDeps([18,19]),import.meta.url)},{name:"settings",path:"/settings",component:()=>Tt(()=>import("./CD00gXOZ.js"),__vite__mapDeps([20,21]),import.meta.url)},{name:"relatorio",path:"/relatorio",component:()=>Tt(()=>import("./DHst6W5C.js"),__vite__mapDeps([22,11,23]),import.meta.url)},{name:"forms-view",path:"/forms/view",meta:Hk||{},component:()=>Tt(()=>import("./hQ6PYla6.js"),__vite__mapDeps([24,5,6,25]),import.meta.url)},{name:"lista-edit",path:"/lista/edit",component:()=>Tt(()=>import("./Be_91HnF.js"),[],import.meta.url)},{name:"hinos",path:"/hinos",component:()=>Tt(()=>import("./CcfTsluV.js"),__vite__mapDeps([26,27]),import.meta.url)},{name:"lista",path:"/lista",component:()=>Tt(()=>import("./C-fJpana.js"),__vite__mapDeps([28,5,6,12,11,29]),import.meta.url)},{name:"evento",path:"/evento",component:()=>Tt(()=>import("./DhLKuG8v.js"),__vite__mapDeps([30,31]),import.meta.url)},{name:"forms-contato",path:"/forms/contato",meta:Kk||{},component:()=>Tt(()=>import("./D3GhYwk4.js"),__vite__mapDeps([32,33]),import.meta.url)},{name:"lista-calendar",path:"/lista/calendar",component:()=>Tt(()=>import("./WXRnlHAn.js"),__vite__mapDeps([34,5,6,11,35]),import.meta.url)},{name:"evento-solicitar",path:"/evento/solicitar",component:()=>Tt(()=>import("./CADOhUKT.js"),__vite__mapDeps([36,37]),import.meta.url)},{name:"forms-manutencao",path:"/forms/manutencao",meta:zk||{},component:()=>Tt(()=>import("./CHQnh2ww.js"),__vite__mapDeps([38,39]),import.meta.url)},{name:"forms-levantamento_preventiva",path:"/forms/levantamento_preventiva",meta:Wk||{},component:()=>Tt(()=>import("./BiC3ZW8T.js"),__vite__mapDeps([40,41]),import.meta.url)}],aT=(t,e)=>({default:()=>t?qt(LC,t===!0?{}:t,e):e.default?.()}),Gk=/(:\w+)\([^)]+\)/g,Qk=/(:\w+)[?+*]/g,Yk=/:\w+/g;function m_(t){const e=t?.meta.key??t.path.replace(Gk,"$1").replace(Qk,"$1").replace(Yk,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function Jk(t,e){return t===e||e===vr?!1:m_(t)!==m_(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}const Xk={scrollBehavior(t,e,n){const r=Lt(),s=qn().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:cT(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===vr){a(g_(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(g_(t,e,n,s)))})})}};function cT(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function g_(t,e,n,r){if(n)return n;const s=Jk(t,e);return t.hash?{el:t.hash,top:cT(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const Zk={hashMode:!1,scrollBehaviorType:"auto"},_i={...Zk,...Xk},eO=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=Tr(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Oi({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},tO=async t=>{let e,n;const r=([e,n]=Tr(()=>Fm({path:t.path})),e=await e,n(),e);if(r.redirect)return ci(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},nO=[eO,tO],Ip={};function rO(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const f=i.includes(t.slice(o))?t.slice(o).length:1;let d=i.slice(f);return d[0]!=="/"&&(d="/"+d),ky(d,"")}const a=ky(r,t),l=!n||xR(a,n)?a:n;return l+(l.includes("?")?"":s)+i}const sO=pn({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=ei().app.baseURL;const s=_i.history?.(r)??fk(r),i=_i.routes?([e,n]=Tr(()=>_i.routes(cd)),e=await e,n(),e??cd):cd;let o;const a=Mk({..._i,scrollBehavior:(L,q,V)=>{if(q===vr){o=V;return}if(_i.scrollBehavior){if(a.options.scrollBehavior=_i.scrollBehavior,"scrollRestoration"in window.history){const R=a.beforeEach(()=>{R(),window.history.scrollRestoration="manual"})}return _i.scrollBehavior(L,vr,o||V)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=Zs(a.currentRoute.value);a.afterEach((L,q)=>{l.value=q}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const f=rO(r,window.location,t.payload.path),d=Zs(a.currentRoute.value),p=()=>{d.value=a.currentRoute.value};t.hook("page:finish",p),a.afterEach((L,q)=>{L.matched[L.matched.length-1]?.components?.default===q.matched[q.matched.length-1]?.components?.default&&p()});const g={};for(const L in d.value)Object.defineProperty(g,L,{get:()=>d.value[L],enumerable:!0});t._route=cs(g),t._middleware||={global:[],named:{}};const v=Du();a.afterEach(async(L,q,V)=>{delete t._processingMiddleware,!t.isHydrating&&v.value&&await t.runWithContext(NP),V&&await t.callHook("page:loading:end")});try{[e,n]=Tr(()=>a.isReady()),await e,n()}catch(L){[e,n]=Tr(()=>t.runWithContext(()=>Io(L))),await e,n()}const E=f!==a.currentRoute.value.fullPath?a.resolve(f):a.currentRoute.value;p();const S=t.payload.state._layout;return a.beforeEach(async(L,q)=>{await t.callHook("page:loading:start"),L.meta=un(L.meta),t.isHydrating&&S&&!Xs(L.meta.layout)&&(L.meta.layout=S),t._processingMiddleware=!0;{const V=new Set([...nO,...t._middleware.global]);for(const R of L.matched){const N=R.meta.middleware;if(N)for(const $ of Bm(N))V.add($)}{const R=await t.runWithContext(()=>Fm({path:L.path}));if(R.appMiddleware)for(const N in R.appMiddleware)R.appMiddleware[N]?V.add(N):V.delete(N)}for(const R of V){const N=typeof R=="string"?t._middleware.named[R]||await Ip[R]?.().then($=>$.default||$):R;if(!N)throw new Error(`Unknown route middleware: '${R}'.`);try{const $=await t.runWithContext(()=>N(L,q));if(!t.payload.serverRendered&&t.isHydrating&&($===!1||$ instanceof Error)){const te=$||Oi({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await t.runWithContext(()=>Io(te)),!1}if($===!0)continue;if($===!1)return $;if($)return RE($)&&$.fatal&&await t.runWithContext(()=>Io($)),$}catch($){const te=Oi($);return te.fatal&&await t.runWithContext(()=>Io(te)),te}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(L=>{if(L.matched.length===0)return t.runWithContext(()=>Io(Oi({statusCode:404,fatal:!1,statusMessage:`Page not found: ${L.fullPath}`,data:{path:L.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await a.replace({...E,force:!0}),a.options.scrollBehavior=_i.scrollBehavior}catch(L){await t.runWithContext(()=>Io(L))}}),{provide:{router:a}}}}),Ap=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),iO=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),eh=t=>{const e=Lt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Ap(()=>t())}):Ap(()=>t())},oO=pn({name:"nuxt:payload",setup(t){const e=new Set;qn().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Jy(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),eh(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Jy(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Jf,1e3)})}}),aO=pn(()=>{const t=qn();eh(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),cO=pn(t=>{let e;async function n(){let r;try{r=await Jf()}catch(s){const i=s;if(!("status"in i&&(i.status===404||i.status===403)))throw i}e&&clearTimeout(e),e=setTimeout(n,Vy);try{const s=await $fetch(Mm("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(t.hooks.callHook("app:manifest:update",s),e&&clearTimeout(e))}catch{}}eh(()=>{e=setTimeout(n,Vy)})});function uO(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ba(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Lt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const lO=pn({name:"nuxt:chunk-reload",setup(t){const e=qn(),n=ei(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=Qf(n.app.baseURL,i.fullPath);uO({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function Sp(t){return typeof t=="string"?`'${t}'`:new fO().serialize(t)}const fO=(function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,l]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function hO(t,e){return t===e||Sp(t)===Sp(e)}const dO=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],pO=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],mO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Eo=[];let gO=class{_data=new dl;_hash=new dl([...dO]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const r=this._hash.words;let s=r[0],i=r[1],o=r[2],a=r[3],l=r[4],f=r[5],d=r[6],p=r[7];for(let g=0;g<64;g++){if(g<16)Eo[g]=e[n+g]|0;else{const R=Eo[g-15],N=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,$=Eo[g-2],te=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;Eo[g]=N+Eo[g-7]+te+Eo[g-16]}const v=l&f^~l&d,E=s&i^s&o^i&o,S=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),L=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),q=p+L+v+pO[g]+Eo[g],V=S+E;p=d,d=f,f=l,l=a+q|0,a=o,o=i,i=s,s=q+V|0}r[0]=r[0]+s|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0,r[5]=r[5]+f|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0}_append(e){typeof e=="string"&&(e=dl.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,r=this._data.sigBytes/64;e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const s=r*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let o=0;o<s;o+=16)this._doProcessBlock(this._data.words,o);n=this._data.words.splice(0,s),this._data.sigBytes-=i}return new dl(n,i)}},dl=class uT{words;sigBytes;constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),r=n.length,s=[];for(let i=0;i<r;i++)s[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new uT(s,r)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const r=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,o=r<<16|s<<8|i;for(let a=0;a<4&&n*8+a*6<this.sigBytes*8;a++)e.push(mO.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}};function yO(t){return new gO().finalize(t).toBase64()}function ya(t){return yO(Sp(t))}const _O={trailing:!0};function vO(t,e=25,n={}){if(n={..._O,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,s,i=[],o,a;const l=(p,g)=>(o=wO(t,p,g),o.finally(()=>{if(o=null,n.trailing&&a&&!s){const v=l(p,a);return a=null,v}}),o),f=function(...p){return n.trailing&&(a=p),o||new Promise(g=>{const v=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const E=n.leading?r:l(this,p);a=null;for(const S of i)S(E);i=[]},e),v?(r=l(this,p),g(r)):i.push(g)})},d=p=>{p&&(clearTimeout(p),s=null)};return f.isPending=()=>!!s,f.cancel=()=>{d(s),i=[],a=null},f.flush=()=>{if(d(s),!a||o)return;const p=a;return a=null,l(this,p)},f}async function wO(t,e,n){return await t.apply(e,n)}const bO=Symbol.for("nuxt:client-only");function EO(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;TO(t[0],t[1])&&t.unshift(e);let[n,r,s={}]=t,i=!1;const o=Ze(()=>Vr(n));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Lt();s.server??=!0,s.default??=AO,s.getCachedData??=fT,s.lazy??=!1,s.immediate??=!0,s.deep??=dP.deep,s.dedupe??="cancel",s._functionName,a._asyncData[o.value];function l(){const E={cause:"initial",dedupe:s.dedupe};return a._asyncData[o.value]?._init||(E.cachedData=s.getCachedData(o.value,a,{cause:"initial"}),a._asyncData[o.value]=y_(a,o.value,r,s,E.cachedData)),()=>a._asyncData[o.value].execute(E)}const f=l(),d=a._asyncData[o.value];d._deps++;const p=s.server!==!1&&a.payload.serverRendered;{let E=function(N){const $=a._asyncData[N];$?._deps&&($._deps--,$._deps===0&&$?._off())};const S=ai();if(S&&p&&s.immediate&&!S.sp&&(S.sp=[]),S&&!S._nuxtOnBeforeMountCbs){S._nuxtOnBeforeMountCbs=[];const N=S._nuxtOnBeforeMountCbs;Sb(()=>{N.forEach($=>{$()}),N.splice(0,N.length)}),lr(()=>N.splice(0,N.length))}const L=S&&(S._nuxtClientOnly||Ht(bO,!1));p&&a.isHydrating&&(d.error.value||d.data.value!==void 0)?d.status.value=d.error.value?"error":"success":S&&(!L&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?S._nuxtOnBeforeMountCbs.push(f):s.immediate&&d.status.value!=="success"&&f();const q=tc(),V=Er(o,(N,$)=>{if((N||$)&&N!==$){i=!0;const te=a._asyncData[$]?.data.value!==void 0,O=a._asyncDataPromises[$]!==void 0,I={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[N]?._init){let A;$&&te?A=a._asyncData[$].data.value:(A=s.getCachedData(N,a,{cause:"initial"}),I.cachedData=A),a._asyncData[N]=y_(a,N,r,s,A)}a._asyncData[N]._deps++,$&&E($),(s.immediate||te||O)&&a._asyncData[N].execute(I),ou(()=>{i=!1})}},{flush:"sync"}),R=s.watch?Er(s.watch,()=>{i||d._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};q&&ru(()=>{V(),R(),E(o.value)})}const g={data:pl(()=>a._asyncData[o.value]?.data),pending:pl(()=>a._asyncData[o.value]?.pending),status:pl(()=>a._asyncData[o.value]?.status),error:pl(()=>a._asyncData[o.value]?.error),refresh:(...E)=>a._asyncData[o.value]?._init?a._asyncData[o.value].execute(...E):l()(),execute:(...E)=>g.refresh(...E),clear:()=>lT(a,o.value)},v=Promise.resolve(a._asyncDataPromises[o.value]).then(()=>g);return Object.assign(v,g),v}function pl(t){return Ze({get(){return t()?.value},set(e){const n=t();n&&(n.value=e)}})}function TO(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}function lT(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=void 0),t._asyncData[e]&&(t._asyncData[e].data.value=Rt(t._asyncData[e]._default()),t._asyncData[e].error.value=void 0,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function IO(t,e){const n={};for(const r of e)n[r]=t[r];return n}function y_(t,e,n,r,s){t.payload._errors[e]??=void 0;const i=r.getCachedData!==fT,o=n,a=r.deep?Ft:Zs,l=s!==void 0,f=t.hook("app:data:refresh",async p=>{(!p||p.includes(e))&&await d.execute({cause:"refresh:hook"})}),d={data:a(l?s:r.default()),pending:Ze(()=>d.status.value==="pending"),error:fb(t.payload._errors,e),status:Zs("idle"),execute:(...p)=>{const[g,v=void 0]=p,E=g&&v===void 0&&typeof g=="object"?g:{};if(t._asyncDataPromises[e]){if((E.dedupe??r.dedupe)==="defer")return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}{const L="cachedData"in E?E.cachedData:r.getCachedData(e,t,{cause:E.cause??"refresh:manual"});if(L!==void 0)return t.payload.data[e]=d.data.value=L,d.error.value=void 0,d.status.value="success",Promise.resolve(L)}d.status.value="pending";const S=new Promise((L,q)=>{try{L(o(t))}catch(V){q(V)}}).then(async L=>{if(S.cancelled)return t._asyncDataPromises[e];let q=L;r.transform&&(q=await r.transform(L)),r.pick&&(q=IO(q,r.pick)),t.payload.data[e]=q,d.data.value=q,d.error.value=void 0,d.status.value="success"}).catch(L=>{if(S.cancelled)return t._asyncDataPromises[e];d.error.value=Oi(L),d.data.value=Rt(r.default()),d.status.value="error"}).finally(()=>{S.cancelled||delete t._asyncDataPromises[e]});return t._asyncDataPromises[e]=S,t._asyncDataPromises[e]},_execute:vO((...p)=>d.execute(...p),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),i||cr(()=>{t._asyncData[e]?._init||(lT(t,e),d.execute=()=>Promise.resolve())})}};return d}const AO=()=>{},fT=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function __(t,e,n){const[r={},s]=typeof e=="string"?[{},e]:[e,n],i=Ze(()=>Vr(t)),o=Ze(()=>Vr(r.key)||"$f"+ya([s,typeof i.value=="string"?i.value:"",...SO(r)]));if(!r.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:l,default:f,transform:d,pick:p,watch:g,immediate:v,getCachedData:E,deep:S,dedupe:L,...q}=r,V=un({...pP,...q,cache:typeof r.cache=="boolean"?void 0:r.cache}),R={server:a,lazy:l,default:f,transform:d,pick:p,immediate:v,getCachedData:E,deep:S,dedupe:L,watch:g===!1?[]:[...g||[],V]};let N;return EO(g===!1?o.value:o,()=>{N?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),N=typeof AbortController<"u"?new AbortController:{};const te=Vr(r.timeout);let O;return te&&(O=setTimeout(()=>N.abort(new DOMException("Request aborted due to timeout.","AbortError")),te),N.signal.onabort=()=>clearTimeout(O)),(r.$fetch||globalThis.$fetch)(i.value,{signal:N.signal,...V}).finally(()=>{clearTimeout(O)})},R)}function SO(t){const e=[Vr(t.method)?.toUpperCase()||"GET",Vr(t.baseURL)];for(const n of[t.params||t.query]){const r=Vr(n);if(!r)continue;const s={};for(const[i,o]of Object.entries(r))s[Vr(i)]=Vr(o);e.push(s)}if(t.body){const n=Vr(t.body);if(!n)e.push(ya(n));else if(n instanceof ArrayBuffer)e.push(ya(Object.fromEntries([...new Uint8Array(n).entries()].map(([r,s])=>[r,s.toString()]))));else if(n instanceof FormData){const r={};for(const s of n.entries()){const[i,o]=s;r[i]=o instanceof File?o.name:o}e.push(ya(r))}else if(hm(n))e.push(ya(un(n)));else try{e.push(ya(n))}catch{console.warn("[useFetch] Failed to hash body",n)}}return e}function CO(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},s=r.decode||RO;let i=0;for(;i<t.length;){const o=t.indexOf("=",i);if(o===-1)break;let a=t.indexOf(";",i);if(a===-1)a=t.length;else if(a<o){i=t.lastIndexOf(";",o-1)+1;continue}const l=t.slice(i,o).trim();if(r?.filter&&!r?.filter(l)){i=a+1;continue}if(n[l]===void 0){let f=t.slice(o+1,a).trim();f.codePointAt(0)===34&&(f=f.slice(1,-1)),n[l]=PO(f,s)}i=a+1}return n}function RO(t){return t.includes("%")?decodeURIComponent(t):t}function PO(t,e){try{return e(t)}catch{return t}}const ml=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function v_(t,e,n){const r=n||{},s=r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!ml.test(t))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!ml.test(i))throw new TypeError("argument val is invalid");let o=t+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!ml.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!ml.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!kO(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function kO(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function Lr(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=Lr(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Lr(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=Lr(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=Lr(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(s){n.add(Lr(s))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(s,i){n.set(Lr(i),Lr(s))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(Lr(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const OO={path:"/",watch:!0,decode:t=>Ba(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},gl=globalThis.cookieStore;function w_(t,e){const n={...OO,...e};n.filter??=f=>f===t;const r=b_(n)||{};let s;n.maxAge!==void 0?s=n.maxAge*1e3:n.expires&&(s=n.expires.getTime()-Date.now());const i=s!==void 0&&s<=0,o=i||r[t]===void 0||r[t]===null,a=Lr(i?void 0:r[t]??n.default?.()),l=s&&!i?xO(a,s,n.watch&&n.watch!=="shallow"):Ft(a);{let f=null;try{!gl&&typeof BroadcastChannel<"u"&&(f=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const d=(E=!1)=>{!E&&(n.readonly||hO(l.value,r[t]))||(NO(t,l.value,n),r[t]=Lr(l.value),f?.postMessage({value:n.encode(l.value)}))},p=E=>{const S=E.refresh?b_(n)?.[t]:n.decode(E.value);g=!0,l.value=S,r[t]=Lr(S),cr(()=>{g=!1})};let g=!1;const v=!!tc();if(v&&ru(()=>{g=!0,d(),f?.close()}),gl){const E=S=>{const L=S.changed.find(V=>V.name===t),q=S.deleted.find(V=>V.name===t);L&&p({value:L.value}),q&&p({value:null})};gl.addEventListener("change",E),v&&ru(()=>gl.removeEventListener("change",E))}else f&&(f.onmessage=({data:E})=>p(E));n.watch&&Er(l,()=>{g||d()},{deep:n.watch!=="shallow"}),o&&d(o)}return l}function b_(t={}){return CO(document.cookie,t)}function DO(t,e,n={}){return e==null?v_(t,e,{...n,maxAge:-1}):v_(t,e,n)}function NO(t,e,n={}){document.cookie=DO(t,e,n)}const E_=2147483647;function xO(t,e,n){let r,s,i=0;const o=n?Ft(t):{value:t};return tc()&&ru(()=>{s?.(),clearTimeout(r)}),mS((a,l)=>{n&&(s=Er(o,l));function f(){i=0,clearTimeout(r);const d=e-i,p=d<E_?d:E_;r=setTimeout(()=>{if(i+=p,i<e)return f();o.value=void 0,l()},p)}return{get(){return a(),o.value},set(d){f(),o.value=d,l()}}})}function MO(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function hT(t,e=qn()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>hT(t,e));e._routePreloaded.add(n);for(const i of r){const o=i.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const LO=(...t)=>t.find(e=>e!==void 0);function VO(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o,a){const l=a??t.trailingSlash;if(!i||l!=="append"&&l!=="remove")return i;if(typeof i=="string")return yl(i,l);const f="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:yl(f,l)}}function s(i){const o=qn(),a=ei(),l=Ze(()=>!!i.target&&i.target!=="_self"),f=Ze(()=>{const L=i.to||i.href||"";return typeof L=="string"&&ci(L,{acceptRelative:!0})}),d=Jd("RouterLink"),p=d&&typeof d!="string"?d.useLink:void 0,g=Ze(()=>{if(i.external)return!0;const L=i.to||i.href||"";return typeof L=="object"?!1:L===""||f.value}),v=Ze(()=>{const L=i.to||i.href||"";return g.value?L:r(L,o.resolve,i.trailingSlash)}),E=g.value?void 0:p?.({...i,to:v}),S=Ze(()=>{const L=i.trailingSlash??t.trailingSlash;if(!v.value||f.value||n(v.value))return v.value;if(g.value){const q=typeof v.value=="object"&&"path"in v.value?mp(v.value):v.value,V=typeof q=="object"?o.resolve(q).href:q;return yl(V,L)}return typeof v.value=="object"?o.resolve(v.value)?.href??null:yl(Qf(a.app.baseURL,v.value),L)});return{to:v,hasTarget:l,isAbsoluteUrl:f,isExternal:g,href:S,isActive:E?.isActive??Ze(()=>v.value===o.currentRoute.value.path),isExactActive:E?.isExactActive??Ze(()=>v.value===o.currentRoute.value.path),route:E?.route??Ze(()=>o.resolve(v.value)),async navigate(L){await DP(S.value,{replace:i.replace,external:g.value||l.value})}}}return Jt({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=qn(),{to:l,href:f,navigate:d,isExternal:p,hasTarget:g,isAbsoluteUrl:v}=s(i),E=Zs(!1),S=Ft(null),L=R=>{S.value=i.custom?R?.$el?.nextElementSibling:R?.$el};function q(R){return!E.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===R:i.prefetchOn?.[R]??t.prefetchOn?.[R])&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!jO()}async function V(R=Lt()){if(E.value)return;E.value=!0;const N=typeof l.value=="string"?l.value:p.value?mp(l.value):a.resolve(l.value).fullPath,$=p.value?new URL(N,window.location.href).href:N;await Promise.all([R.hooks.callHook("link:prefetch",$).catch(()=>{}),!p.value&&!g.value&&hT(l.value,a).catch(()=>{})])}if(q("visibility")){const R=Lt();let N,$=null;qo(()=>{const te=UO();eh(()=>{N=Ap(()=>{S?.value?.tagName&&($=te.observe(S.value,async()=>{$?.(),$=null,await V(R)}))})})}),rc(()=>{N&&iO(N),$?.(),$=null})}return()=>{if(!p.value&&!g.value&&!n(l.value)){const $={ref:L,to:l.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(q("interaction")&&($.onPointerenter=V.bind(null,void 0),$.onFocus=V.bind(null,void 0)),E.value&&($.class=i.prefetchedClass||t.prefetchedClass),$.rel=i.rel||void 0),qt(Jd("RouterLink"),$,o.default)}const R=i.target||null,N=LO(i.noRel?"":i.rel,t.externalRelAttribute,v.value||g.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:f.value,navigate:d,prefetch:V,get route(){if(!f.value)return;const $=new URL(f.value,window.location.href);return{path:$.pathname,fullPath:$.pathname,get query(){return Nm($.search)},hash:$.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:N,target:R,isExternal:p.value||g.value,isActive:!1,isExactActive:!1}):null:qt("a",{ref:S,href:f.value||null,rel:N,target:R,onClick:$=>{if(!(p.value||g.value))return $.preventDefault(),i.replace?a.replace(f.value):a.push(f.value)}},o.default?.())}}})}const FO=VO(hP);function yl(t,e){const n=e==="append"?fE:fu;return ci(t)&&!t.startsWith("http")?t:n(t,!0)}function UO(){const t=Lt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||=new IntersectionObserver(a=>{for(const l of a){const f=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&f&&f()}}),n.set(i,o),e.observe(i),()=>{n.delete(i),e?.unobserve(i),n.size===0&&(e?.disconnect(),e=null)});return t._observer={observe:r}}const $O=/2g/;function jO(){const t=navigator.connection;return!!(t&&(t.saveData||$O.test(t.effectiveType)))}const BO=pn({name:"pinia",setup(t){const e=xP();return t.vueApp.use(e),Nu(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),qO=pn({name:"nuxt:global-components"}),Ci={default:Pc(()=>Tt(()=>import("./BccrEfUY.js"),__vite__mapDeps([42,43,44,45,46]),import.meta.url).then(t=>t.default||t)),form:Pc(()=>Tt(()=>import("./C3huEMbv.js"),__vite__mapDeps([47,43,44,45,48]),import.meta.url).then(t=>t.default||t)),home:Pc(()=>Tt(()=>import("./B2drjIQJ.js"),__vite__mapDeps([49,43,5,6]),import.meta.url).then(t=>t.default||t)),landscape:Pc(()=>Tt(()=>import("./C1KcFNN8.js"),__vite__mapDeps([50,43,44,45,51]),import.meta.url).then(t=>t.default||t)),noscroll:Pc(()=>Tt(()=>import("./CiXMYJe1.js"),__vite__mapDeps([52,43,44,45,53]),import.meta.url).then(t=>t.default||t))},HO=pn({name:"nuxt:prefetch",setup(t){const e=qn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Ci[r]=="function"&&await Ci[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ci(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=Bm(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Ip[o]=="function"&&Ip[o]();typeof s=="string"&&s in Ci&&MO(Ci[s])})}});function ud(...t){window.dataLayer?.push(arguments)}function KO({tags:t}){window.dataLayer=window.dataLayer||[];for(const e of t)for(const n of e.initCommands??[])ud(...n);ud("js",new Date);for(const e of t)ud("config",e.id,e.config??{})}function zO(t){const e=Ge(t),n=e.tags.filter(Boolean).map(r=>typeof r=="string"?{id:r}:r);if(e.id){const{id:r,config:s,initCommands:i}=e;n.unshift({id:r,config:s,initCommands:i})}return n}const WO=pn({parallel:!0,setup(){const t=ei().public.gtag,e=zO(t);if(!e.length||(KO({tags:e}),t.initMode==="manual"))return;const n=t.loadingStrategy==="async"?"async":"defer";BE({link:[{rel:"preload",as:"script",href:ff(t.url,{id:e[0].id})}],script:[{src:ff(t.url,{id:e[0].id}),[n]:!0,"data-gtag":""}]})}});function GO(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function qm(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=qm(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function dT(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return qm(t,dT(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function pT(t,e){return e.map(n=>n.split(".")).map(n=>[n,GO(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>qm(n,r[1],r[0]),{})}function mT(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>dT(n,r),t)}function T_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},f,d=!0){try{d&&a?.(f);const p=e.getItem(r);if(p){const g=n.deserialize(p),v=i?pT(g,i):g,E=o?mT(v,o):v;t.$patch(E)}d&&l?.(f)}catch(p){s&&console.error("[pinia-plugin-persistedstate]",p)}}function I_(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o}){try{const a=i?pT(t,i):t,l=o?mT(a,o):a,f=n.serialize(l);e.setItem(r,f)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function QO(t,e,n){const{pinia:r,store:s,options:{persist:i=n}}=t;if(!i)return;if(!(s.$id in r.state.value)){const l=r._s.get(s.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:l=!0}={})=>{a.forEach(f=>{T_(s,f,t,l)})},s.$persist=()=>{a.forEach(l=>{I_(s.$state,l)})},a.forEach(l=>{T_(s,l,t),s.$subscribe((f,d)=>I_(d,l),{detached:!0})})}function YO(t){return{getItem:e=>w_(e,{...t??ei().public.piniaPluginPersistedstate.cookieOptions??{},decode:t?.decode??decodeURIComponent,readonly:!0}).value,setItem:(e,n)=>w_(e,{...t??ei().public.piniaPluginPersistedstate.cookieOptions??{},encode:t?.encode??encodeURIComponent}).value=n}}function JO(){return{getItem:t=>window.localStorage.getItem(t),setItem:(t,e)=>window.localStorage.setItem(t,e)}}function XO(){return{getItem:t=>window.sessionStorage.getItem(t),setItem:(t,e)=>window.sessionStorage.setItem(t,e)}}const ld={cookies:YO,localStorage:JO,sessionStorage:XO};function ZO(t){const n=ei().public.piniaPluginPersistedstate;QO(t,r=>({key:n.key?n.key.replace(/%id/g,r.key??t.store.$id):r.key??t.store.$id,debug:r.debug??n.debug??!1,serializer:r.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>Ba(s)},storage:r.storage??(n.storage?n.storage==="cookies"?ld.cookies(n.cookieOptions):ld[n.storage]():ld.cookies()),beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}const eD=pn({name:"pinia-plugin-persistedstate",setup({$pinia:t}){t.use(ZO)}});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pl={exports:{}},tD=Pl.exports,A_;function nD(){return A_||(A_=1,(function(t,e){(function(n,r){t.exports=r()})(tD,function(){var n=function(u,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])})(u,h)},r=function(){return(r=Object.assign||function(u){for(var h,m=1,_=arguments.length;m<_;m++)for(var b in h=arguments[m])Object.prototype.hasOwnProperty.call(h,b)&&(u[b]=h[b]);return u}).apply(this,arguments)};function s(u,h,m){for(var _,b=0,T=h.length;b<T;b++)!_&&b in h||((_=_||Array.prototype.slice.call(h,0,b))[b]=h[b]);return u.concat(_||Array.prototype.slice.call(h))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lc,o=Object.keys,a=Array.isArray;function l(u,h){return typeof h!="object"||o(h).forEach(function(m){u[m]=h[m]}),u}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function p(u,h){return d.call(u,h)}function g(u,h){typeof h=="function"&&(h=h(f(u))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(m){E(u,m,h[m])})}var v=Object.defineProperty;function E(u,h,m,_){v(u,h,l(m&&p(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},_))}function S(u){return{from:function(h){return u.prototype=Object.create(h.prototype),E(u.prototype,"constructor",u),{extend:g.bind(null,u.prototype)}}}}var L=Object.getOwnPropertyDescriptor,q=[].slice;function V(u,h,m){return q.call(u,h,m)}function R(u,h){return h(u)}function N(u){if(!u)throw new Error("Assertion Failed")}function $(u){i.setImmediate?setImmediate(u):setTimeout(u,0)}function te(u,h){if(typeof h=="string"&&p(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var m=[],_=0,b=h.length;_<b;++_){var T=te(u,h[_]);m.push(T)}return m}var D=h.indexOf(".");if(D!==-1){var U=u[h.substr(0,D)];return U==null?void 0:te(U,h.substr(D+1))}}function O(u,h,m){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){N(typeof m!="string"&&"length"in m);for(var _=0,b=h.length;_<b;++_)O(u,h[_],m[_])}else{var T,D,U=h.indexOf(".");U!==-1?(T=h.substr(0,U),(D=h.substr(U+1))===""?m===void 0?a(u)&&!isNaN(parseInt(T))?u.splice(T,1):delete u[T]:u[T]=m:O(U=!(U=u[T])||!p(u,T)?u[T]={}:U,D,m)):m===void 0?a(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=m}}function I(u){var h,m={};for(h in u)p(u,h)&&(m[h]=u[h]);return m}var A=[].concat;function k(u){return A.apply([],u)}var Oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return i[u]}),F=new Set(Oe.map(function(u){return i[u]})),M=null;function C(u){return M=new WeakMap,u=(function h(m){if(!m||typeof m!="object")return m;var _=M.get(m);if(_)return _;if(a(m)){_=[],M.set(m,_);for(var b=0,T=m.length;b<T;++b)_.push(h(m[b]))}else if(F.has(m.constructor))_=m;else{var D,U=f(m);for(D in _=U===Object.prototype?{}:Object.create(U),M.set(m,_),m)p(m,D)&&(_[D]=h(m[D]))}return _})(u),M=null,u}var Pe={}.toString;function $e(u){return Pe.call(u).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ne=typeof be=="symbol"?function(u){var h;return u!=null&&(h=u[be])&&h.apply(u)}:function(){return null};function Ce(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var ht={};function Kt(u){var h,m,_,b;if(arguments.length===1){if(a(u))return u.slice();if(this===ht&&typeof u=="string")return[u];if(b=Ne(u)){for(m=[];!(_=b.next()).done;)m.push(_.value);return m}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(m=new Array(h);h--;)m[h]=u[h];return m}for(h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return m}var Tn=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ve=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ve),kt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pt(u,h){this.name=u,this.message=h}function Cr(u,h){return u+". Errors: "+Object.keys(h).map(function(m){return h[m].toString()}).filter(function(m,_,b){return b.indexOf(m)===_}).join(`
`)}function xn(u,h,m,_){this.failures=h,this.failedKeys=_,this.successCount=m,this.message=Cr(u,h)}function zt(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(m){return h[m]}),this.failuresByPos=h,this.message=Cr(u,this.failures)}S(pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(xn).from(pt),S(zt).from(pt);var oe=yr.reduce(function(u,h){return u[h]=h+"Error",u},{}),ke=pt,se=yr.reduce(function(u,h){var m=h+"Error";function _(b,T){this.name=m,b?typeof b=="string"?(this.message="".concat(b).concat(T?`
 `+T:""),this.inner=T||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=kt[h]||m,this.inner=null)}return S(_).from(ke),u[h]=_,u},{});se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError;var Le=Ve.reduce(function(u,h){return u[h+"Error"]=se[h],u},{}),et=yr.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=se[h]),u},{});function je(){}function x(u){return u}function j(u,h){return u==null||u===x?h:function(m){return h(u(m))}}function ee(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function fe(u,h){return u===je?h:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var _=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var T=h.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?ee(_,this.onsuccess):_),b&&(this.onerror=this.onerror?ee(b,this.onerror):b),T!==void 0?T:m}}function ae(u,h){return u===je?h:function(){u.apply(this,arguments);var m=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ee(m,this.onsuccess):m),_&&(this.onerror=this.onerror?ee(_,this.onerror):_)}}function he(u,h){return u===je?h:function(m){var _=u.apply(this,arguments);l(m,_);var b=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,m=h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ee(b,this.onsuccess):b),T&&(this.onerror=this.onerror?ee(T,this.onerror):T),_===void 0?m===void 0?void 0:m:l(_,m)}}function Te(u,h){return u===je?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function ye(u,h){return u===je?h:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var _=this,b=arguments.length,T=new Array(b);b--;)T[b]=arguments[b];return m.then(function(){return h.apply(_,T)})}return h.apply(this,arguments)}}et.ModifyError=xn,et.DexieError=pt,et.BulkError=zt;var pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(u){pe=u}var Fe={},Se=100,Oe=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,f(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,f(h),u]})(),Ve=Oe[0],yr=Oe[1],Oe=Oe[2],yr=yr&&yr.then,Ue=Ve&&Ve.constructor,ct=!!Oe,rt=function(u,h){ln.push([u,h]),Vt&&(queueMicrotask(Qu),Vt=!1)},Wt=!0,Vt=!0,Ot=[],Gt=[],fr=x,Mn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:je,pgp:!1,env:{},finalize:je},Re=Mn,ln=[],Kn=0,Gr=[];function Ae(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Re;if(typeof u!="function"){if(u!==Fe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Yi(this,this._value))}this._state=null,this._value=null,++h.ref,(function m(_,b){try{b(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var D=_._lib&&hr();T&&typeof T.then=="function"?m(_,function(U,H){T instanceof Ae?T._then(U,H):T.then(U,H)}):(_._state=!0,_._value=T,Qr(_)),D&&bs()}},Yi.bind(null,_))}catch(T){Yi(_,T)}})(this,u)}var ws={get:function(){var u=Re,h=Jo;function m(_,b){var T=this,D=!u.global&&(u!==Re||h!==Jo),U=D&&!dr(),H=new Ae(function(K,Q){Go(T,new Wo(Xo(_,u,D,U),Xo(b,u,D,U),K,Q,u))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return m.prototype=Fe,m},set:function(u){E(this,"then",u&&u.prototype===Fe?ws:{get:function(){return u},set:ws.set})}};function Wo(u,h,m,_,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=m,this.reject=_,this.psd=b}function Yi(u,h){var m,_;Gt.push(h),u._state===null&&(m=u._lib&&hr(),h=fr(h),u._state=!1,u._value=h,_=u,Ot.some(function(b){return b._value===_._value})||Ot.push(_),Qr(u),m&&bs())}function Qr(u){var h=u._listeners;u._listeners=[];for(var m=0,_=h.length;m<_;++m)Go(u,h[m]);var b=u._PSD;--b.ref||b.finalize(),Kn===0&&(++Kn,rt(function(){--Kn==0&&rn()},[]))}function Go(u,h){if(u._state!==null){var m=u._state?h.onFulfilled:h.onRejected;if(m===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++Kn,rt(Qo,[m,u,h])}else u._listeners.push(h)}function Qo(u,h,m){try{var _,b=h._value;!h._state&&Gt.length&&(Gt=[]),_=pe&&h._consoleTask?h._consoleTask.run(function(){return u(b)}):u(b),h._state||Gt.indexOf(b)!==-1||(function(T){for(var D=Ot.length;D;)if(Ot[--D]._value===T._value)return Ot.splice(D,1)})(h),m.resolve(_)}catch(T){m.reject(T)}finally{--Kn==0&&rn(),--m.psd.ref||m.psd.finalize()}}function Qu(){kr(Mn,function(){hr()&&bs()})}function hr(){var u=Wt;return Vt=Wt=!1,u}function bs(){var u,h,m;do for(;0<ln.length;)for(u=ln,ln=[],m=u.length,h=0;h<m;++h){var _=u[h];_[0].apply(null,_[1])}while(0<ln.length);Vt=Wt=!0}function rn(){var u=Ot;Ot=[],u.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var h=Gr.slice(0),m=h.length;m;)h[--m]()}function Ji(u){return new Ae(Fe,!1,u)}function mt(u,h){var m=Re;return function(){var _=hr(),b=Re;try{return Pr(m,!0),u.apply(this,arguments)}catch(T){h&&h(T)}finally{Pr(b,!1),_&&bs()}}}g(Ae.prototype,{then:ws,_then:function(u,h){Go(this,new Wo(null,null,u,h,Re))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,m=arguments[1];return typeof h=="function"?this.then(null,function(_){return(_ instanceof h?m:Ji)(_)}):this.then(null,function(_){return(_&&_.name===h?m:Ji)(_)})},finally:function(u){return this.then(function(h){return Ae.resolve(u()).then(function(){return h})},function(h){return Ae.resolve(u()).then(function(){return Ji(h)})})},timeout:function(u,h){var m=this;return u<1/0?new Ae(function(_,b){var T=setTimeout(function(){return b(new se.Timeout(h))},u);m.then(_,b).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Mn.env=pc(),g(Ae,{all:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.length===0&&h([]);var _=u.length;u.forEach(function(b,T){return Ae.resolve(b).then(function(D){u[T]=D,--_||h(u)},m)})})},resolve:function(u){return u instanceof Ae?u:u&&typeof u.then=="function"?new Ae(function(h,m){u.then(h,m)}):new Ae(Fe,!0,u)},reject:Ji,race:function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.map(function(_){return Ae.resolve(_).then(h,m)})})},PSD:{get:function(){return Re},set:function(u){return Re=u}},totalEchoes:{get:function(){return Jo}},newPSD:Zn,usePSD:kr,scheduler:{get:function(){return rt},set:function(u){rt=u}},rejectionMapper:{get:function(){return fr},set:function(u){fr=u}},follow:function(u,h){return new Ae(function(m,_){return Zn(function(b,T){var D=Re;D.unhandleds=[],D.onunhandled=T,D.finalize=ee(function(){var U,H=this;U=function(){H.unhandleds.length===0?b():T(H.unhandleds[0])},Gr.push(function K(){U(),Gr.splice(Gr.indexOf(K),1)}),++Kn,rt(function(){--Kn==0&&rn()},[])},D.finalize),u()},h,m,_)})}}),Ue&&(Ue.allSettled&&E(Ae,"allSettled",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h){u.length===0&&h([]);var m=u.length,_=new Array(m);u.forEach(function(b,T){return Ae.resolve(b).then(function(D){return _[T]={status:"fulfilled",value:D}},function(D){return _[T]={status:"rejected",reason:D}}).then(function(){return--m||h(_)})})})}),Ue.any&&typeof AggregateError<"u"&&E(Ae,"any",function(){var u=Kt.apply(null,arguments).map(Ts);return new Ae(function(h,m){u.length===0&&m(new AggregateError([]));var _=u.length,b=new Array(_);u.forEach(function(T,D){return Ae.resolve(T).then(function(U){return h(U)},function(U){b[D]=U,--_||m(new AggregateError(b))})})})}),Ue.withResolvers&&(Ae.withResolvers=Ue.withResolvers));var Nt={awaits:0,echoes:0,id:0},kh=0,Yo=[],Rr=0,Jo=0,Oh=0;function Zn(u,h,m,_){var b=Re,T=Object.create(b);return T.parent=b,T.ref=0,T.global=!1,T.id=++Oh,Mn.env,T.env=ct?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},h&&l(T,h),++b.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=kr(T,u,m,_),T.ref===0&&T.finalize(),_}function Es(){return Nt.id||(Nt.id=++kh),++Nt.awaits,Nt.echoes+=Se,Nt.id}function dr(){return!!Nt.awaits&&(--Nt.awaits==0&&(Nt.id=0),Nt.echoes=Nt.awaits*Se,!0)}function Ts(u){return Nt.echoes&&u&&u.constructor===Ue?(Es(),u.then(function(h){return dr(),h},function(h){return dr(),xt(h)})):u}function Yr(){var u=Yo[Yo.length-1];Yo.pop(),Pr(u,!1)}function Pr(u,h){var m,_=Re;(h?!Nt.echoes||Rr++&&u===Re:!Rr||--Rr&&u===Re)||queueMicrotask(h?(function(b){++Jo,Nt.echoes&&--Nt.echoes!=0||(Nt.echoes=Nt.awaits=Nt.id=0),Yo.push(Re),Pr(b,!0)}).bind(null,u):Yr),u!==Re&&(Re=u,_===Mn&&(Mn.env=pc()),ct&&(m=Mn.env.Promise,h=u.env,(_.global||u.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),m.all=h.all,m.race=h.race,m.resolve=h.resolve,m.reject=h.reject,h.allSettled&&(m.allSettled=h.allSettled),h.any&&(m.any=h.any))))}function pc(){var u=i.Promise;return ct?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function kr(u,h,m,_,b){var T=Re;try{return Pr(u,!0),h(m,_,b)}finally{Pr(T,!1)}}function Xo(u,h,m,_){return typeof u!="function"?u:function(){var b=Re;m&&Es(),Pr(h,!0);try{return u.apply(this,arguments)}finally{Pr(b,!1),_&&queueMicrotask(dr)}}}function Zo(u){Promise===Ue&&Nt.echoes===0?Rr===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+yr).indexOf("[native code]")===-1&&(Es=dr=je);var xt=Ae.reject,Is="",zn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mc="String expected.",Jr=[],Xr="__dbnames",Or="readonly",Xi="readwrite";function As(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var gc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zi(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=C(h))[u],h}}function yc(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(u,h){try{var m=ea(u),_=ea(h);if(m!==_)return m==="Array"?1:_==="Array"?-1:m==="binary"?1:_==="binary"?-1:m==="string"?1:_==="string"?-1:m==="Date"?1:_!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return(function(b,T){for(var D=b.length,U=T.length,H=D<U?D:U,K=0;K<H;++K)if(b[K]!==T[K])return b[K]<T[K]?-1:1;return D===U?0:D<U?-1:1})(_c(u),_c(h));case"Array":return(function(b,T){for(var D=b.length,U=T.length,H=D<U?D:U,K=0;K<H;++K){var Q=nt(b[K],T[K]);if(Q!==0)return Q}return D===U?0:D<U?-1:1})(u,h)}}catch{}return NaN}function ea(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=$e(u),u==="ArrayBuffer"?"binary":u)}function _c(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function eo(u,h,m){var _=u.schema.yProps;return _?(h&&0<m.numFailures&&(h=h.filter(function(b,T){return!m.failures[T]})),Promise.all(_.map(function(b){return b=b.updatesTable,h?u.db.table(b).where("k").anyOf(h).delete():u.db.table(b).clear()})).then(function(){return m})):m}var to=(Yu.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var m=h.add;if(a(m))return s(s([],a(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(h.remove!==void 0){var _=h.remove;if(a(_))return a(u)?u.filter(function(b){return!_.includes(b)}).sort():[];if(typeof _=="number")return Number(u)-_;if(typeof _=="bigint")try{return BigInt(u)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return m=(m=h.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?h.replacePrefix[1]+u.substring(m.length):u},Yu);function Yu(u){this["@@propmod"]=u}function vc(u,h){for(var m=o(h),_=m.length,b=!1,T=0;T<_;++T){var D=m[T],U=h[D],H=te(u,D);U instanceof to?(O(u,D,U.execute(H)),b=!0):H!==U&&(O(u,D,U),b=!0)}return b}var wc=(At.prototype._trans=function(u,h,m){var _=this._tx||Re.trans,b=this.name,T=pe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function D(K,Q,B){if(!B.schema[b])throw new se.NotFound("Table "+b+" not part of transaction");return h(B.idbtrans,B)}var U=hr();try{var H=_&&_.db._novip===this.db._novip?_===Re.trans?_._promise(u,D,m):Zn(function(){return _._promise(u,D,m)},{trans:_,transless:Re.transless||Re}):(function K(Q,B,J,z){if(Q.idbdb&&(Q._state.openComplete||Re.letThrough||Q._vip)){var W=Q._createTransaction(B,J,Q._dbSchema);try{W.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,z)})):xt(G)}return W._promise(B,function(G,Y){return Zn(function(){return Re.trans=W,z(G,Y,W)})}).then(function(G){if(B==="readwrite")try{W.idbtrans.commit()}catch{}return B==="readonly"?G:W._completion.then(function(){return G})})}if(Q._state.openComplete)return xt(new se.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return xt(new se.DatabaseClosed);Q.open().catch(je)}return Q._state.dbReadyPromise.then(function(){return K(Q,B,J,z)})})(this.db,u,[this.name],D);return T&&(H._consoleTask=T,H=H.catch(function(K){return console.trace(K),xt(K)})),H}finally{U&&bs()}},At.prototype.get=function(u,h){var m=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?xt(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return m.core.get({trans:_,key:u}).then(function(b){return m.hook.reading.fire(b)})}).then(h)},At.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(a(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=o(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&h.every(function(K){return 0<=U.keyPath.indexOf(K)})){for(var H=0;H<h.length;++H)if(h.indexOf(U.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(U,H){return U.keyPath.length-H.keyPath.length})[0];if(m&&this.db._maxKey!==Is){var T=m.keyPath.slice(0,h.length);return this.where(T).equals(T.map(function(H){return u[H]}))}!m&&pe&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var _=this.schema.idxByName;function b(U,H){return nt(U,H)===0}var D=h.reduce(function(B,H){var K=B[0],Q=B[1],B=_[H],J=u[H];return[K||B,K||!B?As(Q,B&&B.multi?function(z){return z=te(z,H),a(z)&&z.some(function(W){return b(J,W)})}:function(z){return b(J,te(z,H))}):Q]},[null,null]),T=D[0],D=D[1];return T?this.where(T.name).equals(u[T.keyPath]).filter(D):m?this.filter(D):this.where(h).equals("")},At.prototype.filter=function(u){return this.toCollection().and(u)},At.prototype.count=function(u){return this.toCollection().count(u)},At.prototype.offset=function(u){return this.toCollection().offset(u)},At.prototype.limit=function(u){return this.toCollection().limit(u)},At.prototype.each=function(u){return this.toCollection().each(u)},At.prototype.toArray=function(u){return this.toCollection().toArray(u)},At.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},At.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,a(u)?"[".concat(u.join("+"),"]"):u))},At.prototype.reverse=function(){return this.toCollection().reverse()},At.prototype.mapToClass=function(u){var h,m=this.db,_=this.name;function b(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof yc&&((function(H,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Q(){this.constructor=H}n(H,K),H.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)})(b,h=u),Object.defineProperty(b.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),b.prototype.table=function(){return _},u=b);for(var T=new Set,D=u.prototype;D;D=f(D))Object.getOwnPropertyNames(D).forEach(function(H){return T.add(H)});function U(H){if(!H)return H;var K,Q=Object.create(u.prototype);for(K in H)if(!T.has(K))try{Q[K]=H[K]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),u},At.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},At.prototype.add=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,D=u;return T&&b&&(D=Zi(T)(u)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"add",keys:h!=null?[h]:null,values:[D]})}).then(function(U){return U.numFailures?Ae.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{O(u,T,U)}catch{}return U})},At.prototype.upsert=function(u,h){var m=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(b){return m.core.get({trans:b,key:u}).then(function(T){var D=T??{};return vc(D,h),_&&O(D,_,u),m.core.mutate({trans:b,type:"put",values:[D],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[h]}}).then(function(U){return U.numFailures?Ae.reject(U.failures[0]):!!T})})})},At.prototype.update=function(u,h){return typeof u!="object"||a(u)?this.where(":id").equals(u).modify(h):(u=te(u,this.schema.primKey.keyPath),u===void 0?xt(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},At.prototype.put=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,D=u;return T&&b&&(D=Zi(T)(u)),this._trans("readwrite",function(U){return m.core.mutate({trans:U,type:"put",values:[D],keys:h!=null?[h]:null})}).then(function(U){return U.numFailures?Ae.reject(U.failures[0]):U.lastResult}).then(function(U){if(T)try{O(u,T,U)}catch{}return U})},At.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"delete",keys:[u]}).then(function(_){return eo(h,[u],_)}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})})},At.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:gc}).then(function(m){return eo(u,null,m)})}).then(function(h){return h.numFailures?Ae.reject(h.failures[0]):void 0})},At.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(m){return h.core.getMany({keys:u,trans:m}).then(function(_){return _.map(function(b){return h.hook.reading.fire(b)})})})},At.prototype.bulkAdd=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(D){var K=_.schema.primKey,U=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var H=u.length,K=K&&U?u.map(Zi(K)):u;return _.core.mutate({trans:D,type:"add",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkAdd(): ").concat(B," of ").concat(H," operations failed"),W)})})},At.prototype.bulkPut=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(D){var K=_.schema.primKey,U=K.auto,K=K.keyPath;if(K&&b)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var H=u.length,K=K&&U?u.map(Zi(K)):u;return _.core.mutate({trans:D,type:"put",keys:b,values:K,wantResults:T}).then(function(W){var B=W.numFailures,J=W.results,z=W.lastResult,W=W.failures;if(B===0)return T?J:z;throw new zt("".concat(_.name,".bulkPut(): ").concat(B," of ").concat(H," operations failed"),W)})})},At.prototype.bulkUpdate=function(u){var h=this,m=this.core,_=u.map(function(D){return D.key}),b=u.map(function(D){return D.changes}),T=[];return this._trans("readwrite",function(D){return m.getMany({trans:D,keys:_,cache:"clone"}).then(function(U){var H=[],K=[];u.forEach(function(B,J){var z=B.key,W=B.changes,G=U[J];if(G){for(var Y=0,Z=Object.keys(W);Y<Z.length;Y++){var ne=Z[Y],ie=W[ne];if(ne===h.schema.primKey.keyPath){if(nt(ie,z)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else O(G,ne,ie)}T.push(J),H.push(z),K.push(G)}});var Q=H.length;return m.mutate({trans:D,type:"put",keys:H,values:K,updates:{keys:_,changeSpecs:b}}).then(function(B){var J=B.numFailures,z=B.failures;if(J===0)return Q;for(var W=0,G=Object.keys(z);W<G.length;W++){var Y,Z=G[W],ne=T[Number(Z)];ne!=null&&(Y=z[Z],delete z[Z],z[ne]=Y)}throw new zt("".concat(h.name,".bulkUpdate(): ").concat(J," of ").concat(Q," operations failed"),z)})})})},At.prototype.bulkDelete=function(u){var h=this,m=u.length;return this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"delete",keys:u}).then(function(b){return eo(h,u,b)})}).then(function(D){var b=D.numFailures,T=D.lastResult,D=D.failures;if(b===0)return T;throw new zt("".concat(h.name,".bulkDelete(): ").concat(b," of ").concat(m," operations failed"),D)})},At);function At(){}function er(u){function h(D,U){if(U){for(var H=arguments.length,K=new Array(H-1);--H;)K[H-1]=arguments[H];return m[D].subscribe.apply(null,K),u}if(typeof D=="string")return m[D]}var m={};h.addEventType=T;for(var _=1,b=arguments.length;_<b;++_)T(arguments[_]);return h;function T(D,U,H){if(typeof D!="object"){var K;U=U||Te;var Q={subscribers:[],fire:H=H||je,subscribe:function(B){Q.subscribers.indexOf(B)===-1&&(Q.subscribers.push(B),Q.fire=U(Q.fire,B))},unsubscribe:function(B){Q.subscribers=Q.subscribers.filter(function(J){return J!==B}),Q.fire=Q.subscribers.reduce(U,H)}};return m[D]=h[D]=Q}o(K=D).forEach(function(B){var J=K[B];if(a(J))T(B,K[B][0],K[B][1]);else{if(J!=="asap")throw new se.InvalidArgument("Invalid event config");var z=T(B,x,function(){for(var W=arguments.length,G=new Array(W);W--;)G[W]=arguments[W];z.subscribers.forEach(function(Y){$(function(){Y.apply(null,G)})})})}})}}function Ln(u,h){return S(h).from({prototype:u}),h}function Dr(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function ui(u,h){u.filter=As(u.filter,h)}function ta(u,h,m){var _=u.replayFilter;u.replayFilter=_?function(){return As(_(),h())}:h,u.justLimit=m&&!_}function gt(u,h){if(u.isPrimKey)return h.primaryKey;var m=h.getIndexByKeyPath(u.index);if(!m)throw new se.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return m}function no(u,h,m){var _=gt(u,h.schema);return h.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:_,range:u.range}})}function Zr(u,h,m,_){var b=u.replayFilter?As(u.filter,u.replayFilter()):u.filter;if(u.or){var T={},D=function(U,H,K){var Q,B;b&&!b(H,K,function(J){return H.stop(J)},function(J){return H.fail(J)})||((B=""+(Q=H.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(Q)),p(T,B)||(T[B]=!0,h(U,H,K)))};return Promise.all([u.or._iterate(D,m),li(no(u,_,m),u.algorithm,D,!u.keysOnly&&u.valueMapper)])}return li(no(u,_,m),As(u.algorithm,b),h,!u.keysOnly&&u.valueMapper)}function li(u,h,m,_){var b=mt(_?function(T,D,U){return m(_(T),D,U)}:m);return u.then(function(T){if(T)return T.start(function(){var D=function(){return T.continue()};h&&!h(T,function(U){return D=U},function(U){T.stop(U),D=je},function(U){T.fail(U),D=je})||b(T.value,T,function(U){return D=U}),D()})})}var Dh=(ut.prototype._read=function(u,h){var m=this._ctx;return m.error?m.table._trans(null,xt.bind(null,m.error)):m.table._trans("readonly",u).then(h)},ut.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,xt.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},ut.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=As(h.algorithm,u)},ut.prototype._iterate=function(u,h){return Zr(this._ctx,u,h,this._ctx.table.core)},ut.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&l(m,u),h._ctx=m,h},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(u){var h=this._ctx;return this._read(function(m){return Zr(h,u,m,h.table.core)})},ut.prototype.count=function(u){var h=this;return this._read(function(m){var _=h._ctx,b=_.table.core;if(Dr(_,!0))return b.count({trans:m,query:{index:gt(_,b.schema),range:_.range}}).then(function(D){return Math.min(D,_.limit)});var T=0;return Zr(_,function(){return++T,!1},m,b).then(function(){return T})}).then(u)},ut.prototype.sortBy=function(u,h){var m=u.split(".").reverse(),_=m[0],b=m.length-1;function T(H,K){return K?T(H[m[K]],K-1):H[_]}var D=this._ctx.dir==="next"?1:-1;function U(H,K){return nt(T(H,b),T(K,b))*D}return this.toArray(function(H){return H.sort(U)}).then(h)},ut.prototype.toArray=function(u){var h=this;return this._read(function(m){var _=h._ctx;if(_.dir==="next"&&Dr(_,!0)&&0<_.limit){var b=_.valueMapper,T=gt(_,_.table.core.schema);return _.table.core.query({trans:m,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(U){return U=U.result,b?U.map(b):U})}var D=[];return Zr(_,function(U){return D.push(U)},m,_.table.core).then(function(){return D})},u)},ut.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Dr(h)?ta(h,function(){var m=u;return function(_,b){return m===0||(m===1?--m:b(function(){_.advance(m),m=0}),!1)}}):ta(h,function(){var m=u;return function(){return--m<0}})),this},ut.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),ta(this._ctx,function(){var h=u;return function(m,_,b){return--h<=0&&_(b),0<=h}},!0),this},ut.prototype.until=function(u,h){return ui(this._ctx,function(m,_,b){return!u(m.value)||(_(b),h)}),this},ut.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},ut.prototype.last=function(u){return this.reverse().first(u)},ut.prototype.filter=function(u){var h;return ui(this._ctx,function(m){return u(m.value)}),(h=this._ctx).isMatch=As(h.isMatch,u),this},ut.prototype.and=function(u){return this.filter(u)},ut.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.key,_)})},ut.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ut.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.primaryKey,_)})},ut.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.key)}).then(function(){return m}).then(u)},ut.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Dr(h,!0)&&0<h.limit)return this._read(function(_){var b=gt(h,h.table.core.schema);return h.table.core.query({trans:_,values:!1,limit:h.limit,query:{index:b,range:h.range}})}).then(function(_){return _.result}).then(u);h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.primaryKey)}).then(function(){return m}).then(u)},ut.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ut.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},ut.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ut.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return ui(this._ctx,function(b){var _=b.primaryKey.toString(),b=p(h,_);return h[_]=!0,!b}),this},ut.prototype.modify=function(u){var h=this,m=this._ctx;return this._write(function(_){var b=typeof u=="function"?u:function(G){return vc(G,u)},T=m.table.core,K=T.schema.primaryKey,D=K.outbound,U=K.extractKey,H=200,K=h.db._options.modifyChunkSize;K&&(H=typeof K=="object"?K[T.name]||K["*"]||200:K);function Q(G,ne){var Z=ne.failures,ne=ne.numFailures;J+=G-ne;for(var ie=0,ce=o(Z);ie<ce.length;ie++){var ge=ce[ie];B.push(Z[ge])}}var B=[],J=0,z=[],W=u===Ju;return h.clone().primaryKeys().then(function(G){function Y(ne){var ie=Math.min(H,G.length-ne),ce=G.slice(ne,ne+ie);return(W?Promise.resolve([]):T.getMany({trans:_,keys:ce,cache:"immutable"})).then(function(ge){var Ee=[],me=[],_e=D?[]:null,Ie=W?ce:[];if(!W)for(var we=0;we<ie;++we){var Me=ge[we],Xe={value:C(Me),primKey:G[ne+we]};b.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?Ie.push(G[ne+we]):D||nt(U(Me),U(Xe.value))===0?(me.push(Xe.value),D&&_e.push(G[ne+we])):(Ie.push(G[ne+we]),Ee.push(Xe.value)))}return Promise.resolve(0<Ee.length&&T.mutate({trans:_,type:"add",values:Ee}).then(function(tt){for(var st in tt.failures)Ie.splice(parseInt(st),1);Q(Ee.length,tt)})).then(function(){return(0<me.length||Z&&typeof u=="object")&&T.mutate({trans:_,type:"put",keys:_e,values:me,criteria:Z,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<ne}).then(function(tt){return Q(me.length,tt)})}).then(function(){return(0<Ie.length||Z&&W)&&T.mutate({trans:_,type:"delete",keys:Ie,criteria:Z,isAdditionalChunk:0<ne}).then(function(tt){return eo(m.table,Ie,tt)}).then(function(tt){return Q(Ie.length,tt)})}).then(function(){return G.length>ne+ie&&Y(ne+H)})})}var Z=Dr(m)&&m.limit===1/0&&(typeof u!="function"||W)&&{index:m.index,range:m.range};return Y(0).then(function(){if(0<B.length)throw new xn("Error modifying one or more objects",B,J,z);return G.length})})})},ut.prototype.delete=function(){var u=this._ctx,h=u.range;return!Dr(u)||u.table.schema.yProps||!u.isPrimKey&&h.type!==3?this.modify(Ju):this._write(function(m){var _=u.table.core.schema.primaryKey,b=h;return u.table.core.count({trans:m,query:{index:_,range:b}}).then(function(T){return u.table.core.mutate({trans:m,type:"deleteRange",range:b}).then(function(H){var U=H.failures,H=H.numFailures;if(H)throw new xn("Could not delete some values",Object.keys(U).map(function(K){return U[K]}),T-H);return T-H})})})},ut);function ut(){}var Ju=function(u,h){return h.value=null};function Nh(u,h){return u<h?-1:u===h?0:1}function xh(u,h){return h<u?-1:u===h?0:1}function Vn(u,h,m){return u=u instanceof Ec?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(h),u}function pr(u){return new u.Collection(u,function(){return bc("")}).limit(0)}function tr(u,h,m,_){var b,T,D,U,H,K,Q,B=m.length;if(!m.every(function(W){return typeof W=="string"}))return Vn(u,mc);function J(W){b=W==="next"?function(Y){return Y.toUpperCase()}:function(Y){return Y.toLowerCase()},T=W==="next"?function(Y){return Y.toLowerCase()}:function(Y){return Y.toUpperCase()},D=W==="next"?Nh:xh;var G=m.map(function(Y){return{lower:T(Y),upper:b(Y)}}).sort(function(Y,Z){return D(Y.lower,Z.lower)});U=G.map(function(Y){return Y.upper}),H=G.map(function(Y){return Y.lower}),Q=(K=W)==="next"?"":_}J("next"),u=new u.Collection(u,function(){return Nr(U[0],H[B-1]+_)}),u._ondirectionchange=function(W){J(W)};var z=0;return u._addAlgorithm(function(W,G,Y){var Z=W.key;if(typeof Z!="string")return!1;var ne=T(Z);if(h(ne,H,z))return!0;for(var ie=null,ce=z;ce<B;++ce){var ge=(function(Ee,me,_e,Ie,we,Me){for(var Xe=Math.min(Ee.length,Ie.length),tt=-1,st=0;st<Xe;++st){var nr=me[st];if(nr!==Ie[st])return we(Ee[st],_e[st])<0?Ee.substr(0,st)+_e[st]+_e.substr(st+1):we(Ee[st],Ie[st])<0?Ee.substr(0,st)+Ie[st]+_e.substr(st+1):0<=tt?Ee.substr(0,tt)+me[tt]+_e.substr(tt+1):null;we(Ee[st],nr)<0&&(tt=st)}return Xe<Ie.length&&Me==="next"?Ee+_e.substr(Ee.length):Xe<Ee.length&&Me==="prev"?Ee.substr(0,_e.length):tt<0?null:Ee.substr(0,tt)+Ie[tt]+_e.substr(tt+1)})(Z,ne,U[ce],H[ce],D,K);ge===null&&ie===null?z=ce+1:(ie===null||0<D(ie,ge))&&(ie=ge)}return G(ie!==null?function(){W.continue(ie+Q)}:Y),!1}),u}function Nr(u,h,m,_){return{type:2,lower:u,upper:h,lowerOpen:m,upperOpen:_}}function bc(u){return{type:1,lower:u,upper:u}}var Ec=(Object.defineProperty(Dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dt.prototype.between=function(u,h,m,_){m=m!==!1,_=_===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(m||_)&&(!m||!_)?pr(this):new this.Collection(this,function(){return Nr(u,h,!m,!_)})}catch{return Vn(this,zn)}},Dt.prototype.equals=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return bc(u)})},Dt.prototype.above=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Nr(u,void 0,!0)})},Dt.prototype.aboveOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Nr(u,void 0,!1)})},Dt.prototype.below=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Nr(void 0,u,!1,!0)})},Dt.prototype.belowOrEqual=function(u){return u==null?Vn(this,zn):new this.Collection(this,function(){return Nr(void 0,u)})},Dt.prototype.startsWith=function(u){return typeof u!="string"?Vn(this,mc):this.between(u,u+Is,!0,!0)},Dt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):tr(this,function(h,m){return h.indexOf(m[0])===0},[u],Is)},Dt.prototype.equalsIgnoreCase=function(u){return tr(this,function(h,m){return h===m[0]},[u],"")},Dt.prototype.anyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.indexOf(h)!==-1},u,"")},Dt.prototype.startsWithAnyOfIgnoreCase=function(){var u=Kt.apply(ht,arguments);return u.length===0?pr(this):tr(this,function(h,m){return m.some(function(_){return h.indexOf(_)===0})},u,Is)},Dt.prototype.anyOf=function(){var u=this,h=Kt.apply(ht,arguments),m=this._cmp;try{h.sort(m)}catch{return Vn(this,zn)}if(h.length===0)return pr(this);var _=new this.Collection(this,function(){return Nr(h[0],h[h.length-1])});_._ondirectionchange=function(T){m=T==="next"?u._ascending:u._descending,h.sort(m)};var b=0;return _._addAlgorithm(function(T,D,U){for(var H=T.key;0<m(H,h[b]);)if(++b===h.length)return D(U),!1;return m(H,h[b])===0||(D(function(){T.continue(h[b])}),!1)}),_},Dt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dt.prototype.noneOf=function(){var u=Kt.apply(ht,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return Vn(this,zn)}var h=u.reduce(function(m,_){return m?m.concat([[m[m.length-1][1],_]]):[[-1/0,_]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Dt.prototype.inAnyRange=function(Z,h){var m=this,_=this._cmp,b=this._ascending,T=this._descending,D=this._min,U=this._max;if(Z.length===0)return pr(this);if(!Z.every(function(ne){return ne[0]!==void 0&&ne[1]!==void 0&&b(ne[0],ne[1])<=0}))return Vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var H=!h||h.includeLowers!==!1,K=h&&h.includeUppers===!0,Q,B=b;function J(ne,ie){return B(ne[0],ie[0])}try{(Q=Z.reduce(function(ne,ie){for(var ce=0,ge=ne.length;ce<ge;++ce){var Ee=ne[ce];if(_(ie[0],Ee[1])<0&&0<_(ie[1],Ee[0])){Ee[0]=D(Ee[0],ie[0]),Ee[1]=U(Ee[1],ie[1]);break}}return ce===ge&&ne.push(ie),ne},[])).sort(J)}catch{return Vn(this,zn)}var z=0,W=K?function(ne){return 0<b(ne,Q[z][1])}:function(ne){return 0<=b(ne,Q[z][1])},G=H?function(ne){return 0<T(ne,Q[z][0])}:function(ne){return 0<=T(ne,Q[z][0])},Y=W,Z=new this.Collection(this,function(){return Nr(Q[0][0],Q[Q.length-1][1],!H,!K)});return Z._ondirectionchange=function(ne){B=ne==="next"?(Y=W,b):(Y=G,T),Q.sort(J)},Z._addAlgorithm(function(ne,ie,ce){for(var ge,Ee=ne.key;Y(Ee);)if(++z===Q.length)return ie(ce),!1;return!W(ge=Ee)&&!G(ge)||(m._cmp(Ee,Q[z][1])===0||m._cmp(Ee,Q[z][0])===0||ie(function(){B===b?ne.continue(Q[z][0]):ne.continue(Q[z][1])}),!1)}),Z},Dt.prototype.startsWithAnyOf=function(){var u=Kt.apply(ht,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?pr(this):this.inAnyRange(u.map(function(h){return[h,h+Is]})):Vn(this,"startsWithAnyOf() only works with strings")},Dt);function Dt(){}function mr(u){return mt(function(h){return ro(h),u(h.target.error),!1})}function ro(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var so="storagemutated",gr="x-storagemutated-1",es=er(null,so),Mh=(Fn.prototype._lock=function(){return N(!Re.global),++this._reculock,this._reculock!==1||Re.global||(Re.lockOwnerFor=this),this},Fn.prototype._unlock=function(){if(N(!Re.global),--this._reculock==0)for(Re.global||(Re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{kr(u[1],u[0])}catch{}}return this},Fn.prototype._locked=function(){return this._reculock&&Re.lockOwnerFor!==this},Fn.prototype.create=function(u){var h=this;if(!this.mode)return this;var m=this.db.idbdb,_=this.db._state.dbOpenError;if(N(!this.idbtrans),!u&&!m)switch(_&&_.name){case"DatabaseClosedError":throw new se.DatabaseClosed(_);case"MissingAPIError":throw new se.MissingAPI(_.message,_);default:throw new se.OpenFailed(_)}if(!this.active)throw new se.TransactionInactive;return N(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(b){ro(b),h._reject(u.error)}),u.onabort=mt(function(b){ro(b),h.active&&h._reject(new se.Abort(u.error)),h.active=!1,h.on("abort").fire(b)}),u.oncomplete=mt(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&es.storagemutated.fire(u.mutatedParts)}),this},Fn.prototype._promise=function(u,h,m){var _=this;if(u==="readwrite"&&this.mode!=="readwrite")return xt(new se.ReadOnly("Transaction is readonly"));if(!this.active)return xt(new se.TransactionInactive);if(this._locked())return new Ae(function(T,D){_._blockedFuncs.push([function(){_._promise(u,h,m).then(T,D)},Re])});if(m)return Zn(function(){var T=new Ae(function(D,U){_._lock();var H=h(D,U,_);H&&H.then&&H.then(D,U)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var b=new Ae(function(T,D){var U=h(T,D,_);U&&U.then&&U.then(T,D)});return b._lib=!0,b},Fn.prototype._root=function(){return this.parent?this.parent._root():this},Fn.prototype.waitFor=function(u){var h,m=this._root(),_=Ae.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return _}):(m._waitingFor=_,m._waitingQueue=[],h=m.idbtrans.objectStore(m.storeNames[0]),(function T(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(h.get(-1/0).onsuccess=T)})());var b=m._waitingFor;return new Ae(function(T,D){_.then(function(U){return m._waitingQueue.push(mt(T.bind(null,U)))},function(U){return m._waitingQueue.push(mt(D.bind(null,U)))}).finally(function(){m._waitingFor===b&&(m._waitingFor=null)})})},Fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Fn.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(p(h,u))return h[u];var m=this.schema[u];if(!m)throw new se.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),h[u]=m},Fn);function Fn(){}function fi(u,h,m,_,b,T,D,U){return{name:u,keyPath:h,unique:m,multi:_,auto:b,compound:T,src:(m&&!D?"&":"")+(_?"*":"")+(b?"++":"")+Tc(h),type:U}}function Tc(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Ss(u,h,m){return{name:u,primKey:h,indexes:m,mappedClass:null,idxByName:(_=function(b){return[b.name,b]},m.reduce(function(b,T,D){return D=_(T,D),D&&(b[D[0]]=D[1]),b},{}))};var _}var xr=function(u){try{return u.only([[]]),xr=function(){return[[]]},[[]]}catch{return xr=function(){return Is},Is}};function na(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(m){return m[h]}:function(m){return te(m,h)}:function(m){return te(m,u)};var h}function ra(u){return[].slice.call(u)}var Mt=0;function io(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Lh(u,h,H){function _(Y){if(Y.type===3)return null;if(Y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=Y.lower,W=Y.upper,G=Y.lowerOpen,Y=Y.upperOpen;return z===void 0?W===void 0?null:h.upperBound(W,!!Y):W===void 0?h.lowerBound(z,!!G):h.bound(z,W,!!G,!!Y)}function b(J){var z,W=J.name;return{name:W,schema:J,mutate:function(G){var Y=G.trans,Z=G.type,ne=G.keys,ie=G.values,ce=G.range;return new Promise(function(ge,Ee){ge=mt(ge);var me=Y.objectStore(W),_e=me.keyPath==null,Ie=Z==="put"||Z==="add";if(!Ie&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var we,Me=(ne||ie||{length:1}).length;if(ne&&ie&&ne.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Xe($n){++nr,ro($n)}var tt=[],st=[],nr=0;if(Z==="deleteRange"){if(ce.type===4)return ge({numFailures:nr,failures:st,results:[],lastResult:void 0});ce.type===3?tt.push(we=me.clear()):tt.push(we=me.delete(_(ce)))}else{var _e=Ie?_e?[ie,ne]:[ie,null]:[ne,null],Je=_e[0],In=_e[1];if(Ie)for(var An=0;An<Me;++An)tt.push(we=In&&In[An]!==void 0?me[Z](Je[An],In[An]):me[Z](Je[An])),we.onerror=Xe;else for(An=0;An<Me;++An)tt.push(we=me[Z](Je[An])),we.onerror=Xe}function rl($n){$n=$n.target.result,tt.forEach(function(yo,$h){return yo.error!=null&&(st[$h]=yo.error)}),ge({numFailures:nr,failures:st,results:Z==="delete"?ne:tt.map(function(yo){return yo.result}),lastResult:$n})}we.onerror=function($n){Xe($n),rl($n)},we.onsuccess=rl})},getMany:function(G){var Y=G.trans,Z=G.keys;return new Promise(function(ne,ie){ne=mt(ne);for(var ce,ge=Y.objectStore(W),Ee=Z.length,me=new Array(Ee),_e=0,Ie=0,we=function(tt){tt=tt.target,me[tt._pos]=tt.result,++Ie===_e&&ne(me)},Me=mr(ie),Xe=0;Xe<Ee;++Xe)Z[Xe]!=null&&((ce=ge.get(Z[Xe]))._pos=Xe,ce.onsuccess=we,ce.onerror=Me,++_e);_e===0&&ne(me)})},get:function(G){var Y=G.trans,Z=G.key;return new Promise(function(ne,ie){ne=mt(ne);var ce=Y.objectStore(W).get(Z);ce.onsuccess=function(ge){return ne(ge.target.result)},ce.onerror=mr(ie)})},query:(z=K,function(G){return new Promise(function(Y,Z){Y=mt(Y);var ne,ie,ce,_e=G.trans,ge=G.values,Ee=G.limit,we=G.query,me=Ee===1/0?void 0:Ee,Ie=we.index,we=we.range,_e=_e.objectStore(W),Ie=Ie.isPrimaryKey?_e:_e.index(Ie.name),we=_(we);if(Ee===0)return Y({result:[]});z?((me=ge?Ie.getAll(we,me):Ie.getAllKeys(we,me)).onsuccess=function(Me){return Y({result:Me.target.result})},me.onerror=mr(Z)):(ne=0,ie=!ge&&"openKeyCursor"in Ie?Ie.openKeyCursor(we):Ie.openCursor(we),ce=[],ie.onsuccess=function(Me){var Xe=ie.result;return Xe?(ce.push(ge?Xe.value:Xe.primaryKey),++ne===Ee?Y({result:ce}):void Xe.continue()):Y({result:ce})},ie.onerror=mr(Z))})}),openCursor:function(G){var Y=G.trans,Z=G.values,ne=G.query,ie=G.reverse,ce=G.unique;return new Promise(function(ge,Ee){ge=mt(ge);var Ie=ne.index,me=ne.range,_e=Y.objectStore(W),_e=Ie.isPrimaryKey?_e:_e.index(Ie.name),Ie=ie?ce?"prevunique":"prev":ce?"nextunique":"next",we=!Z&&"openKeyCursor"in _e?_e.openKeyCursor(_(me),Ie):_e.openCursor(_(me),Ie);we.onerror=mr(Ee),we.onsuccess=mt(function(Me){var Xe,tt,st,nr,Je=we.result;Je?(Je.___id=++Mt,Je.done=!1,Xe=Je.continue.bind(Je),tt=(tt=Je.continuePrimaryKey)&&tt.bind(Je),st=Je.advance.bind(Je),nr=function(){throw new Error("Cursor not stopped")},Je.trans=Y,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=mt(Ee),Je.next=function(){var In=this,An=1;return this.start(function(){return An--?In.continue():In.stop()}).then(function(){return In})},Je.start=function(In){function An(){if(we.result)try{In()}catch($n){Je.fail($n)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var rl=new Promise(function($n,yo){$n=mt($n),we.onerror=mr(yo),Je.fail=yo,Je.stop=function($h){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=nr,$n($h)}});return we.onsuccess=mt(function($n){we.onsuccess=An,An()}),Je.continue=Xe,Je.continuePrimaryKey=tt,Je.advance=st,An(),rl},ge(Je)):ge(null)},Ee)})},count:function(G){var Y=G.query,Z=G.trans,ne=Y.index,ie=Y.range;return new Promise(function(ce,ge){var Ee=Z.objectStore(W),me=ne.isPrimaryKey?Ee:Ee.index(ne.name),Ee=_(ie),me=Ee?me.count(Ee):me.count();me.onsuccess=mt(function(_e){return ce(_e.target.result)}),me.onerror=mr(ge)})}}}var T,D,U,Q=(D=H,U=ra((T=u).objectStoreNames),{schema:{name:T.name,tables:U.map(function(J){return D.objectStore(J)}).map(function(J){var z=J.keyPath,Y=J.autoIncrement,W=a(z),G={},Y={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:W,keyPath:z,autoIncrement:Y,unique:!0,extractKey:na(z)},indexes:ra(J.indexNames).map(function(Z){return J.index(Z)}).map(function(ce){var ne=ce.name,ie=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,ge={name:ne,compound:a(ce),keyPath:ce,unique:ie,multiEntry:ge,extractKey:na(ce)};return G[io(ce)]=ge}),getIndexByKeyPath:function(Z){return G[io(Z)]}};return G[":id"]=Y.primaryKey,z!=null&&(G[io(z)]=Y.primaryKey),Y})},hasGetAll:0<U.length&&"getAll"in D.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=Q.schema,K=Q.hasGetAll,Q=H.tables.map(b),B={};return Q.forEach(function(J){return B[J.name]=J}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(J){if(!B[J])throw new Error("Table '".concat(J,"' not found"));return B[J]},MIN_KEY:-1/0,MAX_KEY:xr(h),schema:H}}function Xu(u,h,m,_){var b=m.IDBKeyRange;return m.indexedDB,{dbcore:(_=Lh(h,b,_),u.dbcore.reduce(function(T,D){return D=D.create,r(r({},T),D(T))},_))}}function oo(u,_){var m=_.db,_=Xu(u._middlewares,m,u._deps,_);u.core=_.dbcore,u.tables.forEach(function(b){var T=b.name;u.core.schema.tables.some(function(D){return D.name===T})&&(b.core=u.core.table(T),u[T]instanceof u.Table&&(u[T].core=b.core))})}function ao(u,h,m,_){m.forEach(function(b){var T=_[b];h.forEach(function(D){var U=(function H(K,Q){return L(K,Q)||(K=f(K))&&H(K,Q)})(D,b);(!U||"value"in U&&U.value===void 0)&&(D===u.Transaction.prototype||D instanceof u.Transaction?E(D,b,{get:function(){return this.table(b)},set:function(H){v(this,b,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):D[b]=new u.Table(b,T))})})}function hi(u,h){h.forEach(function(m){for(var _ in m)m[_]instanceof u.Table&&delete m[_]})}function Zu(u,h){return u._cfg.version-h._cfg.version}function Mr(u,h,m,_){var b=u._dbSchema;m.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Ss("$meta",uo("")[0],[]),u._storeNames.push("$meta"));var T=u._createTransaction("readwrite",u._storeNames,b);T.create(m),T._completion.catch(_);var D=T._reject.bind(T),U=Re.transless||Re;Zn(function(){return Re.trans=T,Re.transless=U,h!==0?(oo(u,m),K=h,((H=T).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(Q){return Q??K}):Ae.resolve(K)).then(function(Q){return J=Q,z=T,W=m,G=[],Q=(B=u)._versions,Y=B._dbSchema=Rs(0,B.idbdb,W),(Q=Q.filter(function(Z){return Z._cfg.version>=J})).length!==0?(Q.forEach(function(Z){G.push(function(){var ne=Y,ie=Z._cfg.dbschema;co(B,ne,W),co(B,ie,W),Y=B._dbSchema=ie;var ce=Ic(ne,ie);ce.add.forEach(function(Ie){Cs(W,Ie[0],Ie[1].primKey,Ie[1].indexes)}),ce.change.forEach(function(Ie){if(Ie.recreate)throw new se.Upgrade("Not yet support for changing primary key");var we=W.objectStore(Ie.name);Ie.add.forEach(function(Me){return di(we,Me)}),Ie.change.forEach(function(Me){we.deleteIndex(Me.name),di(we,Me)}),Ie.del.forEach(function(Me){return we.deleteIndex(Me)})});var ge=Z._cfg.contentUpgrade;if(ge&&Z._cfg.version>J){oo(B,W),z._memoizedTables={};var Ee=I(ie);ce.del.forEach(function(Ie){Ee[Ie]=ne[Ie]}),hi(B,[B.Transaction.prototype]),ao(B,[B.Transaction.prototype],o(Ee),Ee),z.schema=Ee;var me,_e=Tn(ge);return _e&&Es(),ce=Ae.follow(function(){var Ie;(me=ge(z))&&_e&&(Ie=dr.bind(null,null),me.then(Ie,Ie))}),me&&typeof me.then=="function"?Ae.resolve(me):ce.then(function(){return me})}}),G.push(function(ne){var ie,ce,ge=Z._cfg.dbschema;ie=ge,ce=ne,[].slice.call(ce.db.objectStoreNames).forEach(function(Ee){return ie[Ee]==null&&ce.db.deleteObjectStore(Ee)}),hi(B,[B.Transaction.prototype]),ao(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),z.schema=B._dbSchema}),G.push(function(ne){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===Z._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ie){return ie!=="$meta"})):ne.objectStore("$meta").put(Z._cfg.version,"version"))})}),(function Z(){return G.length?Ae.resolve(G.shift()(z.idbtrans)).then(Z):Ae.resolve()})().then(function(){Ac(Y,W)})):Ae.resolve();var B,J,z,W,G,Y}).catch(D)):(o(b).forEach(function(Q){Cs(m,Q,b[Q].primKey,b[Q].indexes)}),oo(u,m),void Ae.follow(function(){return u.on.populate.fire(T)}).catch(D));var H,K})}function el(u,h){Ac(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var m=Rs(0,u.idbdb,h);co(u,u._dbSchema,h);for(var _=0,b=Ic(m,u._dbSchema).change;_<b.length;_++){var T=(function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=h.objectStore(D.name);D.add.forEach(function(H){pe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(H.src)),di(U,H)})})(b[_]);if(typeof T=="object")return T.value}}function Ic(u,h){var m,_={del:[],add:[],change:[]};for(m in u)h[m]||_.del.push(m);for(m in h){var b=u[m],T=h[m];if(b){var D={name:m,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||b.primKey.auto!==T.primKey.auto)D.recreate=!0,_.change.push(D);else{var U=b.idxByName,H=T.idxByName,K=void 0;for(K in U)H[K]||D.del.push(K);for(K in H){var Q=U[K],B=H[K];Q?Q.src!==B.src&&D.change.push(B):D.add.push(B)}(0<D.del.length||0<D.add.length||0<D.change.length)&&_.change.push(D)}}else _.add.push([m,T])}return _}function Cs(u,h,m,_){var b=u.db.createObjectStore(h,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return _.forEach(function(T){return di(b,T)}),b}function Ac(u,h){o(u).forEach(function(m){h.db.objectStoreNames.contains(m)||(pe&&console.debug("Dexie: Creating missing table",m),Cs(h,m,u[m].primKey,u[m].indexes))})}function di(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Rs(u,h,m){var _={};return V(h.objectStoreNames,0).forEach(function(b){for(var T=m.objectStore(b),D=fi(Tc(K=T.keyPath),K||"",!0,!1,!!T.autoIncrement,K&&typeof K!="string",!0),U=[],H=0;H<T.indexNames.length;++H){var Q=T.index(T.indexNames[H]),K=Q.keyPath,Q=fi(Q.name,K,!!Q.unique,!!Q.multiEntry,!1,K&&typeof K!="string",!1);U.push(Q)}_[b]=Ss(b,D,U)}),_}function co(u,h,m){for(var _=m.db.objectStoreNames,b=0;b<_.length;++b){var T=_[b],D=m.objectStore(T);u._hasGetAll="getAll"in D;for(var U=0;U<D.indexNames.length;++U){var H=D.indexNames[U],K=D.index(H).keyPath,Q=typeof K=="string"?K:"["+V(K).join("+")+"]";!h[T]||(K=h[T].idxByName[Q])&&(K.name=H,delete h[T].idxByName[Q],h[T].idxByName[H]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function uo(u){return u.split(",").map(function(h,m){var T=h.split(":"),_=(b=T[1])===null||b===void 0?void 0:b.trim(),b=(h=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return fi(b,T||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(T),m===0,_)})}var Vh=(Ps.prototype._createTableSchema=Ss,Ps.prototype._parseIndexSyntax=uo,Ps.prototype._parseStoresSpec=function(u,h){var m=this;o(u).forEach(function(_){if(u[_]!==null){var b=m._parseIndexSyntax(u[_]),T=b.shift();if(!T)throw new se.Schema("Invalid schema for table "+_+": "+u[_]);if(T.unique=!0,T.multi)throw new se.Schema("Primary key cannot be multiEntry*");b.forEach(function(D){if(D.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),b=m._createTableSchema(_,T,b),h[_]=b}})},Ps.prototype.stores=function(m){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,m):m;var m=h._versions,_={},b={};return m.forEach(function(T){l(_,T._cfg.storesSource),b=T._cfg.dbschema={},T._parseStoresSpec(_,b)}),h._dbSchema=b,hi(h,[h._allTables,h,h.Transaction.prototype]),ao(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(b),b),h._storeNames=o(b),this},Ps.prototype.upgrade=function(u){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||je,u),this},Ps);function Ps(){}function ks(u,h){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new Ns(Xr,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function sa(u){return u&&typeof u.databases=="function"}function ia(u){return Zn(function(){return Re.letThrough=!0,u()})}function lo(u){return!("from"in u)}var Xt=function(u,h){if(!this){var m=new Xt;return u&&"d"in u&&l(m,u),m}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function pi(u,h,m){var _=nt(h,m);if(!isNaN(_)){if(0<_)throw RangeError();if(lo(u))return l(u,{from:h,to:m,d:1});var b=u.l,_=u.r;if(nt(m,u.from)<0)return b?pi(b,h,m):u.l={from:h,to:m,d:1,l:null,r:null},ns(u);if(0<nt(h,u.to))return _?pi(_,h,m):u.r={from:h,to:m,d:1,l:null,r:null},ns(u);nt(h,u.from)<0&&(u.from=h,u.l=null,u.d=_?_.d+1:1),0<nt(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,b&&!u.l&&ts(u,b),_&&m&&ts(u,_)}}function ts(u,h){lo(h)||(function m(_,H){var T=H.from,D=H.to,U=H.l,H=H.r;pi(_,T,D),U&&m(_,U),H&&m(_,H)})(u,h)}function Sc(u,h){var m=fo(h),_=m.next();if(_.done)return!1;for(var b=_.value,T=fo(u),D=T.next(b.from),U=D.value;!_.done&&!D.done;){if(nt(U.from,b.to)<=0&&0<=nt(U.to,b.from))return!0;nt(b.from,U.from)<0?b=(_=m.next(U.from)).value:U=(D=T.next(b.from)).value}return!1}function fo(u){var h=lo(u)?null:{s:0,n:u};return{next:function(m){for(var _=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,_)for(;h.n.l&&nt(m,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!_||nt(m,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function ns(u){var h,m,_=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),b=1<_?"r":_<-1?"l":"";b&&(h=b=="r"?"l":"r",m=r({},u),_=u[b],u.from=_.from,u.to=_.to,u[b]=_[b],m[b]=_[h],(u[h]=m).d=Cc(m)),u.d=Cc(u)}function Cc(m){var h=m.r,m=m.l;return(h?m?Math.max(h.d,m.d):h.d:m?m.d:0)+1}function ho(u,h){return o(h).forEach(function(m){u[m]?ts(u[m],h[m]):u[m]=(function _(b){var T,D,U={};for(T in b)p(b,T)&&(D=b[T],U[T]=!D||typeof D!="object"||F.has(D.constructor)?D:_(D));return U})(h[m])}),u}function oa(u,h){return u.all||h.all||Object.keys(u).some(function(m){return h[m]&&Sc(h[m],u[m])})}g(Xt.prototype,((yr={add:function(u){return ts(this,u),this},addKey:function(u){return pi(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(m){return pi(h,m,m)}),this},hasKey:function(u){var h=fo(this).next(u).value;return h&&nt(h.from,u)<=0&&0<=nt(h.to,u)}})[be]=function(){return fo(this)},yr));var rs={},mi={},mn=!1;function po(u){ho(mi,u),mn||(mn=!0,setTimeout(function(){mn=!1,aa(mi,!(mi={}))},0))}function aa(u,h){h===void 0&&(h=!1);var m=new Set;if(u.all)for(var _=0,b=Object.values(rs);_<b.length;_++)Os(D=b[_],u,m,h);else for(var T in u){var D,U=/^idb\:\/\/(.*)\/(.*)\//.exec(T);U&&(T=U[1],U=U[2],(D=rs["idb://".concat(T,"/").concat(U)])&&Os(D,u,m,h))}m.forEach(function(H){return H()})}function Os(u,h,m,_){for(var b=[],T=0,D=Object.entries(u.queries.query);T<D.length;T++){for(var U=D[T],H=U[0],K=[],Q=0,B=U[1];Q<B.length;Q++){var J=B[Q];oa(h,J.obsSet)?J.subscribers.forEach(function(Y){return m.add(Y)}):_&&K.push(J)}_&&b.push([H,K])}if(_)for(var z=0,W=b;z<W.length;z++){var G=W[z],H=G[0],K=G[1];u.queries.query[H]=K}}function c(u){var h=u._state,m=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?xt(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var _=h.openCanceller,b=Math.round(10*u.verno),T=!1;function D(){if(h.openCanceller!==_)throw new se.DatabaseClosed("db.open() was cancelled")}function U(){return new Ae(function(J,z){if(D(),!m)throw new se.MissingAPI;var W=u.name,G=h.autoSchema||!b?m.open(W):m.open(W,b);if(!G)throw new se.MissingAPI;G.onerror=mr(z),G.onblocked=mt(u._fireOnBlocked),G.onupgradeneeded=mt(function(Y){var Z;Q=G.transaction,h.autoSchema&&!u._options.allowEmptyDB?(G.onerror=ro,Q.abort(),G.result.close(),(Z=m.deleteDatabase(W)).onsuccess=Z.onerror=mt(function(){z(new se.NoSuchDatabase("Database ".concat(W," doesnt exist")))})):(Q.onerror=mr(z),Y=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,B=Y<1,u.idbdb=G.result,T&&el(u,Q),Mr(u,Y/10,Q,z))},z),G.onsuccess=mt(function(){Q=null;var Y,Z,ne,ie,ce,ge=u.idbdb=G.result,Ee=V(ge.objectStoreNames);if(0<Ee.length)try{var me=ge.transaction((ie=Ee).length===1?ie[0]:ie,"readonly");if(h.autoSchema)Z=ge,ne=me,(Y=u).verno=Z.version/10,ne=Y._dbSchema=Rs(0,Z,ne),Y._storeNames=V(Z.objectStoreNames,0),ao(Y,[Y._allTables],o(ne),ne);else if(co(u,u._dbSchema,me),((ce=Ic(Rs(0,(ce=u).idbdb,me),ce._dbSchema)).add.length||ce.change.some(function(_e){return _e.add.length||_e.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),b=ge.version+1,T=!0,J(U());oo(u,me)}catch{}Jr.push(u),ge.onversionchange=mt(function(_e){h.vcFired=!0,u.on("versionchange").fire(_e)}),ge.onclose=mt(function(){u.close({disableAutoOpen:!1})}),B&&(ce=u._deps,me=W,ge=ce.indexedDB,ce=ce.IDBKeyRange,sa(ge)||me===Xr||ks(ge,ce).put({name:me}).catch(je)),J()},z)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<b)return b=0,U()}return Ae.reject(J)})}var H,K=h.dbReadyResolve,Q=null,B=!1;return Ae.race([_,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function z(){return indexedDB.databases().finally(J)}H=setInterval(z,100),z()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(U)]).then(function(){return D(),h.onReadyBeingFired=[],Ae.resolve(ia(function(){return u.on.ready.fire(u.vip)})).then(function J(){if(0<h.onReadyBeingFired.length){var z=h.onReadyBeingFired.reduce(ye,je);return h.onReadyBeingFired=[],Ae.resolve(ia(function(){return z(u.vip)})).then(J)}})}).finally(function(){h.openCanceller===_&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(J){h.dbOpenError=J;try{Q&&Q.abort()}catch{}return _===h.openCanceller&&u._close(),xt(J)}).finally(function(){h.openComplete=!0,K()}).then(function(){var J;return B&&(J={},u.tables.forEach(function(z){z.schema.indexes.forEach(function(W){W.name&&(J["idb://".concat(u.name,"/").concat(z.name,"/").concat(W.name)]=new Xt(-1/0,[[[]]]))}),J["idb://".concat(u.name,"/").concat(z.name,"/")]=J["idb://".concat(u.name,"/").concat(z.name,"/:dels")]=new Xt(-1/0,[[[]]])}),es(so).fire(J),aa(J,!0)),u})}function y(u){function h(T){return u.next(T)}var m=b(h),_=b(function(T){return u.throw(T)});function b(T){return function(H){var U=T(H),H=U.value;return U.done?H:H&&typeof H.then=="function"?H.then(m,_):a(H)?Promise.all(H).then(m,_):m(H)}}return b(h)()}function w(u,h,m){for(var _=a(u)?u.slice():[u],b=0;b<m;++b)_.push(h);return _}var P={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema,b={},T=[];function D(B,J,z){var W=io(B),G=b[W]=b[W]||[],Y=B==null?0:typeof B=="string"?1:B.length,Z=0<J,Z=r(r({},z),{name:Z?"".concat(W,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:Z,keyTail:J,keyLength:Y,extractKey:na(B),unique:!Z&&z.unique});return G.push(Z),Z.isPrimaryKey||T.push(Z),1<Y&&D(Y===2?B[0]:B.slice(0,Y-1),J+1,z),G.sort(function(ne,ie){return ne.keyTail-ie.keyTail}),Z}h=D(_.primaryKey.keyPath,0,_.primaryKey),b[":id"]=[h];for(var U=0,H=_.indexes;U<H.length;U++){var K=H[U];D(K.keyPath,0,K)}function Q(B){var J,z=B.query.index;return z.isVirtual?r(r({},B),{query:{index:z.lowLevelIndex,range:(J=B.query.range,z=z.keyTail,{type:J.type===1?2:J.type,lower:w(J.lower,J.lowerOpen?u.MAX_KEY:u.MIN_KEY,z),lowerOpen:!0,upper:w(J.upper,J.upperOpen?u.MIN_KEY:u.MAX_KEY,z),upperOpen:!0})}}):B}return r(r({},m),{schema:r(r({},_),{primaryKey:h,indexes:T,getIndexByKeyPath:function(B){return(B=b[io(B)])&&B[0]}}),count:function(B){return m.count(Q(B))},query:function(B){return m.query(Q(B))},openCursor:function(B){var J=B.query.index,z=J.keyTail,W=J.isVirtual,G=J.keyLength;return W?m.openCursor(Q(B)).then(function(Z){return Z&&Y(Z)}):m.openCursor(B);function Y(Z){return Object.create(Z,{continue:{value:function(ne){ne!=null?Z.continue(w(ne,B.reverse?u.MAX_KEY:u.MIN_KEY,z)):B.unique?Z.continue(Z.key.slice(0,G).concat(B.reverse?u.MIN_KEY:u.MAX_KEY,z)):Z.continue()}},continuePrimaryKey:{value:function(ne,ie){Z.continuePrimaryKey(w(ne,u.MAX_KEY,z),ie)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var ne=Z.key;return G===1?ne[0]:ne.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function X(u,h,m,_){return m=m||{},_=_||"",o(u).forEach(function(b){var T,D,U;p(h,b)?(T=u[b],D=h[b],typeof T=="object"&&typeof D=="object"&&T&&D?(U=$e(T))!==$e(D)?m[_+b]=h[b]:U==="Object"?X(T,D,m,_+b+"."):T!==D&&(m[_+b]=h[b]):T!==D&&(m[_+b]=h[b])):m[_+b]=void 0}),o(h).forEach(function(b){p(u,b)||(m[_+b]=h[b])}),m}function re(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var ve={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema.primaryKey;return r(r({},m),{mutate:function(b){var T=Re.trans,D=T.table(h).hook,U=D.deleting,H=D.creating,K=D.updating;switch(b.type){case"add":if(H.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"put":if(H.fire===je&&K.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"delete":if(U.fire===je)break;return T._promise("readwrite",function(){return Q(b)},!0);case"deleteRange":if(U.fire===je)break;return T._promise("readwrite",function(){return(function B(J,z,W){return m.query({trans:J,values:!1,query:{index:_,range:z},limit:W}).then(function(G){var Y=G.result;return Q({type:"delete",keys:Y,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):Y.length<W?{failures:[],numFailures:0,lastResult:void 0}:B(J,r(r({},z),{lower:Y[Y.length-1],lowerOpen:!0}),W)})})})(b.trans,b.range,1e4)},!0)}return m.mutate(b);function Q(B){var J,z,W,G=Re.trans,Y=B.keys||re(_,B);if(!Y)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:Y}):r({},B)).type!=="delete"&&(B.values=s([],B.values)),B.keys&&(B.keys=s([],B.keys)),J=m,W=Y,((z=B).type==="add"?Promise.resolve([]):J.getMany({trans:z.trans,keys:W,cache:"immutable"})).then(function(Z){var ne=Y.map(function(ie,ce){var ge,Ee,me,_e=Z[ce],Ie={onerror:null,onsuccess:null};return B.type==="delete"?U.fire.call(Ie,ie,_e,G):B.type==="add"||_e===void 0?(ge=H.fire.call(Ie,ie,B.values[ce],G),ie==null&&ge!=null&&(B.keys[ce]=ie=ge,_.outbound||O(B.values[ce],_.keyPath,ie))):(ge=X(_e,B.values[ce]),(Ee=K.fire.call(Ie,ge,ie,_e,G))&&(me=B.values[ce],Object.keys(Ee).forEach(function(we){p(me,we)?me[we]=Ee[we]:O(me,we,Ee[we])}))),Ie});return m.mutate(B).then(function(ie){for(var ce=ie.failures,ge=ie.results,Ee=ie.numFailures,ie=ie.lastResult,me=0;me<Y.length;++me){var _e=(ge||Y)[me],Ie=ne[me];_e==null?Ie.onerror&&Ie.onerror(ce[me]):Ie.onsuccess&&Ie.onsuccess(B.type==="put"&&Z[me]?B.values[me]:_e)}return{failures:ce,results:ge,numFailures:Ee,lastResult:ie}}).catch(function(ie){return ne.forEach(function(ce){return ce.onerror&&ce.onerror(ie)}),Promise.reject(ie)})})}}})}})}};function yt(u,h,m){try{if(!h||h.keys.length<u.length)return null;for(var _=[],b=0,T=0;b<h.keys.length&&T<u.length;++b)nt(h.keys[b],u[T])===0&&(_.push(m?C(h.values[b]):h.values[b]),++T);return _.length===u.length?_:null}catch{return null}}var sn={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var m=u.table(h);return r(r({},m),{getMany:function(_){if(!_.cache)return m.getMany(_);var b=yt(_.keys,_.trans._cache,_.cache==="clone");return b?Ae.resolve(b):m.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?C(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),m.mutate(_)}})}}}};function lt(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function on(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fn={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,m=new Xt(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(_,b,T){if(Re.subscr&&b!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Re.querier));return u.transaction(_,b,T)},table:function(_){var b=u.table(_),T=b.schema,D=T.primaryKey,B=T.indexes,U=D.extractKey,H=D.outbound,K=D.autoIncrement&&B.filter(function(z){return z.compound&&z.keyPath.includes(D.keyPath)}),Q=r(r({},b),{mutate:function(z){function W(we){return we="idb://".concat(h,"/").concat(_,"/").concat(we),ie[we]||(ie[we]=new Xt)}var G,Y,Z,ne=z.trans,ie=z.mutatedParts||(z.mutatedParts={}),ce=W(""),ge=W(":dels"),Ee=z.type,Ie=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[re(D,z).filter(function(we){return we}),z.values]:[],me=Ie[0],_e=Ie[1],Ie=z.trans._cache;return a(me)?(ce.addKeys(me),(Ie=Ee==="delete"||me.length===_e.length?yt(me,Ie):null)||ge.addKeys(me),(Ie||_e)&&(G=W,Y=Ie,Z=_e,T.indexes.forEach(function(we){var Me=G(we.name||"");function Xe(st){return st!=null?we.extractKey(st):null}function tt(st){return we.multiEntry&&a(st)?st.forEach(function(nr){return Me.addKey(nr)}):Me.addKey(st)}(Y||Z).forEach(function(st,In){var Je=Y&&Xe(Y[In]),In=Z&&Xe(Z[In]);nt(Je,In)!==0&&(Je!=null&&tt(Je),In!=null&&tt(In))})}))):me?(_e={from:(_e=me.lower)!==null&&_e!==void 0?_e:u.MIN_KEY,to:(_e=me.upper)!==null&&_e!==void 0?_e:u.MAX_KEY},ge.add(_e),ce.add(_e)):(ce.add(m),ge.add(m),T.indexes.forEach(function(we){return W(we.name).add(m)})),b.mutate(z).then(function(we){return!me||z.type!=="add"&&z.type!=="put"||(ce.addKeys(we.results),K&&K.forEach(function(Me){for(var Xe=z.values.map(function(Je){return Me.extractKey(Je)}),tt=Me.keyPath.findIndex(function(Je){return Je===D.keyPath}),st=0,nr=we.results.length;st<nr;++st)Xe[st][tt]=we.results[st];W(Me.name).addKeys(Xe)})),ne.mutatedParts=ho(ne.mutatedParts||{},ie),we})}}),B=function(W){var G=W.query,W=G.index,G=G.range;return[W,new Xt((W=G.lower)!==null&&W!==void 0?W:u.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:u.MAX_KEY)]},J={get:function(z){return[D,new Xt(z.key)]},getMany:function(z){return[D,new Xt().addKeys(z.keys)]},count:B,query:B,openCursor:B};return o(J).forEach(function(z){Q[z]=function(W){var G=Re.subscr,Y=!!G,Z=lt(Re,b)&&on(z,W)?W.obsSet={}:G;if(Y){var ne=function(_e){return _e="idb://".concat(h,"/").concat(_,"/").concat(_e),Z[_e]||(Z[_e]=new Xt)},ie=ne(""),ce=ne(":dels"),G=J[z](W),Y=G[0],G=G[1];if((z==="query"&&Y.isPrimaryKey&&!W.values?ce:ne(Y.name||"")).add(G),!Y.isPrimaryKey){if(z!=="count"){var ge=z==="query"&&H&&W.values&&b.query(r(r({},W),{values:!1}));return b[z].apply(this,arguments).then(function(_e){if(z==="query"){if(H&&W.values)return ge.then(function(Xe){return Xe=Xe.result,ie.addKeys(Xe),_e});var Ie=W.values?_e.result.map(U):_e.result;(W.values?ie:ce).addKeys(Ie)}else if(z==="openCursor"){var we=_e,Me=W.values;return we&&Object.create(we,{key:{get:function(){return ce.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Xe=we.primaryKey;return ce.addKey(Xe),Xe}},value:{get:function(){return Me&&ie.addKey(we.primaryKey),we.value}}})}return _e})}ce.add(m)}}return b[z].apply(this,arguments)}}),Q}})}};function Ds(u,h,m){if(m.numFailures===0)return h;if(h.type==="deleteRange")return null;var _=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return m.numFailures===_?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(b,T){return!(T in m.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(b,T){return!(T in m.failures)})),h)}function Un(u,h){return m=u,((_=h).lower===void 0||(_.lowerOpen?0<nt(m,_.lower):0<=nt(m,_.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?nt(u,h.upper)<0:nt(u,h.upper)<=0));var m,_}function mo(u,h,J,_,b,T){if(!J||J.length===0)return u;var D=h.query.index,U=D.multiEntry,H=h.query.range,K=_.schema.primaryKey.extractKey,Q=D.extractKey,B=(D.lowLevelIndex||D).extractKey,J=J.reduce(function(z,W){var G=z,Y=[];if(W.type==="add"||W.type==="put")for(var Z=new Xt,ne=W.values.length-1;0<=ne;--ne){var ie,ce=W.values[ne],ge=K(ce);Z.hasKey(ge)||(ie=Q(ce),(U&&a(ie)?ie.some(function(we){return Un(we,H)}):Un(ie,H))&&(Z.addKey(ge),Y.push(ce)))}switch(W.type){case"add":var Ee=new Xt().addKeys(h.values?z.map(function(Me){return K(Me)}):z),G=z.concat(h.values?Y.filter(function(Me){return Me=K(Me),!Ee.hasKey(Me)&&(Ee.addKey(Me),!0)}):Y.map(function(Me){return K(Me)}).filter(function(Me){return!Ee.hasKey(Me)&&(Ee.addKey(Me),!0)}));break;case"put":var me=new Xt().addKeys(W.values.map(function(Me){return K(Me)}));G=z.filter(function(Me){return!me.hasKey(h.values?K(Me):Me)}).concat(h.values?Y:Y.map(function(Me){return K(Me)}));break;case"delete":var _e=new Xt().addKeys(W.keys);G=z.filter(function(Me){return!_e.hasKey(h.values?K(Me):Me)});break;case"deleteRange":var Ie=W.range;G=z.filter(function(Me){return!Un(K(Me),Ie)})}return G},u);return J===u?u:(J.sort(function(z,W){return nt(B(z),B(W))||nt(K(z),K(W))}),h.limit&&h.limit<1/0&&(J.length>h.limit?J.length=h.limit:u.length===h.limit&&J.length<h.limit&&(b.dirty=!0)),T?Object.freeze(J):J)}function ca(u,h){return nt(u.lower,h.lower)===0&&nt(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function PA(u,h){return(function(m,_,b,T){if(m===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return 1;if(T)return-1}return _})(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=(function(m,_,b,T){if(m===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return-1;if(T)return 1}return _})(u.upper,h.upper,u.upperOpen,h.upperOpen)}function kA(u,h,m,_){u.subscribers.add(m),_.addEventListener("abort",function(){var b,T;u.subscribers.delete(m),u.subscribers.size===0&&(b=u,T=h,setTimeout(function(){b.subscribers.size===0&&Ce(T,b)},3e3))})}var OA={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return r(r({},u),{transaction:function(m,_,b){var T,D,U=u.transaction(m,_,b);return _==="readwrite"&&(D=(T=new AbortController).signal,b=function(H){return function(){if(T.abort(),_==="readwrite"){for(var K=new Set,Q=0,B=m;Q<B.length;Q++){var J=B[Q],z=rs["idb://".concat(h,"/").concat(J)];if(z){var W=u.table(J),G=z.optimisticOps.filter(function(Me){return Me.trans===U});if(U._explicit&&H&&U.mutatedParts)for(var Y=0,Z=Object.values(z.queries.query);Y<Z.length;Y++)for(var ne=0,ie=(Ee=Z[Y]).slice();ne<ie.length;ne++)oa((me=ie[ne]).obsSet,U.mutatedParts)&&(Ce(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)}));else if(0<G.length){z.optimisticOps=z.optimisticOps.filter(function(Me){return Me.trans!==U});for(var ce=0,ge=Object.values(z.queries.query);ce<ge.length;ce++)for(var Ee,me,_e,Ie=0,we=(Ee=ge[ce]).slice();Ie<we.length;Ie++)(me=we[Ie]).res!=null&&U.mutatedParts&&(H&&!me.dirty?(_e=Object.isFrozen(me.res),_e=mo(me.res,me.req,G,W,me,_e),me.dirty?(Ce(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)})):_e!==me.res&&(me.res=_e,me.promise=Ae.resolve({result:_e}))):(me.dirty&&Ce(Ee,me),me.subscribers.forEach(function(Me){return K.add(Me)})))}}}K.forEach(function(Me){return Me()})}}},U.addEventListener("abort",b(!1),{signal:D}),U.addEventListener("error",b(!1),{signal:D}),U.addEventListener("complete",b(!0),{signal:D})),U},table:function(m){var _=u.table(m),b=_.schema.primaryKey;return r(r({},_),{mutate:function(T){var D=Re.trans;if(b.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return _.mutate(T);var U=rs["idb://".concat(h,"/").concat(m)];return U?(D=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||re(b,T).some(function(H){return H==null}))?(U.optimisticOps.push(T),T.mutatedParts&&po(T.mutatedParts),D.then(function(H){0<H.numFailures&&(Ce(U.optimisticOps,T),(H=Ds(0,T,H))&&U.optimisticOps.push(H),T.mutatedParts&&po(T.mutatedParts))}),D.catch(function(){Ce(U.optimisticOps,T),T.mutatedParts&&po(T.mutatedParts)})):D.then(function(H){var K=Ds(0,r(r({},T),{values:T.values.map(function(Q,B){var J;return H.failures[B]?Q:(Q=(J=b.keyPath)!==null&&J!==void 0&&J.includes(".")?C(Q):r({},Q),O(Q,b.keyPath,H.results[B]),Q)})}),H);U.optimisticOps.push(K),queueMicrotask(function(){return T.mutatedParts&&po(T.mutatedParts)})}),D):_.mutate(T)},query:function(T){if(!lt(Re,_)||!on("query",T))return _.query(T);var D=((K=Re.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",B=Re,U=B.requery,H=B.signal,K=(function(W,G,Y,Z){var ne=rs["idb://".concat(W,"/").concat(G)];if(!ne)return[];if(!(G=ne.queries[Y]))return[null,!1,ne,null];var ie=G[(Z.query?Z.query.index.name:null)||""];if(!ie)return[null,!1,ne,null];switch(Y){case"query":var ce=ie.find(function(ge){return ge.req.limit===Z.limit&&ge.req.values===Z.values&&ca(ge.req.query.range,Z.query.range)});return ce?[ce,!0,ne,ie]:[ie.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Z.limit&&(!Z.values||ge.req.values)&&PA(ge.req.query.range,Z.query.range)}),!1,ne,ie];case"count":return ce=ie.find(function(ge){return ca(ge.req.query.range,Z.query.range)}),[ce,!!ce,ne,ie]}})(h,m,"query",T),Q=K[0],B=K[1],J=K[2],z=K[3];return Q&&B?Q.obsSet=T.obsSet:(B=_.query(T).then(function(W){var G=W.result;if(Q&&(Q.res=G),D){for(var Y=0,Z=G.length;Y<Z;++Y)Object.freeze(G[Y]);Object.freeze(G)}else W.result=C(G);return W}).catch(function(W){return z&&Q&&Ce(z,Q),Promise.reject(W)}),Q={obsSet:T.obsSet,promise:B,subscribers:new Set,type:"query",req:T,dirty:!1},z?z.push(Q):(z=[Q],(J=J||(rs["idb://".concat(h,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=z)),kA(Q,z,U,H),Q.promise.then(function(W){return{result:mo(W.result,T,J?.optimisticOps,_,Q,D)}})}})}})}};function tl(u,h){return new Proxy(u,{get:function(m,_,b){return _==="db"?h:Reflect.get(m,_,b)}})}var Ns=(Qt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new se.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,m=h.filter(function(_){return _._cfg.version===u})[0];return m||(m=new this.Version(u),h.push(m),h.sort(Zu),m.stores({}),this._state.autoSchema=!1,m)},Qt.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Re.letThrough||this._vip)?u():new Ae(function(m,_){if(h._state.openComplete)return _(new se.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void _(new se.DatabaseClosed);h.open().catch(je)}h._state.dbReadyPromise.then(m,_)}).then(u)},Qt.prototype.use=function(u){var h=u.stack,m=u.create,_=u.level,b=u.name;return b&&this.unuse({stack:h,name:b}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:m,level:_??10,name:b}),u.sort(function(T,D){return T.level-D.level}),this},Qt.prototype.unuse=function(u){var h=u.stack,m=u.name,_=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(b){return _?b.create!==_:!!m&&b.name!==m})),this},Qt.prototype.open=function(){var u=this;return kr(Mn,function(){return c(u)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,h=Jr.indexOf(this);if(0<=h&&Jr.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ae(function(m){u.dbReadyResolve=m}),u.openCanceller=new Ae(function(m,_){u.cancelOpen=_}))},Qt.prototype.close=function(m){var h=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;h?(m.isBeingOpened&&m.cancelOpen(new se.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new se.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Qt.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ae(function(b,T){function D(){h.close(u);var U=h._deps.indexedDB.deleteDatabase(h.name);U.onsuccess=mt(function(){var H,K,Q;H=h._deps,K=h.name,Q=H.indexedDB,H=H.IDBKeyRange,sa(Q)||K===Xr||ks(Q,H).delete(K).catch(je),b()}),U.onerror=mr(T),U.onblocked=h._fireOnBlocked}if(m)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(D):D()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var u=this;return o(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var u=(function(h,m,_){var b=arguments.length;if(b<2)throw new se.InvalidArgument("Too few arguments");for(var T=new Array(b-1);--b;)T[b-1]=arguments[b];return _=T.pop(),[h,k(T),_]}).apply(this,arguments);return this._transaction.apply(this,u)},Qt.prototype._transaction=function(u,h,m){var _=this,b=Re.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var T,D,U=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(D=h.map(function(K){if(K=K instanceof _.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),u=="r"||u===Or)T=Or;else{if(u!="rw"&&u!=Xi)throw new se.InvalidArgument("Invalid transaction mode: "+u);T=Xi}if(b){if(b.mode===Or&&T===Xi){if(!U)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&D.forEach(function(K){if(b&&b.storeNames.indexOf(K)===-1){if(!U)throw new se.SubTransaction("Table "+K+" not included in parent transaction.");b=null}}),U&&b&&!b.active&&(b=null)}}catch(K){return b?b._promise(null,function(Q,B){B(K)}):xt(K)}var H=(function K(Q,B,J,z,W){return Ae.resolve().then(function(){var G=Re.transless||Re,Y=Q._createTransaction(B,J,Q._dbSchema,z);if(Y.explicit=!0,G={trans:Y,transless:G},z)Y.idbtrans=z.idbtrans;else try{Y.create(),Y.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ie){return ie.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,B,J,null,W)})):xt(ie)}var Z,ne=Tn(W);return ne&&Es(),G=Ae.follow(function(){var ie;(Z=W.call(Y,Y))&&(ne?(ie=dr.bind(null,null),Z.then(ie,ie)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=y(Z)))},G),(Z&&typeof Z.then=="function"?Ae.resolve(Z).then(function(ie){return Y.active?ie:xt(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(ie){return z&&Y._resolve(),Y._completion.then(function(){return ie})}).catch(function(ie){return Y._reject(ie),xt(ie)})})}).bind(null,this,T,D,b,m);return b?b._promise(T,H,"lock"):Re.trans?kr(Re.transless,function(){return _._whenReady(H)}):this._whenReady(H)},Qt.prototype.table=function(u){if(!p(this._allTables,u))throw new se.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Qt);function Qt(u,h){var m=this;this._middlewares={},this.verno=0;var _=Qt.dependencies;this._options=h=r({addons:Qt.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},_=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,T,D,U,H,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:je,dbReadyPromise:null,cancelOpen:je,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};K.dbReadyPromise=new Ae(function(B){K.dbReadyResolve=B}),K.openCanceller=new Ae(function(B,J){K.cancelOpen=J}),this._state=K,this.name=u,this.on=er(this,"populate","blocked","versionchange","close",{ready:[ye,je]}),this.once=function(B,J){var z=function(){for(var W=[],G=0;G<arguments.length;G++)W[G]=arguments[G];m.on(B).unsubscribe(z),J.apply(m,W)};return m.on(B,z)},this.on.ready.subscribe=R(this.on.ready.subscribe,function(B){return function(J,z){Qt.vip(function(){var W,G=m._state;G.openComplete?(G.dbOpenError||Ae.resolve().then(J),z&&B(J)):G.onReadyBeingFired?(G.onReadyBeingFired.push(J),z&&B(J)):(B(J),W=m,z||B(function Y(){W.on.ready.unsubscribe(J),W.on.ready.unsubscribe(Y)}))})}}),this.Collection=(b=this,Ln(Dh.prototype,function(Z,Y){this.db=b;var z=gc,W=null;if(Y)try{z=Y()}catch(ne){W=ne}var G=Z._ctx,Y=G.table,Z=Y.hook.reading.fire;this._ctx={table:Y,index:G.index,isPrimKey:!G.index||Y.schema.primKey.keyPath&&G.index===Y.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:W,or:G.or,valueMapper:Z!==x?Z:null}})),this.Table=(T=this,Ln(wc.prototype,function(B,J,z){this.db=T,this._tx=z,this.name=B,this.schema=J,this.hook=T._allTables[B]?T._allTables[B].hook:er(null,{creating:[fe,je],reading:[j,x],updating:[he,je],deleting:[ae,je]})})),this.Transaction=(D=this,Ln(Mh.prototype,function(B,J,z,W,G){var Y=this;B!=="readonly"&&J.forEach(function(Z){Z=(Z=z[Z])===null||Z===void 0?void 0:Z.yProps,Z&&(J=J.concat(Z.map(function(ne){return ne.updatesTable})))}),this.db=D,this.mode=B,this.storeNames=J,this.schema=z,this.chromeTransactionDurability=W,this.idbtrans=null,this.on=er(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(Z,ne){Y._resolve=Z,Y._reject=ne}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(Z){var ne=Y.active;return Y.active=!1,Y.on.error.fire(Z),Y.parent?Y.parent._reject(Z):ne&&Y.idbtrans&&Y.idbtrans.abort(),xt(Z)})})),this.Version=(U=this,Ln(Vh.prototype,function(B){this.db=U,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Ln(Ec.prototype,function(B,J,z){if(this.db=H,this._ctx={table:B,index:J===":id"?null:J,or:z},this._cmp=this._ascending=nt,this._descending=function(W,G){return nt(G,W)},this._max=function(W,G){return 0<nt(W,G)?W:G},this._min=function(W,G){return nt(W,G)<0?W:G},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=xr(h.IDBKeyRange),this._createTransaction=function(B,J,z,W){return new m.Transaction(B,J,z,m._options.chromeTransactionDurability,W)},this._fireOnBlocked=function(B){m.on("blocked").fire(B),Jr.filter(function(J){return J.name===m.name&&J!==m&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(B)})},this.use(sn),this.use(OA),this.use(fn),this.use(P),this.use(ve);var Q=new Proxy(this,{get:function(B,J,z){if(J==="_vip")return!0;if(J==="table")return function(G){return tl(m.table(G),Q)};var W=Reflect.get(B,J,z);return W instanceof wc?tl(W,Q):J==="tables"?W.map(function(G){return tl(G,Q)}):J==="_createTransaction"?function(){return tl(W.apply(this,arguments),Q)}:W}});this.vip=Q,_.forEach(function(B){return B(m)})}var nl,yr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",DA=(Fh.prototype.subscribe=function(u,h,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:m})},Fh.prototype[yr]=function(){return this},Fh);function Fh(u){this._subscribe=u}try{nl={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{nl={indexedDB:null,IDBKeyRange:null}}function zg(u){var h,m=!1,_=new DA(function(b){var T=Tn(u),D,U=!1,H={},K={},Q={get closed(){return U},unsubscribe:function(){U||(U=!0,D&&D.abort(),B&&es.storagemutated.unsubscribe(z))}};b.start&&b.start(Q);var B=!1,J=function(){return Zo(W)},z=function(G){ho(H,G),oa(K,H)&&J()},W=function(){var G,Y,Z;!U&&nl.indexedDB&&(H={},G={},D&&D.abort(),D=new AbortController,Z=(function(ne){var ie=hr();try{T&&Es();var ce=Zn(u,ne);return ce=T?ce.finally(dr):ce}finally{ie&&bs()}})(Y={subscr:G,signal:D.signal,requery:J,querier:u,trans:null}),Promise.resolve(Z).then(function(ne){m=!0,h=ne,U||Y.signal.aborted||(H={},(function(ie){for(var ce in ie)if(p(ie,ce))return;return 1})(K=G)||B||(es(so,z),B=!0),Zo(function(){return!U&&b.next&&b.next(ne)}))},function(ne){m=!1,["DatabaseClosedError","AbortError"].includes(ne?.name)||U||Zo(function(){U||b.error&&b.error(ne)})}))};return setTimeout(J,0),Q});return _.hasValue=function(){return m},_.getValue=function(){return h},_}var go=Ns;function Uh(u){var h=gi;try{gi=!0,es.storagemutated.fire(u),aa(u,!0)}finally{gi=h}}g(go,r(r({},et),{delete:function(u){return new go(u,{addons:[]}).delete()},exists:function(u){return new go(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=go.dependencies,m=h.indexedDB,h=h.IDBKeyRange,(sa(m)?Promise.resolve(m.databases()).then(function(_){return _.map(function(b){return b.name}).filter(function(b){return b!==Xr})}):ks(m,h).toCollection().primaryKeys()).then(u)}catch{return xt(new se.MissingAPI)}var h,m},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return Re.trans?kr(Re.transless,u):u()},vip:ia,async:function(u){return function(){try{var h=y(u.apply(this,arguments));return h&&typeof h.then=="function"?h:Ae.resolve(h)}catch(m){return xt(m)}}},spawn:function(u,h,m){try{var _=y(u.apply(m,h||[]));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(b){return xt(b)}},currentTransaction:{get:function(){return Re.trans||null}},waitFor:function(u,h){return h=Ae.resolve(typeof u=="function"?go.ignoreTransaction(u):u).timeout(h||6e4),Re.trans?Re.trans.waitFor(h):h},Promise:Ae,debug:{get:function(){return pe},set:function(u){de(u)}},derive:S,extend:l,props:g,override:R,Events:er,on:es,liveQuery:zg,extendObservabilitySet:ho,getByKeyPath:te,setByKeyPath:O,delByKeyPath:function(u,h){typeof h=="string"?O(u,h,void 0):"length"in h&&[].map.call(h,function(m){O(u,m,void 0)})},shallowClone:I,deepClone:C,getObjectDiff:X,cmp:nt,asap:$,minKey:-1/0,addons:[],connections:Jr,errnames:oe,dependencies:nl,cache:rs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,m){return u+h/Math.pow(10,2*m)})})),go.maxKey=xr(go.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(es(so,function(u){gi||(u=new CustomEvent(gr,{detail:u}),gi=!0,dispatchEvent(u),gi=!1)}),addEventListener(gr,function(u){u=u.detail,gi||Uh(u)}));var ua,gi=!1,Wg=function(){};return typeof BroadcastChannel<"u"&&((Wg=function(){(ua=new BroadcastChannel(gr)).onmessage=function(u){return u.data&&Uh(u.data)}})(),typeof ua.unref=="function"&&ua.unref(),es(so,function(u){gi||ua.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Ns.disableBfCache&&u.persisted){pe&&console.debug("Dexie: handling persisted pagehide"),ua?.close();for(var h=0,m=Jr;h<m.length;h++)m[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Ns.disableBfCache&&u.persisted&&(pe&&console.debug("Dexie: handling persisted pageshow"),Wg(),Uh({all:new Xt(-1/0,[[]])}))})),Ae.rejectionMapper=function(u,h){return!u||u instanceof pt||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Le[u.name]?u:(h=new Le[u.name](h||u.message,u),"stack"in u&&E(h,"stack",{get:function(){return this.inner.stack}}),h)},de(pe),r(Ns,Object.freeze({__proto__:null,Dexie:Ns,liveQuery:zg,Entity:yc,cmp:nt,PropModification:to,replacePrefix:function(u,h){return new to({replacePrefix:[u,h]})},add:function(u){return new to({add:u})},remove:function(u){return new to({remove:u})},default:Ns,RangeSet:Xt,mergeRanges:ts,rangesOverlap:Sc}),{default:Ns}),Ns})})(Pl)),Pl.exports}var rD=nD();const Cp=gT(rD),S_=Symbol.for("Dexie"),mu=globalThis[S_]||(globalThis[S_]=Cp);if(Cp.semVer!==mu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cp.semVer} and ${mu.semVer}`);const{liveQuery:Ej,mergeRanges:Tj,rangesOverlap:Ij,RangeSet:Aj,cmp:Sj,Entity:Cj,PropModification:Rj,replacePrefix:Pj,add:kj,remove:Oj,DexieYProvider:Dj}=mu,Vs=new mu("Agenda2DB");Vs.version(10).stores({eventos:"id, group, date, normalizedList, normalizedTitle, normalizedLocale, normalizedDesc",tags:"&id, group, title",notificacoesEnviadas:"id",desc:"&id, text",titles:"&id, text",locales:"&id, text",relatorio:"&Codigo, normalizedNome, normalizedNomeCidade"});const sD=async()=>{const t=new mu("Agenda");try{return await t.delete(),!0}catch{return!1}};sD();function C_(){console.warn(">>> [RESTART] Tags no encontradas anteriormente. Reiniciando o aplicativo..."),window.location.reload()}async function iD(){if("serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage({type:"full-data-sync"}),await(await navigator.serviceWorker.ready).sync.register("full-data-sync"),console.warn("[[DEXIE]] Sync de background registrada:","full-data-sync")}catch(t){console.warn("[[DEXIE]] Falha ao registrar sync de background:",t)}else console.warn("[[DEXIE]] Service Worker no est pronto ou no  suportado.")}async function R_(t,e,n){if(!n||!n.length)return;const r=n.map((i,o)=>{const a={};for(let l=0;l<e.length;l++)a[e[l]]=i[l];return a.Codigo||(a.Codigo=Date.now()+Math.floor(Math.random()*1e3)+o),a}),s=t.relatorio||t.table("relatorio");await t.transaction("rw",s,async()=>{for(let o=0;o<r.length;o+=200){const a=r.slice(o,o+200);await s.bulkPut(a)}})}const Hm="relatorio_chunk_state";function P_(t){try{localStorage.setItem(Hm,JSON.stringify(t))}catch{}}function oD(){try{return JSON.parse(localStorage.getItem(Hm))||{}}catch{return{}}}function k_(){try{localStorage.removeItem(Hm)}catch{}}function aD(t){let e=!1,n=oD(),r=0;const s=5;let i=null;async function o(f){const d=Object.keys(f).map(p=>t[p]);await t.transaction("rw",d,async()=>{for(const p in f)try{const g=f[p];if(Array.isArray(g)&&g.length>0){const v=t[p];await v.clear(),await v.bulkPut(g)}}catch(g){console.error(`[[DEXIE]] Erro ao processar a store ${p}: `,g)}})}async function a(f){const d=f?.type;try{if(d==="SYNC_DATA_READY"){const p=f.payload||{},v=await t.tags.count()===0;await o({eventos:p.events,tags:p.tags,desc:p.lookup?.desc,locales:p.lookup?.locales,titles:p.lookup?.titles||[]}),console.warn(">>> [[DEXIE]] IndexedDB totalmente atualizado com sucesso via SYNC_DATA_READY."),v&&(e=!0,setTimeout(()=>{e&&(console.warn("[[DEXIE]] Timeout esperando relatorio. Forando reload."),C_())},60*1e3));return}if(d==="RELATORIO_RAW_DATA"){const p=f.payload||{},g=p.headers||[],v=p.data||[];if(!v.length){console.warn("[[DEXIE]] RELATORIO_RAW_DATA recebido, mas sem dados para salvar.");return}await R_(t,g,v);try{const S=await(t.relatorio||t.table("relatorio")).count();S>=v.length?navigator.serviceWorker.controller?.postMessage({type:"RELATORIO_SAVE_COMPLETE",payload:{version:p.version}}):console.warn("[[DEXIE]] Contagem aps salvar relatorio menor que esperado:",S,"/",v.length)}catch(E){console.error("[[DEXIE]] Erro ao verificar integridade do relatorio:",E)}console.warn("[[DEXIE]] Relatorio salvo no IndexedDB (payload completo)."),e&&(e=!1,C_());return}if(d==="RELATORIO_RAW_DATA_CHUNK"){const p=f.payload||{};if((!n.version||n.version!==p.version)&&(n={version:p.version,totalChunks:p.totalChunks,total:p.total,receivedChunks:{},receivedCount:0,headers:p.headers,startedAt:Date.now()}),p.total&&(!n.total||n.total!==p.total)&&(n.total=p.total),n.receivedChunks[p.chunkIndex])return;if(await R_(t,p.headers||[],p.rows||[]),n.receivedChunks[p.chunkIndex]=!0,n.receivedCount=Object.keys(n.receivedChunks).length,P_(n),r=0,i&&(clearTimeout(i),i=null),console.log("[[DEXIE]] Chunk salvo:",p.chunkIndex,"/",p.totalChunks,"received:",n.receivedCount),n.totalChunks>0&&n.receivedCount>=n.totalChunks){try{const v=await(t.relatorio||t.table("relatorio")).count();typeof n.total=="number"&&n.total>0?v>=n.total?(navigator.serviceWorker.controller?.postMessage({type:"RELATORIO_SAVE_COMPLETE",payload:{version:p.version}}),k_(),n={}):console.warn("[[DEXIE]] Contagem aps chunks menor que o esperado:",v,"/",n.total):(navigator.serviceWorker.controller?.postMessage({type:"RELATORIO_SAVE_COMPLETE",payload:{version:p.version}}),k_(),n={})}catch(g){console.error("[[DEXIE]] Erro ao verificar integridade aps chunks:",g)}r=0,i&&(clearTimeout(i),i=null)}else r<s&&(i=setTimeout(()=>{l()},5e3));return}if(d==="RELATORIO_RAW_DATA_END"){const p=f.payload||{};p.totalChunks&&(!n.totalChunks||n.totalChunks!==p.totalChunks)&&(n.totalChunks=p.totalChunks),p.total&&(!n.total||n.total!==p.total)&&(n.total=p.total),P_(n),l();return}console.log("[[DEXIE]] Mensagem no tratada recebida:",f)}catch(p){console.error("[[DEXIE]] Erro ao processar mensagem recebida:",p)}}function l(){if(n&&n.totalChunks&&n.receivedCount<n.totalChunks){if(r>=s){console.warn("[[DEXIE]] Limite de tentativas para chunks faltantes atingido.");return}const f=[];for(let d=1;d<=n.totalChunks;d++)n.receivedChunks[d]||f.push(d);if(f.length){r++;const d=10,p=[];for(let g=0;g<f.length;g+=d)p.push(f.slice(g,g+d));p.forEach((g,v)=>{console.warn(`[[DEXIE]] Chunks faltantes detectados, solicitando ao SW (lote ${v+1}/${p.length}):`,g,`(tentativa ${r}/${s})`),navigator.serviceWorker.controller?.postMessage({type:"REQUEST_RELATORIO_CHUNKS",payload:{version:n.version,missingChunks:g}})}),r<s&&(i&&clearTimeout(i),i=setTimeout(()=>{l()},5e3))}}}n&&n.version&&n.totalChunks&&n.receivedCount<n.totalChunks&&(r=0,i&&clearTimeout(i),i=setTimeout(()=>{l()},2e3));try{navigator.serviceWorker.addEventListener("message",f=>{a(f.data||{})})}catch(f){console.warn("[[DEXIE]] Falha ao adicionar listener do serviceWorker:",f)}try{new BroadcastChannel("agenda_channel").addEventListener("message",d=>a(d.data||{}))}catch(f){console.warn("[[DEXIE]] No foi possvel abrir BroadcastChannel agenda_channel:",f)}}const cD=pn(async()=>{let t,e;try{[t,e]=Tr(()=>Vs.open()),await t,e(),aD(Vs),[t,e]=Tr(()=>iD()),await t,e()}catch(p){console.warn("[[DEXIE]] ERRO CRTICO ao abrir o IndexedDB:",p)}const n=(p="")=>p.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim();function r(p,g,v,E,S){isNaN(p.getTime())||p.setUTCHours(g+3,v,E,S)}const s=async(p=null)=>{const g={nome:"",cidade:"",locale:"",offset:0,limit:200,...p},v=n(g.nome||""),E=n(g.cidade||""),S=v.split(/,|\s+/).map(q=>new RegExp(`\\b${q}`,"i")),L=E.split(/,|\s+/).map(q=>new RegExp(`\\b${q}`,"i"));try{const q=await Vs.relatorio.toCollection().filter($=>{if(!v&&!E)return!0;const te=($.normalizedNome||"").toString(),O=($.normalizedNomeCidade||"").toString();return S.every(I=>I.test(te))&&L.every(I=>I.test(O))}).toArray();let V=q;if(E){const $=[],te=[],O=I=>I.normalizedNomeCidade?String(I.normalizedNomeCidade||"").toLowerCase().trim():I.normalizedCidade?String(I.normalizedCidade||"").toLowerCase().trim():n(I.cidade||"");for(let I=0;I<q.length;I++){const A=q[I];O(A)===E?$.push(A):te.push(A)}V=$.length?$.concat(te):te}else if(v){const $=[],te=[],O=I=>I.normalizedNome?String(I.normalizedNome||"").toLowerCase().trim():I.normalizedName?String(I.normalizedName||"").toLowerCase().trim():n(I.nome||"");for(let I=0;I<q.length;I++){const A=q[I];O(A)===v?$.push(A):te.push(A)}V=$.length?$.concat(te):te}const R=V.length;return{items:V.slice(g.offset||0,(g.offset||0)+(g.limit||200)),total:R}}catch(q){return console.warn("[[DEXIE]] Erro na busca do relatorio:",q),{items:[],total:0}}},i=async(p=null)=>{const g={id:"",search:"",title:"",locale:"",date:"",start:"",end:"",calendars:[],...p},v=[],E=new Set,S=new Set,L=new Set,q=new Set,V=[g.locale,g.title,g.search,g.start].some(C=>!!C),R=new Set(g.calendars.map(n).map(C=>C.toLowerCase())),N=new Date(g.start),$=new Date(g.end);r(N,0,0,0,0),r($,23,59,59,999);const te=new RegExp(n(g.title),"i"),O=new RegExp(`^${n(g.locale)}`,"i"),I=n(g.search).replace(/\bou\b/gi,",").split(/,|\s+/).map(C=>C.trim()).filter(Boolean),A=[],k=[];I.forEach(C=>{if(C.startsWith("!")){const Pe=C.substring(1).trim();Pe&&k.push(Pe)}else A.push(C)});const F=A.map(C=>new RegExp(`\\b${C}`,"i")),M=k.map(C=>new RegExp(`\\b${C}`,"i"));try{let C=Vs.eventos.toCollection();return g.start&&g.end&&!isNaN(N.getTime())&&!isNaN($.getTime())&&(C=Vs.eventos.where("date").between(N,$,!0,!0)),await C.each(Pe=>{let $e=!0;const be=`${Pe.normalizedTitle||""} ${Pe.normalizedLocale||""} ${Pe.normalizedDesc||""}`;(g.calendars&&!g.calendars.length&&!V||g.calendars.length&&!R.has(Pe.normalizedList?.toLowerCase())||g.title&&!te.test(Pe.normalizedTitle)||g.locale&&!O.test(Pe.normalizedLocale)||g.search&&!F.every(Ne=>Ne.test(be))||g.search&&M.some(Ne=>Ne.test(be)))&&($e=!1),g.id&&Pe.id===g.id&&($e=!0),$e&&(v.push(Pe),E.add(Pe.list),S.add(Pe.title),L.add(Pe.locale),q.add(Pe.desc))}),{events:v,calendars:Array.from(E),titles:Array.from(S),locales:Array.from(L),desc:Array.from(q)}}catch(C){console.warn(">>>> Erro na busca de eventos com Dexie:",C)}},o=async p=>{try{return(await Vs.table(p).toArray()).sort((v,E)=>v.id-E.id).map(v=>v.text)}catch(g){throw new Error(`Erro ao obter ${p}: ${g.message}`)}},a=async()=>o("titles"),l=async()=>o("locales"),f=async()=>o("desc"),d=async()=>{try{return await Vs.tags.toArray()}catch(p){console.error("Erro ao obter tags:",p)}};if(typeof window<"u")try{const p=JSON.parse(localStorage.getItem("relatorio_chunk_state")||"{}");p&&p.version&&p.totalChunks&&p.receivedCount<p.totalChunks&&setTimeout(()=>{window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&window.navigator.serviceWorker.controller.postMessage({type:"REQUEST_RELATORIO_CHUNKS",payload:{version:p.version,missingChunks:Array.from({length:p.totalChunks},(g,v)=>v+1).filter(g=>!p.receivedChunks[g])}})},2e3)}catch{}return{provide:{indexedDB:{db:Vs,getEvents:i,getTitles:a,getLocales:l,getDesc:f,getTags:d,getRelatorio:s}}}}),uD=()=>{};var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,f=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|f>>6,v=f&63;l||(v=64,o||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||f==null||p==null)throw new fD;const g=i<<2|a>>4;if(r.push(g),f!==64){const v=a<<4&240|f>>2;if(r.push(v),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hD=function(t){const e=yT(t);return _T.encodeByteArray(e,!0)},gf=function(t){return hD(t).replace(/\./g,"")},vT=function(t){try{return _T.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>dD().__FIREBASE_DEFAULTS__,mD=()=>{if(typeof process>"u"||typeof O_>"u")return;const t=O_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vT(t[1]);return e&&JSON.parse(e)},th=()=>{try{return uD()||pD()||mD()||gD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wT=t=>th()?.emulatorHosts?.[t],yD=t=>{const e=wT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>th()?.config,ET=t=>th()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gf(JSON.stringify(n)),gf(JSON.stringify(o)),""].join(".")}const Qc={};function wD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qc))Qc[e]?t.emulator.push(e):t.prod.push(e);return t}function bD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let D_=!1;function IT(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||Qc[t]===e||Qc[t]||D_)return;Qc[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=wD().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{D_=!0,o()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=bD(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),L=document.getElementById(S)||document.createElement("a"),q=n("preprendIcon"),V=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;a(R),d(L,S);const N=f();l(V,q),R.append(V,E,L,N),document.body.appendChild(R)}i?(E.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ED(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function TD(){const t=th()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ID(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SD(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CD(){return!TD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Km(){try{return typeof indexedDB=="object"}catch{return!1}}function zm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function ST(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RD,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ki.prototype.create)}}class Ki{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?PD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function PD(t,e){return t.replace(kD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kD=/\{\$([^}]+)}/g;function OD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(N_(i)&&N_(o)){if(!Vi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DD(t,e){const n=new ND(t,e);return n.subscribe.bind(n)}class ND{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=fd),s.error===void 0&&(s.error=fd),s.complete===void 0&&(s.complete=fd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,LD=2,VD=14400*1e3,FD=.5;function x_(t,e=MD,n=LD){const r=e*Math.pow(n,t),s=Math.round(FD*r*(Math.random()-.5)*2);return Math.min(VD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _D;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jD(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$D(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $D(t){return t===Ao?void 0:t}function jD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const qD={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},HD=it.INFO,KD={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},zD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nh{constructor(e){this.name=e,this._logLevel=HD,this._logHandler=zD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const WD=(t,e)=>e.some(n=>t instanceof n);let M_,L_;function GD(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QD(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Rp=new WeakMap,RT=new WeakMap,hd=new WeakMap,Wm=new WeakMap;function YD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function JD(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XD(t){Pp=t(Pp)}function ZD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dd(this),e,...n);return RT.set(r,e.sort?e.sort():[e]),Qs(r)}:QD().includes(t)?function(...e){return t.apply(dd(this),e),Qs(CT.get(this))}:function(...e){return Qs(t.apply(dd(this),e))}}function eN(t){return typeof t=="function"?ZD(t):(t instanceof IDBTransaction&&JD(t),WD(t,GD())?new Proxy(t,Pp):t)}function Qs(t){if(t instanceof IDBRequest)return YD(t);if(hd.has(t))return hd.get(t);const e=eN(t);return e!==t&&(hd.set(t,e),Wm.set(e,t)),e}const dd=t=>Wm.get(t);function rh(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qs(o.result),l.oldVersion,l.newVersion,Qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}function pd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Qs(n).then(()=>{})}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],md=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tN.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),s&&l.done]))[0]};return md.set(e,i),i}XD(t=>({...t,get:(e,n,r)=>V_(e,n)||t.get(e,n,r),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sN(t){return t.getComponent()?.type==="VERSION"}const kp="@firebase/app",F_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new nh("@firebase/app"),iN="@firebase/app-compat",oN="@firebase/analytics-compat",aN="@firebase/analytics",cN="@firebase/app-check-compat",uN="@firebase/app-check",lN="@firebase/auth",fN="@firebase/auth-compat",hN="@firebase/database",dN="@firebase/data-connect",pN="@firebase/database-compat",mN="@firebase/functions",gN="@firebase/functions-compat",yN="@firebase/installations",_N="@firebase/installations-compat",vN="@firebase/messaging",wN="@firebase/messaging-compat",bN="@firebase/performance",EN="@firebase/performance-compat",TN="@firebase/remote-config",IN="@firebase/remote-config-compat",AN="@firebase/storage",SN="@firebase/storage-compat",CN="@firebase/firestore",RN="@firebase/ai",PN="@firebase/firestore-compat",kN="firebase",ON="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",DN={[kp]:"fire-core",[iN]:"fire-core-compat",[aN]:"fire-analytics",[oN]:"fire-analytics-compat",[uN]:"fire-app-check",[cN]:"fire-app-check-compat",[lN]:"fire-auth",[fN]:"fire-auth-compat",[hN]:"fire-rtdb",[dN]:"fire-data-connect",[pN]:"fire-rtdb-compat",[mN]:"fire-fn",[gN]:"fire-fn-compat",[yN]:"fire-iid",[_N]:"fire-iid-compat",[vN]:"fire-fcm",[wN]:"fire-fcm-compat",[bN]:"fire-perf",[EN]:"fire-perf-compat",[TN]:"fire-rc",[IN]:"fire-rc-compat",[AN]:"fire-gcs",[SN]:"fire-gcs-compat",[CN]:"fire-fst",[PN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,NN=new Map,Dp=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(Dp.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of gu.values())U_(n,t);for(const n of NN.values())U_(n,t);return!0}function zi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Ki("app","Firebase",xN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=ON;function Np(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Op,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Di.create("bad-app-name",{appName:String(s)});if(n||(n=bT()),!n)throw Di.create("no-options");const i=gu.get(s);if(i){if(Vi(n,i.options)&&Vi(r,i.config))return i;throw Di.create("duplicate-app",{appName:s})}const o=new BD(s);for(const l of Dp.values())o.addComponent(l);const a=new MN(n,r,o);return gu.set(s,a),a}function Lu(t=Op){const e=gu.get(t);if(!e&&t===Op&&bT())return Np();if(!e)throw Di.create("no-app",{appName:t});return e}function LN(){return Array.from(gu.values())}function Jn(t,e,n){let r=DN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(o.join(" "));return}Sr(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-heartbeat-database",FN=1,yu="firebase-heartbeat-store";let gd=null;function PT(){return gd||(gd=rh(VN,FN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),gd}async function UN(t){try{const n=(await PT()).transaction(yu),r=await n.objectStore(yu).get(kT(t));return await n.done,r}catch(e){if(e instanceof Wr)ti.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e?.message});ti.warn(n.message)}}}async function $_(t,e){try{const r=(await PT()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,kT(t)),await r.done}catch(n){if(n instanceof Wr)ti.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n?.message});ti.warn(r.message)}}}function kT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1024,jN=30;class BN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>jN){const s=KN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j_(),{heartbeatsToSend:n,unsentEntries:r}=qN(this._heartbeatsCache.heartbeats),s=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ti.warn(e),""}}}function j_(){return new Date().toISOString().substring(0,10)}function qN(t,e=$N){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),B_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),B_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Km()?zm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B_(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}function KN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){Sr(new ur("platform-logger",e=>new rN(e),"PRIVATE")),Sr(new ur("heartbeat",e=>new BN(e),"PRIVATE")),Jn(kp,F_,t),Jn(kp,F_,"esm2020"),Jn("fire-js","")}zN("");var WN="firebase",GN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(WN,GN,"app");function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=OT,DT=new Ki("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new nh("@firebase/auth");function YN(t,...e){yf.logLevel<=it.WARN&&yf.warn(`Auth (${ic}): ${t}`,...e)}function kl(t,...e){yf.logLevel<=it.ERROR&&yf.error(`Auth (${ic}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,...e){throw Qm(t,...e)}function qr(t,...e){return Qm(t,...e)}function Gm(t,e,n){const r={...QN(),[e]:n};return new Ki("auth","Firebase",r).create(e,{appName:t.name})}function Mo(t){return Gm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),Gm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DT.create(t,...e)}function We(t,e,...n){if(!t)throw Qm(e,...n)}function Ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function ni(t,e){t||Ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){return typeof self<"u"&&self.location?.href||""}function XN(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||AT()||"connection"in navigator)?navigator.onLine:!0}function ex(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=ED()||AD()}get(){return ZN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rx=new Vu(3e4,6e4);function Jm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oc(t,e,n,r,s={}){return xT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Mu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:l,...i};return ID()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(f.credentials="include"),NT.fetch()(await MT(t,t.config.apiHost,n,a),f)})}async function xT(t,e,n){t._canInitEmulator=!1;const r={...tx,...e};try{const s=new ix(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _l(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _l(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Gm(t,d,f);gs(t,d)}}catch(s){if(s instanceof Wr)throw s;gs(t,"network-request-failed",{message:String(s)})}}async function sx(t,e,n,r,s={}){const i=await oc(t,e,n,r,s);return"mfaPendingCredential"in i&&gs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function MT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ym(t.config,s):`${t.config.apiScheme}://${s}`;return nx.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class ix{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),rx.get())})}}function _l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=qr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e){return oc(t,"POST","/v1/accounts:delete",e)}async function _f(t,e){return oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ax(t,e=!1){const n=jt(t),r=await n.getIdToken(e),s=Xm(r);We(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Yc(yd(s.auth_time)),issuedAtTime:Yc(yd(s.iat)),expirationTime:Yc(yd(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function yd(t){return Number(t)*1e3}function Xm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{const s=vT(n);return s?JSON.parse(s):(kl("Failed to decode base64 JWT payload"),null)}catch(s){return kl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function H_(t){const e=Xm(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&cx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){const e=t.auth,n=await t.getIdToken(),r=await _u(t,_f(e,{idToken:n}));We(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?LT(s.providerUserInfo):[],o=fx(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,f=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function lx(t){const e=jt(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fx(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e){const n=await xT(t,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await MT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&sc(t.emulatorConfig.host)&&(l.credentials="include"),NT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dx(t,e){return oc(t,"POST","/v2/accounts:revokeToken",Jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hx(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Da;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ax(this,e)}reload(){return lx(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await _u(this,ox(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:E,stsTokenManager:S}=n;We(p&&S,e,"internal-error");const L=Da.fromJSON(this.name,S);We(typeof p=="string",e,"internal-error"),vi(r,e.name),vi(s,e.name),We(typeof g=="boolean",e,"internal-error"),We(typeof v=="boolean",e,"internal-error"),vi(i,e.name),vi(o,e.name),vi(a,e.name),vi(l,e.name),vi(f,e.name),vi(d,e.name);const q=new $r({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:L,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(q.providerData=E.map(V=>({...V}))),l&&(q._redirectEventId=l),q}static async _fromIdTokenResponse(e,n,r=!1){const s=new Da;s.updateFromServerResponse(n);const i=new $r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Da;a.updateFromIdToken(r);const l=new $r({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function zs(t){ni(t instanceof Function,"Expected a class definition");let e=K_.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VT.type="NONE";const z_=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ol(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ol("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _f(this.auth,{idToken:e}).catch(()=>{});return n?$r._fromGetAccountInfoResponse(this.auth,n,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(zs(z_),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||zs(z_);const o=Ol(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const g=await _f(e,{idToken:d}).catch(()=>{});if(!g)break;p=await $r._fromGetAccountInfoResponse(e,g,d)}else p=$r._fromJSON(e,d);f!==i&&(a=p),i=f;break}}catch{}const l=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Na(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new Na(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FT(t=Nn()){return/firefox\//i.test(t)}function UT(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(t=Nn()){return/crios\//i.test(t)}function jT(t=Nn()){return/iemobile/i.test(t)}function BT(t=Nn()){return/android/i.test(t)}function qT(t=Nn()){return/blackberry/i.test(t)}function HT(t=Nn()){return/webos/i.test(t)}function Zm(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function px(t=Nn()){return Zm(t)&&!!window.navigator?.standalone}function mx(){return SD()&&document.documentMode===10}function KT(t=Nn()){return Zm(t)||BT(t)||HT(t)||qT(t)||/windows phone/i.test(t)||jT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e=[]){let n;switch(t){case"Browser":n=W_(Nn());break;case"Worker":n=`${W_(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(t,e={}){return oc(t,"GET","/v2/passwordPolicy",Jm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=6;class vx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_x,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _f(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ex()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Mo(this));const n=e?jt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yx(this),n=new vx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ki("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sh(t){return jt(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=DD(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bx(t){eg=t}function Ex(t){return eg.loadJS(t)}function Tx(){return eg.gapiScript}function Ix(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){const n=zi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vi(i,e??{}))return s;gs(s,"already-initialized")}return n.initialize({options:e})}function Sx(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cx(t,e,n){const r=sh(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=WT(e),{host:o,port:a}=Rx(e),l=a===null?"":`:${a}`,f={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Vi(f,r.config.emulator)&&Vi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,sc(o)?(TT(`${i}//${o}${l}`),IT("Auth",!0)):Px()}function WT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Rx(t){const e=WT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Q_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Q_(o)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Px(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,n){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return sx(t,"POST","/v1/accounts:signInWithIdp",Jm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="http://localhost";class Fo extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Fo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Fu{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Fu{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Fu{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $r._fromIdTokenResponse(e,r,s),o=Y_(r);return new Ka({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y_(r);return new Ka({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Y_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wf(e,n,r,s)}}function QT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(t,i,e,r):i})}async function Ox(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Mo(r));const s="reauthenticate";try{const i=await _u(t,QT(r,s,e,t),n);We(i.idToken,r,"internal-error");const o=Xm(i.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Ka._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e,n=!1){if(Ur(t.app))return Promise.reject(Mo(t));const r="signIn",s=await QT(t,r,e),i=await Ka._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){return jt(t).setPersistence(e)}function Mx(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function Lx(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Vx(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function Nj(t){return jt(t).signOut()}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=1e3,Ux=10;class JT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);mx()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ux):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const XT=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const e0=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async f=>f(n.origin,i)),l=await $x(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const f=ng("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function Bx(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function qx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hx(){return navigator?.serviceWorker?.controller||null}function Kx(){return t0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebaseLocalStorageDb",zx=1,Ef="firebaseLocalStorage",r0="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function Wx(){const t=indexedDB.deleteDatabase(n0);return new Uu(t).toPromise()}function Lp(){const t=indexedDB.open(n0,zx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ef,{keyPath:r0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ef)?e(r):(r.close(),await Wx(),e(await Lp()))})})}async function J_(t,e,n){const r=oh(t,!0).put({[r0]:e,value:n});return new Uu(r).toPromise()}async function Gx(t,e){const n=oh(t,!1).get(e),r=await new Uu(n).toPromise();return r===void 0?null:r.value}function X_(t,e){const n=oh(t,!0).delete(e);return new Uu(n).toPromise()}const Qx=800,Yx=3;class s0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Kx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qx(),!this.activeServiceWorker)return;this.sender=new jx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await J_(e,bf,"1"),await X_(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=oh(s,!1).getAll();return new Uu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s0.type="LOCAL";const Jx=s0;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e){return e?zs(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends GT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xx(t){return Nx(t.auth,new rg(t),t.bypassAuthState)}function Zx(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Dx(n,new rg(t),t.bypassAuthState)}async function eM(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Ox(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xx;case"linkViaPopup":case"linkViaRedirect":return eM;case"reauthViaPopup":case"reauthViaRedirect":return Zx;default:gs(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Vu(2e3,1e4);async function nM(t,e,n){if(Ur(t.app))return Promise.reject(qr(t,"operation-not-supported-in-this-environment"));const r=sh(t);JN(t,e,tg);const s=i0(r,n);return new Ro(r,"signInViaPopup",e,s).executeNotNull()}class Ro extends o0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tM.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="pendingRedirect",Dl=new Map;class sM extends o0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dl.get(this.auth._key());if(!e){try{const r=await iM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dl.set(this.auth._key(),e)}return this.bypassAuthState||Dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iM(t,e){const n=cM(e),r=aM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function oM(t,e){Dl.set(t._key(),e)}function aM(t){return zs(t._redirectPersistence)}function cM(t){return Ol(rM,t.config.apiKey,t.name)}async function uM(t,e,n=!1){if(Ur(t.app))return Promise.reject(Mo(t));const r=sh(t),s=i0(r,e),o=await new sM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=600*1e3;class fM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!a0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e={}){return oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mM=/^https?/;async function gM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dM(t);for(const n of e)try{if(yM(n))return}catch{}gs(t,"unauthorized-domain")}function yM(t){const e=xp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mM.test(n))return!1;if(pM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Vu(3e4,6e4);function ev(){const t=us().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vM(t){return new Promise((e,n)=>{function r(){ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ev(),n(qr(t,"network-request-failed"))},timeout:_M.get()})}if(us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(us().gapi?.load)r();else{const s=Ix("iframefcb");return us()[s]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},Ex(`${Tx()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Nl=null,e})}let Nl=null;function wM(t){return Nl=Nl||vM(t),Nl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Vu(5e3,15e3),EM="__/auth/iframe",TM="emulator/auth/iframe",IM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SM(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,TM):`https://${t.config.authDomain}/${EM}`,r={apiKey:e.apiKey,appName:t.name,v:ic},s=AM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Mu(r).slice(1)}`}async function CM(t){const e=await wM(t),n=us().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:SM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=qr(t,"network-request-failed"),a=us().setTimeout(()=>{i(o)},bM.get());function l(){us().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,kM=600,OM="_blank",DM="http://localhost";class tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NM(t,e,n,r=PM,s=kM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...RM,width:r.toString(),height:s.toString(),top:i,left:o},f=Nn().toLowerCase();n&&(a=$T(f)?OM:n),FT(f)&&(e=e||DM,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(px(f)&&a!=="_self")return xM(e||"",a),new tv(null);const p=window.open(e||"",a,d);We(p,t,"popup-blocked");try{p.focus()}catch{}return new tv(p)}function xM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="__/auth/handler",LM="emulator/auth/handler",VM=encodeURIComponent("fac");async function nv(t,e,n,r,s,i){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ic,eventId:s};if(e instanceof tg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Fu){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),f=l?`#${VM}=${encodeURIComponent(l)}`:"";return`${FM(t)}?${Mu(a).slice(1)}${f}`}function FM({config:t}){return t.emulator?Ym(t,LM):`https://${t.authDomain}/${MM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="webStorageSupport";class UM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=uM,this._overrideRedirectResult=oM}async _openPopup(e,n,r,s){ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await nv(e,n,r,xp(),s);return NM(e,i,ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nv(e,n,r,xp(),s);return Bx(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ni(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CM(e),r=new fM(e);return n.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_d,{type:_d},s=>{const i=s?.[0]?.[_d];i!==void 0&&n(!!i),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||UT()||Zm()}}const $M=UM;var rv="@firebase/auth",sv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(t){Sr(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zT(t)},f=new wx(r,s,i,l);return Sx(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new ur("auth-internal",e=>{const n=sh(e.getProvider("auth").getImmediate());return(r=>new jM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(rv,sv,BM(t)),Jn(rv,sv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=300,KM=ET("authIdTokenMaxAge")||HM;let iv=null;const zM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KM)return;const s=n?.token;iv!==s&&(iv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WM(t=Lu()){const e=zi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ax(t,{popupRedirectResolver:$M,persistence:[Jx,XT,e0]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=zM(i.toString());Lx(n,o,()=>o(n.currentUser)),Mx(n,a=>o(a))}}const s=wT("auth");return s&&Cx(n,`http://${s}`),n}function GM(){return document.getElementsByTagName("head")?.[0]??document}bx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=qr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",GM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,c0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function A(){}A.prototype=I.prototype,O.D=I.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(k,F,M){for(var C=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)C[Pe-2]=arguments[Pe];return I.prototype[F].apply(k,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)k[F]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(F=0;16>F;++F)k[F]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=O.g[0],A=O.g[1],F=O.g[2];var M=O.g[3],C=I+(M^A&(F^M))+k[0]+3614090360&4294967295;I=A+(C<<7&4294967295|C>>>25),C=M+(F^I&(A^F))+k[1]+3905402710&4294967295,M=I+(C<<12&4294967295|C>>>20),C=F+(A^M&(I^A))+k[2]+606105819&4294967295,F=M+(C<<17&4294967295|C>>>15),C=A+(I^F&(M^I))+k[3]+3250441966&4294967295,A=F+(C<<22&4294967295|C>>>10),C=I+(M^A&(F^M))+k[4]+4118548399&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(F^I&(A^F))+k[5]+1200080426&4294967295,M=I+(C<<12&4294967295|C>>>20),C=F+(A^M&(I^A))+k[6]+2821735955&4294967295,F=M+(C<<17&4294967295|C>>>15),C=A+(I^F&(M^I))+k[7]+4249261313&4294967295,A=F+(C<<22&4294967295|C>>>10),C=I+(M^A&(F^M))+k[8]+1770035416&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(F^I&(A^F))+k[9]+2336552879&4294967295,M=I+(C<<12&4294967295|C>>>20),C=F+(A^M&(I^A))+k[10]+4294925233&4294967295,F=M+(C<<17&4294967295|C>>>15),C=A+(I^F&(M^I))+k[11]+2304563134&4294967295,A=F+(C<<22&4294967295|C>>>10),C=I+(M^A&(F^M))+k[12]+1804603682&4294967295,I=A+(C<<7&4294967295|C>>>25),C=M+(F^I&(A^F))+k[13]+4254626195&4294967295,M=I+(C<<12&4294967295|C>>>20),C=F+(A^M&(I^A))+k[14]+2792965006&4294967295,F=M+(C<<17&4294967295|C>>>15),C=A+(I^F&(M^I))+k[15]+1236535329&4294967295,A=F+(C<<22&4294967295|C>>>10),C=I+(F^M&(A^F))+k[1]+4129170786&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^F&(I^A))+k[6]+3225465664&4294967295,M=I+(C<<9&4294967295|C>>>23),C=F+(I^A&(M^I))+k[11]+643717713&4294967295,F=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(F^M))+k[0]+3921069994&4294967295,A=F+(C<<20&4294967295|C>>>12),C=I+(F^M&(A^F))+k[5]+3593408605&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^F&(I^A))+k[10]+38016083&4294967295,M=I+(C<<9&4294967295|C>>>23),C=F+(I^A&(M^I))+k[15]+3634488961&4294967295,F=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(F^M))+k[4]+3889429448&4294967295,A=F+(C<<20&4294967295|C>>>12),C=I+(F^M&(A^F))+k[9]+568446438&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^F&(I^A))+k[14]+3275163606&4294967295,M=I+(C<<9&4294967295|C>>>23),C=F+(I^A&(M^I))+k[3]+4107603335&4294967295,F=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(F^M))+k[8]+1163531501&4294967295,A=F+(C<<20&4294967295|C>>>12),C=I+(F^M&(A^F))+k[13]+2850285829&4294967295,I=A+(C<<5&4294967295|C>>>27),C=M+(A^F&(I^A))+k[2]+4243563512&4294967295,M=I+(C<<9&4294967295|C>>>23),C=F+(I^A&(M^I))+k[7]+1735328473&4294967295,F=M+(C<<14&4294967295|C>>>18),C=A+(M^I&(F^M))+k[12]+2368359562&4294967295,A=F+(C<<20&4294967295|C>>>12),C=I+(A^F^M)+k[5]+4294588738&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^F)+k[8]+2272392833&4294967295,M=I+(C<<11&4294967295|C>>>21),C=F+(M^I^A)+k[11]+1839030562&4294967295,F=M+(C<<16&4294967295|C>>>16),C=A+(F^M^I)+k[14]+4259657740&4294967295,A=F+(C<<23&4294967295|C>>>9),C=I+(A^F^M)+k[1]+2763975236&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^F)+k[4]+1272893353&4294967295,M=I+(C<<11&4294967295|C>>>21),C=F+(M^I^A)+k[7]+4139469664&4294967295,F=M+(C<<16&4294967295|C>>>16),C=A+(F^M^I)+k[10]+3200236656&4294967295,A=F+(C<<23&4294967295|C>>>9),C=I+(A^F^M)+k[13]+681279174&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^F)+k[0]+3936430074&4294967295,M=I+(C<<11&4294967295|C>>>21),C=F+(M^I^A)+k[3]+3572445317&4294967295,F=M+(C<<16&4294967295|C>>>16),C=A+(F^M^I)+k[6]+76029189&4294967295,A=F+(C<<23&4294967295|C>>>9),C=I+(A^F^M)+k[9]+3654602809&4294967295,I=A+(C<<4&4294967295|C>>>28),C=M+(I^A^F)+k[12]+3873151461&4294967295,M=I+(C<<11&4294967295|C>>>21),C=F+(M^I^A)+k[15]+530742520&4294967295,F=M+(C<<16&4294967295|C>>>16),C=A+(F^M^I)+k[2]+3299628645&4294967295,A=F+(C<<23&4294967295|C>>>9),C=I+(F^(A|~M))+k[0]+4096336452&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~F))+k[7]+1126891415&4294967295,M=I+(C<<10&4294967295|C>>>22),C=F+(I^(M|~A))+k[14]+2878612391&4294967295,F=M+(C<<15&4294967295|C>>>17),C=A+(M^(F|~I))+k[5]+4237533241&4294967295,A=F+(C<<21&4294967295|C>>>11),C=I+(F^(A|~M))+k[12]+1700485571&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~F))+k[3]+2399980690&4294967295,M=I+(C<<10&4294967295|C>>>22),C=F+(I^(M|~A))+k[10]+4293915773&4294967295,F=M+(C<<15&4294967295|C>>>17),C=A+(M^(F|~I))+k[1]+2240044497&4294967295,A=F+(C<<21&4294967295|C>>>11),C=I+(F^(A|~M))+k[8]+1873313359&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~F))+k[15]+4264355552&4294967295,M=I+(C<<10&4294967295|C>>>22),C=F+(I^(M|~A))+k[6]+2734768916&4294967295,F=M+(C<<15&4294967295|C>>>17),C=A+(M^(F|~I))+k[13]+1309151649&4294967295,A=F+(C<<21&4294967295|C>>>11),C=I+(F^(A|~M))+k[4]+4149444226&4294967295,I=A+(C<<6&4294967295|C>>>26),C=M+(A^(I|~F))+k[11]+3174756917&4294967295,M=I+(C<<10&4294967295|C>>>22),C=F+(I^(M|~A))+k[2]+718787259&4294967295,F=M+(C<<15&4294967295|C>>>17),C=A+(M^(F|~I))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(F+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+M&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var A=I-this.blockSize,k=this.B,F=this.h,M=0;M<I;){if(F==0)for(;M<=A;)s(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<I;)if(k[F++]=O.charCodeAt(M++),F==this.blockSize){s(this,k),F=0;break}}else for(;M<I;)if(k[F++]=O[M++],F==this.blockSize){s(this,k),F=0;break}}this.h=F,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var A=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=A&255,A/=256;for(this.u(O),O=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)O[A++]=this.g[I]>>>k&255;return O};function i(O,I){var A=a;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=I(O)}function o(O,I){this.h=I;for(var A=[],k=!0,F=O.length-1;0<=F;F--){var M=O[F]|0;k&&M==I||(A[F]=M,k=!1)}this.g=A}var a={};function l(O){return-128<=O&&128>O?i(O,function(I){return new o([I|0],0>I?-1:0)}):new o([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return p;if(0>O)return L(f(-O));for(var I=[],A=1,k=0;O>=A;k++)I[k]=O/A|0,A*=4294967296;return new o(I,0)}function d(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return L(d(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(I,8)),k=p,F=0;F<O.length;F+=8){var M=Math.min(8,O.length-F),C=parseInt(O.substring(F,F+M),I);8>M?(M=f(Math.pow(I,M)),k=k.j(M).add(f(C))):(k=k.j(A),k=k.add(f(C)))}return k}var p=l(0),g=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-L(this).m();for(var O=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);O+=(0<=k?k:4294967296+k)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(S(this))return"-"+L(this).toString(O);for(var I=f(Math.pow(O,6)),A=this,k="";;){var F=N(A,I).g;A=q(A,F.j(I));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=F,E(A))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function S(O){return O.h==-1}t.l=function(O){return O=q(this,O),S(O)?-1:E(O)?0:1};function L(O){for(var I=O.g.length,A=[],k=0;k<I;k++)A[k]=~O.g[k];return new o(A,~O.h).add(g)}t.abs=function(){return S(this)?L(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],k=0,F=0;F<=I;F++){var M=k+(this.i(F)&65535)+(O.i(F)&65535),C=(M>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);k=C>>>16,M&=65535,C&=65535,A[F]=C<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function q(O,I){return O.add(L(I))}t.j=function(O){if(E(this)||E(O))return p;if(S(this))return S(O)?L(this).j(L(O)):L(L(this).j(O));if(S(O))return L(this.j(L(O)));if(0>this.l(v)&&0>O.l(v))return f(this.m()*O.m());for(var I=this.g.length+O.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var F=0;F<O.g.length;F++){var M=this.i(k)>>>16,C=this.i(k)&65535,Pe=O.i(F)>>>16,$e=O.i(F)&65535;A[2*k+2*F]+=C*$e,V(A,2*k+2*F),A[2*k+2*F+1]+=M*$e,V(A,2*k+2*F+1),A[2*k+2*F+1]+=C*Pe,V(A,2*k+2*F+1),A[2*k+2*F+2]+=M*Pe,V(A,2*k+2*F+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new o(A,0)};function V(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function R(O,I){this.g=O,this.h=I}function N(O,I){if(E(I))throw Error("division by zero");if(E(O))return new R(p,p);if(S(O))return I=N(L(O),I),new R(L(I.g),L(I.h));if(S(I))return I=N(O,L(I)),new R(L(I.g),I.h);if(30<O.g.length){if(S(O)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var A=g,k=I;0>=k.l(O);)A=$(A),k=$(k);var F=te(A,1),M=te(k,1);for(k=te(k,2),A=te(A,2);!E(k);){var C=M.add(k);0>=C.l(O)&&(F=F.add(A),M=C),k=te(k,1),A=te(A,1)}return I=q(O,F.j(I)),new R(F,I)}for(F=p;0<=O.l(I);){for(A=Math.max(1,Math.floor(O.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=f(A),C=M.j(I);S(C)||0<C.l(O);)A-=k,M=f(A),C=M.j(I);E(M)&&(M=g),F=F.add(M),O=q(O,C)}return new R(F,O)}t.A=function(O){return N(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&O.i(k);return new o(A,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|O.i(k);return new o(A,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^O.i(k);return new o(A,this.h^O.h)};function $(O){for(var I=O.g.length+1,A=[],k=0;k<I;k++)A[k]=O.i(k)<<1|O.i(k-1)>>>31;return new o(A,O.h)}function te(O,I){var A=I>>5;I%=32;for(var k=O.g.length-A,F=[],M=0;M<k;M++)F[M]=0<I?O.i(M+A)>>>I|O.i(M+A+1)<<32-I:O.i(M+A);return new o(F,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Ni=o}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,Vc,l0,xl,Vp,f0,h0,d0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vl=="object"&&vl];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var X=c[P];if(!(X in w))break e;w=w[X]}c=c[c.length-1],P=w[c],y=y(P),y!=P&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function i(c,y){c instanceof String&&(c+="");var w=0,P=!1,X={next:function(){if(!P&&w<c.length){var re=w++;return{value:y(re,c[re]),done:!1}}return P=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(c){return c||function(){return i(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function f(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,w){return c.call.apply(c.bind,arguments)}function p(c,y,w){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,P),c.apply(y,X)}}return function(){return c.apply(y,arguments)}}function g(c,y,w){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function v(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function E(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(P,X,re){for(var ve=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ve[yt-2]=arguments[yt];return y.prototype[X].apply(P,ve)}}function S(c){const y=c.length;if(0<y){const w=Array(y);for(let P=0;P<y;P++)w[P]=c[P];return w}return[]}function L(c,y){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(l(P)){const X=c.length||0,re=P.length||0;c.length=X+re;for(let ve=0;ve<re;ve++)c[X+ve]=P[ve]}else c.push(P)}}class q{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var $=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function te(c,y,w){for(const P in c)y.call(w,c[P],P,c)}function O(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let w,P;for(let X=1;X<arguments.length;X++){P=arguments[X];for(w in P)c[w]=P[w];for(let re=0;re<A.length;re++)w=A[re],Object.prototype.hasOwnProperty.call(P,w)&&(c[w]=P[w])}}function F(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function M(c){a.setTimeout(()=>{throw c},0)}function C(){var c=ht;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,w){const P=$e.get();P.set(y,w),this.h?this.h.next=P:this.g=P,this.h=P}}var $e=new q(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Ce=!1,ht=new Pe,Kt=()=>{const c=a.Promise.resolve(void 0);Ne=()=>{c.then(Tn)}};var Tn=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(w){M(w)}var y=$e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ce=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Cr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,y),a.removeEventListener("test",w,y)}catch{}return c})();function xn(c,y){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if($){e:{try{N(y.nodeName);var X=!0;break e}catch{}X=!1}X||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xn.aa.h.call(this)}}E(xn,pt);var zt={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function se(c,y,w,P,X){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!P,this.ha=X,this.key=++ke,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,y,w,P,X){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ve=x(c,y,P,X);return-1<ve?(y=c[ve],w||(y.fa=!1)):(y=new se(y,this.src,re,!!P,X),y.fa=w,c.push(y)),y};function je(c,y){var w=y.type;if(w in c.g){var P=c.g[w],X=Array.prototype.indexOf.call(P,y,void 0),re;(re=0<=X)&&Array.prototype.splice.call(P,X,1),re&&(Le(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function x(c,y,w,P){for(var X=0;X<c.length;++X){var re=c[X];if(!re.da&&re.listener==y&&re.capture==!!w&&re.ha==P)return X}return-1}var j="closure_lm_"+(1e6*Math.random()|0),ee={};function fe(c,y,w,P,X){if(Array.isArray(y)){for(var re=0;re<y.length;re++)fe(c,y[re],w,P,X);return null}return w=Ve(w),c&&c[oe]?c.K(y,w,f(P)?!!P.capture:!1,X):ae(c,y,w,!1,P,X)}function ae(c,y,w,P,X,re){if(!y)throw Error("Invalid event type");var ve=f(X)?!!X.capture:!!X,yt=Fe(c);if(yt||(c[j]=yt=new et(c)),w=yt.add(y,w,P,ve,re),w.proxy)return w;if(P=he(),w.proxy=P,P.src=c,P.listener=w,c.addEventListener)Cr||(X=ve),X===void 0&&(X=!1),c.addEventListener(y.toString(),P,X);else if(c.attachEvent)c.attachEvent(pe(y.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function he(){function c(w){return y.call(c.src,c.listener,w)}const y=de;return c}function Te(c,y,w,P,X){if(Array.isArray(y))for(var re=0;re<y.length;re++)Te(c,y[re],w,P,X);else P=f(P)?!!P.capture:!!P,w=Ve(w),c&&c[oe]?(c=c.i,y=String(y).toString(),y in c.g&&(re=c.g[y],w=x(re,w,P,X),-1<w&&(Le(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[y],c.h--)))):c&&(c=Fe(c))&&(y=c.g[y.toString()],c=-1,y&&(c=x(y,w,P,X)),(w=-1<c?y[c]:null)&&ye(w))}function ye(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[oe])je(y.i,c);else{var w=c.type,P=c.proxy;y.removeEventListener?y.removeEventListener(w,P,c.capture):y.detachEvent?y.detachEvent(pe(w),P):y.addListener&&y.removeListener&&y.removeListener(P),(w=Fe(y))?(je(w,c),w.h==0&&(w.src=null,y[j]=null)):Le(c)}}}function pe(c){return c in ee?ee[c]:ee[c]="on"+c}function de(c,y){if(c.da)c=!0;else{y=new xn(y,this);var w=c.listener,P=c.ha||c.src;c.fa&&ye(c),c=w.call(P,y)}return c}function Fe(c){return c=c[j],c instanceof et?c:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(c){return typeof c=="function"?c:(c[Se]||(c[Se]=function(y){return c.handleEvent(y)}),c[Se])}function Oe(){kt.call(this),this.i=new et(this),this.M=this,this.F=null}E(Oe,kt),Oe.prototype[oe]=!0,Oe.prototype.removeEventListener=function(c,y,w,P){Te(this,c,y,w,P)};function Ue(c,y){var w,P=c.F;if(P)for(w=[];P;P=P.F)w.push(P);if(c=c.M,P=y.type||y,typeof y=="string")y=new pt(y,c);else if(y instanceof pt)y.target=y.target||c;else{var X=y;y=new pt(P,c),k(y,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ve=y.g=w[re];X=ct(ve,P,!0,y)&&X}if(ve=y.g=c,X=ct(ve,P,!0,y)&&X,X=ct(ve,P,!1,y)&&X,w)for(re=0;re<w.length;re++)ve=y.g=w[re],X=ct(ve,P,!1,y)&&X}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],P=0;P<w.length;P++)Le(w[P]);delete c.g[y],c.h--}}this.F=null},Oe.prototype.K=function(c,y,w,P){return this.i.add(String(c),y,!1,w,P)},Oe.prototype.L=function(c,y,w,P){return this.i.add(String(c),y,!0,w,P)};function ct(c,y,w,P){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var X=!0,re=0;re<y.length;++re){var ve=y[re];if(ve&&!ve.da&&ve.capture==w){var yt=ve.listener,sn=ve.ha||ve.src;ve.fa&&je(c.i,ve),X=yt.call(sn,P)!==!1&&X}}return X&&!P.defaultPrevented}function rt(c,y,w){if(typeof c=="function")w&&(c=g(c,w));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function Wt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,Wt(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Vt extends kt{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(c){kt.call(this),this.h=c,this.g={}}E(Ot,kt);var Gt=[];function fr(c){te(c.g,function(y,w){this.g.hasOwnProperty(w)&&ye(y)},c),c.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),fr(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=a.JSON.stringify,Re=a.JSON.parse,ln=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kn(){}Kn.prototype.h=null;function Gr(c){return c.h||(c.h=c.i())}function Ae(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wo(){pt.call(this,"d")}E(Wo,pt);function Yi(){pt.call(this,"c")}E(Yi,pt);var Qr={},Go=null;function Qo(){return Go=Go||new Oe}Qr.La="serverreachability";function Qu(c){pt.call(this,Qr.La,c)}E(Qu,pt);function hr(c){const y=Qo();Ue(y,new Qu(y))}Qr.STAT_EVENT="statevent";function bs(c,y){pt.call(this,Qr.STAT_EVENT,c),this.stat=y}E(bs,pt);function rn(c){const y=Qo();Ue(y,new bs(y,c))}Qr.Ma="timingevent";function Ji(c,y){pt.call(this,Qr.Ma,c),this.size=y}E(Ji,pt);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function kh(c,y,w,P,X,re){c.info(function(){if(c.g)if(re)for(var ve="",yt=re.split("&"),sn=0;sn<yt.length;sn++){var lt=yt[sn].split("=");if(1<lt.length){var on=lt[0];lt=lt[1];var fn=on.split("_");ve=2<=fn.length&&fn[1]=="type"?ve+(on+"="+lt+"&"):ve+(on+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+P+") [attempt "+X+"]: "+y+`
`+w+`
`+ve})}function Yo(c,y,w,P,X,re,ve){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+X+"]: "+y+`
`+w+`
`+re+" "+ve})}function Rr(c,y,w,P){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oh(c,w)+(P?" "+P:"")})}function Jo(c,y){c.info(function(){return"TIMEOUT: "+y})}Nt.prototype.info=function(){};function Oh(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var P=w[c];if(!(2>P.length)){var X=P[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Mn(w)}catch{return y}}var Zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function Ts(){}E(Ts,Kn),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},dr=new Ts;function Yr(c,y,w,P){this.j=c,this.i=y,this.l=w,this.R=P||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var pc={},kr={};function Xo(c,y,w){c.L=1,c.v=no(Ln(y)),c.m=w,c.P=!0,Zo(c,null)}function Zo(c,y){c.F=Date.now(),zn(c),c.A=Ln(c.v);var w=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),Ec(w.i,"t",P),c.C=0,w=c.j.J,c.h=new Pr,c.g=oa(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Vt(g(c.Y,c,c.g),c.O)),y=c.U,w=c.g,P=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gt[0]=X.toString()),X=Gt);for(var re=0;re<X.length;re++){var ve=fe(w,X[re],P||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),kh(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mr(c)==3?y.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const fn=Mr(this.g);var y=this.g.Ba();const Ds=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||fn!=4||y==7||(y==8||0>=Ds?hr(3):hr(2)),Jr(this);var w=this.g.Z();this.X=w;t:if(xt(this)){var P=el(this.g);c="";var X=P.length,re=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Xr(this);var ve="";break t}this.h.i=new a.TextDecoder}for(y=0;y<X;y++)this.h.h=!0,c+=this.h.i.decode(P[y],{stream:!(re&&y==X-1)});P.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,Yo(this.i,this.u,this.A,this.l,this.R,fn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,sn=this.g;if((yt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(yt)){var lt=yt;break t}}lt=null}if(w=lt)Rr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xi(this,w);else{this.o=!1,this.s=3,rn(12),Or(this),Xr(this);break e}}if(this.P){w=!0;let Un;for(;!this.J&&this.C<ve.length;)if(Un=Is(this,ve),Un==kr){fn==4&&(this.s=4,rn(14),w=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==pc){this.s=4,rn(15),Rr(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Rr(this.i,this.l,Un,null),Xi(this,Un);if(xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ve.length!=0||this.h.h||(this.s=1,rn(16),w=!1),this.o=this.o&&w,!w)Rr(this.i,this.l,ve,"[Invalid Chunked Response]"),Or(this),Xr(this);else if(0<ve.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Xt(on),on.M=!0,rn(11))}}else Rr(this.i,this.l,ve,null),Xi(this,ve);fn==4&&Or(this),this.o&&!this.J&&(fn==4?Sc(this.j,this):(this.o=!1,zn(this)))}else Ic(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Or(this),Xr(this)}}}catch{}finally{}};function xt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Is(c,y){var w=c.C,P=y.indexOf(`
`,w);return P==-1?kr:(w=Number(y.substring(w,P)),isNaN(w)?pc:(P+=1,P+w>y.length?kr:(y=y.slice(P,P+w),c.C=P+w,y)))}Yr.prototype.cancel=function(){this.J=!0,Or(this)};function zn(c){c.S=Date.now()+c.I,mc(c,c.I)}function mc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(g(c.ba,c),y)}function Jr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jo(this.i,this.A),this.L!=2&&(hr(),rn(17)),Or(this),this.s=2,Xr(this)):mc(this,this.S-c)};function Xr(c){c.j.G==0||c.J||Sc(c.j,c)}function Or(c){Jr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Xi(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||nt(w.h,c))){if(!c.K&&nt(w.h,c)&&w.G==3){try{var P=w.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var X=P;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ts(w),Rs(w);else break e;lo(w),rn(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=mt(g(w.Za,w),6e3));if(1>=yc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ns(w,11)}else if((c.K||w.g==c)&&ts(w),!V(y))for(X=w.Da.g.parse(y),y=0;y<X.length;y++){let lt=X[y];if(w.T=lt[0],lt=lt[1],w.G==2)if(lt[0]=="c"){w.K=lt[1],w.ia=lt[2];const on=lt[3];on!=null&&(w.la=on,w.j.info("VER="+w.la));const fn=lt[4];fn!=null&&(w.Aa=fn,w.j.info("SVER="+w.Aa));const Ds=lt[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(P=1.5*Ds,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const Un=c.g;if(Un){const mo=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var re=P.h;re.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ea(re,re.h),re.h=null))}if(P.D){const ca=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(P.ya=ca,gt(P.I,P.D,ca))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var ve=c;if(P.qa=ho(P,P.J?P.ia:null,P.W),ve.K){_c(P.h,ve);var yt=ve,sn=P.L;sn&&(yt.I=sn),yt.B&&(Jr(yt),zn(yt)),P.g=ve}else ia(P);0<w.i.length&&uo(w)}else lt[0]!="stop"&&lt[0]!="close"||ns(w,7);else w.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ns(w,7):di(w):lt[0]!="noop"&&w.l&&w.l.ta(lt),w.v=0)}}hr(4)}catch{}}var As=class{constructor(c,y){this.g=c,this.map=y}};function gc(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yc(c){return c.h?1:c.g?c.g.size:0}function nt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ea(c,y){c.g?c.g.add(y):c.h=y}function _c(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}gc.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function eo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return S(c.i)}function to(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],w=c.length,P=0;P<w;P++)y.push(c[P]);return y}y=[],w=0;for(P in c)y[w++]=c[P];return y}function Yu(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const P in c)y[w++]=P;return y}}}function vc(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Yu(c),P=to(c),X=P.length,re=0;re<X;re++)y.call(void 0,P[re],w&&w[re],c)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function At(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var P=c[w].indexOf("="),X=null;if(0<=P){var re=c[w].substring(0,P);X=c[w].substring(P+1)}else re=c[w];y(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof er){this.h=c.h,Dr(this,c.j),this.o=c.o,this.g=c.g,ui(this,c.s),this.l=c.l;var y=c.i,w=new pr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ta(this,w),this.m=c.m}else c&&(y=String(c).match(wc))?(this.h=!1,Dr(this,y[1]||"",!0),this.o=Zr(y[2]||""),this.g=Zr(y[3]||"",!0),ui(this,y[4]),this.l=Zr(y[5]||"",!0),ta(this,y[6]||"",!0),this.m=Zr(y[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}er.prototype.toString=function(){var c=[],y=this.j;y&&c.push(li(y,ut,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(li(y,ut,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(li(w,w.charAt(0)=="/"?Nh:Ju,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",li(w,Vn)),c.join("")};function Ln(c){return new er(c)}function Dr(c,y,w){c.j=w?Zr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ui(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ta(c,y,w){y instanceof pr?(c.i=y,mr(c.i,c.h)):(w||(y=li(y,xh)),c.i=new pr(y,c.h))}function gt(c,y,w){c.i.set(y,w)}function no(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function li(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Dh),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ut=/[#\/\?@]/g,Ju=/[#\?:]/g,Nh=/[#\?]/g,xh=/[#\?@]/g,Vn=/#/g;function pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&At(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=pr.prototype,t.add=function(c,y){tr(this),this.i=null,c=Dt(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Nr(c,y){tr(c),y=Dt(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function bc(c,y){return tr(c),y=Dt(c,y),c.g.has(y)}t.forEach=function(c,y){tr(this),this.g.forEach(function(w,P){w.forEach(function(X){c.call(y,X,P,this)},this)},this)},t.na=function(){tr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let P=0;P<y.length;P++){const X=c[P];for(let re=0;re<X.length;re++)w.push(y[P])}return w},t.V=function(c){tr(this);let y=[];if(typeof c=="string")bc(this,c)&&(y=y.concat(this.g.get(Dt(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return tr(this),this.i=null,c=Dt(this,c),bc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ec(c,y,w){Nr(c,y),0<w.length&&(c.i=null,c.g.set(Dt(c,y),S(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var P=y[w];const re=encodeURIComponent(String(P)),ve=this.V(P);for(P=0;P<ve.length;P++){var X=re;ve[P]!==""&&(X+="="+encodeURIComponent(String(ve[P]))),c.push(X)}}return this.i=c.join("&")};function Dt(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mr(c,y){y&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(w,P){var X=P.toLowerCase();P!=X&&(Nr(this,P),Ec(this,X,w))},c)),c.j=y}function ro(c,y){const w=new Nt;if(a.Image){const P=new Image;P.onload=v(gr,w,"TestLoadImage: loaded",!0,y,P),P.onerror=v(gr,w,"TestLoadImage: error",!1,y,P),P.onabort=v(gr,w,"TestLoadImage: abort",!1,y,P),P.ontimeout=v(gr,w,"TestLoadImage: timeout",!1,y,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else y(!1)}function so(c,y){const w=new Nt,P=new AbortController,X=setTimeout(()=>{P.abort(),gr(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:P.signal}).then(re=>{clearTimeout(X),re.ok?gr(w,"TestPingServer: ok",!0,y):gr(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),gr(w,"TestPingServer: error",!1,y)})}function gr(c,y,w,P,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),P(w)}catch{}}function es(){this.g=new ln}function Mh(c,y,w){const P=w||"";try{vc(c,function(X,re){let ve=X;f(X)&&(ve=Mn(X)),y.push(P+re+"="+encodeURIComponent(ve))})}catch(X){throw y.push(P+"type="+encodeURIComponent("_badmap")),X}}function Fn(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Fn,Kn),Fn.prototype.g=function(){return new fi(this.l,this.j)},Fn.prototype.i=(function(c){return function(){return c}})({});function fi(c,y){Oe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(fi,Oe),t=fi.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,xr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ss(this):xr(this),this.readyState==3&&Tc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ss(this))},t.Qa=function(c){this.g&&(this.response=c,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function na(c){let y="";return te(c,function(w,P){y+=P,y+=":",y+=w,y+=`\r
`}),y}function ra(c,y,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=na(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):gt(c,y,w))}function Mt(c){Oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Mt,Oe);var io=/^https?$/i,Lh=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Gr(this.o):Gr(dr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(re){Xu(this,re);return}if(c=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var X in P)w.set(X,P[X]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const re of P.keys())w.set(re,P.get(re));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Lh,y,void 0))||P||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of w)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zu(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){Xu(this,re)}};function Xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oo(c),hi(c)}function oo(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ue(this,"complete"),Ue(this,"abort"),hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},t.bb=function(){ao(this)};function ao(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mr(c)!=4||c.Z()!=2)){if(c.u&&Mr(c)==4)rt(c.Ea,0,c);else if(Ue(c,"readystatechange"),Mr(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var P;if(P=ve===0){var X=String(c.D).match(wc)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),P=!io.test(X?X.toLowerCase():"")}w=P}if(w)Ue(c,"complete"),Ue(c,"success");else{c.m=6;try{var re=2<Mr(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",oo(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){Zu(c);const w=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ue(c,"ready");try{w.onreadystatechange=P}catch{}}}function Zu(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Re(y)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(c){const y={};c=(c.g&&2<=Mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(V(c[P]))continue;var w=F(c[P]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=y[X]||[];y[X]=re,re.push(w)}O(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ac(c){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gc(c&&c.concurrentRequestLimit),this.Da=new es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ac.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,P){rn(0),this.W=c,this.H=y||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=ho(this,null,this.W),uo(this)};function di(c){if(co(c),c.G==3){var y=c.U++,w=Ln(c.I);if(gt(w,"SID",c.K),gt(w,"RID",y),gt(w,"TYPE","terminate"),ks(c,w),y=new Yr(c,c.j,y),y.L=2,y.v=no(Ln(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=y.v,w=!0),w||(y.g=oa(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zn(y)}Cc(c)}function Rs(c){c.g&&(Xt(c),c.g.cancel(),c.g=null)}function co(c){Rs(c),c.u&&(a.clearTimeout(c.u),c.u=null),ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function uo(c){if(!Zi(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ne||Kt(),Ce||(Ne(),Ce=!0),ht.add(y,c),c.B=0}}function Vh(c,y){return yc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(g(c.Ga,c,y),fo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Yr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=I(re),k(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=sa(this,X,y),w=Ln(this.I),gt(w,"RID",c),gt(w,"CVER",22),this.D&&gt(w,"X-HTTP-Session-Id",this.D),ks(this,w),re&&(this.O?y="headers="+encodeURIComponent(String(na(re)))+"&"+y:this.m&&ra(w,this.m,re)),ea(this.h,X),this.Ua&&gt(w,"TYPE","init"),this.P?(gt(w,"$req",y),gt(w,"SID","null"),X.T=!0,Xo(X,w,null)):Xo(X,w,y),this.G=2}}else this.G==3&&(c?Ps(this,c):this.i.length==0||Zi(this.h)||Ps(this))};function Ps(c,y){var w;y?w=y.l:w=c.U++;const P=Ln(c.I);gt(P,"SID",c.K),gt(P,"RID",w),gt(P,"AID",c.T),ks(c,P),c.m&&c.o&&ra(P,c.m,c.o),w=new Yr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=sa(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,w),Xo(w,P,y)}function ks(c,y){c.H&&te(c.H,function(w,P){gt(y,P,w)}),c.l&&vc({},function(w,P){gt(y,P,w)})}function sa(c,y,w){w=Math.min(c.i.length,w);var P=c.l?g(c.l.Na,c.l,c):null;e:{var X=c.i;let re=-1;for(;;){const ve=["count="+w];re==-1?0<w?(re=X[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let yt=!0;for(let sn=0;sn<w;sn++){let lt=X[sn].g;const on=X[sn].map;if(lt-=re,0>lt)re=Math.max(0,X[sn].g-100),yt=!1;else try{Mh(on,ve,"req"+lt+"_")}catch{P&&P(on)}}if(yt){P=ve.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,P}function ia(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ne||Kt(),Ce||(Ne(),Ce=!0),ht.add(y,c),c.v=0}}function lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(g(c.Fa,c),fo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,pi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Rs(this),pi(this))};function Xt(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function pi(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ln(c.qa);gt(y,"RID","rpc"),gt(y,"SID",c.K),gt(y,"AID",c.T),gt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(y,"TO",c.ja),gt(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&ra(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=no(Ln(y)),w.m=null,w.P=!0,Zo(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Rs(this),lo(this),rn(19))};function ts(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Sc(c,y){var w=null;if(c.g==y){ts(c),Xt(c),c.g=null;var P=2}else if(nt(c.h,y))w=y.D,_c(c.h,y),P=1;else return;if(c.G!=0){if(y.o)if(P==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var X=c.B;P=Qo(),Ue(P,new Ji(P,w)),uo(c)}else ia(c);else if(X=y.s,X==3||X==0&&0<y.X||!(P==1&&Vh(c,y)||P==2&&lo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),X){case 1:ns(c,5);break;case 4:ns(c,10);break;case 3:ns(c,6);break;default:ns(c,2)}}}function fo(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function ns(c,y){if(c.j.info("Error code "+y),y==2){var w=g(c.fb,c),P=c.Xa;const X=!P;P=new er(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dr(P,"https"),no(P),X?ro(P.toString(),w):so(P.toString(),w)}else rn(2);c.G=0,c.l&&c.l.sa(y),Cc(c),co(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Cc(c){if(c.G=0,c.ka=[],c.l){const y=eo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function ho(c,y,w){var P=w instanceof er?Ln(w):new er(w);if(P.g!="")y&&(P.g=y+"."+P.g),ui(P,P.s);else{var X=a.location;P=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;var re=new er(null);P&&Dr(re,P),y&&(re.g=y),X&&ui(re,X),w&&(re.l=w),P=re}return w=c.D,y=c.ya,w&&y&&gt(P,w,y),gt(P,"VER",c.la),ks(c,P),P}function oa(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Mt(new Fn({eb:w})):new Mt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rs(){}t=rs.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mi(){}mi.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){Oe.call(this),this.g=new Ac(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!V(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Os(this)}E(mn,Oe),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){di(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Mn(c),c=w);y.i.push(new As(y.Ya++,c)),y.G==3&&uo(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,di(this.g),delete this.g,mn.aa.N.call(this)};function po(c){Wo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}E(po,Wo);function aa(){Yi.call(this),this.status=1}E(aa,Yi);function Os(c){this.g=c}E(Os,rs),Os.prototype.ua=function(){Ue(this.g,"a")},Os.prototype.ta=function(c){Ue(this.g,new po(c))},Os.prototype.sa=function(c){Ue(this.g,new aa)},Os.prototype.ra=function(){Ue(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,d0=function(){return new mi},h0=function(){return Qo()},f0=Qr,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,xl=Zn,Es.COMPLETE="complete",l0=Es,Ae.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Vc=Ae,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,u0=Mt}).apply(typeof vl<"u"?vl:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",cv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new nh("@firebase/firestore");function _a(){return Uo.logLevel}function xe(t,...e){if(Uo.logLevel<=it.DEBUG){const n=e.map(sg);Uo.debug(`Firestore (${ac}): ${t}`,...n)}}function ri(t,...e){if(Uo.logLevel<=it.ERROR){const n=e.map(sg);Uo.error(`Firestore (${ac}): ${t}`,...n)}}function za(t,...e){if(Uo.logLevel<=it.WARN){const n=e.map(sg);Uo.warn(`Firestore (${ac}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,p0(t,r,n)}function p0(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ri(r),new Error(r)}function Et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||p0(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class YM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xi,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xi)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new m0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class XM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=i=>{i.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Fp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return vd(s)===vd(i)?ot(s,i):vd(s)?1:-1}return ot(t.length,e.length)}const nL=55296,rL=57343;function vd(t){const e=t.charCodeAt(0);return e>=nL&&e<=rL}function Wa(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__name__";class os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=os.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ot(e.length,n.length)}static compareSegments(e,n){const r=os.isNumericId(e),s=os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?os.extractNumericId(e).compare(os.extractNumericId(n)):Fp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class Pt extends os{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends os{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return sL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new bn([lv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new De(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new De(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new De(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Pt.fromString(e))}static fromName(e){return new Be(Pt.fromString(e).popFirst(5))}static empty(){return new Be(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e,n){if(!n)throw new De(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iL(t,e,n,r){if(e===!0&&r===!0)throw new De(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fv(t){if(!Be.isDocumentKey(t))throw new De(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hv(t){if(Be.isDocumentKey(t))throw new De(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new De(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $u(t,e){if(!y0(t))throw new De(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new De(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,pv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pv);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dv)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:tn("string",bt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new bt(0,0))}static max(){return new Qe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function oL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Fi(s,Be.empty(),e)}function aL(t){return new Fi(t.readTime,t.key,vu)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(Qe.min(),Be.empty(),vu)}static max(){return new Fi(Qe.max(),Be.empty(),vu)}}function cL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==uL)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((s=>s?le.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const f=l;n(e[f]).next((d=>{o[f]=d,++a,a===i&&r(o)}),(d=>s(d)))}}))}static doWhile(e,n){return new le(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function fL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function uh(t){return t==null}function Tf(t){return t===0&&1/t==-1/0}function hL(t){return typeof t=="number"&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="";function dL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mv(e)),e=pL(t.get(n),e);return mv(e)}function pL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _0:n+="";break;default:n+=i}}return n}function mv(t){return t+_0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wl(this.root,e,this.comparator,!0)}}class wl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new or([])}unionWith(e){let n=new cn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w0("Invalid base64 string: "+i):i}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const mL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=mL.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="server_timestamp",E0="__type__",T0="__previous_value__",I0="__local_write_time__";function ag(t){return(t?.mapValue?.fields||{})[E0]?.stringValue===b0}function lh(t){const e=t.mapValue.fields[T0];return ag(e)?lh(e):e}function wu(t){const e=Ui(t.mapValue.fields[I0].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,s,i,o,a,l,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=d}}const If="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||If}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===If}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",yL="__max__",bl={mapValue:{}},S0="__vector__",Af="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:vL(t)?9007199254740991:_L(t)?10:11:Ke(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ui(s.timestampValue),a=Ui(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return $i(s.bytesValue).isEqual($i(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Yt(s.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(s.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Yt(s.integerValue)===Yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yt(s.doubleValue),a=Yt(i.doubleValue);return o===a?Tf(o)===Tf(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(gv(o)!==gv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ys(o[l],a[l])))return!1;return!0})(t,e);default:return Ke(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function Ga(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=Yt(i.integerValue||i.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return _v(t.timestampValue,e.timestampValue);case 4:return _v(wu(t),wu(e));case 5:return Fp(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=$i(i),l=$i(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const d=ot(a[f],l[f]);if(d!==0)return d}return ot(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=ot(Yt(i.latitude),Yt(o.latitude));return a!==0?a:ot(Yt(i.longitude),Yt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vv(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},f=a[Af]?.arrayValue,d=l[Af]?.arrayValue,p=ot(f?.values?.length||0,d?.values?.length||0);return p!==0?p:vv(f,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===bl.mapValue&&o===bl.mapValue)return 0;if(i===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),f=o.fields||{},d=Object.keys(f);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const g=Fp(l[p],d[p]);if(g!==0)return g;const v=Ga(a[l[p]],f[d[p]]);if(v!==0)return v}return ot(l.length,d.length)})(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function _v(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=Ui(t),r=Ui(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function vv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ga(n[s],r[s]);if(i)return i}return ot(n.length,r.length)}function Qa(t){return Up(t)}function Up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $i(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Up(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Up(n.fields[o])}`;return s+"}"})(t.mapValue):Ke(61005,{value:t})}function Ml(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+Ml(e):16;case 5:return 2*t.stringValue.length;case 6:return $i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ml(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Wi(r.fields,((i,o)=>{s+=i.length+Ml(o)})),s})(t.mapValue);default:throw Ke(13486,{value:t})}}function wv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function cg(t){return!!t&&"arrayValue"in t}function bv(t){return!!t&&"nullValue"in t}function Ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function _L(t){return(t?.mapValue?.fields||{})[A0]?.stringValue===S0}function Jc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Jc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jc(t.arrayValue.values[n]);return e}return{...t}}function vL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Jc(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ll(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Qn(Jc(this.value))}}function C0(t){const e=[];return Wi(t.fields,((n,r)=>{const s=new bn([n]);if(Ll(r)){const i=C0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new On(e,0,Qe.min(),Qe.min(),Qe.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Qe.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Qe.min(),Qe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Qe.min(),Qe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=Ga(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function wL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class en extends R0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EL(e,n,r):n==="array-contains"?new AL(e,r):n==="in"?new SL(e,r):n==="not-in"?new CL(e,r):n==="array-contains-any"?new RL(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TL(e,r):new IL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends R0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return P0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P0(t){return t.op==="and"}function k0(t){return bL(t)&&P0(t)}function bL(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function jp(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(k0(t))return t.filters.map((e=>jp(e))).join(",");{const e=t.filters.map((n=>jp(n))).join(",");return`${t.op}(${e})`}}function O0(t,e){return t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&ys(r.value,s.value)})(t,e):t instanceof zr?(function(r,s){return s instanceof zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&O0(o,s.filters[a])),!0):!1})(t,e):void Ke(19439)}function D0(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(t):t instanceof zr?(function(n){return n.op.toString()+" {"+n.getFilters().map(D0).join(" ,")+"}"})(t):"Filter"}class EL extends en{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class TL extends en{constructor(e,n){super(e,"in",n),this.keys=N0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IL extends en{constructor(e,n){super(e,"not-in",n),this.keys=N0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function N0(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class AL extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&Eu(n.arrayValue,this.value)}}class SL extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class CL extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class RL extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Eu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Av(t,e=null,n=[],r=[],s=null,i=null,o=null){return new PL(t,e,n,r,s,i,o)}function ug(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qa(r))).join(",")),e.Te=n}return e.Te}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iv(t.startAt,e.startAt)&&Iv(t.endAt,e.endAt)}function Bp(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kL(t,e,n,r,s,i,o,a){return new ju(t,e,n,r,s,i,o,a)}function x0(t){return new ju(t)}function Sv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M0(t){return t.collectionGroup!==null}function Xc(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cn(bn.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((f=>{f.isInequality()&&(a=a.add(f.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Cf(i,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new Cf(bn.keyField(),r))}return e.Ie}function ls(t){const e=Ye(t);return e.Ee||(e.Ee=OL(e,Xc(t))),e.Ee}function OL(t,e){if(t.limitType==="F")return Av(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Cf(s.field,i)}));const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return Av(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qp(t,e){const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hp(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return lg(ls(t),ls(e))&&t.limitType===e.limitType}function L0(t){return`${ug(ls(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>D0(s))).join(", ")}]`),uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const f=Tv(o,a,l);return o.inclusive?f<=0:f<0})(r.startAt,Xc(r),s)||r.endAt&&!(function(o,a,l){const f=Tv(o,a,l);return o.inclusive?f>=0:f>0})(r.endAt,Xc(r),s))})(t,e)}function DL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V0(t){return(e,n)=>{let r=!1;for(const s of Xc(t)){const i=NL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NL(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),f=a.data.field(i);return l!==null&&f!==null?Ga(l,f):Ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Bt(Be.comparator);function ii(){return xL}const F0=new Bt(Be.comparator);function Fc(...t){let e=F0;for(const n of t)e=e.insert(n.key,n);return e}function U0(t){let e=F0;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Po(){return Zc()}function $0(){return Zc()}function Zc(){return new Ho((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ML=new Bt(Be.comparator),LL=new cn(Be.comparator);function at(...t){let e=LL;for(const n of t)e=e.add(n);return e}const VL=new cn(ot);function FL(){return VL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function j0(t){return{integerValue:""+t}}function UL(t,e){return hL(e)?j0(e):fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function $L(t,e,n){return t instanceof Rf?(function(s,i){const o={fields:{[E0]:{stringValue:b0},[I0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ag(i)&&(i=lh(i)),i&&(o.fields[T0]=i),{mapValue:o}})(n,e):t instanceof Tu?q0(t,e):t instanceof Iu?H0(t,e):(function(s,i){const o=B0(s,i),a=Cv(o)+Cv(s.Ae);return $p(o)&&$p(s.Ae)?j0(a):fg(s.serializer,a)})(t,e)}function jL(t,e,n){return t instanceof Tu?q0(t,e):t instanceof Iu?H0(t,e):n}function B0(t,e){return t instanceof Pf?(function(r){return $p(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Rf extends dh{}class Tu extends dh{constructor(e){super(),this.elements=e}}function q0(t,e){const n=K0(e);for(const r of t.elements)n.some((s=>ys(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Iu extends dh{constructor(e){super(),this.elements=e}}function H0(t,e){let n=K0(e);for(const r of t.elements)n=n.filter((s=>!ys(s,r)));return{arrayValue:{values:n}}}class Pf extends dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cv(t){return Yt(t.integerValue||t.doubleValue)}function K0(t){return cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Tu&&s instanceof Tu||r instanceof Iu&&s instanceof Iu?Wa(r.elements,s.elements,ys):r instanceof Pf&&s instanceof Pf?ys(r.Ae,s.Ae):r instanceof Rf&&s instanceof Rf})(t.transform,e.transform)}class qL{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function z0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,Ir.none()):new Bu(t.key,t.data,Ir.none());{const n=t.data,r=Qn.empty();let s=new cn(bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gi(t.key,r,new or(s.toArray()),Ir.none())}}function HL(t,e,n){t instanceof Bu?(function(s,i,o){const a=s.value.clone(),l=Pv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Gi?(function(s,i,o){if(!Vl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Pv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(W0(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function eu(t,e,n,r){return t instanceof Bu?(function(i,o,a,l){if(!Vl(i.precondition,o))return a;const f=i.value.clone(),d=kv(i.fieldTransforms,l,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gi?(function(i,o,a,l){if(!Vl(i.precondition,o))return a;const f=kv(i.fieldTransforms,l,o),d=o.data;return d.setAll(W0(i)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,o,a){return Vl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function KL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=B0(r.transform,s||null);i!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,i))}return n||null}function Rv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,((i,o)=>BL(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends ph{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gi extends ph{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function W0(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Pv(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,jL(o,a,n[s]))}return r}function kv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,$L(i,o,e))}return r}class hg extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zL extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&HL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$0();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=z0(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((n,r)=>Rv(n,r)))&&Wa(this.baseMutations,e.baseMutations,((n,r)=>Rv(n,r)))}}class dg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return ML})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new dg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function YL(t){switch(t){case ue.OK:return Ke(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function G0(t){if(t===void 0)return ri("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Zt.OK:return ue.OK;case Zt.CANCELLED:return ue.CANCELLED;case Zt.UNKNOWN:return ue.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ue.INTERNAL;case Zt.UNAVAILABLE:return ue.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ue.NOT_FOUND;case Zt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Zt.ABORTED:return ue.ABORTED;case Zt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Zt.DATA_LOSS:return ue.DATA_LOSS;default:return Ke(39323,{code:t})}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Ni([4294967295,4294967295],0);function Ov(t){const e=JL().encode(t),n=new c0;return n.update(e),new Uint8Array(n.digest())}function Dv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([s,i],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ni.fromNumber(r)));return s.compare(XL)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ov(e),[r,s]=Dv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pg(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Ov(e),[r,s]=Dv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(Qe.min(),s,new Bt(ot),ii(),at())}}class qu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Q0{constructor(e,n){this.targetId=e,this.Ce=n}}class Y0{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Nv{constructor(){this.ve=0,this.Fe=xv(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke(38017,{changeType:i})}})),new qu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZL{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=El(),this.He=El(),this.Ye=new Bt(ot)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Bp(i))if(r===0){const o=new Be(i.path);this.et(n,o,On.newNoDocument(o,Qe.min()))}else Et(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$i(r).toUint8Array()}catch(l){if(l instanceof w0)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pg(o,s,i)}catch(l){return za(l instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Bp(a.target)){const l=new Be(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,On.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=at();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const f=this.ot(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new mh(e,n,this.Ye,this.je,r);return this.je=ii(),this.Je=El(),this.He=El(),this.Ye=new Bt(ot),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cn(ot),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cn(ot),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function El(){return new Bt(Be.comparator)}function xv(){return new Bt(Be.comparator)}const eV={asc:"ASCENDING",desc:"DESCENDING"},tV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nV={and:"AND",or:"OR"};class rV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kp(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sV(t,e){return kf(t,e.toTimestamp())}function fs(t){return Et(!!t,49232),Qe.fromTimestamp((function(n){const r=Ui(n);return new bt(r.seconds,r.nanos)})(t))}function mg(t,e){return zp(t,e).canonicalString()}function zp(t,e){const n=(function(s){return new Pt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X0(t){const e=Pt.fromString(t);return Et(rI(e),10190,{key:e.toString()}),e}function Wp(t,e){return mg(t.databaseId,e.path)}function wd(t,e){const n=X0(e);if(n.get(1)!==t.databaseId.projectId)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(eI(n))}function Z0(t,e){return mg(t.databaseId,e)}function iV(t){const e=X0(t);return e.length===4?Pt.emptyPath():eI(e)}function Gp(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eI(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mv(t,e,n){return{name:Wp(t,e),fields:n.value.mapValue.fields}}function oV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(Et(d===void 0||typeof d=="string",58123),En.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),En.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(f){const d=f.code===void 0?ue.UNKNOWN:G0(f.code);return new De(d,f.message||"")})(o);n=new Y0(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wd(t,r.document.name),i=fs(r.document.updateTime),o=r.document.createTime?fs(r.document.createTime):Qe.min(),a=new Qn({mapValue:{fields:r.document.fields}}),l=On.newFoundDocument(s,i,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Fl(f,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wd(t,r.document),i=r.readTime?fs(r.readTime):Qe.min(),o=On.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Fl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wd(t,r.document),i=r.removedTargetIds||[];n=new Fl([],i,s,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QL(s,i),a=r.targetId;n=new Q0(a,o)}}return n}function aV(t,e){let n;if(e instanceof Bu)n={update:Mv(t,e.key,e.value)};else if(e instanceof hg)n={delete:Wp(t,e.key)};else if(e instanceof Gi)n={update:Mv(t,e.key,e.data),updateMask:gV(e.fieldMask)};else{if(!(e instanceof zL))return Ke(16599,{Vt:e.type});n={verify:Wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Rf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ke(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:sV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke(27497)})(t,e.precondition)),n}function cV(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?fs(s.updateTime):fs(i);return o.isEqual(Qe.min())&&(o=fs(i)),new qL(o,s.transformResults||[])})(n,e)))):[]}function uV(t,e){return{documents:[Z0(t,e.path)]}}function lV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z0(t,s);const i=(function(f){if(f.length!==0)return nI(zr.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:wa(g.field),direction:dV(g.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Kp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function fV(t){let e=iV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const g=tI(p);return g instanceof zr&&k0(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((g=>(function(E){return new Cf(ba(E.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g)))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,uh(g)?null:g})(n.limit));let l=null;n.startAt&&(l=(function(p){const g=!!p.before,v=p.values||[];return new Sf(v,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,v=p.values||[];return new Sf(v,g)})(n.endAt)),kL(e,s,o,i,a,"F",l,f)}function hV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ba(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ba(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ba(n.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ba(n.unaryFilter.field);return en.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(ba(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zr.create(n.compositeFilter.filters.map((r=>tI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(n.compositeFilter.op))})(t):Ke(30097,{filter:t})}function dV(t){return eV[t]}function pV(t){return tV[t]}function mV(t){return nV[t]}function wa(t){return{fieldPath:t.canonicalString()}}function ba(t){return bn.fromServerFormat(t.fieldPath)}function nI(t){return t instanceof en?(function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(bv(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(bv(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:pV(n.op),value:n.value}}})(t):t instanceof zr?(function(n){const r=n.getFilters().map((s=>nI(s)));return r.length===1?r[0]:{compositeFilter:{op:mV(n.op),filters:r}}})(t):Ke(54877,{filter:t})}function gV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r,s,i=Qe.min(),o=Qe.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.yt=e}}function _V(t){const e=fV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Cn=new wV}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Fi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class wV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(Pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sI=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(sI,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LruGarbageCollector",bV=1048576;function Fv([t,e],[n,r]){const s=ot(t,n);return s===0?ot(e,r):s}class EV{constructor(e){this.Ir=e,this.buffer=new cn(Fv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Fv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(Vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?xe(Vv,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Vr(3e5)}))}}class IV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(ch.ce);const r=new EV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Lv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),_a()<=it.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(f-l)+`ms
Total Duration: ${f-d}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function AV(t,e){return new IV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.changes=new Ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&eu(r.mutation,s,or.empty(),bt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const s=Po();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Fc();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=ii();const o=Zc(),a=(function(){return Zc()})();return n.forEach(((l,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Gi)?i=i.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),eu(d.mutation,f,d.mutation.getFieldMask(),bt.now())):o.set(f.key,or.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>a.set(f,new CV(d,o.get(f)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Zc();let s=new Bt(((o,a)=>o-a)),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const f=n.get(l);if(f===null)return;let d=r.get(l)||or.empty();d=a.applyToLocalView(f,d),r.set(l,d);const p=(s.get(a.batchId)||at()).add(l);s=s.insert(a.batchId,p)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,d=l.value,p=$0();d.forEach((g=>{if(!i.has(g)){const v=z0(n.get(g),r.get(g));v!==null&&p.set(g,v),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):le.resolve(Po());let a=vu,l=i;return o.next((f=>le.forEach(f,((d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{l=l.insert(d,g)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,l,f,at()))).next((d=>({batchId:a,changes:U0(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let s=Fc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fc();return this.indexManager.getCollectionParents(e,i).next((a=>le.forEach(a,(l=>{const f=(function(p,g){return new ju(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((d=>{d.forEach(((p,g)=>{o=o.insert(p,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,On.newInvalidDocument(d)))}));let a=Fc();return o.forEach(((l,f)=>{const d=i.get(l);d!==void 0&&eu(d.mutation,f,or.empty(),bt.now()),hh(n,f)&&(a=a.insert(l,f))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:fs(s.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:_V(s.bundledQuery),readTime:fs(s.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.overlays=new Bt(Be.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return le.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=Po(),i=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=Po(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=Po(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((f,d)=>a.set(f,d))),!(a.size()>=s)););return le.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GL(n,r));let i=this.qr.get(n);i===void 0&&(i=at(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new cn(hn.$r),this.Ur=new cn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Pt([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Pt([])),r=new hn(n,e),s=new hn(n,e+1);let i=at();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ot(e.Yr,n.Yr)}static Kr(e,n){return ot(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(hn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(ot);return n.forEach((s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new hn(new Be(i),0);let a=new cn(ot);return this.Zr.forEachWhile((l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(a=a.add(l.Yr)),!0)}),o),le.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),s=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():On.newInvalidDocument(s))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ii();const o=n.path,a=new Be(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:d}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||cL(aL(d),r)<=0||(s.has(d.key)||hh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xV(this)}getSize(e){return le.resolve(this.size)}}class xV extends SV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.persistence=e,this.si=new Ho((n=>ug(n)),lg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),le.waitFor(i).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new OV,this.referenceDelegate=e(this),this.Pi=new MV(this),this.indexManager=new vV,this.remoteDocumentCache=(function(s){return new NV(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yV(n),this.Ii=new PV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const s=new LV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class LV extends lL{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const s=Be.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Of{constructor(e,n){this.persistence=e,this.pi=new Ho((r=>dL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=AV(this,n)}static mi(e,n){return new Of(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?le.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,Qe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ml(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _g(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CD()?8:fL(Nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new VV;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(_a()<=it.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(_a()<=it.DEBUG&&xe("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_a()<=it.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):le.resolve())}ys(e,n){if(Sv(n))return le.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Hp(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=at(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const f=this.Ds(n,a);return this.Cs(n,f,o,l.readTime)?this.ys(e,Hp(n,null,"F")):this.vs(e,f,n,l)}))))})))))}ws(e,n,r,s){return Sv(n)||s.isEqual(Qe.min())?le.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?le.resolve(null):(_a()<=it.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(n)),this.vs(e,o,n,oL(s,vu)).next((a=>a)))}))}Ds(e,n){let r=new cn(V0(e));return n.forEach(((s,i)=>{hh(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _a()<=it.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",va(n)),this.ps.getDocumentsMatchingQuery(e,n,Fi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",UV=3e8;class $V{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Bt(ot),this.xs=new Ho((i=>ug(i)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jV(t,e,n,r){return new $V(t,e,n,r)}async function oI(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=at();for(const f of s){o.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}for(const f of i){a.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:a})))}))}))}function BV(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,f,d){const p=f.batch,g=p.keys();let v=le.resolve();return g.forEach((E=>{v=v.next((()=>d.getEntry(l,E))).next((S=>{const L=f.docVersions.get(E);Et(L!==null,48541),S.version.compareTo(L)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=at();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function aI(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qV(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((d,p)=>{const g=s.get(p);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(En.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),(function(S,L,q){return S.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=UV?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(g,v,d)&&a.push(n.Pi.updateTargetData(i,v))}));let l=ii(),f=at();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),a.push(HV(i,o,e.documentUpdates).next((d=>{l=d.ks,f=d.qs}))),!r.isEqual(Qe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(d)}return le.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,f))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function HV(t,e,n){let r=at(),s=at();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=ii();return n.forEach(((a,l)=>{const f=i.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Qe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):xe(vg,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function KV(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zV(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,le.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Qp(t,e,n){const r=Ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!uc(o))throw o;xe(vg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Uv(t,e,n){const r=Ye(t);let s=Qe.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,f,d){const p=Ye(l),g=p.xs.get(d);return g!==void 0?le.resolve(p.Ms.get(g)):p.Pi.getTargetData(f,d)})(r,o,ls(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Qe.min(),n?i:at()))).next((a=>(WV(r,DL(e),a),{documents:a,Qs:i})))))}function WV(t,e,n){let r=t.Os.get(e)||Qe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class $v{constructor(){this.activeTargetIds=FL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GV{constructor(){this.Mo=new $v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $v,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function Yp(){return Tl===null?Tl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===If?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Yp(),a=this.zo(e,n.toUriEncodedString());xe(bd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:f}=new URL(a),d=sc(f);return this.Jo(e,a,l,r,d).then((p=>(xe(bd,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw za(bd,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=YV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class ZV extends JV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Yp();return new Promise(((a,l)=>{const f=new u0;f.setWithCredentials(!0),f.listenOnce(l0.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case xl.NO_ERROR:const p=f.getResponseJson();xe(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case xl.TIMEOUT:xe(Sn,`RPC '${e}' ${o} timed out`),l(new De(ue.DEADLINE_EXCEEDED,"Request time out"));break;case xl.HTTP_ERROR:const g=f.getStatus();if(xe(Sn,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const S=(function(q){const V=q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN})(E.status);l(new De(S,E.message))}else l(new De(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new De(ue.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{xe(Sn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(s);xe(Sn,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=Yp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d0(),a=h0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");xe(Sn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);this.I_(p);let g=!1,v=!1;const E=new XV({Yo:L=>{v?xe(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(g||(xe(Sn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),xe(Sn,`RPC '${e}' stream ${s} sending:`,L),p.send(L))},Zo:()=>p.close()}),S=(L,q,V)=>{L.listen(q,(R=>{try{V(R)}catch(N){setTimeout((()=>{throw N}),0)}}))};return S(p,Vc.EventType.OPEN,(()=>{v||(xe(Sn,`RPC '${e}' stream ${s} transport opened.`),E.o_())})),S(p,Vc.EventType.CLOSE,(()=>{v||(v=!0,xe(Sn,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))})),S(p,Vc.EventType.ERROR,(L=>{v||(v=!0,za(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),E.a_(new De(ue.UNAVAILABLE,"The operation could not be completed")))})),S(p,Vc.EventType.MESSAGE,(L=>{if(!v){const q=L.data[0];Et(!!q,16349);const V=q,R=V?.error||V[0]?.error;if(R){xe(Sn,`RPC '${e}' stream ${s} received error:`,R);const N=R.status;let $=(function(I){const A=Zt[I];if(A!==void 0)return G0(A)})(N),te=R.message;$===void 0&&($=ue.INTERNAL,te="Unknown error status: "+N+" with message "+R.message),v=!0,E.a_(new De($,te)),p.close()}else xe(Sn,`RPC '${e}' stream ${s} received:`,q),E.u_(q)}})),S(a,f0.STAT_EVENT,(L=>{L.stat===Vp.PROXY?xe(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Vp.NOPROXY&&xe(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new rV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="PersistentStream";class uI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new De(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class e2 extends uI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oV(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Qe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Qe.min():o.readTime?fs(o.readTime):Qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gp(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=Bp(l)?{documents:uV(i,l)}:{query:lV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=J0(i,o.resumeToken);const f=Kp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Qe.min())>0){a.readTime=kf(i,o.snapshotVersion.toTimestamp());const f=Kp(i,o.expectedCount);f!==null&&(a.expectedCount=f)}return a})(this.serializer,e);const r=hV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gp(this.serializer),n.removeTarget=e,this.q_(n)}}class t2 extends uI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cV(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>aV(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{}class r2 extends n2{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,zp(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(ue.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,zp(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class i2{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ko(this)&&(xe($o,"Restarting streams for network reachability change."),await(async function(l){const f=Ye(l);f.Ea.add(4),await Hu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await yh(f)})(this))}))})),this.Ra=new s2(r,s)}}async function yh(t){if(Ko(t))for(const e of t.da)await e(!0)}async function Hu(t){for(const e of t.da)await e(!1)}function lI(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tg(n)?Eg(n):lc(n).O_()&&bg(n,e))}function wg(t,e){const n=Ye(t),r=lc(n);n.Ia.delete(e),r.O_()&&fI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ko(n)&&n.Ra.set("Unknown"))}function bg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Y_(e)}function fI(t,e){t.Va.Ue(e),lc(t).Z_(e)}function Eg(t){t.Va=new ZL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function Tg(t){return Ko(t)&&!lc(t).x_()&&t.Ia.size>0}function Ko(t){return Ye(t).Ea.size===0}function hI(t){t.Va=void 0}async function o2(t){t.Ra.set("Online")}async function a2(t){t.Ia.forEach(((e,n)=>{bg(t,e)}))}async function c2(t,e){hI(t),Tg(t)?(t.Ra.ha(e),Eg(t)):t.Ra.set("Unknown")}async function u2(t,e,n){if(t.Ra.set("Online"),e instanceof Y0&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){xe($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Df(t,r)}else if(e instanceof Fl?t.Va.Ze(e):e instanceof Q0?t.Va.st(e):t.Va.tt(e),!n.isEqual(Qe.min()))try{const r=await aI(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,f)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),fI(i,l);const p=new Ri(d.target,l,f,d.sequenceNumber);bg(i,p)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){xe($o,"Failed to raise snapshot:",r),await Df(t,r)}}async function Df(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await Hu(t),t.Ra.set("Offline"),n||(n=()=>aI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yh(t)}))}function dI(t,e){return e().catch((n=>Df(t,n,e)))}async function _h(t){const e=Ye(t),n=Bi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;l2(e);)try{const s=await KV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,f2(e,s)}catch(s){await Df(e,s)}pI(e)&&mI(e)}function l2(t){return Ko(t)&&t.Ta.length<10}function f2(t,e){t.Ta.push(e);const n=Bi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pI(t){return Ko(t)&&!Bi(t).x_()&&t.Ta.length>0}function mI(t){Bi(t).start()}async function h2(t){Bi(t).ra()}async function d2(t){const e=Bi(t);for(const n of t.Ta)e.ea(n.mutations)}async function p2(t,e,n){const r=t.Ta.shift(),s=dg.from(r,e,n);await dI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await _h(t)}async function m2(t,e){e&&Bi(t).X_&&await(async function(r,s){if((function(o){return YL(o)&&o!==ue.ABORTED})(s.code)){const i=r.Ta.shift();Bi(r).B_(),await dI(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await _h(r)}})(t,e),pI(t)&&mI(t)}async function Hv(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),xe($o,"RemoteStore received new credentials");const r=Ko(n);n.Ea.add(3),await Hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function g2(t,e){const n=Ye(t);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=(function(n,r,s){const i=Ye(n);return i.sa(),new e2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:o2.bind(null,t),t_:a2.bind(null,t),r_:c2.bind(null,t),H_:u2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Tg(t)?Eg(t):t.Ra.set("Unknown")):(await t.ma.stop(),hI(t))}))),t.ma}function Bi(t){return t.fa||(t.fa=(function(n,r,s){const i=Ye(n);return i.sa(),new t2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:h2.bind(null,t),r_:m2.bind(null,t),ta:d2.bind(null,t),na:p2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _h(t)):(await t.fa.stop(),t.Ta.length>0&&(xe($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ig(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(ri("AsyncQueue",`${e}: ${t}`),uc(t))return new De(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.ga=new Bt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ja{constructor(e,n,r,s,i,o,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Ja(e,n,Ma.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _2{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=zv(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new De(ue.ABORTED,"Firestore shutting down"))}}function zv(){return new Ho((t=>L0(t)),fh)}async function v2(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new y2,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ag(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sg(n)}async function w2(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b2(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Sg(n)}function E2(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sg(t){t.Ca.forEach((e=>{e.next()}))}var Jp,Wv;(Wv=Jp||(Jp={})).Ma="default",Wv.Cache="cache";class T2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.key=e}}class yI{constructor(e){this.key=e}}class I2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=V0(e),this.tu=new Ma(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Kv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,p)=>{const g=s.get(d),v=hh(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;g&&v?g.data.isEqual(v.data)?E!==S&&(r.track({type:3,doc:v}),L=!0):this.su(g,v)||(r.track({type:2,doc:v}),L=!0,(l&&this.eu(v,l)>0||f&&this.eu(v,f)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),L=!0):g&&!v&&(r.track({type:1,doc:g}),L=!0,(l||f)&&(a=!0)),L&&(v?(o=o.add(v),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(v,E){const S=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:L})}};return S(v)-S(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,f=l!==this.Za;return this.Za=l,o.length!==0||f?{snapshot:new Ja(this.query,e.tu,i,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new yI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new gI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class A2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S2{constructor(e){this.key=e,this.hu=!1}}class C2{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ho((a=>L0(a)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Be.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(t,e,n=!0){const r=TI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await _I(r,e,n,!0),s}async function P2(t,e){const n=TI(t);await _I(n,e,!0,!1)}async function _I(t,e,n,r){const s=await zV(t.localStore,ls(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await k2(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lI(t.remoteStore,s),a}async function k2(t,e,n,r,s){t.pu=(p,g,v)=>(async function(S,L,q,V){let R=L.view.ru(q);R.Cs&&(R=await Uv(S.localStore,L.query,!1).then((({documents:O})=>L.view.ru(O,R))));const N=V&&V.targetChanges.get(L.targetId),$=V&&V.targetMismatches.get(L.targetId)!=null,te=L.view.applyChanges(R,S.isPrimaryClient,N,$);return Qv(S,L.targetId,te.au),te.snapshot})(t,p,g,v);const i=await Uv(t.localStore,e,!0),o=new I2(e,i.Qs),a=o.ru(i.documents),l=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(a,t.isPrimaryClient,l);Qv(t,n,f.au);const d=new A2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function O2(t,e,n){const r=Ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!fh(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wg(r.remoteStore,s.targetId),Xp(r,s.targetId)})).catch(cc)):(Xp(r,s.targetId),await Qp(r.localStore,s.targetId,!0))}async function D2(t,e){const n=Ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function N2(t,e,n){const r=$2(t);try{const s=await(function(o,a){const l=Ye(o),f=bt.now(),d=a.reduce(((v,E)=>v.add(E.key)),at());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=ii(),S=at();return l.Ns.getEntries(v,d).next((L=>{E=L,E.forEach(((q,V)=>{V.isValidDocument()||(S=S.add(q))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,E))).next((L=>{p=L;const q=[];for(const V of a){const R=KL(V,p.get(V.key).overlayedDocument);R!=null&&q.push(new Gi(V.key,R,C0(R.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(v,f,q,a)})).next((L=>{g=L;const q=L.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(v,L.batchId,q)}))})).then((()=>({batchId:g.batchId,changes:U0(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let f=o.Vu[o.currentUser.toKey()];f||(f=new Bt(ot)),f=f.insert(a,l),o.Vu[o.currentUser.toKey()]=f})(r,s.batchId,n),await Ku(r,s.changes),await _h(r.remoteStore)}catch(s){const i=Ag(s,"Failed to persist write");n.reject(i)}}async function vI(t,e){const n=Ye(t);try{const r=await qV(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Et(o.hu,14607):s.removedDocuments.size>0&&(Et(o.hu,42227),o.hu=!1))})),await Ku(n,r,e)}catch(r){await cc(r)}}function Gv(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=Ye(o);l.onlineState=a;let f=!1;l.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(a)&&(f=!0)})),f&&Sg(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x2(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Bt(Be.comparator);o=o.insert(i,On.newNoDocument(i,Qe.min()));const a=at().add(i),l=new mh(Qe.min(),new Map,new Bt(ot),o,a);await vI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Rg(r)}else await Qp(r.localStore,e,!1).then((()=>Xp(r,e,n))).catch(cc)}async function M2(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await BV(n.localStore,e);bI(n,r,null),wI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,s)}catch(s){await cc(s)}}async function L2(t,e,n){const r=Ye(t);try{const s=await(function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return l.mutationQueue.lookupMutationBatch(f,a).next((p=>(Et(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(f,p)))).next((()=>l.mutationQueue.performConsistencyCheck(f))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(f,d,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>l.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);bI(r,e,n),wI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ku(r,s)}catch(s){await cc(s)}}function wI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bI(t,e,n){const r=Ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||EI(t,r)}))}function EI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Rg(t))}function Qv(t,e,n){for(const r of n)r instanceof gI?(t.Ru.addReference(r.key,e),V2(t,r)):r instanceof yI?(xe(Cg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||EI(t,r.key)):Ke(19791,{wu:r})}function V2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(Cg,"New document in limbo: "+n),t.Eu.add(r),Rg(t))}function Rg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new S2(n)),t.du=t.du.insert(n,r),lI(t.remoteStore,new Ri(ls(x0(n.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Ku(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(f){s.push(f);const d=_g.As(l.targetId,f);i.push(d)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,f){const d=Ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(g=>le.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>le.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!uc(p))throw p;xe(vg,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),E=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(g,S)}}})(r.localStore,i))}async function F2(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){xe(Cg,"User change. New user:",e.toKey());const r=await oI(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new De(ue.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(n,r.Ls)}}function U2(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let s=at();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function TI(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x2.bind(null,e),e.Pu.H_=b2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function $2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,e),e}class Nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jV(this.persistence,new FV,e.initialUser,this.serializer)}Cu(e){return new iI(yg.mi,this.serializer)}Du(e){return new GV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nf.provider={build:()=>new Nf};class j2 extends Nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof Of,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new iI((r=>Of.mi(r,n)),this.serializer)}}class Zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F2.bind(null,this.syncEngine),await g2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _2})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(function(i){return new ZV(i)})(e.databaseInfo);return(function(i,o,a,l){return new r2(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new i2(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Gv(this.syncEngine,n,0)),(function(){return Bv.v()?new Bv:new QV})())}createSyncEngine(e,n){return(function(s,i,o,a,l,f,d){const p=new C2(s,i,o,a,l,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);xe($o,"RemoteStore shutting down."),r.Ea.add(5),await Hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zp.provider={build:()=>new Zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class q2{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{xe(qi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(xe(qi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ag(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Td(t,e){t.asyncQueue.verifyOperationInProgress(),xe(qi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await oI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H2(t);xe(qi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Hv(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Hv(e.remoteStore,s))),t._onlineComponents=e}async function H2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(qi,"Using user provided OfflineComponentProvider");try{await Td(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Td(t,new Nf)}}else xe(qi,"Using default OfflineComponentProvider"),await Td(t,new j2(void 0));return t._offlineComponents}async function II(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(qi,"Using user provided OnlineComponentProvider"),await Yv(t,t._uninitializedComponentsProvider._online)):(xe(qi,"Using default OnlineComponentProvider"),await Yv(t,new Zp))),t._onlineComponents}function K2(t){return II(t).then((e=>e.syncEngine))}async function z2(t){const e=await II(t),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=O2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D2.bind(null,e.syncEngine),n}function W2(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,f){const d=new B2({next:g=>{d.Nu(),o.enqueueAndForget((()=>w2(i,p))),g.fromCache&&l.source==="server"?f.reject(new De(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new T2(a,d,{includeMetadataChanges:!0,qa:!0});return v2(i,p)})(await z2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firestore.googleapis.com",Xv=!0;class Zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SI,this.ssl=Xv}else this.host=e.host,this.ssl=e.ssl??Xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bV)throw new De(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QM;switch(r.type){case"firstParty":return new ZM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Jv.get(n);r&&(xe("ComponentProvider","Removing Datastore"),Jv.delete(n),r.terminate())})(this),Promise.resolve()}}function G2(t,e,n,r={}){t=si(t,vh);const s=sc(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(TT(`https://${a}`),IT("Firestore",!0)),i.host!==SI&&i.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Vi(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Rn.MOCK_USER;else{f=vD(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new De(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rn(p)}t._authCredentials=new YM(new m0(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($u(n,nn._jsonSchema))return new nn(e,r||null,new Be(Pt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class Mi extends fc{constructor(e,n,r){super(e,n,x0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Be(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function Q2(t,e,...n){if(t=jt(t),g0("collection","path",e),t instanceof vh){const r=Pt.fromString(e,...n);return hv(r),new Mi(t,null,r)}{if(!(t instanceof nn||t instanceof Mi))throw new De(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return hv(r),new Mi(t.firestore,null,r)}}function CI(t,e,...n){if(t=jt(t),arguments.length===1&&(e=ig.newId()),g0("doc","path",e),t instanceof vh){const r=Pt.fromString(e,...n);return fv(r),new nn(t,null,new Be(r))}{if(!(t instanceof nn||t instanceof Mi))throw new De(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return fv(r),new nn(t.firestore,t instanceof Mi?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="AsyncQueue";class tw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cI(this,"async_queue_retry"),this._c=()=>{const r=Ed();r&&xe(ew,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ed();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ed();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;xe(ew,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",nw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ig.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ke(47125,{Pc:nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hc extends vh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,await e}}}function Y2(t,e){const n=typeof t=="object"?t:Lu(),r=typeof t=="string"?t:If,s=zi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yD("firestore");i&&G2(s,...i)}return s}function RI(t){if(t._terminated)throw new De(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J2(t),t._firestoreClient}function J2(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new gL(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AI(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(En.fromBase64String(e))}catch(n){throw new De(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:tn("string",wr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if($u(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:tn("string",hs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new De(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:tn("string",ds._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^__.*__$/;class Z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class PI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class kg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kI(this.Ac)&&X2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Cc(e,n,r,s=!1){return new kg({Ac:e,methodName:n,Dc:r,path:bn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new eF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Og("Data must be an object, but it was:",o,r);const a=DI(r,o);let l,f;if(i.merge)l=new or(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const g=em(e,p,n);if(!o.contains(g))throw new De(ue.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);xI(d,g)||d.push(g)}l=new or(d),f=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,f=o.fieldTransforms;return new Z2(new Qn(a),l,f)}class Eh extends Pg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function tF(t,e,n,r){const s=t.Cc(1,e,n);Og("Data must be an object, but it was:",s,r);const i=[],o=Qn.empty();Wi(r,((l,f)=>{const d=Dg(e,l,n);f=jt(f);const p=s.yc(d);if(f instanceof Eh)i.push(d);else{const g=zu(f,p);g!=null&&(i.push(d),o.set(d,g))}}));const a=new or(i);return new PI(o,a,s.fieldTransforms)}function nF(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[em(e,r,n)],l=[s];if(i.length%2!=0)throw new De(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(em(e,i[g])),l.push(i[g+1]);const f=[],d=Qn.empty();for(let g=a.length-1;g>=0;--g)if(!xI(f,a[g])){const v=a[g];let E=l[g];E=jt(E);const S=o.yc(v);if(E instanceof Eh)f.push(v);else{const L=zu(E,S);L!=null&&(f.push(v),d.set(v,L))}}const p=new or(f);return new PI(d,p,o.fieldTransforms)}function rF(t,e,n,r=!1){return zu(n,t.Cc(r?4:3,e))}function zu(t,e){if(NI(t=jt(t)))return Og("Unsupported field value:",e,t),DI(t,e);if(t instanceof Pg)return(function(r,s){if(!kI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=zu(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:kf(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(s.serializer,i)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:J0(s.serializer,r._byteString)};if(r instanceof nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ds)return(function(o,a){return{mapValue:{fields:{[A0]:{stringValue:S0},[Af]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw a.Sc("VectorValues must only contain numeric values.");return fg(a.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${ah(r)}`)})(t,e)}function DI(t,e){const n={};return v0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,((r,s)=>{const i=zu(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function NI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof hs||t instanceof wr||t instanceof nn||t instanceof Pg||t instanceof ds)}function Og(t,e,n){if(!NI(n)||!y0(n)){const r=ah(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function em(t,e,n){if((e=jt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return Dg(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const sF=new RegExp("[~\\*/\\[\\]]");function Dg(t,e,n){if(e.search(sF)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new De(ue.INVALID_ARGUMENT,a+t+l)}function xI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iF extends MI{data(){return super.data()}}function Ng(t,e){return typeof e=="string"?Dg(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class aF extends xg{}function Mj(t,e,...n){let r=[];e instanceof xg&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Mg)).length,a=i.filter((l=>l instanceof Th)).length;if(o>1||o>0&&a>0)throw new De(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Th extends aF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return LI(e._query,n),new fc(e.firestore,e.converter,qp(e._query,n))}_parse(e){const n=bh(e.firestore);return(function(i,o,a,l,f,d,p){let g;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new De(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sw(p,d);const E=[];for(const S of p)E.push(rw(l,i,S));g={arrayValue:{values:E}}}else g=rw(l,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sw(p,d),g=rF(a,o,p,d==="in"||d==="not-in");return en.create(f,d,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lj(t,e,n){const r=e,s=Ng("where",t);return Th._create(s,r,n)}class Mg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)LI(o,l),o=qp(o,l)})(e._query,n),new fc(e.firestore,e.converter,qp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rw(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new De(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M0(e)&&n.indexOf("/")!==-1)throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Be.isDocumentKey(r))throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wv(t,new Be(r))}if(n instanceof nn)return wv(t,n._key);throw new De(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function sw(t,e){if(!Array.isArray(t)||t.length===0)throw new De(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LI(t,e){const n=(function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cF{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[Af].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new ds(n)}convertGeoPoint(e){return new hs(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);Et(rI(r),9688,{name:e});const s=new bu(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||ri(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends MI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:tn("string",La._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Ul extends La{data(e={}){return super.data(e)}}class Va{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ul(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Ul(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Ul(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:uF(a.type),doc:l,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:tn("string",Va._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class lF extends cF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Vj(t){t=si(t,fc);const e=si(t.firestore,hc),n=RI(e),r=new lF(e);return oF(t._query),W2(n,t._query).then((s=>new Va(e,r,t,s)))}function fF(t,e,n){t=si(t,nn);const r=si(t.firestore,hc),s=VI(t.converter,e,n);return Ih(r,[OI(bh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Fj(t,e,n,...r){t=si(t,nn);const s=si(t.firestore,hc),i=bh(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof wh?nF(i,"updateDoc",t._key,e,n,r):tF(i,"updateDoc",t._key,e),Ih(s,[o.toMutation(t._key,Ir.exists(!0))])}function Uj(t){return Ih(si(t.firestore,hc),[new hg(t._key,Ir.none())])}function $j(t,e){const n=si(t.firestore,hc),r=CI(t),s=VI(t.converter,e);return Ih(n,[OI(bh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Ih(t,e){return(function(r,s){const i=new xi;return r.asyncQueue.enqueueAndForget((async()=>N2(await K2(r),s,i))),i.promise})(RI(t),e)}(function(e,n=!0){(function(s){ac=s})(ic),Sr(new ur("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new hc(new JM(r.getProvider("auth-internal")),new eL(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(f.options.projectId,d)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Jn(av,cv,e),Jn(av,cv,"esm2020")})();const FI="@firebase/installations",Lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e4,$I=`w:${Lg}`,jI="FIS_v2",hF="https://firebaseinstallations.googleapis.com/v1",dF=3600*1e3,pF="installations",mF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jo=new Ki(pF,mF,gF);function BI(t){return t instanceof Wr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI({projectId:t}){return`${hF}/projects/${t}/installations`}function HI(t){return{token:t.token,requestStatus:2,expiresIn:_F(t.expiresIn),creationTime:Date.now()}}async function KI(t,e){const r=(await e.json()).error;return jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yF(t,{refreshToken:e}){const n=zI(t);return n.append("Authorization",vF(e)),n}async function WI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _F(t){return Number(t.replace("s","000"))}function vF(t){return`${jI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qI(t),s=zI(t),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={fid:n,authVersion:jI,appId:t.appId,sdkVersion:$I},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WI(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:HI(f.authToken)}}else throw await KI("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^[cdef][\w-]{21}$/,tm="";function TF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IF(t);return EF.test(n)?n:tm}catch{return tm}}function IF(t){return bF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Map;function YI(t,e){const n=Ah(t);JI(n,e),AF(n,e)}function JI(t,e){const n=QI.get(t);if(n)for(const r of n)r(e)}function AF(t,e){const n=SF();n&&n.postMessage({key:t,fid:e}),CF()}let ko=null;function SF(){return!ko&&"BroadcastChannel"in self&&(ko=new BroadcastChannel("[Firebase] FID Change"),ko.onmessage=t=>{JI(t.data.key,t.data.fid)}),ko}function CF(){QI.size===0&&ko&&(ko.close(),ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-installations-database",PF=1,Bo="firebase-installations-store";let Id=null;function Vg(){return Id||(Id=rh(RF,PF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bo)}}})),Id}async function Mf(t,e){const n=Ah(t),s=(await Vg()).transaction(Bo,"readwrite"),i=s.objectStore(Bo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&YI(t,e.fid),e}async function XI(t){const e=Ah(t),r=(await Vg()).transaction(Bo,"readwrite");await r.objectStore(Bo).delete(e),await r.done}async function Sh(t,e){const n=Ah(t),s=(await Vg()).transaction(Bo,"readwrite"),i=s.objectStore(Bo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&YI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t){let e;const n=await Sh(t.appConfig,r=>{const s=kF(r),i=OF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===tm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kF(t){const e=t||{fid:TF(),registrationStatus:0};return ZI(e)}function OF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NF(t)}:{installationEntry:e}}async function DF(t,e){try{const n=await wF(t,e);return Mf(t.appConfig,n)}catch(n){throw BI(n)&&n.customData.serverCode===409?await XI(t.appConfig):await Mf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NF(t){let e=await iw(t.appConfig);for(;e.registrationStatus===1;)await GI(100),e=await iw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fg(t);return r||n}return e}function iw(t){return Sh(t,e=>{if(!e)throw jo.create("installation-not-found");return ZI(e)})}function ZI(t){return xF(t)?{fid:t.fid,registrationStatus:0}:t}function xF(t){return t.registrationStatus===1&&t.registrationTime+UI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF({appConfig:t,heartbeatServiceProvider:e},n){const r=LF(t,n),s=yF(t,n),i=e.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const o={installation:{sdkVersion:$I,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await WI(()=>fetch(r,a));if(l.ok){const f=await l.json();return HI(f)}else throw await KI("Generate Auth Token",l)}function LF(t,{fid:e}){return`${qI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e=!1){let n;const r=await Sh(t.appConfig,i=>{if(!eA(i))throw jo.create("not-registered");const o=i.authToken;if(!e&&UF(o))return i;if(o.requestStatus===1)return n=VF(t,e),i;{if(!navigator.onLine)throw jo.create("app-offline");const a=jF(i);return n=FF(t,a),a}});return n?await n:r.authToken}async function VF(t,e){let n=await ow(t.appConfig);for(;n.authToken.requestStatus===1;)await GI(100),n=await ow(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ug(t,e):r}function ow(t){return Sh(t,e=>{if(!eA(e))throw jo.create("not-registered");const n=e.authToken;return BF(n)?{...e,authToken:{requestStatus:0}}:e})}async function FF(t,e){try{const n=await MF(t,e),r={...e,authToken:n};return await Mf(t.appConfig,r),n}catch(n){if(BI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mf(t.appConfig,r)}throw n}}function eA(t){return t!==void 0&&t.registrationStatus===2}function UF(t){return t.requestStatus===2&&!$F(t)}function $F(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dF}function jF(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function BF(t){return t.requestStatus===1&&t.requestTime+UI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fg(e);return r?r.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e=!1){const n=t;return await KF(n),(await Ug(n,e)).token}async function KF(t){const{registrationPromise:e}=await Fg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(!t||!t.options)throw Ad("App Configuration");if(!t.name)throw Ad("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ad(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ad(t){return jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="installations",WF="installations-internal",GF=t=>{const e=t.getProvider("app").getImmediate(),n=zF(e),r=zi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QF=t=>{const e=t.getProvider("app").getImmediate(),n=zi(e,tA).getImmediate();return{getId:()=>qF(n),getToken:s=>HF(n,s)}};function YF(){Sr(new ur(tA,GF,"PUBLIC")),Sr(new ur(WF,QF,"PRIVATE"))}YF();Jn(FI,Lg);Jn(FI,Lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="/firebase-messaging-sw.js",XF="/firebase-cloud-messaging-push-scope",nA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ZF="https://fcmregistrations.googleapis.com/v1",rA="google.c.a.c_id",e4="google.c.a.c_l",t4="google.c.a.ts",n4="google.c.a.e",aw=1e4;var cw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(cw||(cw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Au;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Au||(Au={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function r4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="fcm_token_details_db",s4=5,uw="fcm_token_object_Store";async function i4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Sd))return null;let e=null;return(await rh(Sd,s4,{upgrade:async(r,s,i,o)=>{if(s<2||!r.objectStoreNames.contains(uw))return;const a=o.objectStore(uw),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(s===2){const f=l;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Us(f.vapidKey)}}}else if(s===3){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Us(f.auth),p256dh:Us(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Us(f.vapidKey)}}}else if(s===4){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Us(f.auth),p256dh:Us(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Us(f.vapidKey)}}}}}})).close(),await pd(Sd),await pd("fcm_vapid_details_db"),await pd("undefined"),o4(e)?e:null}function o4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-messaging-database",c4=1,Su="firebase-messaging-store";let Cd=null;function sA(){return Cd||(Cd=rh(a4,c4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Su)}}})),Cd}async function u4(t){const e=iA(t),r=await(await sA()).transaction(Su).objectStore(Su).get(e);if(r)return r;{const s=await i4(t.appConfig.senderId);if(s)return await $g(t,s),s}}async function $g(t,e){const n=iA(t),s=(await sA()).transaction(Su,"readwrite");return await s.objectStore(Su).put(e,n),await s.done,e}function iA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dn=new Ki("messaging","Messaging",l4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){const n=await Bg(t),r=oA(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(jg(t.appConfig),s)).json()}catch(o){throw Dn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-subscribe-no-token");return i.token}async function h4(t,e){const n=await Bg(t),r=oA(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${jg(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Dn.create("token-update-failed",{errorInfo:o?.toString()})}if(i.error){const o=i.error.message;throw Dn.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Dn.create("token-update-no-token");return i.token}async function d4(t,e){const r={method:"DELETE",headers:await Bg(t)};try{const i=await(await fetch(`${jg(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw Dn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Dn.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function jg({projectId:t}){return`${ZF}/projects/${t}/registrations`}async function Bg({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function oA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==nA&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=10080*60*1e3;async function m4(t){const e=await y4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Us(e.getKey("auth")),p256dh:Us(e.getKey("p256dh"))},r=await u4(t.firebaseDependencies);if(r){if(_4(r.subscriptionOptions,n))return Date.now()>=r.createTime+p4?g4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await d4(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return lw(t.firebaseDependencies,n)}else return lw(t.firebaseDependencies,n)}async function g4(t,e){try{const n=await h4(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await $g(t.firebaseDependencies,r),n}catch(n){throw n}}async function lw(t,e){const r={token:await f4(t,e),createTime:Date.now(),subscriptionOptions:e};return await $g(t,r),r.token}async function y4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r4(e)})}function _4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return v4(e,t),w4(e,t),b4(e,t),e}function v4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function w4(t,e){e.data&&(t.data=e.data)}function b4(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){return typeof t=="object"&&!!t&&rA in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(!t||!t.options)throw Rd("App Configuration Object");if(!t.name)throw Rd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Rd(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Rd(t){return Dn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=T4(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t){try{t.swRegistration=await navigator.serviceWorker.register(JF,{scope:XF}),t.swRegistration.update().catch(()=>{}),await S4(t.swRegistration)}catch(e){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function S4(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${aw} ms`)),aw),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{i.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){if(!e&&!t.swRegistration&&await A4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e){if(!navigator)throw Dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Dn.create("permission-blocked");return await R4(t,e?.vapidKey),await C4(t,e?.serviceWorkerRegistration),m4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e,n){const r=k4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rA],message_name:n[e4],message_time:n[t4],message_device_time:Math.floor(Date.now()/1e3)})}function k4(t){switch(t){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Au.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(fw(n)):t.onMessageHandler.next(fw(n)));const r=n.data;E4(r)&&r[n4]==="1"&&await P4(t,n.messageType,r)}const hw="@firebase/messaging",dw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=t=>{const e=new I4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>O4(e,n)),e},N4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>aA(e,r)}};function x4(){Sr(new ur("messaging",D4,"PUBLIC")),Sr(new ur("messaging-internal",N4,"PRIVATE")),Jn(hw,dw),Jn(hw,dw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(){try{await zm()}catch{return!1}return typeof window<"u"&&Km()&&ST()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e){if(!navigator)throw Dn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t=Lu()){return M4().then(e=>{if(!e)throw Dn.create("unsupported-browser")},e=>{throw Dn.create("indexed-db-unsupported")}),zi(jt(t),"messaging").getImmediate()}async function F4(t,e){return t=jt(t),aA(t,e)}function U4(t,e){return t=jt(t),L4(t,e)}x4();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="analytics",$4="firebase_id",j4="origin",B4=60*1e3,q4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new nh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ar=new Ki("analytics","Analytics",H4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){if(!t.startsWith(qg)){const e=ar.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function cA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function z4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function W4(t,e){const n=z4("firebase-js-sdk-policy",{createScriptURL:K4}),r=document.createElement("script"),s=`${qg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function G4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Q4(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await cA(n)).find(f=>f.measurementId===s);l&&await e[l.appId]}}catch(a){Xn.error(a)}t("config",s,i)}async function Y4(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await cA(n);for(const l of o){const f=a.find(p=>p.measurementId===l),d=f&&e[f.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Xn.error(i)}}function J4(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Y4(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Q4(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,f]=o;t("get",a,l,f)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Xn.error(a)}}return s}function X4(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=J4(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Z4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=30,tU=1e3;class nU{constructor(e={},n=tU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uA=new nU;function rU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function sU(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:rU(n)},s=q4.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let o="";try{const a=await i.json();a.error?.message&&(o=a.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function iU(t,e=uA,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw ar.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ar.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cU;return setTimeout(async()=>{a.abort()},B4),lA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function lA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=uA){const{appId:i,measurementId:o}=t;try{await oU(r,e)}catch(a){if(o)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:i,measurementId:o};throw a}try{const a=await sU(t);return s.deleteThrottleMetadata(i),a}catch(a){const l=a;if(!aU(l)){if(s.deleteThrottleMetadata(i),o)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:i,measurementId:o};throw a}const f=Number(l?.customData?.httpStatus)===503?x_(n,s.intervalMillis,eU):x_(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,d),Xn.debug(`Calling attemptFetch again in ${f} millis`),lA(t,d,r,s)}}function oU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aU(t){if(!(t instanceof Wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(){if(Km())try{await zm()}catch(t){return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Xn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fU(t,e,n,r,s,i,o){const a=iU(t);a.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Xn.error(g)),e.push(a);const l=lU().then(g=>{if(g)return r.getId()}),[f,d]=await Promise.all([a,l]);Z4(i)||W4(i,f.measurementId),s("js",new Date);const p=o?.config??{};return p[j4]="firebase",p.update=!0,d!=null&&(p[$4]=d),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},pw=[];const mw={};let Pd="dataLayer",dU="gtag",gw,fA,yw=!1;function pU(){const t=[];if(AT()&&t.push("This is a browser extension environment."),ST()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ar.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function mU(t,e,n){pU();const r=t.options.appId;if(!r)throw ar.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ar.create("no-api-key");if(tu[r]!=null)throw ar.create("already-exists",{id:r});if(!yw){G4(Pd);const{wrappedGtag:i,gtagCore:o}=X4(tu,pw,mw,Pd,dU);fA=i,gw=o,yw=!0}return tu[r]=fU(t,pw,mw,e,gw,Pd,n),new hU(t)}function gU(t=Lu()){t=jt(t);const e=zi(t,Lf);return e.isInitialized()?e.getImmediate():yU(t)}function yU(t,e={}){const n=zi(t,Lf);if(n.isInitialized()){const s=n.getImmediate();if(Vi(e,n.getOptions()))return s;throw ar.create("already-initialized")}return n.initialize({options:e})}function _U(t,e,n,r){t=jt(t),uU(fA,tu[t.app.options.appId],e,n,r).catch(s=>Xn.error(s))}const _w="@firebase/analytics",vw="0.10.18";function vU(){Sr(new ur(Lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return mU(r,s,n)},"PUBLIC")),Sr(new ur("analytics-internal",t,"PRIVATE")),Jn(_w,vw),Jn(_w,vw,"esm2020");function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,s,i)=>_U(n,r,s,i)}}catch(n){throw ar.create("interop-component-reg-failed",{reason:n})}}}vU();const hA=xu("settingsApp",{state:()=>({theme:"light",language:"pt-BR",user:null,location:{city:null,state:null,lat:null,log:null,confirmed:!1},notifications:{status:"loading",fcmToken:null},install:{canInstall:!1,deferredPrompt:null}}),getters:{pendingConfigsCount(t){let e=0;return t.notifications.status!=="granted"&&e++,t.install.canInstall&&e++,t.user===null&&e++,e}},actions:{async init(){"Notification"in window&&navigator.permissions&&navigator.permissions.query&&(this.notifications.status=Notification.permission,navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{console.log("[settings.js] Permisso de notificao alterada:",t.state),this.notifications.status=t.state}})),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.install.deferredPrompt=t,this.install.canInstall=!0})},userChanged(t){this.user=t},sendMessage(t){console.log("[Settings Messaging] Mensagem recebida:",t),t.notification&&"Notification"in window&&Notification.permission==="granted"&&new Notification(t.notification.title,{body:t.notification.body,icon:t.notification.icon||"/favicon.ico"})}},persist:{key:"settings-app",storage:localStorage,paths:["location","language","theme","user"]}}),wU=pn(async()=>{let t,e;const n={apiKey:"AIzaSyDjh-kSamZSSOA1pEwMuCB1HZxiZBgCaVE",authDomain:"agenda-408113.firebaseapp.com",projectId:"agenda-408113",storageBucket:"agenda-408113.appspot.com",messagingSenderId:"865568496873",appId:"1:865568496873:web:66e24b202af5ba7f1b6478",measurementId:"G-KDP8RZ0Z19"},r="BJt_lJHggy9DmtbU64-umpjs4jgfSZgBG21yBlXHM_rh-71-SAT27MuiWFwuNTivWIwQAHzo-CTYL3xBaCi01Rc",s=Np(n),i=hA(),o=WM(s),a=Ft(null);let l=null;try{[t,e]=Tr(()=>xx(o,XT)),await t,e(),console.log("Persistncia de sesso configurada para browserLocalPersistence.")}catch(E){console.error("Erro ao configurar a persistncia de sesso:",E)}const f=Y2(s),d=Q2(f,"events"),p=async E=>{try{const S=CI(f,"users",E.uid);await fF(S,E,{merge:!0}),console.log("Perfil do usurio atualizado com sucesso no Firestore.")}catch(S){console.error("Erro ao atualizar perfil do usurio no Firestore:",S)}};Vx(o,async E=>{if(E){a.value=E;const S={uid:E.uid,displayName:E.displayName,email:E.email,photoURL:E.photoURL,lastLogin:bt.now(),emailVerified:E.emailVerified||!1,createdAt:E.metadata?.creationTime?bt.fromDate(new Date(E.metadata.creationTime)):bt.now(),lastLoginAt:E.metadata?.lastSignInTime?bt.fromDate(new Date(E.metadata.lastSignInTime)):bt.now(),phoneNumber:E.phoneNumber||null,...i.location};i.userChanged(S),p(S)}});const g=async()=>{try{return await nM(o,new qs),window.location.reload(),!0}catch(E){console.error("Erro ao fazer login com Google:",E)}},v=async()=>{try{return await o.signOut(),console.warn("Usurio desconectado:",i.user.uid),i.user.uid=null,i.userChanged(a.value),!0}catch(E){console.error("Erro durante o logout:",E)}};if("Notification"in window&&"serviceWorker"in navigator&&Notification.permission==="granted")try{const E=([t,e]=Tr(()=>navigator.serviceWorker.getRegistration()),t=await t,e(),t);if(!E){console.warn("[Firebase Messaging] Nenhum Service Worker registrado.");return}const S=LN().length?Lu():Np(n);l=V4(S),gU(S),i.notifications.fcmToken=([t,e]=Tr(()=>F4(l,{vapidKey:r,serviceWorkerRegistration:E})),t=await t,e(),t),U4(l,i.sendMessage)}catch(E){console.error("[Firebase Messaging] Erro ao inicializar:",E)}else console.log("[Firebase Messaging] Ambiente ou permisso inadequada!");return{provide:{session:{firebaseAuth:o,firebaseDb:f,eventsCollection:d,currentUser:a,loginWithGoogle:g,logoutWithGoogle:v},notifications:{fcmToken:i.notifications.fcmToken,messaging:l}}}});function ww(t,e="operao"){if(t?.error){console.error(`Erro ao ${e}:`,t.error);const n=t.error.code;throw n===401?(console.error("Token invlido ou expirado."),new Error("Token invlido ou expirado.")):n===403?(console.error("Acesso negado ao calendrio."),new Error("Acesso negado ao calendrio.")):n===404?(console.error("Calendrio no encontrado."),new Error("Calendrio no encontrado.")):n===500?(console.error("Erro interno do servidor."),new Error("Erro interno do servidor.")):new Error(t.error.message)}}function bU(){const t=new Date,e=new Date;return e.setDate(t.getDate()+70),{today:t.toISOString().split("T")[0],future:e.toISOString().split("T")[0]}}function bw(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())}function EU(t){return t.startsWith("start")||t.startsWith("end")||t.startsWith("calendarIDs")}function da(t){return(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function TU(t,e){let n=Array.isArray(t)?t:[];const{search:r,title:s,locale:i,date:o}=e;if(r){const a=da(r),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""} ${f.location||""} ${f.description||""}`,p=da(d);return l.test(p)||a.split(" ").every(g=>new RegExp(`\\b${g}`,"i").test(p))})}if(s){const a=da(s),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""}`,p=da(d);return l.test(p)||a.split(" ").every(g=>new RegExp(`\\b${g}`,"i").test(p))})}if(i){const a=da(i),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.location||""}`,p=da(d);return l.test(p)||a.split(" ").every(g=>new RegExp(`\\b${g}`,"i").test(p))})}return o&&(n=n.filter(a=>{const l=a.start?.date||(a.start?.dateTime?a.start.dateTime.split("T")[0]:void 0);return o.startsWith(l)})),n??[]}function IU(t){try{const e=["br","p","b","strong","i","em"];let n=t.replace(/[\n\r]/g,"<br />");return n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(r,s)=>e.includes(s.toLowerCase())?r:""),n=n.replace(/<([a-z][a-z0-9]*)\b[^>]*>/gi,"<$1>"),n=n.replace(/&nbsp;/g," "),n=n.replace(/\u00A0/g," "),n}catch{return""}}function jj(t){try{return[[/(ES)\b/g,"O"],[/(ES)\b/g,"O"],[/(AIS)\b/g,"AL"],[/(EIS)\b/g,"EL"],[/(IS)\b/g,"IL"],[/(US)\b/g,"U"],[/(OS)\b/g,"O"],[/(AS)\b/g,"A"],[/(ES)\b/g,"E"],[/(S)\b/g,""]].reduce((n,[r,s])=>n.replace(r,s),t)}catch{return""}}const{today:AU,future:SU}=bU(),CU=xu("agenda",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],events:[],filters:{calendarIDs:[],title:"",locale:"",search:"",date:"",start:AU,end:SU}}),persist:{paths:["calendars","titles","locales","desc","events","filters"]},getters:{eventsLocales(t){const e=new Set;return t.events.forEach(n=>{n.location&&typeof n.location=="string"&&n.location.trim()&&e.add(n.location.trim())}),Array.from(e).sort((n,r)=>n.localeCompare(r,"pt-BR"))},eventsFiltered(t){return TU(t.events,t.filters)}},actions:{setLoading(t){this.loading=t},async awaitGapi(){for(let t=0;t<30;t++){if(window&&window?.gapi?.client?.calendar)return;await new Promise(e=>setTimeout(e,200))}throw new Error("Google Calendar API no carregou aps 30 tentativas.")},async fetchGoogleCalendars(){this.setLoading(!0);try{await this.awaitGapi();const{result:t}=await window.gapi.client.calendar.calendarList.list();return ww(t,"buscar calendrios"),this.calendars=(t.items||[]).map(e=>{let n=e.description||"";return n=n.replace(/<(?!\/?(b|br|p|u|i|em)\b)[^>]*>/gi,"").replace(/<(b|br|p|u|i|em)\s+[^>]*>/gi,"<$1>"),{...e,description:IU(n)}}),this.calendars}finally{this.setLoading(!1)}},async fetchGoogleEvents(t=null,e={}){this.setLoading(!0);try{if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const n=[];let r;const s=t||this.filters.calendarIDs;for(const i of s)do{const o={calendarId:i,timeMin:e.timeMin||this.filters.start+"T00:00:00Z",timeMax:e.timeMax||this.filters.end+"T23:59:59Z",showDeleted:!1,singleEvents:!0,maxResults:e.maxResults||1e4,orderBy:"startTime",...r&&{pageToken:r}},{result:a}=await window.gapi.client.calendar.events.list(o);ww(a,"buscar eventos"),a?.items?.length&&n.push(...a.items.map(l=>({calendarId:i,...l}))),r=a.nextPageToken}while(r);return JSON.stringify(this.events)!==JSON.stringify(n)&&(this.events=n),n}finally{this.setLoading(!1)}},async createGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:n}=await window.gapi.client.calendar.events.insert({calendarId:t,resource:e});return n&&!this.events.some(r=>r.id===n.id)&&this.events.unshift({calendarId:t,...n}),n},async updateGoogleEvent(t,e,n){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:r}=await window.gapi.client.calendar.events.update({calendarId:t,eventId:e,resource:n});if(r){const s=this.events.findIndex(i=>i.id===e);s!==-1&&JSON.stringify(this.events[s])!==JSON.stringify(r)&&(this.events[s]={calendarId:t,...r})}return r},async deleteGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");await window.gapi.client.calendar.events.delete({calendarId:t,eventId:e});const n=this.events.findIndex(r=>r.id===e);n!==-1&&this.events.splice(n,1)},async handleFilterChange(t){this.setLoading(!0);try{const{start:e,end:n}=t.filters;if(!bw(e)||!bw(n))throw t.events=[],new Error("Datas invlidas. Use o formato yyyy-mm-dd.");if(e>n)throw t.events=[],new Error("A data inicial deve ser menor ou igual  data final.");await this.fetchGoogleCalendars(),await this.fetchGoogleEvents()}finally{this.setLoading(!1)}},init(){this.$subscribe(async(t,e)=>{console.log("Mutation na agenda:",t);try{t.storeId==="agenda"&&t?.events?.key&&EU(t.events.key)&&await this.handleFilterChange(e)}catch(n){console.log("Erro ao iniciar o monitor de mudanas na agenda:",n)}},{detached:!0})}}}),RU=globalThis.setInterval;async function PU(t){const e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():null}const kU=xu("auth",{state:()=>({user:{name:"",email:"",picture:"",token:"",expires_in:0,expires_at:Date.now(),rawUserInfo:{},expires_countdown:0}}),actions:{client:null,tokenClient:null,configs:{},setUserFromToken(t){this.$patch(e=>{e.user.name=t.name||"",e.user.email=t.email||"",e.user.picture=t.picture||"",e.user.token=t.access_token||"",e.user.expires_in=t.expires_in||0,e.user.expires_at=Date.now()+(t.expires_in?t.expires_in*1e3:0),e.user.rawUserInfo=t.rawUserInfo||{}}),this.startCountdown()},clearToken(){this.user.token&&(this.user.token="")},clearUser(){this.$patch(t=>{t.user.token="",t.user.expires_in=0,t.user.expires_at=Date.now(),t.user.rawUserInfo={},t.user.expires_countdown=0}),this.stopCountdown()},startCountdown(){this.user&&this.user.token&&this.user.expires_at>Date.now()?(this.stopCountdown(),this.updateCountdown(),this.countdownInterval=RU(this.updateCountdown,1e3)):(this.clearToken(),this.user.expires_countdown=0)},stopCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null},updateCountdown(){const t=Math.max(0,Math.floor((this.user.expires_at-Date.now())/1e3));this.user.expires_countdown=t,t===0&&(this.clearToken(),this.stopCountdown())},async init({clientId:t,apiKey:e,discoveryDocs:n,scopes:r}){this.configs={clientId:t,apiKey:e,discoveryDocs:n,scopes:r};let s=0;for(;(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)&&s<50;)await new Promise(i=>setTimeout(i,100)),s++;if(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)throw new Error("Google API no carregada. Verifique se o script do Google API foi includo.");await new Promise(i=>window.gapi.load("client",i)),await window.gapi.client.init({apiKey:this.configs.apiKey,discoveryDocs:this.configs.discoveryDocs}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.configs.clientId,scope:this.configs.scopes,callback:""}),this.user.token&&this.user.expires_at&&this.user.expires_at>Date.now()&&window.gapi.client.setToken({access_token:this.user.token}),this.startCountdown()},async signIn({callback:t,errorCallback:e}={}){if(!this.tokenClient)throw new Error("Google Auth no inicializado. Chame initGoogleAuth antes.");this.tokenClient.callback=async n=>{if(n.error){e&&e(n);return}const r=await PU(n.access_token);this.setUserFromToken({...n,name:r?.name,email:r?.email,picture:r?.picture,expires_in:n.expires_in,rawUserInfo:r}),t&&t(this.user)},this.tokenClient.requestAccessToken({prompt:"consent"})},signOut(){const t=window.gapi?.client?.getToken?.();t&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken("")),this.clearUser()}},persist:{paths:["user"]}});var kd,Ew;function dA(){if(Ew)return kd;Ew=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return kd=t,kd}var Od,Tw;function OU(){if(Tw)return Od;Tw=1;var t=typeof Lc=="object"&&Lc&&Lc.Object===Object&&Lc;return Od=t,Od}var Dd,Iw;function pA(){if(Iw)return Dd;Iw=1;var t=OU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Dd=n,Dd}var Nd,Aw;function DU(){if(Aw)return Nd;Aw=1;var t=pA(),e=function(){return t.Date.now()};return Nd=e,Nd}var xd,Sw;function NU(){if(Sw)return xd;Sw=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return xd=e,xd}var Md,Cw;function xU(){if(Cw)return Md;Cw=1;var t=NU(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Md=n,Md}var Ld,Rw;function mA(){if(Rw)return Ld;Rw=1;var t=pA(),e=t.Symbol;return Ld=e,Ld}var Vd,Pw;function MU(){if(Pw)return Vd;Pw=1;var t=mA(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var a=n.call(o,s),l=o[s];try{o[s]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(a?o[s]=l:delete o[s]),d}return Vd=i,Vd}var Fd,kw;function LU(){if(kw)return Fd;kw=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Fd=n,Fd}var Ud,Ow;function VU(){if(Ow)return Ud;Ow=1;var t=mA(),e=MU(),n=LU(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?e(a):n(a)}return Ud=o,Ud}var $d,Dw;function FU(){if(Dw)return $d;Dw=1;function t(e){return e!=null&&typeof e=="object"}return $d=t,$d}var jd,Nw;function UU(){if(Nw)return jd;Nw=1;var t=VU(),e=FU(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return jd=r,jd}var Bd,xw;function $U(){if(xw)return Bd;xw=1;var t=xU(),e=dA(),n=UU(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=i.test(f);return p||o.test(f)?a(f.slice(2),p?2:8):s.test(f)?r:+f}return Bd=l,Bd}var qd,Mw;function jU(){if(Mw)return qd;Mw=1;var t=dA(),e=DU(),n=$U(),r="Expected a function",s=Math.max,i=Math.min;function o(a,l,f){var d,p,g,v,E,S,L=0,q=!1,V=!1,R=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(q=!!f.leading,V="maxWait"in f,g=V?s(n(f.maxWait)||0,l):g,R="trailing"in f?!!f.trailing:R);function N(C){var Pe=d,$e=p;return d=p=void 0,L=C,v=a.apply($e,Pe),v}function $(C){return L=C,E=setTimeout(I,l),q?N(C):v}function te(C){var Pe=C-S,$e=C-L,be=l-Pe;return V?i(be,g-$e):be}function O(C){var Pe=C-S,$e=C-L;return S===void 0||Pe>=l||Pe<0||V&&$e>=g}function I(){var C=e();if(O(C))return A(C);E=setTimeout(I,te(C))}function A(C){return E=void 0,R&&d?N(C):(d=p=void 0,v)}function k(){E!==void 0&&clearTimeout(E),L=0,d=S=p=E=void 0}function F(){return E===void 0?v:A(e())}function M(){var C=e(),Pe=O(C);if(d=arguments,p=this,S=C,Pe){if(E===void 0)return $(S);if(V)return clearTimeout(E),E=setTimeout(I,l),N(S)}return E===void 0&&(E=setTimeout(I,l)),v}return M.cancel=k,M.flush=F,M}return qd=o,qd}var BU=jU();const qU=gT(BU),Pi=(t="")=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),HU=(t,e)=>{if(!Array.isArray(t)||!e)return[];let n=t;const{search:r,title:s,locale:i,date:o,start:a,end:l,calendars:f=[]}=e;if(f.length){const d=new Set(f.map(Pi));n=n.filter(p=>d.has(p.normalizedList))}if(o){const d=o.slice(0,10);n=n.filter(p=>p.date instanceof Date&&p.date.toISOString().startsWith(d))}else{if(a){const d=new Date(a+"T00:00:00");n=n.filter(p=>p.date>=d)}if(l){const d=new Date(l+"T23:59:59");n=n.filter(p=>p.date<=d)}}if(r){const p=Pi(r).replace(/\bou\b/gi,",").split(/,|\s+/).map(g=>g.trim()).filter(Boolean).map(g=>new RegExp(`\\b${g}`,"i"));n=n.filter(g=>{const v=`${g.normalizedTitle||""} ${g.normalizedLocale||""} ${g.normalizedDesc||""}`;return p.every(E=>E.test(v))})}if(s){const d=new RegExp(Pi(s),"i");n=n.filter(p=>d.test(p.normalizedTitle))}if(i){const d=new RegExp(`^${Pi(i)}`,"i");n=n.filter(p=>d.test(p.normalizedLocale))}return n};qU((t,e,n)=>{const r=HU(t,e);n(r)},1e3);const Hd={date:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),time:new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:new Intl.DateTimeFormat("pt-BR",{weekday:"short"})};function KU(t){const e=t.date?new Date(t.date):null,n=t.title==="AVISOS  IRMANDADE";t.noDate=t.desc.includes("!nodate"),t.noDate&&(t.desc=t.desc.replace(/!nodate/gi,"").trim());const r=e&&!n&&!t.noDate,s=e&&e.getHours()>=3,{title:i,locale:o,desc:a,list:l}=t,f={...t,onDate:e};return r?(f.formatDate=Hd.date.format(e),f.formatWeek=Hd.weekday.format(e).replace(".","")):(f.formatDate="",f.formatWeek=""),r&&s?f.formatTime=Hd.time.format(e):f.formatTime="",f.normalizedTitle=Pi(i),f.normalizedLocale=Pi(o),f.normalizedDesc=Pi(a),f.normalizedList=Pi(l),f.desc=(a||"").replace(/<(?!\/?(b|br)\b)[^>]*>/gi,""),f.date=e,f.end=new Date(t.end),f}const zU=xu("lista",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],allEvents:[]}),persist:{paths:["calendars","titles","locales","desc","allEvents"]},actions:{setLoading(t){this.loading=t},async loadEventsFromFile(){this.setLoading(!0);try{if(!this.allEvents?.length)try{let t;if(t=await $fetch(`/data/data.json?v=${new Date().toISOString().replace(/\D/g,"")}`),t?.eventos){const e=(t.eventos.items||[]).map(KU);this.locales=t.eventos.locales||[],this.titles=t.eventos.titles||[],this.desc=t.eventos.desc||[],this.allEvents=e}}catch(t){console.error("Erro ao carregar eventos:",t)}}finally{this.setLoading(!1),console.log("Lista inicializada com sucesso!")}},async init(){console.warn("Inicializando lista..."),this.loadEventsFromFile()}}}),WU=xu("tags",{state:()=>({tags:[],defaultTags:[],suggestionsTags:[]}),persist:{paths:["tags","defaultTags","suggestionsTags"]},actions:{async loadTagsFromFile(){if(!this.tags.length)try{if(!navigator.onLine){const i=await(await caches.open("v1")).match("/data/tags.json");if(i){const o=await i.json();this.tags=o.tags||[],this.defaultTags=o.defaultTags||[],this.suggestionsTags=o.suggestionsTags||[]}return}const{data:t,status:e,error:n}=await __(`/data/tags.json?v=${new Date().toISOString().replace(/\D/g,"")}`,{key:"tags-data",server:!1},"$Y5ByR0upLZ");this.tags=t.value.tags||[],this.defaultTags=t.value.defaultTags||[],this.suggestionsTags=t.value.suggestionsTags||[];const{data:r}=await __("/data/tags-circulares.json",{key:"tags-circulares",server:!1},"$MflRSbdvcv");this.tags=this.tags.concat(r.value.tags||[]),e.value==="success"&&t.value?(await caches.open("v1")).put("/data/tags.json",new Response(JSON.stringify(t.value),{headers:{"Content-Type":"application/json"}})):console.error("Erro ao carregar tags: ",n)}catch(t){console.error("Falha ao carregar tags:",t)}},async init(){this.loadTagsFromFile()}}}),GU=()=>({agenda:CU(),lista:zU(),auth:kU(),tags:WU(),settings:hA()}),QU=pn({name:"init-app",setup(){},hooks:{"app:mounted":()=>{const{auth:t,agenda:e,settings:n}=GU();e.init(),n.init(),t.init({clientId:"865568496873-o4enb1hhvpmj2unq7v9n6dcg94h5itp6.apps.googleusercontent.com",apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scopes:"openid profile email https://www.googleapis.com/auth/calendar"})}}}),YU=pn(async()=>{let t,e;if("serviceWorker"in navigator){try{const n=([t,e]=Tr(()=>navigator.serviceWorker.register("/service-worker.js")),t=await t,e(),t);console.log("Service Worker registrado com sucesso: ",n.scope),n.addEventListener("updatefound",()=>{const r=n.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nova verso do Service Worker disponvel. ")})})}catch(n){console.error("Falha no registro do Service Worker: ",n)}navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("O Service Worker ativo mudou. "),window.location.reload()})}}),Wu={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Xa={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Hn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},JU={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},XU={dangerouslyHTMLString:!1,multiple:!0,position:Wu.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},ZU={rtl:!1,newestOnTop:!1,toastClassName:""},gA={...XU,...ZU};Hn.DEFAULT;var wt=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(wt||{}),nm=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(nm||{});const e$={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},t$={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},n$={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},r$={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Lw="Toastify--animate Toastify__none-enter";function yA(t,e=!1){var n;let r=e$;if(!t||typeof t=="string")switch(t){case"flip":r=r$;break;case"zoom":r=n$;break;case"slide":r=t$;break}else r=t;if(e)r.enter=Lw;else if(r.enter===Lw){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function s$(t){return t.containerId||String(t.position)}const Ch="will-unmount";function i$(t=Wu.TOP_RIGHT){return!!document.querySelector(`.${wt.CSS_NAMESPACE}__toast-container--${t}`)}function o$(t=Wu.TOP_RIGHT){return`${wt.CSS_NAMESPACE}__toast-container--${t}`}function a$(t,e,n=!1){const r=[`${wt.CSS_NAMESPACE}__toast-container`,`${wt.CSS_NAMESPACE}__toast-container--${t}`,n?`${wt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Fa(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function c$(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:i={}}=t,o=wt.CSS_NAMESPACE,a=o$(n),l=document.querySelector(`.${o}`),f=document.querySelector(`.${a}`),d=!!f&&!((e=f.className)!=null&&e.includes(Ch)),p=l||document.createElement("div"),g=document.createElement("div");g.className=a$(n,r,s),g.dataset.testid=`${wt.CSS_NAMESPACE}__toast-container--${n}`,g.id=s$(t);for(const v in i)if(Object.prototype.hasOwnProperty.call(i,v)){const E=i[v];g.style[v]=E}return l||(p.className=wt.CSS_NAMESPACE,document.body.appendChild(p)),d||p.appendChild(g),g}function rm(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),i=document.getElementById(s);i&&i.removeEventListener("animationend",rm,!1);try{Cu[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Cu[s],delete yn[s]}catch{}}const Cu=un({});function u$(t,e){const n=document.getElementById(String(e));n&&(Cu[n.id]=t)}function sm(t,e=!0){const n=String(t);if(!Cu[n])return;const r=document.getElementById(n);r&&r.classList.add(Ch),e?(f$(t),r&&r.addEventListener("animationend",rm,!1)):rm(n),_s.items=_s.items.filter(s=>s.containerId!==t)}function l$(t){for(const e in Cu)sm(e,t);_s.items=[]}function _A(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...yA(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function f$(t){for(const e in yn)if(e===t)for(const n of yn[e]||[])_A(n)}function h$(t){const e=Za().find(n=>n.toastId===t);return e?.containerId}function Hg(t){return document.getElementById(t)}function d$(t){const e=Hg(t.containerId);return e&&e.classList.contains(Ch)}function Vw(t){var e;const n=Li(t.content)?Ge(t.content.props):null;return n??Ge((e=t.data)!=null?e:{})}function p$(t){return t?_s.items.filter(e=>e.containerId===t).length>0:_s.items.length>0}function m$(){if(_s.items.length>0){const t=_s.items.shift();$l(t?.toastContent,t?.toastProps)}}const yn=un({}),_s=un({items:[]});function Za(){const t=Ge(yn);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function g$(t){return Za().find(e=>e.toastId===t)}function $l(t,e={}){if(d$(e)){const n=Hg(e.containerId);n&&n.addEventListener("animationend",im.bind(null,t,e),!1)}else im(t,e)}function im(t,e={}){const n=Hg(e.containerId);n&&n.removeEventListener("animationend",im.bind(null,t,e),!1);const r=yn[e.containerId]||[],s=r.length>0;if(!s&&!i$(e.position)){const i=c$(e),o=cE(L$,e);e.useHandler&&e.useHandler(o),o.mount(i),u$(o,i.id)}s&&!e.updateId&&(e.position=r[0].position),cr(()=>{e.updateId?sr.update(e):sr.add(t,e)})}const sr={add(t,e){const{containerId:n=""}=e;n&&(yn[n]=yn[n]||[],yn[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=yn[n])==null||r.unshift(e):(s=yn[n])==null||s.push(e),e.onOpen&&e.onOpen(Vw(e))},e.delay||0))},remove(t){if(t){const e=h$(t);if(e){const n=yn[e];let r=n.find(s=>s.toastId===t);yn[e]=n.filter(s=>s.toastId!==t),!yn[e].length&&!p$(e)&&sm(e,!1),m$(),cr(()=>{r!=null&&r.onClose&&(r.onClose(Vw(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){yn[e]=yn[e]||[];const n=yn[e].find(i=>i.toastId===t.toastId),r=n?.position!==t.position||n?.transition!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};sr.dismissForce(t?.toastId),setTimeout(()=>{dt(s.content,s)},t.delay||0)}},clear(t,e=!0){t?sm(t,e):l$(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",sr.dismissCallback,!1),setTimeout(()=>{sr.remove(n)}))},dismiss(t){if(t){const e=Za();for(const n of e)if(n.toastId===t){_A(n,r=>{r.addEventListener("animationend",sr.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Za();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",sr.dismissCallback,!1),sr.remove(t));break}}}},y$=un({useHandler:void 0}),vA=un({}),Vf=un({});function wA(){return Math.random().toString(36).substring(2,9)}function _$(t){return typeof t=="number"&&!isNaN(t)}function om(t){return typeof t=="string"}function Fa(t){return typeof t=="function"}function Rh(...t){return vs(...t)}function jl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof t?.type=="object")}function v$(t={}){vA[`${wt.CSS_NAMESPACE}-default-options`]=t}function w$(){return vA[`${wt.CSS_NAMESPACE}-default-options`]||gA}function b$(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Bl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Bl||{});const bA={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Wu.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Xa.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Hn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},E$={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Hn.DEFAULT},theme:{type:String,required:!1,default:Xa.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},T$=Jt({name:"ProgressBar",props:E$,setup(t,{attrs:e}){const n=Ft(),r=Ze(()=>t.hide?"true":"false"),s=Ze(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),i=Ze(()=>[`${wt.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${wt.CSS_NAMESPACE}__progress-bar--controlled`:`${wt.CSS_NAMESPACE}__progress-bar--animated`,`${wt.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=Ze(()=>`${i.value} ${e?.class||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},f=Ze(()=>t.controlledProgress?null:l),d=Ze(()=>t.controlledProgress?l:null);return qc(()=>{n.value&&(a(),n.value.onanimationend=f.value,n.value.ontransitionend=d.value)}),()=>ze("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:o.value,style:s.value},null)}}),I$=Jt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Xa.AUTO},type:{type:String,required:!1,default:Xa.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>ze("button",{class:`${wt.CSS_NAMESPACE}__close-button ${wt.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[ze("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[ze("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Ph=({theme:t,type:e,path:n,...r})=>ze("svg",vs({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[ze("path",{d:n},null)]);function A$(t){return ze(Ph,vs(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function S$(t){return ze(Ph,vs(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function C$(t){return ze(Ph,vs(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function R$(t){return ze(Ph,vs(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function P$(){return ze("div",{class:`${wt.CSS_NAMESPACE}__spinner`},null)}const ql={info:S$,warning:A$,success:C$,error:R$,spinner:P$},k$=t=>t in ql;function O$({theme:t,type:e,isLoading:n,icon:r}){let s;const i=!!n||e==="loading",o={theme:t,type:e};if(i&&(r===void 0||typeof r=="boolean"))return ql.spinner();if(r!==!1){if(jl(r))s=Ge(r);else if(Fa(r)){const a=r;o.type=i?"loading":e,s=a(o),s=!s&&i?ql.spinner():s}else Li(r)?s=ms(r,o):om(r)||_$(r)?s=r:k$(e)&&(s=ql[e](o));return s}}const D$=()=>{};function N$(t,e,n=wt.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,i=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,i)})})}function x$(t){const e=Ft(!1),n=Ft(!1),r=Ft(!1),s=Ft(Bl.Enter),i=un({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||wt.COLLAPSE_DURATION}),o=i.done||D$,a=Ze(()=>i.appendPosition?`${i.enter}--${i.position}`:i.enter),l=Ze(()=>i.appendPosition?`${i.exit}--${i.position}`:i.exit),f=Ze(()=>t.pauseOnHover?{onMouseenter:L,onMouseleave:S}:{});function d(){const V=a.value.split(" ");g().addEventListener(nm.ENTRANCE_ANIMATION_END,S,{once:!0});const R=$=>{const te=g();$.target===te&&(te.dispatchEvent(new Event(nm.ENTRANCE_ANIMATION_END)),te.removeEventListener("animationend",R),te.removeEventListener("animationcancel",R),s.value===Bl.Enter&&$.type!=="animationcancel"&&te.classList.remove(...V))},N=()=>{const $=g();$.classList.add(...V),$.addEventListener("animationend",R),$.addEventListener("animationcancel",R)};t.pauseOnFocusLoss&&v(),N()}function p(){if(!g())return;const V=()=>{const N=g();N.removeEventListener("animationend",V),i.collapse?N$(N,o,i.collapseDuration):o()},R=()=>{const N=g();s.value=Bl.Exit,N&&(N.className+=` ${l.value}`,N.addEventListener("animationend",V))};n.value||(r.value?V():setTimeout(R))}function g(){return t.toastRef.value}function v(){document.hasFocus()||L(),window.addEventListener("focus",S),window.addEventListener("blur",L)}function E(){window.removeEventListener("focus",S),window.removeEventListener("blur",L)}function S(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function L(){e.value=!1}function q(V){V&&(V.stopPropagation(),V.preventDefault()),n.value=!1}return qc(p),qc(()=>{const V=Za();n.value=V.findIndex(R=>R.toastId===i.toastId)>-1}),qc(()=>{t.isLoading!==void 0&&(t.loading.value?L():S())}),qo(d),lr(()=>{t.pauseOnFocusLoss&&E()}),{isIn:n,isRunning:e,hideToast:q,eventHandlers:f}}const M$=Jt({name:"ToastItem",inheritAttrs:!1,props:bA,setup(t){const e=Ft(),n=Ze(()=>!!t.isLoading),r=Ze(()=>t.progress!==void 0&&t.progress!==null),s=Ze(()=>O$(t)),i=Ze(()=>[`${wt.CSS_NAMESPACE}__toast`,`${wt.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${wt.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${wt.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:f}=x$({toastRef:e,loading:n,done:()=>{sr.remove(t.toastId)},...yA(t.transition,t.disabledEnterTransition),...t});return()=>ze("div",vs({id:t.toastId,class:i.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},f.value),[ze("div",{role:t.role,"data-testid":"toast-body",class:`${wt.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&ze("div",{"data-testid":`toast-icon-${t.type}`,class:[`${wt.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${wt.CSS_NAMESPACE}--animate-icon ${wt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[jl(s.value)?qt(Ge(s.value),{theme:t.theme,type:t.type}):Fa(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),ze("div",{"data-testid":"toast-content"},[jl(t.content)?qt(Ge(t.content),{toastProps:Ge(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Fa(t.content)?t.content({toastProps:Ge(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?qt("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&ze(I$,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),jl(t.closeButton)?qt(Ge(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Fa(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,ze(T$,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let nu=0;function EA(){typeof window>"u"||(nu&&window.cancelAnimationFrame(nu),nu=window.requestAnimationFrame(EA),Vf.lastUrl!==window.location.href&&(Vf.lastUrl=window.location.href,sr.clear()))}const L$=Jt({name:"ToastifyContainer",inheritAttrs:!1,props:bA,setup(t){const e=Ze(()=>t.containerId),n=Ze(()=>yn[e.value]||[]),r=Ze(()=>n.value.filter(s=>s.position===t.position));return qo(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(EA)}),lr(()=>{typeof window<"u"&&nu&&(window.cancelAnimationFrame(nu),Vf.lastUrl="")}),()=>ze(kn,null,[r.value.map(s=>{const{toastId:i=""}=s;return ze(M$,vs({key:i},s),null)})])}});let Kd=!1;const TA={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function IA(){const t=[];return Za().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(Ch)&&t.push(e)}),t}function V$(t){const e=IA().length,n=t??0;return n>0&&e+_s.items.length>=n}function F$(t){V$(t.limit)&&!t.updateId&&_s.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Qi(t,e,n={}){if(Kd)return;n=Rh(w$(),{type:e},Ge(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=wA()),n={...n,...n.type==="loading"?TA:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n?.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=b$()),F$(n),Vf.lastUrl=window.location.href,n.multiple?_s.items.length?n.updateId&&$l(t,n):$l(t,n):(Kd=!0,dt.clearAll(void 0,!1),setTimeout(()=>{$l(t,n)},0),setTimeout(()=>{Kd=!1},390)),n.toastId}const dt=(t,e)=>Qi(t,Hn.DEFAULT,e);dt.info=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.INFO});dt.error=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.ERROR});dt.warning=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.WARNING});dt.warn=dt.warning;dt.success=(t,e)=>Qi(t,Hn.DEFAULT,{...e,type:Hn.SUCCESS});dt.loading=(t,e)=>Qi(t,Hn.DEFAULT,Rh(e,TA));dt.dark=(t,e)=>Qi(t,Hn.DEFAULT,Rh(e,{theme:Xa.DARK}));dt.remove=t=>{t?sr.dismiss(t):sr.clear()};dt.clearAll=(t,e)=>{cr(()=>{sr.clear(t,e)})};dt.isActive=t=>{let e=!1;return e=IA().findIndex(n=>n.toastId===t)>-1,e};dt.update=(t,e={})=>{setTimeout(()=>{const n=g$(t);if(n){const r=Ge(n),{content:s}=r,i={...r,...e,toastId:e.toastId||t,updateId:wA()},o=i.render||s;delete i.render,Qi(o,i.type,i)}},0)};dt.done=t=>{dt.update(t,{isLoading:!1,progress:1})};dt.promise=U$;function U$(t,{pending:e,error:n,success:r},s){var i,o,a;let l;const f={...s||{},autoClose:!1};e&&(l=om(e)?dt.loading(e,f):dt.loading(e.render,{...f,...e}));const d={autoClose:(i=s?.autoClose)!=null?i:!0,closeOnClick:(o=s?.closeOnClick)!=null?o:!0,closeButton:(a=s?.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},p=(v,E,S)=>{if(E==null){dt.remove(l);return}const L={type:v,...d,...s,data:S},q=om(E)?{render:E}:E;return l?dt.update(l,{...L,...q,isLoading:!1}):dt(q.render,{...L,...q,isLoading:!1}),S},g=Fa(t)?t():t;return g.then(v=>{p("success",r,v)}).catch(v=>{p("error",n,v)}),g}dt.POSITION=Wu;dt.THEME=Xa;dt.TYPE=Hn;dt.TRANSITIONS=JU;const AA={install(t,e={}){y$.useHandler=e.useHandler||(()=>{}),$$(e)}};typeof window<"u"&&(window.Vue3Toastify=AA);function $$(t={}){const e=Rh(gA,t);v$(e)}const j$=pn(t=>(t.vueApp.use(AA,{autoClose:2e3,theme:"dark",progressStyle:{background:"#757575"},style:{opacity:.8},position:"bottom-right"}),{provide:{toast:{success:dt.success,error:dt.error,info:dt.info,warn:dt.warn,promise:dt.promise}}})),B$=[C1,P1,x1,sO,oO,aO,cO,lO,BO,qO,HO,WO,eD,cD,wU,QU,YU,j$],am=Symbol("head-component"),Kg={body:{type:Boolean,default:void 0},tagPosition:{type:String}},Gu=t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function zo(){return Ht(am,SA,!0)}function SA(){const t=Ht(am,null);if(t)return t;const e=un({}),n=BE(e),r={input:e,entry:n};return Gs(am,r),r}const dc={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};({...dc,...Kg});({...dc,...Kg});({...dc});const q$=Jt({name:"Title",inheritAttrs:!1,setup(t,{slots:e}){const{input:n}=zo();return lr(()=>n.title=null),()=>{const r=e.default?.();return n.title=r?.[0]?.children?String(r?.[0]?.children):void 0,null}}}),H$=Jt({name:"Meta",inheritAttrs:!1,props:{...dc,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(t){const{input:e}=zo();e.meta||=[];const n=e.meta.push({})-1;return lr(()=>e.meta[n]=null),()=>{const r={"http-equiv":t.httpEquiv,...Gu(t)};return"httpEquiv"in r&&delete r.httpEquiv,e.meta[n]=r,null}}}),K$=Jt({name:"Style",inheritAttrs:!1,props:{...dc,...Kg,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(t,{slots:e}){const{input:n}=zo();n.style||=[];const r=n.style.push({})-1;return lr(()=>n.style[r]=null),()=>{const s=Gu(t),i=e.default?.()?.[0]?.children;return i&&(n.style[r]=s,s.textContent=i),null}}}),z$=Jt({name:"Head",inheritAttrs:!1,setup:(t,e)=>(SA(),()=>e.slots.default?.())});({...dc});const CA=(t="RouteProvider")=>Jt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Gs(Vo,cs(s)),()=>e.vnode?qt(e.vnode,{ref:e.vnodeRef}):e.vnode}}),W$=CA(),Fw=new WeakMap,G$=Jt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Lt(),i=Ft(),o=Ht(Vo,null);let a;r({pageRef:i});const l=Ht(SE,null);let f;const d=s.deferHydration();if(s.isHydrating){const g=s.hooks.hookOnce("app:error",d);qn().beforeEach(g)}t.pageKey&&Er(()=>t.pageKey,(g,v)=>{g!==v&&s.callHook("page:loading:start")});let p=!1;{const g=qn().beforeResolve(()=>{p=!1});rc(()=>{g()})}return()=>qt(iT,{name:t.name,route:t.route,...e},{default:g=>{const v=Y$(o,g.route,g.Component),E=o&&o.matched.length===g.route.matched.length;if(!g.Component){if(f&&!E)return f;d();return}if(f&&l&&!l.isCurrent(g.route))return f;if(v&&o&&(!l||l?.isCurrent(o)))return E?f:null;const S=Tp(g,t.pageKey),L=J$(o,g.route,g.Component);!s.isHydrating&&a===S&&!L&&cr(()=>{p=!0,s.callHook("page:loading:end")}),a=S;const q=!!(t.transition??g.route.meta.pageTransition??My),V=q&&Q$([t.transition,g.route.meta.pageTransition,My,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",g.Component)}}]),R=t.keepalive??g.route.meta.keepalive??fP;return f=aT(q&&V,jk(R,qt(Pm,{suspensible:!0,onPending:()=>{q&&(s._runningTransition=!0),s.callHook("page:start",g.Component)},onResolve:()=>{cr(()=>s.callHook("page:finish",g.Component).then(()=>{if(delete s._runningTransition,!p&&!L)return p=!0,s.callHook("page:loading:end")}).finally(d))}},{default:()=>{const N={key:S||void 0,vnode:n.default?X$(n.default,g):g.Component,route:g.route,renderKey:S||void 0,trackRootNodes:q,vnodeRef:i};if(!R)return qt(W$,N);const $=g.Component.type,te=$;let O=Fw.get(te);return O||(O=CA($.name||$.__name),Fw.set(te,O)),qt(O,N)}}))).default(),f}})}});function Q$(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?Bm(n.onAfterLeave):void 0});return IE(...e)}function Y$(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Tp({route:e,Component:n})!==Tp({route:t,Component:n})}function J$(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function X$(t,e){const n=t(e);return n.length===1?qt(n[0]):qt(kn,void 0,n)}const Z$=Jt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>qt(Ci[t.name],t.layoutProps,e.slots)}}),ej={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},tj=Jt({name:"NuxtLayout",inheritAttrs:!1,props:ej,setup(t,e){const n=Lt(),r=Ht(Vo),i=!r||r===Yf()?oT():r,o=Ze(()=>{let d=Rt(t.name)??i?.meta.layout??"default";return d&&!(d in Ci)&&t.fallback&&(d=Rt(t.fallback)),d}),a=Zs();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const d=n.hooks.hookOnce("app:error",l);qn().beforeEach(d)}let f;return()=>{const d=o.value&&o.value in Ci,p=i?.meta.layoutTransition??lP,g=f;return f=o.value,aT(d&&p,{default:()=>qt(Pm,{suspensible:!0,onResolve:()=>{cr(l)}},{default:()=>qt(nj,{layoutProps:vs(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:v=>v!==g&&v===o.value,hasTransition:!!p},e.slots)})}).default()}}}),nj=Jt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Gs(SE,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Ht(Vo);if(r&&r===Yf()){const i=oT(),o={};for(const a in i){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[l]:r[l]})}Gs(Vo,cs(o))}return()=>!n||typeof n=="string"&&!(n in Ci)?e.slots.default?.():qt(Z$,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),RA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},rj={__name:"app",setup(t){const e=Ft("Agenda Regional Faina");return w1({title:e.value,ogTitle:"Agenda Regional Faina",description:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogDescription:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogImage:"https://congregacaocristanobrasil.org.br/assets/images/logo-ccb-light.png",twitterCard:"summary_large_image",keywords:"Agenda, Regional, Faina, Congregao, Atendimentos, Eventos, Batismos"}),(n,r)=>{const s=q$,i=H$,o=K$,a=z$,l=Jd("VitePwaManifest"),f=G$,d=tj;return as(),km(kn,null,[ze(a,null,{default:Co(()=>[ze(s,null,{default:Co(()=>[uu(Kl(Rt(e)),1)]),_:1}),ze(i,{name:"description",content:Rt(e)},null,8,["content"]),ze(o,null,{default:Co(()=>[...r[0]||(r[0]=[uu(" body {} ",-1)])]),_:1})]),_:1}),ze(d,null,{default:Co(()=>[ze(l),ze(f)]),_:1})],64)}}},sj=RA(rj,[["__scopeId","data-v-8ea51f04"]]),ij={class:"error-page"},oj={__name:"error",setup(t){const e=Du();return(n,r)=>{const s=FO;return as(),km("div",ij,[rf("h1",null,Kl(Rt(e).statusCode),1),rf("p",null,Kl(Rt(e).message),1),ze(s,{to:"/"},{default:Co(()=>[...r[0]||(r[0]=[uu("Voltar para a pgina inicial",-1)])]),_:1})])}}},aj=RA(oj,[["__scopeId","data-v-ec07901d"]]),cj={key:0},Uw={__name:"nuxt-root",setup(t){const e=()=>null,n=Lt(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);qn().beforeEach(f)}const s=!1;Gs(Vo,Yf()),n.hooks.callHookWith(f=>f.map(d=>d()),"vue:setup");const i=Du(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Pb((f,d,p)=>{if(n.hooks.callHook("vue:error",f,d,p).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(RE(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>Io(f)),!1});const l=!1;return(f,d)=>(as(),ma(Pm,{onResolve:Rt(r)},{default:Co(()=>[Rt(o)?(as(),km("div",cj)):Rt(i)?(as(),ma(Rt(aj),{key:1,error:Rt(i)},null,8,["error"])):Rt(l)?(as(),ma(Rt(e),{key:2,context:Rt(l)},null,8,["context"])):Rt(s)?(as(),ma($S(Rt(s)),{key:3})):(as(),ma(Rt(sj),{key:4}))]),_:1},8,["onResolve"]))}};let $w;{let t;$w=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?oR(Uw):cE(Uw),s=_P({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=Oi(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&Ly.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Ly.id)?.remove()});try{await bP(s,B$)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(mP),await s.hooks.callHook("app:mounted",r),await cr()}catch(o){i(o)}return r},t=$w().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Nj as $,ma as A,gj as B,HU as C,pm as D,IU as E,kn as F,hA as G,yj as H,Jt as I,qt as J,qc as K,_j as L,cr as M,hj as N,Jd as O,rc as P,bU as Q,Tm as R,mS as S,LC as T,ai as U,BE as V,jj as W,mj as X,nM as Y,qs as Z,RA as _,rf as a,bt as a0,Fj as a1,CI as a2,$j as a3,Uj as a4,Mj as a5,Lj as a6,Vj as a7,G$ as a8,tc as a9,ru as aa,Zs as ab,as as b,km as c,ze as d,FO as e,uu as f,GU as g,fj as h,oT as i,Ze as j,uj as k,vj as l,Rt as m,lj as n,qo as o,wj as p,mm as q,Ft as r,dj as s,Kl as t,Lt as u,pj as v,Co as w,__ as x,un as y,Er as z};
