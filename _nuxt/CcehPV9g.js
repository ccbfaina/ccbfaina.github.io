const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vGLycu4f.js","./But1cDCZ.js","./LoadingSpinner.B8lNEaQd.css","./D0Dr7phT.js","./index.BT7qESRD.css","./C0Lc0fmM.js","./sobre.c9vjT2Gh.css","./DMyxucgi.js","./agenda.BxqxQMWe.css","./BH9dZuJW.js","./perfil.BbtFWlj7.css","./Bogp-1th.js","./BS8QdyU_.js","./eventos.D0qi4T-e.css","./BroNLtJt.js","./navegar.DXE9DLXy.css","./DK3ZIzzi.js","./recentes.CtKQcL51.css","./oP8JY7cr.js","./servicos.DXKw4MpX.css","./CURpDiIM.js","./settings.D81KzNVB.css","./D_6FBNEe.js","./relatorio.BGMUo3JX.css","./BApoRQKo.js","./CUpR8154.js","./view.toBhRDQR.css","./DAosRn28.js","./index.C01wgp59.css","./CGaeszlF.js","./index.efd4-kTG.css","./CJhOJHJw.js","./index.DzYW3UB-.css","./PQfk9T0v.js","./contato.3ci9Le7x.css","./D5HYD_eQ.js","./calendar.DHgtuuC9.css","./D40dd_cX.js","./solicitar.C0T4GfkF.css","./BLVUxl_5.js","./manutencao.DIm-6Bk8.css","./CKOY4Tch.js","./calendar-print.gWBDFPdY.css","./BkJOpqce.js","./levantamento_preventiva.D-3OeP-V.css","./BP3WUk0P.js","./BprwGtYq.js","./clear.Cj1UNC5S.css","./BPJXjES6.js","./CQijsIbT.js","./menu.0lHMkiB6.css","./default.BllfGIqY.css","./D92VlWqS.js","./form.D8ztOVBm.css","./CN4XYh72.js","./gE3vm8fl.js","./landscape.BFEAchZd.css","./CjCp0y6z.js","./noscroll.DrWb4tOw.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function pm(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Rt={},Ca=[],jr=()=>{},Bw=()=>!1,Ou=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mm=t=>t.startsWith("onUpdate:"),yn=Object.assign,gm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xA=Object.prototype.hasOwnProperty,wt=(t,e)=>xA.call(t,e),$e=Array.isArray,Pa=t=>oc(t)==="[object Map]",Bf=t=>oc(t)==="[object Set]",Yg=t=>oc(t)==="[object Date]",MA=t=>oc(t)==="[object RegExp]",qe=t=>typeof t=="function",Bt=t=>typeof t=="string",_i=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",ym=t=>(It(t)||qe(t))&&qe(t.then)&&qe(t.catch),jw=Object.prototype.toString,oc=t=>jw.call(t),LA=t=>oc(t).slice(8,-1),_m=t=>oc(t)==="[object Object]",jf=t=>Bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ka=pm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$f=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},VA=/-\w/g,Sr=$f(t=>t.replace(VA,e=>e.slice(1).toUpperCase())),FA=/\B([A-Z])/g,zs=$f(t=>t.replace(FA,"-$1").toLowerCase()),qf=$f(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wh=$f(t=>t?`on${qf(t)}`:""),Ns=(t,e)=>!Object.is(t,e),Oa=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},$w=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Hf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},qw=t=>{const e=Bt(t)?Number(t):NaN;return isNaN(e)?t:e};let Xg;const Kf=()=>Xg||(Xg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vm(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Bt(r)?$A(r):vm(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Bt(t)||It(t))return t}const UA=/;(?![^(]*\))/g,BA=/:([^]+)/,jA=/\/\*[^]*?\*\//g;function $A(t){const e={};return t.replace(jA,"").split(UA).forEach(n=>{if(n){const r=n.split(BA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function wm(t){let e="";if(Bt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=wm(t[n]);r&&(e+=r+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const qA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",HA=pm(qA);function Hw(t){return!!t||t===""}function KA(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Wf(t[r],e[r]);return n}function Wf(t,e){if(t===e)return!0;let n=Yg(t),r=Yg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=_i(t),r=_i(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?KA(t,e):!1;if(n=It(t),r=It(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Wf(t[o],e[o]))return!1}}return String(t)===String(e)}function WA(t,e){return t.findIndex(n=>Wf(n,e))}const Kw=t=>!!(t&&t.__v_isRef===!0),Gl=t=>Bt(t)?t:t==null?"":$e(t)||It(t)&&(t.toString===jw||!qe(t.toString))?Kw(t)?Gl(t.value):JSON.stringify(t,Ww,2):String(t),Ww=(t,e)=>Kw(e)?Ww(t,e.value):Pa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[zh(r,s)+" =>"]=i,n),{})}:Bf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zh(n))}:_i(e)?zh(e):It(e)&&!$e(e)&&!_m(e)?String(e):e,zh=(t,e="")=>{var n;return _i(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function zA(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}let Pn;class zw{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pn,!e&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Pn;try{return Pn=this,e()}finally{Pn=n}}}on(){++this._on===1&&(this.prevScope=Pn,Pn=this)}off(){this._on>0&&--this._on===0&&(Pn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function bm(t){return new zw(t)}function ac(){return Pn}function au(t,e=!1){Pn&&Pn.cleanups.push(t)}let Ct;const Gh=new WeakSet;class Gw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pn&&Pn.active&&Pn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gh.has(this)&&(Gh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zg(this),Yw(this);const e=Ct,n=$r;Ct=this,$r=!0;try{return this.fn()}finally{Xw(this),Ct=e,$r=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Im(e);this.deps=this.depsTail=void 0,Zg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yd(this)&&this.run()}get dirty(){return Yd(this)}}let Qw=0,Kc,Wc;function Jw(t,e=!1){if(t.flags|=8,e){t.next=Wc,Wc=t;return}t.next=Kc,Kc=t}function Em(){Qw++}function Tm(){if(--Qw>0)return;if(Wc){let e=Wc;for(Wc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Kc;){let e=Kc;for(Kc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Yw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xw(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Im(r),GA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Yd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Zw(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Zw(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===cu)||(t.globalVersion=cu,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Yd(t))))return;t.flags|=2;const e=t.dep,n=Ct,r=$r;Ct=t,$r=!0;try{Yw(t);const i=t.fn(t._value);(e.version===0||Ns(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ct=n,$r=r,Xw(t),t.flags&=-3}}function Im(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Im(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function GA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let $r=!0;const eb=[];function Zi(){eb.push($r),$r=!1}function es(){const t=eb.pop();$r=t===void 0?!0:t}function Zg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ct;Ct=void 0;try{e()}finally{Ct=n}}}let cu=0;class QA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ct||!$r||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new QA(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,tb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=r)}return n}trigger(e){this.version++,cu++,this.notify(e)}notify(e){Em();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Tm()}}}function tb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)tb(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ql=new WeakMap,Mo=Symbol(""),Xd=Symbol(""),uu=Symbol("");function On(t,e,n){if($r&&Ct){let r=Ql.get(t);r||Ql.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new zf),i.map=r,i.key=n),i.track()}}function Ki(t,e,n,r,i,s){const o=Ql.get(t);if(!o){cu++;return}const a=l=>{l&&l.trigger()};if(Em(),e==="clear")o.forEach(a);else{const l=$e(t),f=l&&jf(n);if(l&&n==="length"){const d=Number(r);o.forEach((p,y)=>{(y==="length"||y===uu||!_i(y)&&y>=d)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),f&&a(o.get(uu)),e){case"add":l?f&&a(o.get("length")):(a(o.get(Mo)),Pa(t)&&a(o.get(Xd)));break;case"delete":l||(a(o.get(Mo)),Pa(t)&&a(o.get(Xd)));break;case"set":Pa(t)&&a(o.get(Mo));break}}Tm()}function JA(t,e){const n=Ql.get(t);return n&&n.get(e)}function pa(t){const e=Qe(t);return e===t?e:(On(e,"iterate",uu),ur(t)?e:e.map(Hr))}function Gf(t){return On(t=Qe(t),"iterate",uu),t}function Ts(t,e){return vi(t)?fi(t)?Ha(Hr(e)):Ha(e):Hr(e)}const YA={__proto__:null,[Symbol.iterator](){return Qh(this,Symbol.iterator,t=>Ts(this,t))},concat(...t){return pa(this).concat(...t.map(e=>$e(e)?pa(e):e))},entries(){return Qh(this,"entries",t=>(t[1]=Ts(this,t[1]),t))},every(t,e){return Ui(this,"every",t,e,void 0,arguments)},filter(t,e){return Ui(this,"filter",t,e,n=>n.map(r=>Ts(this,r)),arguments)},find(t,e){return Ui(this,"find",t,e,n=>Ts(this,n),arguments)},findIndex(t,e){return Ui(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ui(this,"findLast",t,e,n=>Ts(this,n),arguments)},findLastIndex(t,e){return Ui(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ui(this,"forEach",t,e,void 0,arguments)},includes(...t){return Jh(this,"includes",t)},indexOf(...t){return Jh(this,"indexOf",t)},join(t){return pa(this).join(t)},lastIndexOf(...t){return Jh(this,"lastIndexOf",t)},map(t,e){return Ui(this,"map",t,e,void 0,arguments)},pop(){return xc(this,"pop")},push(...t){return xc(this,"push",t)},reduce(t,...e){return ey(this,"reduce",t,e)},reduceRight(t,...e){return ey(this,"reduceRight",t,e)},shift(){return xc(this,"shift")},some(t,e){return Ui(this,"some",t,e,void 0,arguments)},splice(...t){return xc(this,"splice",t)},toReversed(){return pa(this).toReversed()},toSorted(t){return pa(this).toSorted(t)},toSpliced(...t){return pa(this).toSpliced(...t)},unshift(...t){return xc(this,"unshift",t)},values(){return Qh(this,"values",t=>Ts(this,t))}};function Qh(t,e,n){const r=Gf(t),i=r[e]();return r!==t&&!ur(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const XA=Array.prototype;function Ui(t,e,n,r,i,s){const o=Gf(t),a=o!==t&&!ur(t),l=o[e];if(l!==XA[e]){const p=l.apply(t,s);return a?Hr(p):p}let f=n;o!==t&&(a?f=function(p,y){return n.call(this,Ts(t,p),y,t)}:n.length>2&&(f=function(p,y){return n.call(this,p,y,t)}));const d=l.call(o,f,r);return a&&i?i(d):d}function ey(t,e,n,r){const i=Gf(t);let s=n;return i!==t&&(ur(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Ts(t,a),l,t)}),i[e](s,...r)}function Jh(t,e,n){const r=Qe(t);On(r,"iterate",uu);const i=r[e](...n);return(i===-1||i===!1)&&Qf(n[0])?(n[0]=Qe(n[0]),r[e](...n)):i}function xc(t,e,n=[]){Zi(),Em();const r=Qe(t)[e].apply(t,n);return Tm(),es(),r}const ZA=pm("__proto__,__v_isRef,__isVue"),nb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_i));function eS(t){_i(t)||(t=String(t));const e=Qe(this);return On(e,"has",t),e.hasOwnProperty(t)}class rb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?lS:ab:s?ob:sb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=YA[n]))return l;if(n==="hasOwnProperty")return eS}const a=Reflect.get(e,n,Lt(e)?e:r);if((_i(n)?nb.has(n):ZA(n))||(i||On(e,"get",n),s))return a;if(Lt(a)){const l=o&&jf(n)?a:a.value;return i&&It(l)?ep(l):l}return It(a)?i?ep(a):fn(a):a}}class ib extends rb{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];const o=$e(e)&&jf(n);if(!this._isShallow){const f=vi(s);if(!ur(r)&&!vi(r)&&(s=Qe(s),r=Qe(r)),!o&&Lt(s)&&!Lt(r))return f||(s.value=r),!0}const a=o?Number(n)<e.length:wt(e,n),l=Reflect.set(e,n,r,Lt(e)?e:i);return e===Qe(i)&&(a?Ns(r,s)&&Ki(e,"set",n,r):Ki(e,"add",n,r)),l}deleteProperty(e,n){const r=wt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ki(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!_i(n)||!nb.has(n))&&On(e,"has",n),r}ownKeys(e){return On(e,"iterate",$e(e)?"length":Mo),Reflect.ownKeys(e)}}class tS extends rb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const nS=new ib,rS=new tS,iS=new ib(!0);const Zd=t=>t,al=t=>Reflect.getPrototypeOf(t);function sS(t,e,n){return function(...r){const i=this.__v_raw,s=Qe(i),o=Pa(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=i[t](...r),d=n?Zd:e?Ha:Hr;return!e&&On(s,"iterate",l?Xd:Mo),{next(){const{value:p,done:y}=f.next();return y?{value:p,done:y}:{value:a?[d(p[0]),d(p[1])]:d(p),done:y}},[Symbol.iterator](){return this}}}}function cl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function oS(t,e){const n={get(i){const s=this.__v_raw,o=Qe(s),a=Qe(i);t||(Ns(i,a)&&On(o,"get",i),On(o,"get",a));const{has:l}=al(o),f=e?Zd:t?Ha:Hr;if(l.call(o,i))return f(s.get(i));if(l.call(o,a))return f(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&On(Qe(i),"iterate",Mo),i.size},has(i){const s=this.__v_raw,o=Qe(s),a=Qe(i);return t||(Ns(i,a)&&On(o,"has",i),On(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Qe(a),f=e?Zd:t?Ha:Hr;return!t&&On(l,"iterate",Mo),a.forEach((d,p)=>i.call(s,f(d),f(p),o))}};return yn(n,t?{add:cl("add"),set:cl("set"),delete:cl("delete"),clear:cl("clear")}:{add(i){!e&&!ur(i)&&!vi(i)&&(i=Qe(i));const s=Qe(this);return al(s).has.call(s,i)||(s.add(i),Ki(s,"add",i,i)),this},set(i,s){!e&&!ur(s)&&!vi(s)&&(s=Qe(s));const o=Qe(this),{has:a,get:l}=al(o);let f=a.call(o,i);f||(i=Qe(i),f=a.call(o,i));const d=l.call(o,i);return o.set(i,s),f?Ns(s,d)&&Ki(o,"set",i,s):Ki(o,"add",i,s),this},delete(i){const s=Qe(this),{has:o,get:a}=al(s);let l=o.call(s,i);l||(i=Qe(i),l=o.call(s,i)),a&&a.call(s,i);const f=s.delete(i);return l&&Ki(s,"delete",i,void 0),f},clear(){const i=Qe(this),s=i.size!==0,o=i.clear();return s&&Ki(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=sS(i,t,e)}),n}function Am(t,e){const n=oS(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(wt(n,i)&&i in r?n:r,i,s)}const aS={get:Am(!1,!1)},cS={get:Am(!1,!0)},uS={get:Am(!0,!1)};const sb=new WeakMap,ob=new WeakMap,ab=new WeakMap,lS=new WeakMap;function fS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hS(t){return t.__v_skip||!Object.isExtensible(t)?0:fS(LA(t))}function fn(t){return vi(t)?t:Sm(t,!1,nS,aS,sb)}function li(t){return Sm(t,!1,iS,cS,ob)}function ep(t){return Sm(t,!0,rS,uS,ab)}function Sm(t,e,n,r,i){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=hS(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function fi(t){return vi(t)?fi(t.__v_raw):!!(t&&t.__v_isReactive)}function vi(t){return!!(t&&t.__v_isReadonly)}function ur(t){return!!(t&&t.__v_isShallow)}function Qf(t){return t?!!t.__v_raw:!1}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function Rm(t){return!wt(t,"__v_skip")&&Object.isExtensible(t)&&$w(t,"__v_skip",!0),t}const Hr=t=>It(t)?fn(t):t,Ha=t=>It(t)?ep(t):t;function Lt(t){return t?t.__v_isRef===!0:!1}function Ut(t){return cb(t,!1)}function ts(t){return cb(t,!0)}function cb(t,e){return Lt(t)?t:new dS(t,e)}class dS{constructor(e,n){this.dep=new zf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Qe(e),this._value=n?e:Hr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ur(e)||vi(e);e=r?e:Qe(e),Ns(e,n)&&(this._rawValue=e,this._value=r?e:Hr(e),this.dep.trigger())}}function St(t){return Lt(t)?t.value:t}function ci(t){return qe(t)?t():St(t)}const pS={get:(t,e,n)=>e==="__v_raw"?t:St(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Lt(i)&&!Lt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ub(t){return fi(t)?t:new Proxy(t,pS)}class mS{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new zf,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function gS(t){return new mS(t)}function yS(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=fb(t,n);return e}class _S{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Qe(e);let i=!0,s=e;if(!$e(e)||!jf(String(n)))do i=!Qf(s)||ur(s);while(i&&(s=s.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=St(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Lt(this._raw[this._key])){const n=this._object[this._key];if(Lt(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return JA(this._raw,this._key)}}class vS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function lb(t,e,n){return Lt(t)?t:qe(t)?new vS(t):It(t)&&arguments.length>1?fb(t,e,n):Ut(t)}function fb(t,e,n){return new _S(t,e,n)}class wS{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new zf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Jw(this,!0),!0}get value(){const e=this.dep.track();return Zw(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function bS(t,e,n=!1){let r,i;return qe(t)?r=t:(r=t.get,i=t.set),new wS(r,i,n)}const ul={},Jl=new WeakMap;let So;function ES(t,e=!1,n=So){if(n){let r=Jl.get(n);r||Jl.set(n,r=[]),r.push(t)}}function TS(t,e,n=Rt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,f=x=>i?x:ur(x)||i===!1||i===0?Wi(x,1):Wi(x);let d,p,y,v,E=!1,S=!1;if(Lt(t)?(p=()=>t.value,E=ur(t)):fi(t)?(p=()=>f(t),E=!0):$e(t)?(S=!0,E=t.some(x=>fi(x)||ur(x)),p=()=>t.map(x=>{if(Lt(x))return x.value;if(fi(x))return f(x);if(qe(x))return l?l(x,2):x()})):qe(t)?e?p=l?()=>l(t,2):t:p=()=>{if(y){Zi();try{y()}finally{es()}}const x=So;So=d;try{return l?l(t,3,[v]):t(v)}finally{So=x}}:p=jr,e&&i){const x=p,B=i===!0?1/0:i;p=()=>Wi(x(),B)}const U=ac(),q=()=>{d.stop(),U&&U.active&&gm(U.effects,d)};if(s&&e){const x=e;e=(...B)=>{x(...B),q()}}let L=S?new Array(t.length).fill(ul):ul;const R=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const B=d.run();if(i||E||(S?B.some((ne,D)=>Ns(ne,L[D])):Ns(B,L))){y&&y();const ne=So;So=d;try{const D=[B,L===ul?void 0:S&&L[0]===ul?[]:L,v];L=B,l?l(e,3,D):e(...D)}finally{So=ne}}}else d.run()};return a&&a(R),d=new Gw(p),d.scheduler=o?()=>o(R,!1):R,v=x=>ES(x,!1,d),y=d.onStop=()=>{const x=Jl.get(d);if(x){if(l)l(x,4);else for(const B of x)B();Jl.delete(d)}},e?r?R(!0):L=d.run():o?o(R.bind(null,!0),!0):d.run(),q.pause=d.pause.bind(d),q.resume=d.resume.bind(d),q.stop=q,q}function Wi(t,e=1/0,n){if(e<=0||!It(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Lt(t))Wi(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)Wi(t[r],e,n);else if(Bf(t)||Pa(t))t.forEach(r=>{Wi(r,e,n)});else if(_m(t)){for(const r in t)Wi(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Wi(t[r],e,n)}return t}function Du(t,e,n,r){try{return r?t(...r):t()}catch(i){cc(i,e,n)}}function Kr(t,e,n,r){if(qe(t)){const i=Du(t,e,n,r);return i&&ym(i)&&i.catch(s=>{cc(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Kr(t[s],e,n,r));return i}}function cc(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Rt;if(e){let a=e.parent;const l=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,l,f)===!1)return}a=a.parent}if(s){Zi(),Du(s,null,10,[t,l,f]),es();return}}IS(t,n,i,r,o)}function IS(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Hn=[];let si=-1;const Da=[];let Is=null,va=0;const hb=Promise.resolve();let Yl=null;function fr(t){const e=Yl||hb;return t?e.then(this?t.bind(this):t):e}function AS(t){let e=si+1,n=Hn.length;for(;e<n;){const r=e+n>>>1,i=Hn[r],s=fu(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Cm(t){if(!(t.flags&1)){const e=fu(t),n=Hn[Hn.length-1];!n||!(t.flags&2)&&e>=fu(n)?Hn.push(t):Hn.splice(AS(e),0,t),t.flags|=1,db()}}function db(){Yl||(Yl=hb.then(pb))}function lu(t){$e(t)?Da.push(...t):Is&&t.id===-1?Is.splice(va+1,0,t):t.flags&1||(Da.push(t),t.flags|=1),db()}function ty(t,e,n=si+1){for(;n<Hn.length;n++){const r=Hn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Hn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Xl(t){if(Da.length){const e=[...new Set(Da)].sort((n,r)=>fu(n)-fu(r));if(Da.length=0,Is){Is.push(...e);return}for(Is=e,va=0;va<Is.length;va++){const n=Is[va];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Is=null,va=0}}const fu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pb(t){try{for(si=0;si<Hn.length;si++){const e=Hn[si];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Du(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;si<Hn.length;si++){const e=Hn[si];e&&(e.flags&=-2)}si=-1,Hn.length=0,Xl(),Yl=null,(Hn.length||Da.length)&&pb()}}let ar=null,mb=null;function Zl(t){const e=ar;return ar=t,mb=t&&t.type.__scopeId||null,e}function ko(t,e=ar,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&sf(-1);const s=Zl(e);let o;try{o=t(...i)}finally{Zl(s),r._d&&sf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function lj(t,e){if(ar===null)return t;const n=Zf(ar),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Rt]=e[i];s&&(qe(s)&&(s={mounted:s,updated:s}),s.deep&&Wi(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function oi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Zi(),Kr(l,n,8,[t.el,a,t,e]),es())}}const SS=Symbol("_vte"),gb=t=>t.__isTeleport,Hi=Symbol("_leaveCb"),ll=Symbol("_enterCb");function RS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zo(()=>{t.isMounted=!0}),uc(()=>{t.isUnmounting=!0}),t}const br=[Function,Array],yb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:br,onEnter:br,onAfterEnter:br,onEnterCancelled:br,onBeforeLeave:br,onLeave:br,onAfterLeave:br,onLeaveCancelled:br,onBeforeAppear:br,onAppear:br,onAfterAppear:br,onAppearCancelled:br},_b=t=>{const e=t.subTree;return e.component?_b(e.component):e},CS={name:"BaseTransition",props:yb,setup(t,{slots:e}){const n=us(),r=RS();return()=>{const i=e.default&&bb(e.default(),!0);if(!i||!i.length)return;const s=vb(i),o=Qe(t),{mode:a}=o;if(r.isLeaving)return Yh(s);const l=ny(s);if(!l)return Yh(s);let f=tp(l,o,r,n,p=>f=p);l.type!==un&&Ka(l,f);let d=n.subTree&&ny(n.subTree);if(d&&d.type!==un&&!Fr(d,l)&&_b(n).type!==un){let p=tp(d,o,r,n);if(Ka(d,p),a==="out-in"&&l.type!==un)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},Yh(s);a==="in-out"&&l.type!==un?p.delayLeave=(y,v,E)=>{const S=wb(r,d);S[String(d.key)]=d,y[Hi]=()=>{v(),y[Hi]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{E(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return s}}};function vb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==un){e=n;break}}return e}const PS=CS;function wb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function tp(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:y,onLeave:v,onAfterLeave:E,onLeaveCancelled:S,onBeforeAppear:U,onAppear:q,onAfterAppear:L,onAppearCancelled:R}=e,x=String(t.key),B=wb(n,t),ne=(I,O)=>{I&&Kr(I,r,9,O)},D=(I,O)=>{const V=O[1];ne(I,O),$e(I)?I.every(M=>M.length<=1)&&V():I.length<=1&&V()},A={mode:o,persisted:a,beforeEnter(I){let O=l;if(!n.isMounted)if(s)O=U||l;else return;I[Hi]&&I[Hi](!0);const V=B[x];V&&Fr(t,V)&&V.el[Hi]&&V.el[Hi](),ne(O,[I])},enter(I){let O=f,V=d,M=p;if(!n.isMounted)if(s)O=q||f,V=L||d,M=R||p;else return;let P=!1;const Ue=I[ll]=Ge=>{P||(P=!0,Ge?ne(M,[I]):ne(V,[I]),A.delayedLeave&&A.delayedLeave(),I[ll]=void 0)};O?D(O,[I,Ue]):Ue()},leave(I,O){const V=String(t.key);if(I[ll]&&I[ll](!0),n.isUnmounting)return O();ne(y,[I]);let M=!1;const P=I[Hi]=Ue=>{M||(M=!0,O(),Ue?ne(S,[I]):ne(E,[I]),I[Hi]=void 0,B[V]===t&&delete B[V])};B[V]=t,v?D(v,[I,P]):P()},clone(I){const O=tp(I,e,n,r,i);return i&&i(O),O}};return A}function Yh(t){if(Nu(t))return t=wi(t),t.children=null,t}function ny(t){if(!Nu(t))return gb(t.type)&&t.children?vb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&qe(n.default))return n.default()}}function Ka(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ka(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bb(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Dn?(o.patchFlag&128&&i++,r=r.concat(bb(o.children,e,a))):(e||o.type!==un)&&r.push(a!=null?wi(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Xt(t,e){return qe(t)?yn({name:t.name},e,{setup:t}):t}function Pm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ef=new WeakMap;function Na(t,e,n,r,i=!1){if($e(t)){t.forEach((E,S)=>Na(E,e&&($e(e)?e[S]:e),n,r,i));return}if(Lo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Na(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Zf(r.component):r.el,o=i?null:s,{i:a,r:l}=t,f=e&&e.r,d=a.refs===Rt?a.refs={}:a.refs,p=a.setupState,y=Qe(p),v=p===Rt?Bw:E=>wt(y,E);if(f!=null&&f!==l){if(ry(e),Bt(f))d[f]=null,v(f)&&(p[f]=null);else if(Lt(f)){f.value=null;const E=e;E.k&&(d[E.k]=null)}}if(qe(l))Du(l,a,12,[o,d]);else{const E=Bt(l),S=Lt(l);if(E||S){const U=()=>{if(t.f){const q=E?v(l)?p[l]:d[l]:l.value;if(i)$e(q)&&gm(q,s);else if($e(q))q.includes(s)||q.push(s);else if(E)d[l]=[s],v(l)&&(p[l]=d[l]);else{const L=[s];l.value=L,t.k&&(d[t.k]=L)}}else E?(d[l]=o,v(l)&&(p[l]=o)):S&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const q=()=>{U(),ef.delete(t)};q.id=-1,ef.set(t,q),mn(q,n)}else ry(t),U()}}}function ry(t){const e=ef.get(t);e&&(e.flags|=8,ef.delete(t))}let iy=!1;const ma=()=>{iy||(console.error("Hydration completed but contains mismatches."),iy=!0)},kS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",OS=t=>t.namespaceURI.includes("MathML"),fl=t=>{if(t.nodeType===1){if(kS(t))return"svg";if(OS(t))return"mathml"}},Ra=t=>t.nodeType===8;function DS(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:f}}=t,d=(R,x)=>{if(!x.hasChildNodes()){n(null,R,x),Xl(),x._vnode=R;return}p(x.firstChild,R,null,null,null),Xl(),x._vnode=R},p=(R,x,B,ne,D,A=!1)=>{A=A||!!x.dynamicChildren;const I=Ra(R)&&R.data==="[",O=()=>S(R,x,B,ne,D,I),{type:V,ref:M,shapeFlag:P,patchFlag:Ue}=x;let Ge=R.nodeType;x.el=R,Ue===-2&&(A=!1,x.dynamicChildren=null);let Se=null;switch(V){case Fo:Ge!==3?x.children===""?(l(x.el=i(""),o(R),R),Se=R):Se=O():(R.data!==x.children&&(ma(),R.data=x.children),Se=s(R));break;case un:L(R)?(Se=s(R),q(x.el=R.content.firstChild,R,B)):Ge!==8||I?Se=O():Se=s(R);break;case Ma:if(I&&(R=s(R),Ge=R.nodeType),Ge===1||Ge===3){Se=R;const Ne=!x.children.length;for(let Ee=0;Ee<x.staticCount;Ee++)Ne&&(x.children+=Se.nodeType===1?Se.outerHTML:Se.data),Ee===x.staticCount-1&&(x.anchor=Se),Se=s(Se);return I?s(Se):Se}else O();break;case Dn:I?Se=E(R,x,B,ne,D,A):Se=O();break;default:if(P&1)(Ge!==1||x.type.toLowerCase()!==R.tagName.toLowerCase())&&!L(R)?Se=O():Se=y(R,x,B,ne,D,A);else if(P&6){x.slotScopeIds=D;const Ne=o(R);if(I?Se=U(R):Ra(R)&&R.data==="teleport start"?Se=U(R,R.data,"teleport end"):Se=s(R),e(x,Ne,null,B,ne,fl(Ne),A),Lo(x)&&!x.type.__asyncResolved){let Ee;I?(Ee=ze(Dn),Ee.anchor=Se?Se.previousSibling:Ne.lastChild):Ee=R.nodeType===3?du(""):ze("div"),Ee.el=R,x.component.subTree=Ee}}else P&64?Ge!==8?Se=O():Se=x.type.hydrate(R,x,B,ne,D,A,t,v):P&128&&(Se=x.type.hydrate(R,x,B,ne,fl(o(R)),D,A,t,p))}return M!=null&&Na(M,null,ne,x),Se},y=(R,x,B,ne,D,A)=>{A=A||!!x.dynamicChildren;const{type:I,props:O,patchFlag:V,shapeFlag:M,dirs:P,transition:Ue}=x,Ge=I==="input"||I==="option";if(Ge||V!==-1){P&&oi(x,null,B,"created");let Se=!1;if(L(R)){Se=Wb(null,Ue)&&B&&B.vnode.props&&B.vnode.props.appear;const Ee=R.content.firstChild;if(Se){const st=Ee.getAttribute("class");st&&(Ee.$cls=st),Ue.beforeEnter(Ee)}q(Ee,R,B),x.el=R=Ee}if(M&16&&!(O&&(O.innerHTML||O.textContent))){let Ee=v(R.firstChild,x,R,B,ne,D,A);for(;Ee;){hl(R,1)||ma();const st=Ee;Ee=Ee.nextSibling,a(st)}}else if(M&8){let Ee=x.children;Ee[0]===`
`&&(R.tagName==="PRE"||R.tagName==="TEXTAREA")&&(Ee=Ee.slice(1));const{textContent:st}=R;st!==Ee&&st!==Ee.replace(/\r\n|\r/g,`
`)&&(hl(R,0)||ma(),R.textContent=x.children)}if(O){if(Ge||!A||V&48){const Ee=R.tagName.includes("-");for(const st in O)(Ge&&(st.endsWith("value")||st==="indeterminate")||Ou(st)&&!ka(st)||st[0]==="."||Ee)&&r(R,st,null,O[st],void 0,B)}else if(O.onClick)r(R,"onClick",null,O.onClick,void 0,B);else if(V&4&&fi(O.style))for(const Ee in O.style)O.style[Ee]}let Ne;(Ne=O&&O.onVnodeBeforeMount)&&Qn(Ne,B,x),P&&oi(x,null,B,"beforeMount"),((Ne=O&&O.onVnodeMounted)||P||Se)&&Jb(()=>{Ne&&Qn(Ne,B,x),Se&&Ue.enter(R),P&&oi(x,null,B,"mounted")},ne)}return R.nextSibling},v=(R,x,B,ne,D,A,I)=>{I=I||!!x.dynamicChildren;const O=x.children,V=O.length;for(let M=0;M<V;M++){const P=I?O[M]:O[M]=sr(O[M]),Ue=P.type===Fo;R?(Ue&&!I&&M+1<V&&sr(O[M+1]).type===Fo&&(l(i(R.data.slice(P.children.length)),B,s(R)),R.data=P.children),R=p(R,P,ne,D,A,I)):Ue&&!P.children?l(P.el=i(""),B):(hl(B,1)||ma(),n(null,P,B,null,ne,D,fl(B),A))}return R},E=(R,x,B,ne,D,A)=>{const{slotScopeIds:I}=x;I&&(D=D?D.concat(I):I);const O=o(R),V=v(s(R),x,O,B,ne,D,A);return V&&Ra(V)&&V.data==="]"?s(x.anchor=V):(ma(),l(x.anchor=f("]"),O,V),V)},S=(R,x,B,ne,D,A)=>{if(hl(R.parentElement,1)||ma(),x.el=null,A){const V=U(R);for(;;){const M=s(R);if(M&&M!==V)a(M);else break}}const I=s(R),O=o(R);return a(R),n(null,x,O,I,B,ne,fl(O),D),B&&(B.vnode.el=x.el,Xf(B,x.el)),I},U=(R,x="[",B="]")=>{let ne=0;for(;R;)if(R=s(R),R&&Ra(R)&&(R.data===x&&ne++,R.data===B)){if(ne===0)return s(R);ne--}return R},q=(R,x,B)=>{const ne=x.parentNode;ne&&ne.replaceChild(R,x);let D=B;for(;D;)D.vnode.el===x&&(D.vnode.el=D.subTree.el=R),D=D.parent},L=R=>R.nodeType===1&&R.tagName==="TEMPLATE";return[d,p]}const sy="data-allow-mismatch",NS={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function hl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(sy);)t=t.parentElement;const n=t&&t.getAttribute(sy);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(NS[e])}}Kf().requestIdleCallback;Kf().cancelIdleCallback;function xS(t,e){if(Ra(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Ra(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Lo=t=>!!t.type.__asyncLoader;function ga(t){qe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let f=null,d,p=0;const y=()=>(p++,f=null,v()),v=()=>{let E;return f||(E=f=e().catch(S=>{if(S=S instanceof Error?S:new Error(String(S)),l)return new Promise((U,q)=>{l(S,()=>U(y()),()=>q(S),p+1)});throw S}).then(S=>E!==f&&f?f:(S&&(S.__esModule||S[Symbol.toStringTag]==="Module")&&(S=S.default),d=S,S)))};return Xt({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(E,S,U){let q=!1;(S.bu||(S.bu=[])).push(()=>q=!0);const L=()=>{q||U()},R=s?()=>{const x=s(L,B=>xS(E,B));x&&(S.bum||(S.bum=[])).push(x)}:L;d?R():v().then(()=>!S.isUnmounted&&R())},get __asyncResolved(){return d},setup(){const E=En;if(Pm(E),d)return()=>dl(d,E);const S=R=>{f=null,cc(R,E,13,!r)};if(a&&E.suspense||za)return v().then(R=>()=>dl(R,E)).catch(R=>(S(R),()=>r?ze(r,{error:R}):null));const U=Ut(!1),q=Ut(),L=Ut(!!i);return i&&setTimeout(()=>{L.value=!1},i),o!=null&&setTimeout(()=>{if(!U.value&&!q.value){const R=new Error(`Async component timed out after ${o}ms.`);S(R),q.value=R}},o),v().then(()=>{U.value=!0,E.parent&&Nu(E.parent.vnode)&&E.parent.update()}).catch(R=>{S(R),q.value=R}),()=>{if(U.value&&d)return dl(d,E);if(q.value&&r)return ze(r,{error:q.value});if(n&&!L.value)return dl(n,E)}}})}function dl(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=ze(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Nu=t=>t.type.__isKeepAlive,MS={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=us(),r=n.ctx;if(!r.renderer)return()=>{const L=e.default&&e.default();return L&&L.length===1?L[0]:L};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:f,um:d,o:{createElement:p}}}=r,y=p("div");r.activate=(L,R,x,B,ne)=>{const D=L.component;f(L,R,x,0,a),l(D.vnode,L,R,x,D,a,B,L.slotScopeIds,ne),mn(()=>{D.isDeactivated=!1,D.a&&Oa(D.a);const A=L.props&&L.props.onVnodeMounted;A&&Qn(A,D.parent,L)},a)},r.deactivate=L=>{const R=L.component;nf(R.m),nf(R.a),f(L,y,null,1,a),mn(()=>{R.da&&Oa(R.da);const x=L.props&&L.props.onVnodeUnmounted;x&&Qn(x,R.parent,L),R.isDeactivated=!0},a)};function v(L){Xh(L),d(L,n,a,!0)}function E(L){i.forEach((R,x)=>{const B=fp(R.type);B&&!L(B)&&S(x)})}function S(L){const R=i.get(L);R&&(!o||!Fr(R,o))?v(R):o&&Xh(o),i.delete(L),s.delete(L)}Ir(()=>[t.include,t.exclude],([L,R])=>{L&&E(x=>Uc(L,x)),R&&E(x=>!Uc(R,x))},{flush:"post",deep:!0});let U=null;const q=()=>{U!=null&&(rf(n.subTree.type)?mn(()=>{i.set(U,pl(n.subTree))},n.subTree.suspense):i.set(U,pl(n.subTree)))};return zo(q),Rb(q),uc(()=>{i.forEach(L=>{const{subTree:R,suspense:x}=n,B=pl(R);if(L.type===B.type&&L.key===B.key){Xh(B);const ne=B.component.da;ne&&mn(ne,x);return}v(L)})}),()=>{if(U=null,!e.default)return o=null;const L=e.default(),R=L[0];if(L.length>1)return o=null,L;if(!Us(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let x=pl(R);if(x.type===un)return o=null,x;const B=x.type,ne=fp(Lo(x)?x.type.__asyncResolved||{}:B),{include:D,exclude:A,max:I}=t;if(D&&(!ne||!Uc(D,ne))||A&&ne&&Uc(A,ne))return x.shapeFlag&=-257,o=x,R;const O=x.key==null?B:x.key,V=i.get(O);return x.el&&(x=wi(x),R.shapeFlag&128&&(R.ssContent=x)),U=O,V?(x.el=V.el,x.component=V.component,x.transition&&Ka(x,x.transition),x.shapeFlag|=512,s.delete(O),s.add(O)):(s.add(O),I&&s.size>parseInt(I,10)&&S(s.values().next().value)),x.shapeFlag|=256,o=x,rf(R.type)?R:x}}},LS=MS;function Uc(t,e){return $e(t)?t.some(n=>Uc(n,e)):Bt(t)?t.split(",").includes(e):MA(t)?(t.lastIndex=0,t.test(e)):!1}function Eb(t,e){Ib(t,"a",e)}function Tb(t,e){Ib(t,"da",e)}function Ib(t,e,n=En){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Jf(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Nu(i.parent.vnode)&&VS(r,e,n,i),i=i.parent}}function VS(t,e,n,r){const i=Jf(e,t,r,!0);dr(()=>{gm(r[e],i)},n)}function Xh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function pl(t){return t.shapeFlag&128?t.ssContent:t}function Jf(t,e,n=En,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Zi();const a=Bo(n),l=Kr(e,n,t,o);return a(),es(),l});return r?i.unshift(s):i.push(s),s}}const cs=t=>(e,n=En)=>{(!za||t==="sp")&&Jf(t,(...r)=>e(...r),n)},Ab=cs("bm"),zo=cs("m"),Sb=cs("bu"),Rb=cs("u"),uc=cs("bum"),dr=cs("um"),FS=cs("sp"),US=cs("rtg"),BS=cs("rtc");function Cb(t,e=En){Jf("ec",t,e)}const Pb="components";function np(t,e){return Ob(Pb,t,!0,e)||t}const kb=Symbol.for("v-ndc");function jS(t){return Bt(t)?Ob(Pb,t,!1)||t:t||kb}function Ob(t,e,n=!0,r=!1){const i=ar||En;if(i){const s=i.type;{const a=fp(s,!1);if(a&&(a===e||a===Sr(e)||a===qf(Sr(e))))return s}const o=oy(i[t]||s[t],e)||oy(i.appContext[t],e);return!o&&r?s:o}}function oy(t,e){return t&&(t[e]||t[Sr(e)]||t[qf(Sr(e))])}function fj(t,e,n,r){let i;const s=n,o=$e(t);if(o||Bt(t)){const a=o&&fi(t);let l=!1,f=!1;a&&(l=!ur(t),f=vi(t),t=Gf(t)),i=new Array(t.length);for(let d=0,p=t.length;d<p;d++)i[d]=e(l?f?Ha(Hr(t[d])):Hr(t[d]):t[d],d,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(It(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];i[l]=e(t[d],d,l,s)}}else i=[];return i}const rp=t=>t?eE(t)?Zf(t):rp(t.parent):null,zc=yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rp(t.parent),$root:t=>rp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Nb(t),$forceUpdate:t=>t.f||(t.f=()=>{Cm(t.update)}),$nextTick:t=>t.n||(t.n=fr.bind(t.proxy)),$watch:t=>XS.bind(t)}),Zh=(t,e)=>t!==Rt&&!t.__isScriptSetup&&wt(t,e),$S={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Zh(r,e))return o[e]=1,r[e];if(i!==Rt&&wt(i,e))return o[e]=2,i[e];if(wt(s,e))return o[e]=3,s[e];if(n!==Rt&&wt(n,e))return o[e]=4,n[e];ip&&(o[e]=0)}}const f=zc[e];let d,p;if(f)return e==="$attrs"&&On(t.attrs,"get",""),f(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Rt&&wt(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,wt(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Zh(i,e)?(i[e]=n,!0):r!==Rt&&wt(r,e)?(r[e]=n,!0):wt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:s,type:o}},a){let l;return!!(n[a]||t!==Rt&&a[0]!=="$"&&wt(t,a)||Zh(e,a)||wt(s,a)||wt(r,a)||wt(zc,a)||wt(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:wt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ay(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function hj(t){const e=us();let n=t();return up(),ym(n)&&(n=n.catch(r=>{throw Bo(e),r})),[n,()=>Bo(e)]}let ip=!0;function qS(t){const e=Nb(t),n=t.proxy,r=t.ctx;ip=!1,e.beforeCreate&&cy(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:f,created:d,beforeMount:p,mounted:y,beforeUpdate:v,updated:E,activated:S,deactivated:U,beforeDestroy:q,beforeUnmount:L,destroyed:R,unmounted:x,render:B,renderTracked:ne,renderTriggered:D,errorCaptured:A,serverPrefetch:I,expose:O,inheritAttrs:V,components:M,directives:P,filters:Ue}=e;if(f&&HS(f,r,null),o)for(const Ne in o){const Ee=o[Ne];qe(Ee)&&(r[Ne]=Ee.bind(n))}if(i){const Ne=i.call(n,n);It(Ne)&&(t.data=fn(Ne))}if(ip=!0,s)for(const Ne in s){const Ee=s[Ne],st=qe(Ee)?Ee.bind(n,n):qe(Ee.get)?Ee.get.bind(n,n):jr,Wt=!qe(Ee)&&qe(Ee.set)?Ee.set.bind(n):jr,An=et({get:st,set:Wt});Object.defineProperty(r,Ne,{enumerable:!0,configurable:!0,get:()=>An.value,set:kt=>An.value=kt})}if(a)for(const Ne in a)Db(a[Ne],r,n,Ne);if(l){const Ne=qe(l)?l.call(n):l;Reflect.ownKeys(Ne).forEach(Ee=>{Yi(Ee,Ne[Ee])})}d&&cy(d,t,"c");function Se(Ne,Ee){$e(Ee)?Ee.forEach(st=>Ne(st.bind(n))):Ee&&Ne(Ee.bind(n))}if(Se(Ab,p),Se(zo,y),Se(Sb,v),Se(Rb,E),Se(Eb,S),Se(Tb,U),Se(Cb,A),Se(BS,ne),Se(US,D),Se(uc,L),Se(dr,x),Se(FS,I),$e(O))if(O.length){const Ne=t.exposed||(t.exposed={});O.forEach(Ee=>{Object.defineProperty(Ne,Ee,{get:()=>n[Ee],set:st=>n[Ee]=st,enumerable:!0})})}else t.exposed||(t.exposed={});B&&t.render===jr&&(t.render=B),V!=null&&(t.inheritAttrs=V),M&&(t.components=M),P&&(t.directives=P),I&&Pm(t)}function HS(t,e,n=jr){$e(t)&&(t=sp(t));for(const r in t){const i=t[r];let s;It(i)?"default"in i?s=Kt(i.from||r,i.default,!0):s=Kt(i.from||r):s=Kt(i),Lt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function cy(t,e,n){Kr($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Db(t,e,n,r){let i=r.includes(".")?Mb(n,r):()=>n[r];if(Bt(t)){const s=e[t];qe(s)&&Ir(i,s)}else if(qe(t))Ir(i,t.bind(n));else if(It(t))if($e(t))t.forEach(s=>Db(s,e,n,r));else{const s=qe(t.handler)?t.handler.bind(n):e[t.handler];qe(s)&&Ir(i,s,t)}}function Nb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(f=>tf(l,f,o,!0)),tf(l,e,o)),It(e)&&s.set(e,l),l}function tf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&tf(t,s,n,!0),i&&i.forEach(o=>tf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=KS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const KS={data:uy,props:ly,emits:ly,methods:Bc,computed:Bc,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:Bc,directives:Bc,watch:zS,provide:uy,inject:WS};function uy(t,e){return e?t?function(){return yn(qe(t)?t.call(this,this):t,qe(e)?e.call(this,this):e)}:e:t}function WS(t,e){return Bc(sp(t),sp(e))}function sp(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $n(t,e){return t?[...new Set([].concat(t,e))]:e}function Bc(t,e){return t?yn(Object.create(null),t,e):e}function ly(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:yn(Object.create(null),ay(t),ay(e??{})):e}function zS(t,e){if(!t)return e;if(!e)return t;const n=yn(Object.create(null),t);for(const r in e)n[r]=$n(t[r],e[r]);return n}function xb(){return{app:null,config:{isNativeTag:Bw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GS=0;function QS(t,e){return function(r,i=null){qe(r)||(r=yn({},r)),i!=null&&!It(i)&&(i=null);const s=xb(),o=new WeakSet,a=[];let l=!1;const f=s.app={_uid:GS++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:OR,get config(){return s.config},set config(d){},use(d,...p){return o.has(d)||(d&&qe(d.install)?(o.add(d),d.install(f,...p)):qe(d)&&(o.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,y){if(!l){const v=f._ceVNode||ze(r,i);return v.appContext=s,y===!0?y="svg":y===!1&&(y=void 0),p&&e?e(v,d):t(v,d,y),l=!0,f._container=d,d.__vue_app__=f,Zf(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Kr(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f},runWithContext(d){const p=Vo;Vo=f;try{return d()}finally{Vo=p}}};return f}}let Vo=null;function Yi(t,e){if(En){let n=En.provides;const r=En.parent&&En.parent.provides;r===n&&(n=En.provides=Object.create(r)),n[t]=e}}function Kt(t,e,n=!1){const r=us();if(r||Vo){let i=Vo?Vo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&qe(e)?e.call(r&&r.proxy):e}}function xu(){return!!(us()||Vo)}const JS=Symbol.for("v-scx"),YS=()=>Kt(JS);function Gc(t,e){return km(t,null,e)}function Ir(t,e,n){return km(t,e,n)}function km(t,e,n=Rt){const{immediate:r,deep:i,flush:s,once:o}=n,a=yn({},n),l=e&&r||!e&&s!=="post";let f;if(za){if(s==="sync"){const v=YS();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=jr,v.resume=jr,v.pause=jr,v}}const d=En;a.call=(v,E,S)=>Kr(v,d,E,S);let p=!1;s==="post"?a.scheduler=v=>{mn(v,d&&d.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(v,E)=>{E?v():Cm(v)}),a.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const y=TS(t,e,a);return za&&(f?f.push(y):l&&y()),y}function XS(t,e,n){const r=this.proxy,i=Bt(t)?t.includes(".")?Mb(r,t):()=>r[t]:t.bind(r,r);let s;qe(e)?s=e:(s=e.handler,n=e);const o=Bo(this),a=km(i,s.bind(r),n);return o(),a}function Mb(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const ZS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Sr(e)}Modifiers`]||t[`${zs(e)}Modifiers`];function eR(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Rt;let i=n;const s=e.startsWith("update:"),o=s&&ZS(r,e.slice(7));o&&(o.trim&&(i=n.map(d=>Bt(d)?d.trim():d)),o.number&&(i=n.map(Hf)));let a,l=r[a=Wh(e)]||r[a=Wh(Sr(e))];!l&&s&&(l=r[a=Wh(zs(e))]),l&&Kr(l,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kr(f,t,6,i)}}const tR=new WeakMap;function Lb(t,e,n=!1){const r=n?tR:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!qe(t)){const l=f=>{const d=Lb(f,e,!0);d&&(a=!0,yn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(It(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):yn(o,s),It(t)&&r.set(t,o),o)}function Yf(t,e){return!t||!Ou(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(t,e[0].toLowerCase()+e.slice(1))||wt(t,zs(e))||wt(t,e))}function ed(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:f,renderCache:d,props:p,data:y,setupState:v,ctx:E,inheritAttrs:S}=t,U=Zl(t);let q,L;try{if(n.shapeFlag&4){const x=i||r,B=x;q=sr(f.call(B,x,d,p,v,y,E)),L=a}else{const x=e;q=sr(x.length>1?x(p,{attrs:a,slots:o,emit:l}):x(p,null)),L=e.props?a:rR(a)}}catch(x){Qc.length=0,cc(x,t,1),q=ze(un)}let R=q;if(L&&S!==!1){const x=Object.keys(L),{shapeFlag:B}=R;x.length&&B&7&&(s&&x.some(mm)&&(L=iR(L,s)),R=wi(R,L,!1,!0))}return n.dirs&&(R=wi(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&Ka(R,n.transition),q=R,Zl(U),q}function nR(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Us(i)){if(i.type!==un||i.children==="v-if"){if(n)return;n=i}}else return}return n}const rR=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ou(n))&&((e||(e={}))[n]=t[n]);return e},iR=(t,e)=>{const n={};for(const r in t)(!mm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function sR(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?fy(r,o,f):!!o;if(l&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const y=d[p];if(o[y]!==r[y]&&!Yf(f,y))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?fy(r,o,f):!0:!!o;return!1}function fy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Yf(n,s))return!0}return!1}function Xf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Vb={},Fb=()=>Object.create(Vb),Ub=t=>Object.getPrototypeOf(t)===Vb;function oR(t,e,n,r=!1){const i={},s=Fb();t.propsDefaults=Object.create(null),Bb(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:li(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function aR(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Qe(i),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let y=d[p];if(Yf(t.emitsOptions,y))continue;const v=e[y];if(l)if(wt(s,y))v!==s[y]&&(s[y]=v,f=!0);else{const E=Sr(y);i[E]=op(l,a,E,v,t,!1)}else v!==s[y]&&(s[y]=v,f=!0)}}}else{Bb(t,e,i,s)&&(f=!0);let d;for(const p in a)(!e||!wt(e,p)&&((d=zs(p))===p||!wt(e,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=op(l,a,p,void 0,t,!0)):delete i[p]);if(s!==a)for(const p in s)(!e||!wt(e,p))&&(delete s[p],f=!0)}f&&Ki(t.attrs,"set","")}function Bb(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ka(l))continue;const f=e[l];let d;i&&wt(i,d=Sr(l))?!s||!s.includes(d)?n[d]=f:(a||(a={}))[d]=f:Yf(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(s){const l=Qe(n),f=a||Rt;for(let d=0;d<s.length;d++){const p=s[d];n[p]=op(i,l,p,f[p],t,!wt(f,p))}}return o}function op(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=wt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&qe(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const d=Bo(i);r=f[n]=l.call(null,e),d()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===zs(n))&&(r=!0))}return r}const cR=new WeakMap;function jb(t,e,n=!1){const r=n?cR:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!qe(t)){const d=p=>{l=!0;const[y,v]=jb(p,e,!0);yn(o,y),v&&a.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return It(t)&&r.set(t,Ca),Ca;if($e(s))for(let d=0;d<s.length;d++){const p=Sr(s[d]);hy(p)&&(o[p]=Rt)}else if(s)for(const d in s){const p=Sr(d);if(hy(p)){const y=s[d],v=o[p]=$e(y)||qe(y)?{type:y}:yn({},y),E=v.type;let S=!1,U=!0;if($e(E))for(let q=0;q<E.length;++q){const L=E[q],R=qe(L)&&L.name;if(R==="Boolean"){S=!0;break}else R==="String"&&(U=!1)}else S=qe(E)&&E.name==="Boolean";v[0]=S,v[1]=U,(S||wt(v,"default"))&&a.push(p)}}const f=[o,a];return It(t)&&r.set(t,f),f}function hy(t){return t[0]!=="$"&&!ka(t)}const Om=t=>t==="_"||t==="_ctx"||t==="$stable",Dm=t=>$e(t)?t.map(sr):[sr(t)],uR=(t,e,n)=>{if(e._n)return e;const r=ko((...i)=>Dm(e(...i)),n);return r._c=!1,r},$b=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Om(i))continue;const s=t[i];if(qe(s))e[i]=uR(i,s,r);else if(s!=null){const o=Dm(s);e[i]=()=>o}}},qb=(t,e)=>{const n=Dm(e);t.slots.default=()=>n},Hb=(t,e,n)=>{for(const r in e)(n||!Om(r))&&(t[r]=e[r])},lR=(t,e,n)=>{const r=t.slots=Fb();if(t.vnode.shapeFlag&32){const i=e._;i?(Hb(r,e,n),n&&$w(r,"_",i,!0)):$b(e,r)}else e&&qb(t,e)},fR=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Rt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Hb(i,e,n):(s=!e.$stable,$b(e,i)),o=e}else e&&(qb(t,e),o={default:1});if(s)for(const a in i)!Om(a)&&o[a]==null&&delete i[a]},mn=Jb;function hR(t){return Kb(t)}function dR(t){return Kb(t,DS)}function Kb(t,e){const n=Kf();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:f,setElementText:d,parentNode:p,nextSibling:y,setScopeId:v=jr,insertStaticContent:E}=t,S=(N,j,ee,fe=null,ae=null,he=null,Te=void 0,ye=null,pe=!!j.dynamicChildren)=>{if(N===j)return;N&&!Fr(N,j)&&(fe=oe(N),kt(N,ae,he,!0),N=null),j.patchFlag===-2&&(pe=!1,j.dynamicChildren=null);const{type:de,ref:Ve,shapeFlag:Re}=j;switch(de){case Fo:U(N,j,ee,fe);break;case un:q(N,j,ee,fe);break;case Ma:N==null&&L(j,ee,fe,Te);break;case Dn:M(N,j,ee,fe,ae,he,Te,ye,pe);break;default:Re&1?B(N,j,ee,fe,ae,he,Te,ye,pe):Re&6?P(N,j,ee,fe,ae,he,Te,ye,pe):(Re&64||Re&128)&&de.process(N,j,ee,fe,ae,he,Te,ye,pe,Le)}Ve!=null&&ae?Na(Ve,N&&N.ref,he,j||N,!j):Ve==null&&N&&N.ref!=null&&Na(N.ref,null,he,N,!0)},U=(N,j,ee,fe)=>{if(N==null)r(j.el=a(j.children),ee,fe);else{const ae=j.el=N.el;j.children!==N.children&&f(ae,j.children)}},q=(N,j,ee,fe)=>{N==null?r(j.el=l(j.children||""),ee,fe):j.el=N.el},L=(N,j,ee,fe)=>{[N.el,N.anchor]=E(N.children,j,ee,fe,N.el,N.anchor)},R=({el:N,anchor:j},ee,fe)=>{let ae;for(;N&&N!==j;)ae=y(N),r(N,ee,fe),N=ae;r(j,ee,fe)},x=({el:N,anchor:j})=>{let ee;for(;N&&N!==j;)ee=y(N),i(N),N=ee;i(j)},B=(N,j,ee,fe,ae,he,Te,ye,pe)=>{if(j.type==="svg"?Te="svg":j.type==="math"&&(Te="mathml"),N==null)ne(j,ee,fe,ae,he,Te,ye,pe);else{const de=N.el&&N.el._isVueCE?N.el:null;try{de&&de._beginPatch(),I(N,j,ae,he,Te,ye,pe)}finally{de&&de._endPatch()}}},ne=(N,j,ee,fe,ae,he,Te,ye)=>{let pe,de;const{props:Ve,shapeFlag:Re,transition:Me,dirs:Pe}=N;if(pe=N.el=o(N.type,he,Ve&&Ve.is,Ve),Re&8?d(pe,N.children):Re&16&&A(N.children,pe,null,fe,ae,td(N,he),Te,ye),Pe&&oi(N,null,fe,"created"),D(pe,N,N.scopeId,Te,fe),Ve){for(const ut in Ve)ut!=="value"&&!ka(ut)&&s(pe,ut,null,Ve[ut],he,fe);"value"in Ve&&s(pe,"value",null,Ve.value,he),(de=Ve.onVnodeBeforeMount)&&Qn(de,fe,N)}Pe&&oi(N,null,fe,"beforeMount");const Fe=Wb(ae,Me);Fe&&Me.beforeEnter(pe),r(pe,j,ee),((de=Ve&&Ve.onVnodeMounted)||Fe||Pe)&&mn(()=>{de&&Qn(de,fe,N),Fe&&Me.enter(pe),Pe&&oi(N,null,fe,"mounted")},ae)},D=(N,j,ee,fe,ae)=>{if(ee&&v(N,ee),fe)for(let he=0;he<fe.length;he++)v(N,fe[he]);if(ae){let he=ae.subTree;if(j===he||rf(he.type)&&(he.ssContent===j||he.ssFallback===j)){const Te=ae.vnode;D(N,Te,Te.scopeId,Te.slotScopeIds,ae.parent)}}},A=(N,j,ee,fe,ae,he,Te,ye,pe=0)=>{for(let de=pe;de<N.length;de++){const Ve=N[de]=ye?As(N[de]):sr(N[de]);S(null,Ve,j,ee,fe,ae,he,Te,ye)}},I=(N,j,ee,fe,ae,he,Te)=>{const ye=j.el=N.el;let{patchFlag:pe,dynamicChildren:de,dirs:Ve}=j;pe|=N.patchFlag&16;const Re=N.props||Rt,Me=j.props||Rt;let Pe;if(ee&&bo(ee,!1),(Pe=Me.onVnodeBeforeUpdate)&&Qn(Pe,ee,j,N),Ve&&oi(j,N,ee,"beforeUpdate"),ee&&bo(ee,!0),(Re.innerHTML&&Me.innerHTML==null||Re.textContent&&Me.textContent==null)&&d(ye,""),de?O(N.dynamicChildren,de,ye,ee,fe,td(j,ae),he):Te||Ee(N,j,ye,null,ee,fe,td(j,ae),he,!1),pe>0){if(pe&16)V(ye,Re,Me,ee,ae);else if(pe&2&&Re.class!==Me.class&&s(ye,"class",null,Me.class,ae),pe&4&&s(ye,"style",Re.style,Me.style,ae),pe&8){const Fe=j.dynamicProps;for(let ut=0;ut<Fe.length;ut++){const rt=Fe[ut],Gt=Re[rt],Ft=Me[rt];(Ft!==Gt||rt==="value")&&s(ye,rt,Gt,Ft,ae,ee)}}pe&1&&N.children!==j.children&&d(ye,j.children)}else!Te&&de==null&&V(ye,Re,Me,ee,ae);((Pe=Me.onVnodeUpdated)||Ve)&&mn(()=>{Pe&&Qn(Pe,ee,j,N),Ve&&oi(j,N,ee,"updated")},fe)},O=(N,j,ee,fe,ae,he,Te)=>{for(let ye=0;ye<j.length;ye++){const pe=N[ye],de=j[ye],Ve=pe.el&&(pe.type===Dn||!Fr(pe,de)||pe.shapeFlag&198)?p(pe.el):ee;S(pe,de,Ve,null,fe,ae,he,Te,!0)}},V=(N,j,ee,fe,ae)=>{if(j!==ee){if(j!==Rt)for(const he in j)!ka(he)&&!(he in ee)&&s(N,he,j[he],null,ae,fe);for(const he in ee){if(ka(he))continue;const Te=ee[he],ye=j[he];Te!==ye&&he!=="value"&&s(N,he,ye,Te,ae,fe)}"value"in ee&&s(N,"value",j.value,ee.value,ae)}},M=(N,j,ee,fe,ae,he,Te,ye,pe)=>{const de=j.el=N?N.el:a(""),Ve=j.anchor=N?N.anchor:a("");let{patchFlag:Re,dynamicChildren:Me,slotScopeIds:Pe}=j;Pe&&(ye=ye?ye.concat(Pe):Pe),N==null?(r(de,ee,fe),r(Ve,ee,fe),A(j.children||[],ee,Ve,ae,he,Te,ye,pe)):Re>0&&Re&64&&Me&&N.dynamicChildren?(O(N.dynamicChildren,Me,ee,ae,he,Te,ye),(j.key!=null||ae&&j===ae.subTree)&&zb(N,j,!0)):Ee(N,j,ee,Ve,ae,he,Te,ye,pe)},P=(N,j,ee,fe,ae,he,Te,ye,pe)=>{j.slotScopeIds=ye,N==null?j.shapeFlag&512?ae.ctx.activate(j,ee,fe,Te,pe):Ue(j,ee,fe,ae,he,Te,pe):Ge(N,j,pe)},Ue=(N,j,ee,fe,ae,he,Te)=>{const ye=N.component=AR(N,fe,ae);if(Nu(N)&&(ye.ctx.renderer=Le),SR(ye,!1,Te),ye.asyncDep){if(ae&&ae.registerDep(ye,Se,Te),!N.el){const pe=ye.subTree=ze(un);q(null,pe,j,ee),N.placeholder=pe.el}}else Se(ye,N,j,ee,ae,he,Te)},Ge=(N,j,ee)=>{const fe=j.component=N.component;if(sR(N,j,ee))if(fe.asyncDep&&!fe.asyncResolved){Ne(fe,j,ee);return}else fe.next=j,fe.update();else j.el=N.el,fe.vnode=j},Se=(N,j,ee,fe,ae,he,Te)=>{const ye=()=>{if(N.isMounted){let{next:Re,bu:Me,u:Pe,parent:Fe,vnode:ut}=N;{const Qt=Gb(N);if(Qt){Re&&(Re.el=ut.el,Ne(N,Re,Te)),Qt.asyncDep.then(()=>{N.isUnmounted||ye()});return}}let rt=Re,Gt;bo(N,!1),Re?(Re.el=ut.el,Ne(N,Re,Te)):Re=ut,Me&&Oa(Me),(Gt=Re.props&&Re.props.onVnodeBeforeUpdate)&&Qn(Gt,Fe,Re,ut),bo(N,!0);const Ft=ed(N),Ot=N.subTree;N.subTree=Ft,S(Ot,Ft,p(Ot.el),oe(Ot),N,ae,he),Re.el=Ft.el,rt===null&&Xf(N,Ft.el),Pe&&mn(Pe,ae),(Gt=Re.props&&Re.props.onVnodeUpdated)&&mn(()=>Qn(Gt,Fe,Re,ut),ae)}else{let Re;const{el:Me,props:Pe}=j,{bm:Fe,m:ut,parent:rt,root:Gt,type:Ft}=N,Ot=Lo(j);if(bo(N,!1),Fe&&Oa(Fe),!Ot&&(Re=Pe&&Pe.onVnodeBeforeMount)&&Qn(Re,rt,j),bo(N,!0),Me&&Be){const Qt=()=>{N.subTree=ed(N),Be(Me,N.subTree,N,ae,null)};Ot&&Ft.__asyncHydrate?Ft.__asyncHydrate(Me,N,Qt):Qt()}else{Gt.ce&&Gt.ce._def.shadowRoot!==!1&&Gt.ce._injectChildStyle(Ft);const Qt=N.subTree=ed(N);S(null,Qt,ee,fe,N,ae,he),j.el=Qt.el}if(ut&&mn(ut,ae),!Ot&&(Re=Pe&&Pe.onVnodeMounted)){const Qt=j;mn(()=>Qn(Re,rt,Qt),ae)}(j.shapeFlag&256||rt&&Lo(rt.vnode)&&rt.vnode.shapeFlag&256)&&N.a&&mn(N.a,ae),N.isMounted=!0,j=ee=fe=null}};N.scope.on();const pe=N.effect=new Gw(ye);N.scope.off();const de=N.update=pe.run.bind(pe),Ve=N.job=pe.runIfDirty.bind(pe);Ve.i=N,Ve.id=N.uid,pe.scheduler=()=>Cm(Ve),bo(N,!0),de()},Ne=(N,j,ee)=>{j.component=N;const fe=N.vnode.props;N.vnode=j,N.next=null,aR(N,j.props,fe,ee),fR(N,j.children,ee),Zi(),ty(N),es()},Ee=(N,j,ee,fe,ae,he,Te,ye,pe=!1)=>{const de=N&&N.children,Ve=N?N.shapeFlag:0,Re=j.children,{patchFlag:Me,shapeFlag:Pe}=j;if(Me>0){if(Me&128){Wt(de,Re,ee,fe,ae,he,Te,ye,pe);return}else if(Me&256){st(de,Re,ee,fe,ae,he,Te,ye,pe);return}}Pe&8?(Ve&16&&zt(de,ae,he),Re!==de&&d(ee,Re)):Ve&16?Pe&16?Wt(de,Re,ee,fe,ae,he,Te,ye,pe):zt(de,ae,he,!0):(Ve&8&&d(ee,""),Pe&16&&A(Re,ee,fe,ae,he,Te,ye,pe))},st=(N,j,ee,fe,ae,he,Te,ye,pe)=>{N=N||Ca,j=j||Ca;const de=N.length,Ve=j.length,Re=Math.min(de,Ve);let Me;for(Me=0;Me<Re;Me++){const Pe=j[Me]=pe?As(j[Me]):sr(j[Me]);S(N[Me],Pe,ee,null,ae,he,Te,ye,pe)}de>Ve?zt(N,ae,he,!0,!1,Re):A(j,ee,fe,ae,he,Te,ye,pe,Re)},Wt=(N,j,ee,fe,ae,he,Te,ye,pe)=>{let de=0;const Ve=j.length;let Re=N.length-1,Me=Ve-1;for(;de<=Re&&de<=Me;){const Pe=N[de],Fe=j[de]=pe?As(j[de]):sr(j[de]);if(Fr(Pe,Fe))S(Pe,Fe,ee,null,ae,he,Te,ye,pe);else break;de++}for(;de<=Re&&de<=Me;){const Pe=N[Re],Fe=j[Me]=pe?As(j[Me]):sr(j[Me]);if(Fr(Pe,Fe))S(Pe,Fe,ee,null,ae,he,Te,ye,pe);else break;Re--,Me--}if(de>Re){if(de<=Me){const Pe=Me+1,Fe=Pe<Ve?j[Pe].el:fe;for(;de<=Me;)S(null,j[de]=pe?As(j[de]):sr(j[de]),ee,Fe,ae,he,Te,ye,pe),de++}}else if(de>Me)for(;de<=Re;)kt(N[de],ae,he,!0),de++;else{const Pe=de,Fe=de,ut=new Map;for(de=Fe;de<=Me;de++){const Ce=j[de]=pe?As(j[de]):sr(j[de]);Ce.key!=null&&ut.set(Ce.key,de)}let rt,Gt=0;const Ft=Me-Fe+1;let Ot=!1,Qt=0;const pr=new Array(Ft);for(de=0;de<Ft;de++)pr[de]=0;for(de=Pe;de<=Re;de++){const Ce=N[de];if(Gt>=Ft){kt(Ce,ae,he,!0);continue}let dn;if(Ce.key!=null)dn=ut.get(Ce.key);else for(rt=Fe;rt<=Me;rt++)if(pr[rt-Fe]===0&&Fr(Ce,j[rt])){dn=rt;break}dn===void 0?kt(Ce,ae,he,!0):(pr[dn-Fe]=de+1,dn>=Qt?Qt=dn:Ot=!0,S(Ce,j[dn],ee,null,ae,he,Te,ye,pe),Gt++)}const Ln=Ot?pR(pr):Ca;for(rt=Ln.length-1,de=Ft-1;de>=0;de--){const Ce=Fe+de,dn=j[Ce],zn=j[Ce+1],Qr=Ce+1<Ve?zn.el||zn.placeholder:fe;pr[de]===0?S(null,dn,ee,Qr,ae,he,Te,ye,pe):Ot&&(rt<0||de!==Ln[rt]?An(dn,ee,Qr,2):rt--)}}},An=(N,j,ee,fe,ae=null)=>{const{el:he,type:Te,transition:ye,children:pe,shapeFlag:de}=N;if(de&6){An(N.component.subTree,j,ee,fe);return}if(de&128){N.suspense.move(j,ee,fe);return}if(de&64){Te.move(N,j,ee,Le);return}if(Te===Dn){r(he,j,ee);for(let Re=0;Re<pe.length;Re++)An(pe[Re],j,ee,fe);r(N.anchor,j,ee);return}if(Te===Ma){R(N,j,ee);return}if(fe!==2&&de&1&&ye)if(fe===0)ye.beforeEnter(he),r(he,j,ee),mn(()=>ye.enter(he),ae);else{const{leave:Re,delayLeave:Me,afterLeave:Pe}=ye,Fe=()=>{N.ctx.isUnmounted?i(he):r(he,j,ee)},ut=()=>{he._isLeaving&&he[Hi](!0),Re(he,()=>{Fe(),Pe&&Pe()})};Me?Me(he,Fe,ut):ut()}else r(he,j,ee)},kt=(N,j,ee,fe=!1,ae=!1)=>{const{type:he,props:Te,ref:ye,children:pe,dynamicChildren:de,shapeFlag:Ve,patchFlag:Re,dirs:Me,cacheIndex:Pe}=N;if(Re===-2&&(ae=!1),ye!=null&&(Zi(),Na(ye,null,ee,N,!0),es()),Pe!=null&&(j.renderCache[Pe]=void 0),Ve&256){j.ctx.deactivate(N);return}const Fe=Ve&1&&Me,ut=!Lo(N);let rt;if(ut&&(rt=Te&&Te.onVnodeBeforeUnmount)&&Qn(rt,j,N),Ve&6)hn(N.component,ee,fe);else{if(Ve&128){N.suspense.unmount(ee,fe);return}Fe&&oi(N,null,j,"beforeUnmount"),Ve&64?N.type.remove(N,j,ee,Le,fe):de&&!de.hasOnce&&(he!==Dn||Re>0&&Re&64)?zt(de,j,ee,!1,!0):(he===Dn&&Re&384||!ae&&Ve&16)&&zt(pe,j,ee),fe&&pt(N)}(ut&&(rt=Te&&Te.onVnodeUnmounted)||Fe)&&mn(()=>{rt&&Qn(rt,j,N),Fe&&oi(N,null,j,"unmounted")},ee)},pt=N=>{const{type:j,el:ee,anchor:fe,transition:ae}=N;if(j===Dn){Cr(ee,fe);return}if(j===Ma){x(N);return}const he=()=>{i(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(N.shapeFlag&1&&ae&&!ae.persisted){const{leave:Te,delayLeave:ye}=ae,pe=()=>Te(ee,he);ye?ye(N.el,he,pe):pe()}else he()},Cr=(N,j)=>{let ee;for(;N!==j;)ee=y(N),i(N),N=ee;i(j)},hn=(N,j,ee)=>{const{bum:fe,scope:ae,job:he,subTree:Te,um:ye,m:pe,a:de}=N;nf(pe),nf(de),fe&&Oa(fe),ae.stop(),he&&(he.flags|=8,kt(Te,N,j,ee)),ye&&mn(ye,j),mn(()=>{N.isUnmounted=!0},j)},zt=(N,j,ee,fe=!1,ae=!1,he=0)=>{for(let Te=he;Te<N.length;Te++)kt(N[Te],j,ee,fe,ae)},oe=N=>{if(N.shapeFlag&6)return oe(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const j=y(N.anchor||N.el),ee=j&&j[SS];return ee?y(ee):j};let Oe=!1;const ie=(N,j,ee)=>{N==null?j._vnode&&kt(j._vnode,null,null,!0):S(j._vnode||null,N,j,null,null,null,ee),j._vnode=N,Oe||(Oe=!0,ty(),Xl(),Oe=!1)},Le={p:S,um:kt,m:An,r:pt,mt:Ue,mc:A,pc:Ee,pbc:O,n:oe,o:t};let Ke,Be;return e&&([Ke,Be]=e(Le)),{render:ie,hydrate:Ke,createApp:QS(ie,Ke)}}function td({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function bo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zb(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=As(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&zb(o,a)),a.type===Fo&&a.patchFlag!==-1&&(a.el=o.el),a.type===un&&!a.el&&(a.el=o.el)}}function pR(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<f?s=a+1:o=a;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Gb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gb(e)}function nf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const rf=t=>t.__isSuspense;let ap=0;const mR={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,f){if(t==null)gR(e,n,r,i,s,o,a,l,f);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}yR(t,e,n,r,i,o,a,l,f)}},hydrate:_R,normalize:vR},Nm=mR;function hu(t,e){const n=t.props&&t.props[e];qe(n)&&n()}function gR(t,e,n,r,i,s,o,a,l){const{p:f,o:{createElement:d}}=l,p=d("div"),y=t.suspense=Qb(t,i,r,e,p,n,s,o,a,l);f(null,y.pendingBranch=t.ssContent,p,null,r,y,s,o),y.deps>0?(hu(t,"onPending"),hu(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,s,o),xa(y,t.ssFallback)):y.resolve(!1,!0)}function yR(t,e,n,r,i,s,o,a,{p:l,um:f,o:{createElement:d}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const y=e.ssContent,v=e.ssFallback,{activeBranch:E,pendingBranch:S,isInFallback:U,isHydrating:q}=p;if(S)p.pendingBranch=y,Fr(S,y)?(l(S,y,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0?p.resolve():U&&(q||(l(E,v,n,r,i,null,s,o,a),xa(p,v)))):(p.pendingId=ap++,q?(p.isHydrating=!1,p.activeBranch=S):f(S,i,p),p.deps=0,p.effects.length=0,p.hiddenContainer=d("div"),U?(l(null,y,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0?p.resolve():(l(E,v,n,r,i,null,s,o,a),xa(p,v))):E&&Fr(E,y)?(l(E,y,n,r,i,p,s,o,a),p.resolve(!0)):(l(null,y,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0&&p.resolve()));else if(E&&Fr(E,y))l(E,y,n,r,i,p,s,o,a),xa(p,y);else if(hu(e,"onPending"),p.pendingBranch=y,y.shapeFlag&512?p.pendingId=y.component.suspenseId:p.pendingId=ap++,l(null,y,p.hiddenContainer,null,i,p,s,o,a),p.deps<=0)p.resolve();else{const{timeout:L,pendingId:R}=p;L>0?setTimeout(()=>{p.pendingId===R&&p.fallback(v)},L):L===0&&p.fallback(v)}}function Qb(t,e,n,r,i,s,o,a,l,f,d=!1){const{p,m:y,um:v,n:E,o:{parentNode:S,remove:U}}=f;let q;const L=wR(t);L&&e&&e.pendingBranch&&(q=e.pendingId,e.deps++);const R=t.props?qw(t.props.timeout):void 0,x=s,B={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:ap++,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(ne=!1,D=!1){const{vnode:A,activeBranch:I,pendingBranch:O,pendingId:V,effects:M,parentComponent:P,container:Ue,isInFallback:Ge}=B;let Se=!1;B.isHydrating?B.isHydrating=!1:ne||(Se=I&&O.transition&&O.transition.mode==="out-in",Se&&(I.transition.afterLeave=()=>{V===B.pendingId&&(y(O,Ue,s===x?E(I):s,0),lu(M),Ge&&A.ssFallback&&(A.ssFallback.el=null))}),I&&(S(I.el)===Ue&&(s=E(I)),v(I,P,B,!0),!Se&&Ge&&A.ssFallback&&mn(()=>A.ssFallback.el=null,B)),Se||y(O,Ue,s,0)),xa(B,O),B.pendingBranch=null,B.isInFallback=!1;let Ne=B.parent,Ee=!1;for(;Ne;){if(Ne.pendingBranch){Ne.effects.push(...M),Ee=!0;break}Ne=Ne.parent}!Ee&&!Se&&lu(M),B.effects=[],L&&e&&e.pendingBranch&&q===e.pendingId&&(e.deps--,e.deps===0&&!D&&e.resolve()),hu(A,"onResolve")},fallback(ne){if(!B.pendingBranch)return;const{vnode:D,activeBranch:A,parentComponent:I,container:O,namespace:V}=B;hu(D,"onFallback");const M=E(A),P=()=>{B.isInFallback&&(p(null,ne,O,M,I,null,V,a,l),xa(B,ne))},Ue=ne.transition&&ne.transition.mode==="out-in";Ue&&(A.transition.afterLeave=P),B.isInFallback=!0,v(A,I,null,!0),Ue||P()},move(ne,D,A){B.activeBranch&&y(B.activeBranch,ne,D,A),B.container=ne},next(){return B.activeBranch&&E(B.activeBranch)},registerDep(ne,D,A){const I=!!B.pendingBranch;I&&B.deps++;const O=ne.vnode.el;ne.asyncDep.catch(V=>{cc(V,ne,0)}).then(V=>{if(ne.isUnmounted||B.isUnmounted||B.pendingId!==ne.suspenseId)return;ne.asyncResolved=!0;const{vnode:M}=ne;lp(ne,V),O&&(M.el=O);const P=!O&&ne.subTree.el;D(ne,M,S(O||ne.subTree.el),O?null:E(ne.subTree),B,o,A),P&&(M.placeholder=null,U(P)),Xf(ne,M.el),I&&--B.deps===0&&B.resolve()})},unmount(ne,D){B.isUnmounted=!0,B.activeBranch&&v(B.activeBranch,n,ne,D),B.pendingBranch&&v(B.pendingBranch,n,ne,D)}};return B}function _R(t,e,n,r,i,s,o,a,l){const f=e.suspense=Qb(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),d=l(t,f.pendingBranch=e.ssContent,n,f,s,o);return f.deps===0&&f.resolve(!1,!0),d}function vR(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=dy(r?n.default:n),t.ssFallback=r?dy(n.fallback):ze(un)}function dy(t){let e;if(qe(t)){const n=Wa&&t._c;n&&(t._d=!1,ui()),t=t(),n&&(t._d=!0,e=Xn,Yb())}return $e(t)&&(t=nR(t)),t=sr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Jb(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):lu(t)}function xa(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Xf(r,i))}function wR(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Dn=Symbol.for("v-fgt"),Fo=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),Ma=Symbol.for("v-stc"),Qc=[];let Xn=null;function ui(t=!1){Qc.push(Xn=t?null:[])}function Yb(){Qc.pop(),Xn=Qc[Qc.length-1]||null}let Wa=1;function sf(t,e=!1){Wa+=t,t<0&&Xn&&e&&(Xn.hasOnce=!0)}function Xb(t){return t.dynamicChildren=Wa>0?Xn||Ca:null,Yb(),Wa>0&&Xn&&Xn.push(t),t}function xm(t,e,n,r,i,s){return Xb(of(t,e,n,r,i,s,!0))}function wa(t,e,n,r,i){return Xb(ze(t,e,n,r,i,!0))}function Us(t){return t?t.__v_isVNode===!0:!1}function Fr(t,e){return t.type===e.type&&t.key===e.key}const Zb=({key:t})=>t??null,Pl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Bt(t)||Lt(t)||qe(t)?{i:ar,r:t,k:e,f:!!n}:t:null);function of(t,e=null,n=null,r=0,i=null,s=t===Dn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zb(e),ref:e&&Pl(e),scopeId:mb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ar};return a?(Mm(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Bt(n)?8:16),Wa>0&&!o&&Xn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Xn.push(l),l}const ze=bR;function bR(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===kb)&&(t=un),Us(t)){const a=wi(t,e,!0);return n&&Mm(a,n),Wa>0&&!s&&Xn&&(a.shapeFlag&6?Xn[Xn.indexOf(t)]=a:Xn.push(a)),a.patchFlag=-2,a}if(kR(t)&&(t=t.__vccOpts),e){e=ER(e);let{class:a,style:l}=e;a&&!Bt(a)&&(e.class=wm(a)),It(l)&&(Qf(l)&&!$e(l)&&(l=yn({},l)),e.style=vm(l))}const o=Bt(t)?1:rf(t)?128:gb(t)?64:It(t)?4:qe(t)?2:0;return of(t,e,n,r,i,o,s,!0)}function ER(t){return t?Qf(t)||Ub(t)?yn({},t):t:null}function wi(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,f=e?Ii(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Zb(f),ref:e&&e.ref?n&&s?$e(s)?s.concat(Pl(e)):[s,Pl(e)]:Pl(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Dn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wi(t.ssContent),ssFallback:t.ssFallback&&wi(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ka(d,l.clone(d)),d}function du(t=" ",e=0){return ze(Fo,null,t,e)}function dj(t,e){const n=ze(Ma,null,t);return n.staticCount=e,n}function pj(t="",e=!1){return e?(ui(),wa(un,null,t)):ze(un,null,t)}function sr(t){return t==null||typeof t=="boolean"?ze(un):$e(t)?ze(Dn,null,t.slice()):Us(t)?As(t):ze(Fo,null,String(t))}function As(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wi(t)}function Mm(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Mm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ub(e)?e._ctx=ar:i===3&&ar&&(ar.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:ar},n=32):(e=String(e),r&64?(n=16,e=[du(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ii(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=wm([e.class,r.class]));else if(i==="style")e.style=vm([e.style,r.style]);else if(Ou(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Qn(t,e,n,r=null){Kr(t,e,7,[n,r])}const TR=xb();let IR=0;function AR(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||TR,s={uid:IR++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jb(r,i),emitsOptions:Lb(r,i),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:r.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=eR.bind(null,s),t.ce&&t.ce(s),s}let En=null;const us=()=>En||ar;let af,cp;{const t=Kf(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};af=e("__VUE_INSTANCE_SETTERS__",n=>En=n),cp=e("__VUE_SSR_SETTERS__",n=>za=n)}const Bo=t=>{const e=En;return af(t),t.scope.on(),()=>{t.scope.off(),af(e)}},up=()=>{En&&En.scope.off(),af(null)};function eE(t){return t.vnode.shapeFlag&4}let za=!1;function SR(t,e=!1,n=!1){e&&cp(e);const{props:r,children:i}=t.vnode,s=eE(t);oR(t,r,s,e),lR(t,i,n||e);const o=s?RR(t,e):void 0;return e&&cp(!1),o}function RR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$S);const{setup:r}=n;if(r){Zi();const i=t.setupContext=r.length>1?PR(t):null,s=Bo(t),o=Du(r,t,0,[t.props,i]),a=ym(o);if(es(),s(),(a||t.sp)&&!Lo(t)&&Pm(t),a){if(o.then(up,up),e)return o.then(l=>{lp(t,l)}).catch(l=>{cc(l,t,0)});t.asyncDep=o}else lp(t,o)}else tE(t)}function lp(t,e,n){qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=ub(e)),tE(t)}function tE(t,e,n){const r=t.type;t.render||(t.render=r.render||jr);{const i=Bo(t);Zi();try{qS(t)}finally{es(),i()}}}const CR={get(t,e){return On(t,"get",""),t[e]}};function PR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,CR),slots:t.slots,emit:t.emit,expose:e}}function Zf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ub(Rm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zc)return zc[n](t)},has(e,n){return n in e||n in zc}})):t.proxy}function fp(t,e=!0){return qe(t)?t.displayName||t.name:t.name||e&&t.__name}function kR(t){return qe(t)&&"__vccOpts"in t}const et=(t,e)=>bS(t,e,za);function Ht(t,e,n){try{sf(-1);const r=arguments.length;return r===2?It(e)&&!$e(e)?Us(e)?ze(t,null,[e]):ze(t,e):ze(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Us(n)&&(n=[n]),ze(t,e,n))}finally{sf(1)}}const OR="3.5.25";let hp;const py=typeof window<"u"&&window.trustedTypes;if(py)try{hp=py.createPolicy("vue",{createHTML:t=>t})}catch{}const nE=hp?t=>hp.createHTML(t):t=>t,DR="http://www.w3.org/2000/svg",NR="http://www.w3.org/1998/Math/MathML",$i=typeof document<"u"?document:null,my=$i&&$i.createElement("template"),xR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?$i.createElementNS(DR,t):e==="mathml"?$i.createElementNS(NR,t):n?$i.createElement(t,{is:n}):$i.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>$i.createTextNode(t),createComment:t=>$i.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$i.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{my.innerHTML=nE(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=my.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vs="transition",Mc="animation",pu=Symbol("_vtc"),rE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MR=yn({},yb,rE),LR=t=>(t.displayName="Transition",t.props=MR,t),VR=LR((t,{slots:e})=>Ht(PS,FR(t),e)),Eo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},gy=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function FR(t){const e={};for(const M in t)M in rE||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:f=o,appearToClass:d=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,E=UR(i),S=E&&E[0],U=E&&E[1],{onBeforeEnter:q,onEnter:L,onEnterCancelled:R,onLeave:x,onLeaveCancelled:B,onBeforeAppear:ne=q,onAppear:D=L,onAppearCancelled:A=R}=e,I=(M,P,Ue,Ge)=>{M._enterCancelled=Ge,To(M,P?d:a),To(M,P?f:o),Ue&&Ue()},O=(M,P)=>{M._isLeaving=!1,To(M,p),To(M,v),To(M,y),P&&P()},V=M=>(P,Ue)=>{const Ge=M?D:L,Se=()=>I(P,M,Ue);Eo(Ge,[P,Se]),yy(()=>{To(P,M?l:s),Bi(P,M?d:a),gy(Ge)||_y(P,r,S,Se)})};return yn(e,{onBeforeEnter(M){Eo(q,[M]),Bi(M,s),Bi(M,o)},onBeforeAppear(M){Eo(ne,[M]),Bi(M,l),Bi(M,f)},onEnter:V(!1),onAppear:V(!0),onLeave(M,P){M._isLeaving=!0;const Ue=()=>O(M,P);Bi(M,p),M._enterCancelled?(Bi(M,y),by(M)):(by(M),Bi(M,y)),yy(()=>{M._isLeaving&&(To(M,p),Bi(M,v),gy(x)||_y(M,r,U,Ue))}),Eo(x,[M,Ue])},onEnterCancelled(M){I(M,!1,void 0,!0),Eo(R,[M])},onAppearCancelled(M){I(M,!0,void 0,!0),Eo(A,[M])},onLeaveCancelled(M){O(M),Eo(B,[M])}})}function UR(t){if(t==null)return null;if(It(t))return[nd(t.enter),nd(t.leave)];{const e=nd(t);return[e,e]}}function nd(t){return qw(t)}function Bi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[pu]||(t[pu]=new Set)).add(e)}function To(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[pu];n&&(n.delete(e),n.size||(t[pu]=void 0))}function yy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BR=0;function _y(t,e,n,r){const i=t._endId=++BR,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=jR(t,e);if(!o)return r();const f=o+"end";let d=0;const p=()=>{t.removeEventListener(f,y),s()},y=v=>{v.target===t&&++d>=l&&p()};setTimeout(()=>{d<l&&p()},a+1),t.addEventListener(f,y)}function jR(t,e){const n=window.getComputedStyle(t),r=E=>(n[E]||"").split(", "),i=r(`${vs}Delay`),s=r(`${vs}Duration`),o=vy(i,s),a=r(`${Mc}Delay`),l=r(`${Mc}Duration`),f=vy(a,l);let d=null,p=0,y=0;e===vs?o>0&&(d=vs,p=o,y=s.length):e===Mc?f>0&&(d=Mc,p=f,y=l.length):(p=Math.max(o,f),d=p>0?o>f?vs:Mc:null,y=d?d===vs?s.length:l.length:0);const v=d===vs&&/\b(?:transform|all)(?:,|$)/.test(r(`${vs}Property`).toString());return{type:d,timeout:p,propCount:y,hasTransform:v}}function vy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>wy(n)+wy(t[r])))}function wy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function by(t){return(t?t.ownerDocument:document).body.offsetHeight}function $R(t,e,n){const r=t[pu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const cf=Symbol("_vod"),iE=Symbol("_vsh"),mj={name:"show",beforeMount(t,{value:e},{transition:n}){t[cf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Lc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Lc(t,!0),r.enter(t)):r.leave(t,()=>{Lc(t,!1)}):Lc(t,e))},beforeUnmount(t,{value:e}){Lc(t,e)}};function Lc(t,e){t.style.display=e?t[cf]:"none",t[iE]=!e}const sE=Symbol("");function gj(t){const e=us();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>uf(s,i))},r=()=>{const i=t(e.proxy);e.ce?uf(e.ce,i):dp(e.subTree,i),n(i)};Sb(()=>{lu(r)}),zo(()=>{Ir(r,jr,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),dr(()=>i.disconnect())})}function dp(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{dp(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)uf(t.el,e);else if(t.type===Dn)t.children.forEach(n=>dp(n,e));else if(t.type===Ma){let{el:n,anchor:r}=t;for(;n&&(uf(n,e),n!==r);)n=n.nextSibling}}function uf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e){const s=zA(e[i]);n.setProperty(`--${i}`,s),r+=`--${i}: ${s};`}n[sE]=r}}const qR=/(?:^|;)\s*display\s*:/;function HR(t,e,n){const r=t.style,i=Bt(n);let s=!1;if(n&&!i){if(e)if(Bt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&kl(r,a,"")}else for(const o in e)n[o]==null&&kl(r,o,"");for(const o in n)o==="display"&&(s=!0),kl(r,o,n[o])}else if(i){if(e!==n){const o=r[sE];o&&(n+=";"+o),r.cssText=n,s=qR.test(n)}}else e&&t.removeAttribute("style");cf in t&&(t[cf]=s?r.display:"",t[iE]&&(r.display="none"))}const Ey=/\s*!important$/;function kl(t,e,n){if($e(n))n.forEach(r=>kl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=KR(t,e);Ey.test(n)?t.setProperty(zs(r),n.replace(Ey,""),"important"):t[r]=n}}const Ty=["Webkit","Moz","ms"],rd={};function KR(t,e){const n=rd[e];if(n)return n;let r=Sr(e);if(r!=="filter"&&r in t)return rd[e]=r;r=qf(r);for(let i=0;i<Ty.length;i++){const s=Ty[i]+r;if(s in t)return rd[e]=s}return e}const Iy="http://www.w3.org/1999/xlink";function Ay(t,e,n,r,i,s=HA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Iy,e.slice(6,e.length)):t.setAttributeNS(Iy,e,n):n==null||s&&!Hw(n)?t.removeAttribute(e):t.setAttribute(e,s?"":_i(n)?String(n):n)}function Sy(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nE(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Hw(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Po(t,e,n,r){t.addEventListener(e,n,r)}function WR(t,e,n,r){t.removeEventListener(e,n,r)}const Ry=Symbol("_vei");function zR(t,e,n,r,i=null){const s=t[Ry]||(t[Ry]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=GR(e);if(r){const f=s[e]=YR(r,i);Po(t,a,f,l)}else o&&(WR(t,a,o,l),s[e]=void 0)}}const Cy=/(?:Once|Passive|Capture)$/;function GR(t){let e;if(Cy.test(t)){e={};let r;for(;r=t.match(Cy);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zs(t.slice(2)),e]}let id=0;const QR=Promise.resolve(),JR=()=>id||(QR.then(()=>id=0),id=Date.now());function YR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Kr(XR(r,n.value),e,5,[r])};return n.value=t,n.attached=JR(),n}function XR(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Py=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ZR=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?$R(t,r,o):e==="style"?HR(t,n,r):Ou(e)?mm(e)||zR(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eC(t,e,r,o))?(Sy(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ay(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Bt(r))?Sy(t,Sr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ay(t,e,r,o))};function eC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Py(e)&&qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Py(e)&&Bt(n)?!1:e in t}const lf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>Oa(e,n):e};function tC(t){t.target.composing=!0}function ky(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const La=Symbol("_assign");function Oy(t,e,n){return e&&(t=t.trim()),n&&(t=Hf(t)),t}const yj={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[La]=lf(i);const s=r||i.props&&i.props.type==="number";Po(t,e?"change":"input",o=>{o.target.composing||t[La](Oy(t.value,n,s))}),(n||s)&&Po(t,"change",()=>{t.value=Oy(t.value,n,s)}),e||(Po(t,"compositionstart",tC),Po(t,"compositionend",ky),Po(t,"change",ky))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[La]=lf(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Hf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},_j={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Bf(e);Po(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hf(ff(o)):ff(o));t[La](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,fr(()=>{t._assigning=!1})}),t[La]=lf(r)},mounted(t,{value:e}){Dy(t,e)},beforeUpdate(t,e,n){t[La]=lf(n)},updated(t,{value:e}){t._assigning||Dy(t,e)}};function Dy(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!Bf(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=ff(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(f=>String(f)===String(a)):o.selected=WA(e,a)>-1}else o.selected=e.has(a);else if(Wf(ff(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ff(t){return"_value"in t?t._value:t.value}const nC=["ctrl","shift","alt","meta"],rC={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>nC.some(n=>t[`${n}Key`]&&!e.includes(n))},vj=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=rC[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},iC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wj=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const s=zs(i.key);if(e.some(o=>o===s||iC[o]===s))return t(i)}))},oE=yn({patchProp:ZR},xR);let Jc,Ny=!1;function sC(){return Jc||(Jc=hR(oE))}function oC(){return Jc=Ny?Jc:dR(oE),Ny=!0,Jc}const aE=((...t)=>{const e=sC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=uE(r);if(!i)return;const s=e._component;!qe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,cE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e}),aC=((...t)=>{const e=oC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=uE(r);if(i)return n(i,!0,cE(i))},e});function cE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uE(t){return Bt(t)?document.querySelector(t):t}const cC=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,uC=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,lC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function fC(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){hC(t);return}return e}function hC(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ga(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!lC.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(cC.test(t)||uC.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,fC)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const dC=/#/g,pC=/&/g,mC=/\//g,gC=/=/g,Lm=/\+/g,yC=/%5e/gi,_C=/%60/gi,vC=/%7c/gi,wC=/%20/gi;function bC(t){return encodeURI(""+t).replace(vC,"|")}function pp(t){return bC(typeof t=="string"?t:JSON.stringify(t)).replace(Lm,"%2B").replace(wC,"+").replace(dC,"%23").replace(pC,"%26").replace(_C,"`").replace(yC,"^").replace(mC,"%2F")}function sd(t){return pp(t).replace(gC,"%3D")}function hf(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function EC(t){return hf(t.replace(Lm," "))}function TC(t){return hf(t.replace(Lm," "))}function Vm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=EC(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=TC(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function IC(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${sd(t)}=${pp(n)}`).join("&"):`${sd(t)}=${pp(e)}`:sd(t)}function AC(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>IC(e,t[e])).filter(Boolean).join("&")}const SC=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,RC=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,CC=/^([/\\]\s*){2,}[^/\\]/,PC=/^[\s\0]*(blob|data|javascript|vbscript):$/i,kC=/\/$|\/\?|\/#/,OC=/^\.?\//;function ls(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?SC.test(t):RC.test(t)||(e.acceptRelative?CC.test(t):!1)}function DC(t){return!!t&&PC.test(t)}function mp(t="",e){return e?kC.test(t):t.endsWith("/")}function mu(t="",e){if(!e)return(mp(t)?t.slice(0,-1):t)||"/";if(!mp(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");i!==-1&&(n=t.slice(0,i),r=t.slice(i));const[s,...o]=n.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function lE(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(mp(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");if(i!==-1&&(n=t.slice(0,i),r=t.slice(i),!n))return r;const[s,...o]=n.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function NC(t,e){if(fE(e)||ls(t))return t;const n=mu(e);return t.startsWith(n)?t:eh(n,t)}function xy(t,e){if(fE(e))return t;const n=mu(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function df(t,e){const n=pE(t),r={...Vm(n.search),...e};return n.search=AC(r),LC(n)}function fE(t){return!t||t==="/"}function xC(t){return t&&t!=="/"}function eh(t,...e){let n=t||"";for(const r of e.filter(i=>xC(i)))if(n){const i=r.replace(OC,"");n=lE(n)+i}else n=r;return n}function hE(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let i=0;for(const o of n)if(!(!o||o==="/")){for(const[a,l]of o.split(e).entries())if(!(!l||l===".")){if(l===".."){if(r.length===1&&ls(r[0]))continue;r.pop(),i--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+l;continue}r.push(l),i++}}let s=r.join("/");return i>=0?n[0]?.startsWith("/")&&!s.startsWith("/")?s="/"+s:n[0]?.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*i)+s,n[n.length-1]?.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function MC(t,e){return hf(mu(t))===hf(mu(e))}const dE=Symbol.for("ufo:protocolRelative");function pE(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,y=""]=n;return{protocol:p.toLowerCase(),pathname:y,href:p+y,auth:"",host:"",search:"",hash:""}}if(!ls(t,{acceptRelative:!0}))return My(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:f,hash:d}=My(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:f,hash:d,[dE]:!r}}function My(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function LC(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[dE]?(t.protocol||"")+"//":"")+i+s+e+n+r}class VC extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function FC(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new VC(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[f]}});return a}const UC=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ly(t="GET"){return UC.has(t.toUpperCase())}function BC(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const jC=new Set(["image/svg","application/xml","application/xhtml","application/html"]),$C=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qC(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return $C.test(e)?"json":e==="text/event-stream"?"stream":jC.has(e)||e.startsWith("text/")?"text":"blob"}function HC(t,e,n,r){const i=KC(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function KC(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function ml(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const WC=new Set([408,409,425,429,500,502,503,504]),zC=new Set([101,204,205,304]);function mE(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let d;typeof a.options.retry=="number"?d=a.options.retry:d=Ly(a.options.method)?0:1;const p=a.response&&a.response.status||500;if(d>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(p):WC.has(p))){const y=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return y>0&&await new Promise(v=>setTimeout(v,y)),s(a.request,{...a.options,retry:d-1})}}const f=FC(a);throw Error.captureStackTrace&&Error.captureStackTrace(f,s),f}const s=async function(l,f={}){const d={request:l,options:HC(l,f,t.defaults,n),response:void 0,error:void 0};if(d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&(await ml(d,d.options.onRequest),d.options.headers instanceof n||(d.options.headers=new n(d.options.headers||{}))),typeof d.request=="string"&&(d.options.baseURL&&(d.request=NC(d.request,d.options.baseURL)),d.options.query&&(d.request=df(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&Ly(d.options.method))if(BC(d.options.body)){const v=d.options.headers.get("content-type");typeof d.options.body!="string"&&(d.options.body=v==="application/x-www-form-urlencoded"?new URLSearchParams(d.options.body).toString():JSON.stringify(d.options.body)),v||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")}else("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half"));let p;if(!d.options.signal&&d.options.timeout){const v=new r;p=setTimeout(()=>{const E=new Error("[TimeoutError]: The operation was aborted due to timeout");E.name="TimeoutError",E.code=23,v.abort(E)},d.options.timeout),d.options.signal=v.signal}try{d.response=await e(d.request,d.options)}catch(v){return d.error=v,d.options.onRequestError&&await ml(d,d.options.onRequestError),await i(d)}finally{p&&clearTimeout(p)}if((d.response.body||d.response._bodyInit)&&!zC.has(d.response.status)&&d.options.method!=="HEAD"){const v=(d.options.parseResponse?"json":d.options.responseType)||qC(d.response.headers.get("content-type")||"");switch(v){case"json":{const E=await d.response.text(),S=d.options.parseResponse||Ga;d.response._data=S(E);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[v]()}}return d.options.onResponse&&await ml(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await ml(d,d.options.onResponseError),await i(d)):d.response},o=async function(l,f){return(await s(l,f))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>mE({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const pf=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),GC=pf.fetch?(...t)=>pf.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),QC=pf.Headers,JC=pf.AbortController,YC=mE({fetch:GC,Headers:QC,AbortController:JC}),XC=YC,ZC=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Fm=()=>ZC().app,eP=()=>Fm().baseURL,tP=()=>Fm().buildAssetsDir,Um=(...t)=>hE(gE(),tP(),...t),gE=(...t)=>{const e=Fm(),n=e.cdnURL||e.baseURL;return t.length?hE(n,...t):n};globalThis.__buildAssetsURL=Um,globalThis.__publicAssetsURL=gE;globalThis.$fetch||(globalThis.$fetch=XC.create({baseURL:eP()}));"global"in globalThis||(globalThis.global=globalThis);function gp(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?gp(i,e,s):typeof i=="function"&&(e[s]=i)}return e}const nP={run:t=>t()},rP=()=>nP,yE=typeof console.createTask<"u"?console.createTask:rP;function iP(t,e){const n=e.shift(),r=yE(n);return t.reduce((i,s)=>i.then(()=>r.run(()=>s(...e))),Promise.resolve())}function sP(t,e){const n=e.shift(),r=yE(n);return Promise.all(t.map(i=>r.run(()=>i(...e))))}function od(t,e){for(const n of[...t])n(e)}class oP{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=gp(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=gp(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(iP,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(sP,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&od(this._before,i);const s=e(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&od(this._after,i)}):(this._after&&i&&od(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function _E(){return new oP}function aP(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let i;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?i=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(i){const o=i.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=s();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>s(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return i?i.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},f=()=>e===o?l:void 0;yp.add(f);try{const d=i?i.run(o,a):a();return n||(e=void 0),await d}finally{yp.delete(f)}}}}function cP(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=aP({...t,...r})),e[n]}}}const mf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Vy="__unctx__",uP=mf[Vy]||(mf[Vy]=cP()),lP=(t,e={})=>uP.get(t,e),Fy="__unctx_async_handlers__",yp=mf[Fy]||(mf[Fy]=new Set);function hi(t){const e=[];for(const i of yp){const s=i();s&&e.push(s)}const n=()=>{for(const i of e)i()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(i=>{throw n(),i})),[r,n]}const fP=!1,Uy=!1,hP=!1,By={id:"__nuxt-loader"},dP={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},pP={deep:!1},mP={},gP="#__nuxt",vE="nuxt-app",jy=36e5,yP="vite:preloadError";function wE(t=vE){return lP(t,{asyncContext:!1})}const _P="__nuxt_plugin";function vP(t){let e=0;const n={_id:t.id||vE||"nuxt-app",_scope:bm(),provide:void 0,versions:{get nuxt(){return"4.2.1"},get vue(){return n.vueApp.version}},payload:li({...t.ssrContext?.payload||{},data:li({}),state:fn({}),once:new Set,_errors:li({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!ac()?n._scope.run(()=>$y(n,i)):$y(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:li({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const s in i)switch(s){case"data":case"state":case"_errors":Object.assign(n.payload[s],i[s]);break;default:n.payload[s]=i[s]}}n.hooks=_E(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,s)=>{const o="$"+i;gl(n,o,s),gl(n.vueApp.config.globalProperties,o,s)},gl(n.vueApp,"$nuxt",n),gl(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(yP,s=>{n.callHook("app:chunkError",{error:s.payload}),s.payload.message.includes("Unable to preload CSS")&&s.preventDefault()}),window.useNuxtApp||=Vt;const i=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function wP(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function bP(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function EP(t,e){const n=new Set,r=[],i=[];let s,o=0;async function a(l){const f=l.dependsOn?.filter(d=>e.some(p=>p._name===d)&&!n.has(d))??[];if(f.length>0)r.push([new Set(f),l]);else{const d=bP(t,l).then(async()=>{l._name&&(n.add(l._name),await Promise.all(r.map(async([p,y])=>{p.has(l._name)&&(p.delete(l._name),p.size===0&&(o++,await a(y)))})))}).catch(p=>{if(!l.parallel&&!t.payload.error)throw p;s||=p});l.parallel?i.push(d):await d}}for(const l of e)wP(t,l);for(const l of e)await a(l);if(await Promise.all(i),o)for(let l=0;l<o;l++)await Promise.all(i);if(s)throw t.payload.error||s}function _n(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[_P]:!0,_name:e})}const TP=_n;function $y(t,e,n){const r=()=>e();return wE(t._id).set(t),t.vueApp.runWithContext(r)}function IP(t){let e;return xu()&&(e=us()?.appContext.app.$nuxt),e||=wE(t).tryUse(),e||null}function Vt(t){const e=IP(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function ns(t){return Vt().$config}function gl(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function AP(t,e){return{ctx:{table:t},matchAll:n=>EE(n,t)}}function bE(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,i])=>[r,bE(i)])):new Map(Object.entries(t[n]));return e}function SP(t){return AP(bE(t))}function EE(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[s,o]of qy(e.wildcard))(t===s||t.startsWith(s+"/"))&&r.push(o);for(const[s,o]of qy(e.dynamic))if(t.startsWith(s+"/")){const a="/"+t.slice(s.length).split("/").splice(2).join("/");r.push(...EE(a,o))}const i=e.static.get(t);return i&&r.push(i),r.filter(Boolean)}function qy(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function ad(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function _p(t,e,n=".",r){if(!ad(e))return _p(t,{},n,r);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(r&&r(i,s,o,n)||(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:ad(o)&&ad(i[s])?i[s]=_p(o,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=o))}return i}function RP(t){return(...e)=>e.reduce((n,r)=>_p(n,r,"",t),{})}const TE=RP();function CP(t,e){try{return e in t}catch{return!1}}class Hy extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:vp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=IE(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function PP(t){if(typeof t=="string")return new Hy(t);if(kP(t))return t;const e=new Hy(t.message??t.statusMessage??"",{cause:t.cause||t});if(CP(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=vp(t.statusCode,e.statusCode):t.status&&(e.statusCode=vp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;IE(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function kP(t){return t?.constructor?.__h3_error__===!0}const OP=/[^\u0009\u0020-\u007E]/g;function IE(t=""){return t.replace(OP,"")}function vp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const AE=Symbol("layout-meta"),jo=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Kn=()=>Vt()?.$router,th=()=>xu()?Kt(jo,Vt()._route):Vt()._route;const DP=()=>{try{if(Vt()._processingMiddleware)return!0}catch{return!1}return!1},NP=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?wp(t):Kn().resolve(t).href;if(e?.open){const{target:l="_blank",windowFeatures:f={}}=e.open,d=[];for(const[p,y]of Object.entries(f))y!==void 0&&d.push(`${p.toLowerCase()}=${y}`);return open(n,l,d.join(", ")),Promise.resolve()}const r=ls(n,{acceptRelative:!0}),i=e?.external||r;if(i){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&DC(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const s=DP();if(!i&&s){if(e?.replace){if(typeof t=="string"){const{pathname:l,search:f,hash:d}=pE(t);return{path:l,...f&&{query:Vm(f)},...d&&{hash:d},replace:!0}}return{...t,replace:!0}}return t}const o=Kn(),a=Vt();return i?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,s?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function wp(t){return df(t.path||"",t.query||{})+(t.hash||"")}const SE="__nuxt_error",Mu=()=>lb(Vt().payload,"error"),Ro=t=>{const e=xs(t);try{const n=Mu();Vt().hooks.callHook("app:error",e),n.value||=e}catch{throw e}return e},RE=async(t={})=>{const e=Vt(),n=Mu();e.callHook("app:error:cleared",t),t.redirect&&await Kn().replace(t.redirect),n.value=void 0},CE=t=>!!t&&typeof t=="object"&&SE in t,xs=t=>{const e=PP(t);return Object.defineProperty(e,SE,{value:!0,configurable:!1,writable:!1}),e};let PE;const Lu=t=>PE=t,kE=Symbol();function bp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yc||(Yc={}));function xP(){const t=bm(!0),e=t.run(()=>Ut({}));let n=[],r=[];const i=Rm({install(s){Lu(i),i._a=s,s.provide(kE,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const OE=()=>{};function Ky(t,e,n,r=OE){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&ac()&&au(i),i}function ya(t,...e){t.slice().forEach(n=>{n(...e)})}const MP=t=>t(),Wy=Symbol(),cd=Symbol();function Ep(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];bp(i)&&bp(r)&&t.hasOwnProperty(n)&&!Lt(r)&&!fi(r)?t[n]=Ep(i,r):t[n]=r}return t}const LP=Symbol();function VP(t){return!bp(t)||!Object.prototype.hasOwnProperty.call(t,LP)}const{assign:Es}=Object;function FP(t){return!!(Lt(t)&&t.effect)}function UP(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function f(){a||(n.state.value[t]=i?i():{});const d=yS(n.state.value[t]);return Es(d,s,Object.keys(o||{}).reduce((p,y)=>(p[y]=Rm(et(()=>{Lu(n);const v=n._s.get(t);return o[y].call(v,v)})),p),{}))}return l=DE(t,f,e,n,r,!0),l}function DE(t,e,n={},r,i,s){let o;const a=Es({actions:{}},n),l={deep:!0};let f,d,p=[],y=[],v;const E=r.state.value[t];!s&&!E&&(r.state.value[t]={}),Ut({});let S;function U(A){let I;f=d=!1,typeof A=="function"?(A(r.state.value[t]),I={type:Yc.patchFunction,storeId:t,events:v}):(Ep(r.state.value[t],A),I={type:Yc.patchObject,payload:A,storeId:t,events:v});const O=S=Symbol();fr().then(()=>{S===O&&(f=!0)}),d=!0,ya(p,I,r.state.value[t])}const q=s?function(){const{state:I}=n,O=I?I():{};this.$patch(V=>{Es(V,O)})}:OE;function L(){o.stop(),p=[],y=[],r._s.delete(t)}const R=(A,I="")=>{if(Wy in A)return A[cd]=I,A;const O=function(){Lu(r);const V=Array.from(arguments),M=[],P=[];function Ue(Ne){M.push(Ne)}function Ge(Ne){P.push(Ne)}ya(y,{args:V,name:O[cd],store:B,after:Ue,onError:Ge});let Se;try{Se=A.apply(this&&this.$id===t?this:B,V)}catch(Ne){throw ya(P,Ne),Ne}return Se instanceof Promise?Se.then(Ne=>(ya(M,Ne),Ne)).catch(Ne=>(ya(P,Ne),Promise.reject(Ne))):(ya(M,Se),Se)};return O[Wy]=!0,O[cd]=I,O},x={_p:r,$id:t,$onAction:Ky.bind(null,y),$patch:U,$reset:q,$subscribe(A,I={}){const O=Ky(p,A,I.detached,()=>V()),V=o.run(()=>Ir(()=>r.state.value[t],M=>{(I.flush==="sync"?d:f)&&A({storeId:t,type:Yc.direct,events:v},M)},Es({},l,I)));return O},$dispose:L},B=fn(x);r._s.set(t,B);const D=(r._a&&r._a.runWithContext||MP)(()=>r._e.run(()=>(o=bm()).run(()=>e({action:R}))));for(const A in D){const I=D[A];if(Lt(I)&&!FP(I)||fi(I))s||(E&&VP(I)&&(Lt(I)?I.value=E[A]:Ep(I,E[A])),r.state.value[t][A]=I);else if(typeof I=="function"){const O=R(I,A);D[A]=O,a.actions[A]=I}}return Es(B,D),Es(Qe(B),D),Object.defineProperty(B,"$state",{get:()=>r.state.value[t],set:A=>{U(I=>{Es(I,A)})}}),r._p.forEach(A=>{Es(B,o.run(()=>A({store:B,app:r._a,pinia:r,options:a})))}),E&&s&&n.hydrate&&n.hydrate(B.$state,E),f=!0,d=!0,B}function Vu(t,e,n){let r;const i=typeof e=="function";r=i?n:e;function s(o,a){const l=xu();return o=o||(l?Kt(kE,null):null),o&&Lu(o),o=PE,o._s.has(t)||(i?DE(t,e,r,o):UP(t,r,o)),o._s.get(t)}return s.$id=t,s}function BP(t){const e=$P(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let i=0;i<n.byteLength;i++)r.setUint8(i,e.charCodeAt(i));return n}const jP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function $P(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let i=0;i<t.length;i++)n<<=6,n|=jP.indexOf(t[i]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const qP=-1,HP=-2,KP=-3,WP=-4,zP=-5,GP=-6;function QP(t,e){return JP(JSON.parse(t),e)}function JP(t,e){if(typeof t=="number")return i(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function i(s,o=!1){if(s===qP)return;if(s===KP)return NaN;if(s===WP)return 1/0;if(s===zP)return-1/0;if(s===GP)return-0;if(o||typeof s!="number")throw new Error("Invalid input");if(s in r)return r[s];const a=n[s];if(!a||typeof a!="object")r[s]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],f=e?.[l];if(f){let d=a[1];return typeof d!="number"&&(d=n.push(a[1])-1),r[s]=f(i(d))}switch(l){case"Date":r[s]=new Date(a[1]);break;case"Set":const d=new Set;r[s]=d;for(let v=1;v<a.length;v+=1)d.add(i(a[v]));break;case"Map":const p=new Map;r[s]=p;for(let v=1;v<a.length;v+=2)p.set(i(a[v]),i(a[v+1]));break;case"RegExp":r[s]=new RegExp(a[1],a[2]);break;case"Object":r[s]=Object(a[1]);break;case"BigInt":r[s]=BigInt(a[1]);break;case"null":const y=Object.create(null);r[s]=y;for(let v=1;v<a.length;v+=2)y[a[v]]=i(a[v+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const v=globalThis[l],E=new v(i(a[1]));r[s]=a[2]!==void 0?E.subarray(a[2],a[3]):E;break}case"ArrayBuffer":{const v=a[1],E=BP(v);r[s]=E;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const v=l.slice(9);r[s]=Temporal[v].from(a[1]);break}case"URL":{const v=new URL(a[1]);r[s]=v;break}case"URLSearchParams":{const v=new URLSearchParams(a[1]);r[s]=v;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[s]=l;for(let f=0;f<a.length;f+=1){const d=a[f];d!==HP&&(l[f]=i(d))}}else{const l={};r[s]=l;for(const f in a){if(f==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const d=a[f];l[f]=i(d)}}return r[s]}return i(0)}const YP=new Set(["link","style","script","noscript"]),XP=new Set(["title","titleTemplate","script","style","noscript"]),zy=new Set(["base","meta","link","style","script","noscript"]),ZP=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),e1=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),t1=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),n1=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Bm=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),gu={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},r1={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},NE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${Gi(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?Gi(t):`${Gi(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${Gi(t)} ${e}`}},charset:{}};function Gi(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:gu.META.has(e.slice(0,n))||gu.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function xE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function Tp(t){return Array.isArray(t)?t.map(Tp):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[Gi(e),Tp(n)]))}function ME(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:s}=e;return Object.entries(t).map(([o,a])=>{if(s){const f=s({key:o,value:a});if(f!==void 0)return f}const l=typeof a=="object"?ME(a,e):typeof a=="number"?a.toString():typeof a=="string"&&i?`${i}${a.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:a;return`${o}${r}${l}`}).join(n)}function Gy(t,e){const n=xE(e),r=Gi(t),i=LE(r);if(!Bm.has(r))return[{[i]:r,...n}];const s=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return gf(s||{}).sort((o,a)=>(o[i]?.length||0)-(a[i]?.length||0))}function LE(t){if(NE[t]?.metaKey==="http-equiv"||gu.HTTP_EQUIV.has(t))return"http-equiv";const e=Gi(t),n=e.indexOf(":");return n===-1?"name":gu.OG.has(e.slice(0,n))?"property":"name"}function i1(t){return r1[t]||Gi(t)}function s1(t,e){return e==="refresh"?`${t.seconds};url=${t.url}`:ME(Tp(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:n,key:r})=>n===null?"":typeof n=="boolean"?r:void 0,...NE[e]?.unpack})}function gf(t){const e=[],n={};for(const[i,s]of Object.entries(t)){if(Array.isArray(s)){if(i==="themeColor"){s.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of s)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[f,d]of Object.entries(o)){const p=`${i}${f==="url"?"":`:${f}`}`,y=gf({[p]:d});(f==="url"?a:l).push(...y)}e.push(...a,...l)}else e.push(...typeof o=="string"?gf({[i]:o}):Gy(i,o));continue}if(typeof s=="object"&&s)if(gu.MEDIA.has(i)){const o=i.startsWith("twitter")?"twitter":"og",a=i.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";s.url&&e.push({[l]:`${o}:${a}`,content:s.url}),s.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:s.secureUrl});for(const[f,d]of Object.entries(s))f!=="url"&&f!=="secureUrl"&&e.push({[l]:`${o}:${a}:${f}`,content:d})}else Bm.has(Gi(i))?e.push(...Gy(i,s)):n[i]=xE(s);else n[i]=s}const r=Object.entries(n).map(([i,s])=>{if(i==="charset")return{charset:s===null?"_null":s};const o=LE(i),a=i1(i),l=s===null?"_null":typeof s=="object"?s1(s,i):typeof s=="number"?s.toString():s;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const o1={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(gf(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},a1=["name","property","http-equiv"],c1=new Set(["viewport","description","keywords","robots"]);function VE(t){const e=t.split(":");return e.length?Bm.has(e[1]):!1}function Ip(t){const{props:e,tag:n}=t;if(e1.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of a1)if(e[r]!==void 0){const i=e[r],s=i.includes(":"),o=c1.has(i),l=!(s||o)&&t.key?`:key:${t.key}`:"";return`${n}:${i}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(XP.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function Qy(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function yf(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let i;if(e&&(i=e(n,t)),Array.isArray(i))return i.map(s=>yf(s,e));if(i?.constructor===Object){const s={};for(const o of Object.keys(i))s[o]=yf(i[o],e,o);return s}return i}function u1(t,e){const n=t==="style"?new Map:new Set;function r(i){const s=i.trim();if(s)if(t==="style"){const[o,...a]=s.split(":").map(l=>l.trim());o&&a.length&&n.set(o,a.join(":"))}else s.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(i=>r(i)):e&&typeof e=="object"&&Object.entries(e).forEach(([i,s])=>{s&&s!=="false"&&(t==="style"?n.set(i.trim(),s):r(i))}),n}function FE(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=u1(n,r);return}if(t1.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const i=String(r),s=n.startsWith("data-");i==="true"||i===""?t.props[n]=s?i:!0:!r&&s&&i==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function l1(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=FE({tag:t,props:{}},n);return r.key&&YP.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function f1(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(i,s)=>{for(let o=0;o<e.length;o++)s=e[o](i,s);return s};t=n(void 0,t);const r=[];return t=yf(t,n),Object.entries(t||{}).forEach(([i,s])=>{if(s!==void 0)for(const o of Array.isArray(s)?s:[s])r.push(l1(i,o))}),r.flat()}const Jy=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Yy={base:-10,title:10},h1={critical:-8,high:-1,low:2},Xy={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},d1=/@import/,Vc=t=>t===""||t===!0;function p1(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=h1[e.tagPriority]||0,i=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Xy;if(e.tag in Yy)n=Yy[e.tag];else if(e.tag==="meta"){const s=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;s&&(n=Xy.meta[s])}else e.tag==="link"&&e.props.rel?n=i.link[e.props.rel]:e.tag==="script"?Vc(e.props.async)?n=i.script.async:e.props.src&&!Vc(e.props.defer)&&!Vc(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=i.script.sync:Vc(e.props.defer)&&e.props.src&&!Vc(e.props.async)&&(n=i.script.defer):e.tag==="style"&&(n=e.innerHTML&&d1.test(e.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function Zy(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function m1(t={}){const e=_E();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,i=new Map,s=new Set,o={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>Zy(o,a),push(a,l){const f={...l||{}};delete f.head;const d=f._index??o._entryCount++,p={_i:d,input:a,options:f},y={_poll(v=!1){o.dirty=!0,!v&&s.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(v){(!f.mode||f.mode==="server"&&n||f.mode==="client"&&!n)&&(p.input=v,r.set(d,p),y._poll())}};return y.patch(a),y},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);s.size;){const y=s.values().next().value;s.delete(y);const v=r.get(y);if(v){const E={tags:f1(v.input,t.propResolvers||[]).map(S=>Object.assign(S,v.options)),entry:v};await e.callHook("entries:normalize",E),v._tags=E.tags.map((S,U)=>(S._w=p1(o,S),S._p=(v._i<<10)+U,S._d=Ip(S),S))}}let l=!1;a.entries.flatMap(y=>(y._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Jy).reduce((y,v)=>{const E=String(v._d||v._p);if(!y.has(E))return y.set(E,v);const S=y.get(E);if((v?.tagDuplicateStrategy||(n1.has(v.tag)?"merge":null)||(v.key&&v.key===S.key?"merge":null))==="merge"){const q={...S.props};Object.entries(v.props).forEach(([L,R])=>q[L]=L==="style"?new Map([...S.props.style||new Map,...R]):L==="class"?new Set([...S.props.class||new Set,...R]):R),y.set(E,{...v,props:q})}else v._p>>10===S._p>>10&&v.tag==="meta"&&VE(E)?(y.set(E,Object.assign([...Array.isArray(S)?S:[S],v],v)),l=!0):(v._w===S._w?v._p>S._p:v?._w<S?._w)&&y.set(E,v);return y},a.tagMap);const f=a.tagMap.get("title"),d=a.tagMap.get("titleTemplate");if(o._title=f?.textContent,d){const y=d?.textContent;if(o._titleTemplate=y,y){let v=typeof y=="function"?y(f?.textContent):y;typeof v=="string"&&!o.plugins.has("template-params")&&(v=v.replace("%s",f?.textContent||"")),f?v===null?a.tagMap.delete("title"):a.tagMap.set("title",{...f,textContent:v}):(d.tag="title",d.textContent=v)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Jy)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const p=[];for(const y of a.tags){const{innerHTML:v,tag:E,props:S}=y;if(ZP.has(E)&&!(Object.keys(S).length===0&&!y.innerHTML&&!y.textContent)&&!(E==="meta"&&!S.content&&!S["http-equiv"]&&!S.charset)){if(E==="script"&&v){if(S.type?.endsWith("json")){const U=typeof v=="string"?v:JSON.stringify(v);y.innerHTML=U.replace(/</g,"\\u003C")}else typeof v=="string"&&(y.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));y._d=Ip(y)}p.push(y)}}return p},invalidate(){for(const a of r.values())s.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>Zy(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const g1=(t,e)=>Lt(e)?ci(e):e,jm="usehead";function y1(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(jm,t)}}.install}function UE(){if(xu()){const t=Kt(jm);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function BE(t,e={}){const n=e.head||UE();return n.ssr?n.push(t||{},e):_1(n,t,e)}function _1(t,e,n={}){const r=Ut(!1);let i;return Gc(()=>{const o=r.value?{}:yf(e,g1);i?i.patch(o):i=t.push(o,n)}),us()&&(uc(()=>{i.dispose()}),Tb(()=>{r.value=!0}),Eb(()=>{r.value=!1})),i}function v1(t={},e={}){(e.head||UE()).use(o1);const{title:r,titleTemplate:i,...s}=t;return BE({title:r,titleTemplate:i,_flatMeta:s},e)}function jE(t){const e=t||Vt();return e.ssrContext?.head||e.runWithContext(()=>{if(xu()){const n=Kt(jm);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function $E(t,e={}){const n=e.head||jE(e.nuxt);return BE(t,{head:n,...e})}function w1(t,e={}){const n=e.head||jE(e.nuxt);return v1(t,{head:n,...e})}let Ol,Dl;function b1(){return Ol=$fetch(Um(`builds/meta/${ns().app.buildId}.json`),{responseType:"json"}),Ol.then(t=>{Dl=SP(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Ol}function nh(){return Ol||b1()}async function $m(t){const e=typeof t=="string"?t:t.path;if(await nh(),!Dl)return console.error("[nuxt] Error creating app manifest matcher.",Dl),{};try{return TE({},...Dl.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function e_(t,e={}){if(!await HE(t))return null;const r=await T1(t,e);return await qE(r)||null}const E1="_payload.json";async function T1(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ls(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=ns(),i=e.hash||(e.fresh?Date.now():r.app.buildId),s=r.app.cdnURL,o=s&&await HE(t)?s:r.app.baseURL;return eh(o,n.pathname,E1+(i?`?${i}`:""))}async function qE(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(KE));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function HE(t=th().path){const e=Vt();return t=t==="/"?t:t.replace(/\/$/,""),(await nh()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await $m({path:t});return!!r.prerender&&!r.redirect})}let Io=null;async function I1(){if(Io)return Io;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await KE(t.textContent||""),n=t.dataset.src?await qE(t.dataset.src):void 0;return Io={...e,...n,...window.__NUXT__},Io.config?.public&&(Io.config.public=fn(Io.config.public)),Io}async function KE(t){return await QP(t,Vt()._payloadRevivers)}function WE(t,e){Vt()._payloadRevivers[t]=e}const A1=TP(()=>{WE("skipHydrate",t=>{})}),S1=[["NuxtError",t=>xs(t)],["EmptyShallowRef",t=>ts(t==="_"?void 0:t==="0n"?BigInt(0):Ga(t))],["EmptyRef",t=>Ut(t==="_"?void 0:t==="0n"?BigInt(0):Ga(t))],["ShallowRef",t=>ts(t)],["ShallowReactive",t=>li(t)],["Ref",t=>Ut(t)],["Reactive",t=>fn(t)]],R1=_n({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,i]of S1)WE(r,i);Object.assign(t.payload,([e,n]=hi(()=>t.runWithContext(I1)),e=await e,n(),e)),delete window.__NUXT__}});async function qm(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async i=>{const s=new Map,o=new Promise(v=>{t.resolveTags().then(E=>{v(E.map(S=>{const U=s.get(S._d)||0,q={tag:S,id:(U?`${S._d}:${U}`:S._d)||Qy(S),shouldRender:!0};return S._d&&VE(S._d)&&s.set(S._d,U+1),q}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const v of["body","head"]){const E=n[v]?.children;for(const S of E){const U=S.tagName.toLowerCase();if(!zy.has(U))continue;const q=FE({tag:U,props:{}},{innerHTML:S.innerHTML,...S.getAttributeNames().reduce((L,R)=>(L[R]=S.getAttribute(R),L),{})||{}});if(q.key=S.getAttribute("data-hid")||void 0,q._d=Ip(q)||Qy(q),a.elMap.has(q._d)){let L=1,R=q._d;for(;a.elMap.has(R);)R=`${q._d}:${L++}`;a.elMap.set(R,S)}else a.elMap.set(q._d,S)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(v,E,S){const U=`${v}:${E}`;a.sideEffects[U]=S,delete a.pendingSideEffects[U]}function f({id:v,$el:E,tag:S}){const U=S.tag.endsWith("Attrs");a.elMap.set(v,E),U||(S.textContent&&S.textContent!==E.textContent&&(E.textContent=S.textContent),S.innerHTML&&S.innerHTML!==E.innerHTML&&(E.innerHTML=S.innerHTML),l(v,"el",()=>{E?.remove(),a.elMap.delete(v)}));for(const q in S.props){if(!Object.prototype.hasOwnProperty.call(S.props,q))continue;const L=S.props[q];if(q.startsWith("on")&&typeof L=="function"){const x=E?.dataset;if(x&&x[`${q}fired`]){const B=q.slice(0,-5);L.call(E,new Event(B.substring(2)))}E.getAttribute(`data-${q}`)!==""&&((S.tag==="bodyAttrs"?n.defaultView:E).addEventListener(q.substring(2),L.bind(E)),E.setAttribute(`data-${q}`,""));continue}const R=`attr:${q}`;if(q==="class"){if(!L)continue;for(const x of L)U&&l(v,`${R}:${x}`,()=>E.classList.remove(x)),!E.classList.contains(x)&&E.classList.add(x)}else if(q==="style"){if(!L)continue;for(const[x,B]of L)l(v,`${R}:${x}`,()=>{E.style.removeProperty(x)}),E.style.setProperty(x,B)}else L!==!1&&L!==null&&(E.getAttribute(q)!==L&&E.setAttribute(q,L===!0?"":String(L)),U&&l(v,R,()=>E.removeAttribute(q)))}}const d=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0},y=await o;for(const v of y){const{tag:E,shouldRender:S,id:U}=v;if(S){if(E.tag==="title"){n.title=E.textContent,l("title","",()=>n.title=a.title);continue}v.$el=v.$el||a.elMap.get(U),v.$el?f(v):zy.has(E.tag)&&d.push(v)}}for(const v of d){const E=v.tag.tagPosition||"head";v.$el=n.createElement(v.tag.tag),f(v),p[E]=p[E]||n.createDocumentFragment(),p[E].appendChild(v.$el)}for(const v of y)await t.hooks.callHook("dom:renderTag",v,n,l);p.head&&n.head.appendChild(p.head),p.bodyOpen&&n.body.insertBefore(p.bodyOpen,n.body.firstChild),p.bodyClose&&n.body.appendChild(p.bodyClose);for(const v in a.pendingSideEffects)a.pendingSideEffects[v]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:y}),i()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function C1(t={}){const e=t.domOptions?.render||qm;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return m1({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function P1(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function k1(t={}){const e=C1({domOptions:{render:P1(()=>qm(e),n=>setTimeout(n,0))},...t});return e.install=y1(e),e}const O1={disableDefaults:!0},D1=_n({name:"nuxt:head",enforce:"pre",setup(t){const e=k1(O1);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await qm(e)};e.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});const ba=typeof document<"u";function zE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function N1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&zE(t.default)}const vt=Object.assign;function ud(t,e){const n={};for(const r in e){const i=e[r];n[r]=Wr(i)?i.map(t):t(i)}return n}const Xc=()=>{},Wr=Array.isArray;function t_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const GE=/#/g,x1=/&/g,M1=/\//g,L1=/=/g,V1=/\?/g,QE=/\+/g,F1=/%5B/g,U1=/%5D/g,JE=/%5E/g,B1=/%60/g,YE=/%7B/g,j1=/%7C/g,XE=/%7D/g,$1=/%20/g;function Hm(t){return t==null?"":encodeURI(""+t).replace(j1,"|").replace(F1,"[").replace(U1,"]")}function q1(t){return Hm(t).replace(YE,"{").replace(XE,"}").replace(JE,"^")}function Ap(t){return Hm(t).replace(QE,"%2B").replace($1,"+").replace(GE,"%23").replace(x1,"%26").replace(B1,"`").replace(YE,"{").replace(XE,"}").replace(JE,"^")}function H1(t){return Ap(t).replace(L1,"%3D")}function K1(t){return Hm(t).replace(GE,"%23").replace(V1,"%3F")}function W1(t){return K1(t).replace(M1,"%2F")}function yu(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const z1=/\/$/,G1=t=>t.replace(z1,"");function ld(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=X1(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:yu(o)}}function Q1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function n_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function J1(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Qa(e.matched[r],n.matched[i])&&ZE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ZE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Y1(t[n],e[n]))return!1;return!0}function Y1(t,e){return Wr(t)?r_(t,e):Wr(e)?r_(e,t):t===e}function r_(t,e){return Wr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function X1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Er={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Sp=(function(t){return t.pop="pop",t.push="push",t})({}),fd=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Z1(t){if(!t)if(ba){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),G1(t)}const ek=/^[^#]+#/;function tk(t,e){return t.replace(ek,"#")+e}function nk(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const rh=()=>({left:window.scrollX,top:window.scrollY});function rk(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=nk(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function i_(t,e){return(history.state?history.state.position-e:-1)+t}const Rp=new Map;function ik(t,e){Rp.set(t,e)}function sk(t){const e=Rp.get(t);return Rp.delete(t),e}function ok(t){return typeof t=="string"||t&&typeof t=="object"}function eT(t){return typeof t=="string"||typeof t=="symbol"}let qt=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const tT=Symbol("");qt.MATCHER_NOT_FOUND+"",qt.NAVIGATION_GUARD_REDIRECT+"",qt.NAVIGATION_ABORTED+"",qt.NAVIGATION_CANCELLED+"",qt.NAVIGATION_DUPLICATED+"";function Ja(t,e){return vt(new Error,{type:t,[tT]:!0},e)}function ji(t,e){return t instanceof Error&&tT in t&&(e==null||!!(t.type&e))}const ak=["params","query","hash"];function ck(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of ak)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function uk(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(QE," "),s=i.indexOf("="),o=yu(s<0?i:i.slice(0,s)),a=s<0?null:yu(i.slice(s+1));if(o in e){let l=e[o];Wr(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function s_(t){let e="";for(let n in t){const r=t[n];if(n=H1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wr(r)?r.map(i=>i&&Ap(i)):[r&&Ap(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function lk(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Wr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const fk=Symbol(""),o_=Symbol(""),ih=Symbol(""),Km=Symbol(""),Cp=Symbol("");function Fc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ss(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=y=>{y===!1?l(Ja(qt.NAVIGATION_ABORTED,{from:n,to:e})):y instanceof Error?l(y):ok(y)?l(Ja(qt.NAVIGATION_GUARD_REDIRECT,{from:e,to:y})):(o&&r.enterCallbacks[i]===o&&typeof y=="function"&&o.push(y),a())},d=s(()=>t.call(r&&r.instances[i],e,n,f));let p=Promise.resolve(d);t.length<3&&(p=p.then(f)),p.catch(y=>l(y))})}function hd(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(zE(l)){const f=(l.__vccOpts||l)[e];f&&s.push(Ss(f,n,r,o,a,i))}else{let f=l();s.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=N1(d)?d.default:d;o.mods[a]=d,o.components[a]=p;const y=(p.__vccOpts||p)[e];return y&&Ss(y,n,r,o,a,i)()}))}}return s}function hk(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(f=>Qa(f,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>Qa(f,l))||i.push(l))}return[n,r,i]}let dk=()=>location.protocol+"//"+location.host;function nT(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),n_(a,"")}return n_(n,t)+r+i}function pk(t,e,n,r){let i=[],s=[],o=null;const a=({state:y})=>{const v=nT(t,location),E=n.value,S=e.value;let U=0;if(y){if(n.value=v,e.value=y,o&&o===E){o=null;return}U=S?y.position-S.position:0}else r(v);i.forEach(q=>{q(n.value,E,{delta:U,type:Sp.pop,direction:U?U>0?fd.forward:fd.back:fd.unknown})})};function l(){o=n.value}function f(y){i.push(y);const v=()=>{const E=i.indexOf(y);E>-1&&i.splice(E,1)};return s.push(v),v}function d(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(vt({},y.state,{scroll:rh()}),"")}}function p(){for(const y of s)y();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:f,destroy:p}}function a_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?rh():null}}function mk(t){const{history:e,location:n}=window,r={value:nT(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,f,d){const p=t.indexOf("#"),y=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:dk()+t+l;try{e[d?"replaceState":"pushState"](f,"",y),i.value=f}catch(v){console.error(v),n[d?"replace":"assign"](y)}}function o(l,f){s(l,vt({},e.state,a_(i.value.back,l,i.value.forward,!0),f,{position:i.value.position}),!0),r.value=l}function a(l,f){const d=vt({},i.value,e.state,{forward:l,scroll:rh()});s(d.current,d,!0),s(l,vt({},a_(r.value,l,null),{position:d.position+1},f),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function gk(t){t=Z1(t);const e=mk(t),n=pk(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=vt({location:"",base:t,go:r,createHref:tk.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let Oo=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var cn=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(cn||{});const yk={type:Oo.Static,value:""},_k=/[a-zA-Z0-9_]/;function vk(t){if(!t)return[[]];if(t==="/")return[[yk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=cn.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,f="",d="";function p(){f&&(n===cn.Static?s.push({type:Oo.Static,value:f}):n===cn.Param||n===cn.ParamRegExp||n===cn.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:Oo.Param,value:f,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==cn.ParamRegExp){r=n,n=cn.EscapeNext;continue}switch(n){case cn.Static:l==="/"?(f&&p(),o()):l===":"?(p(),n=cn.Param):y();break;case cn.EscapeNext:y(),n=r;break;case cn.Param:l==="("?n=cn.ParamRegExp:_k.test(l)?y():(p(),n=cn.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case cn.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=cn.ParamRegExpEnd:d+=l;break;case cn.ParamRegExpEnd:p(),n=cn.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===cn.ParamRegExp&&e(`Unfinished custom RegExp for param "${f}"`),p(),o(),i}const c_="[^/]+?",wk={sensitive:!1,strict:!1,start:!0,end:!0};var qn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(qn||{});const bk=/[.+*?^${}()[\]/\\]/g;function Ek(t,e){const n=vt({},wk,e),r=[];let i=n.start?"^":"";const s=[];for(const f of t){const d=f.length?[]:[qn.Root];n.strict&&!f.length&&(i+="/");for(let p=0;p<f.length;p++){const y=f[p];let v=qn.Segment+(n.sensitive?qn.BonusCaseSensitive:0);if(y.type===Oo.Static)p||(i+="/"),i+=y.value.replace(bk,"\\$&"),v+=qn.Static;else if(y.type===Oo.Param){const{value:E,repeatable:S,optional:U,regexp:q}=y;s.push({name:E,repeatable:S,optional:U});const L=q||c_;if(L!==c_){v+=qn.BonusCustomRegExp;try{`${L}`}catch(x){throw new Error(`Invalid custom RegExp for param "${E}" (${L}): `+x.message)}}let R=S?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;p||(R=U&&f.length<2?`(?:/${R})`:"/"+R),U&&(R+="?"),i+=R,v+=qn.Dynamic,U&&(v+=qn.BonusOptional),S&&(v+=qn.BonusRepeatable),L===".*"&&(v+=qn.BonusWildcard)}d.push(v)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=qn.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(f){const d=f.match(o),p={};if(!d)return null;for(let y=1;y<d.length;y++){const v=d[y]||"",E=s[y-1];p[E.name]=v&&E.repeatable?v.split("/"):v}return p}function l(f){let d="",p=!1;for(const y of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of y)if(v.type===Oo.Static)d+=v.value;else if(v.type===Oo.Param){const{value:E,repeatable:S,optional:U}=v,q=E in f?f[E]:"";if(Wr(q)&&!S)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const L=Wr(q)?q.join("/"):q;if(!L)if(U)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${E}"`);d+=L}}return d||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function Tk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===qn.Static+qn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===qn.Static+qn.Segment?1:-1:0}function rT(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Tk(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(u_(r))return 1;if(u_(i))return-1}return i.length-r.length}function u_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ik={strict:!1,end:!0,sensitive:!1};function Ak(t,e,n){const r=Ek(vk(t.path),n),i=vt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Sk(t,e){const n=[],r=new Map;e=t_(Ik,e);function i(p){return r.get(p)}function s(p,y,v){const E=!v,S=f_(p);S.aliasOf=v&&v.record;const U=t_(e,p),q=[S];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const B of x)q.push(f_(vt({},S,{components:v?v.record.components:S.components,path:B,aliasOf:v?v.record:S})))}let L,R;for(const x of q){const{path:B}=x;if(y&&B[0]!=="/"){const ne=y.record.path,D=ne[ne.length-1]==="/"?"":"/";x.path=y.record.path+(B&&D+B)}if(L=Ak(x,y,U),v?v.alias.push(L):(R=R||L,R!==L&&R.alias.push(L),E&&p.name&&!h_(L)&&o(p.name)),iT(L)&&l(L),S.children){const ne=S.children;for(let D=0;D<ne.length;D++)s(ne[D],L,v&&v.children[D])}v=v||L}return R?()=>{o(R)}:Xc}function o(p){if(eT(p)){const y=r.get(p);y&&(r.delete(p),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(p);y>-1&&(n.splice(y,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return n}function l(p){const y=Pk(p,n);n.splice(y,0,p),p.record.name&&!h_(p)&&r.set(p.record.name,p)}function f(p,y){let v,E={},S,U;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Ja(qt.MATCHER_NOT_FOUND,{location:p});U=v.record.name,E=vt(l_(y.params,v.keys.filter(R=>!R.optional).concat(v.parent?v.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),p.params&&l_(p.params,v.keys.map(R=>R.name))),S=v.stringify(E)}else if(p.path!=null)S=p.path,v=n.find(R=>R.re.test(S)),v&&(E=v.parse(S),U=v.record.name);else{if(v=y.name?r.get(y.name):n.find(R=>R.re.test(y.path)),!v)throw Ja(qt.MATCHER_NOT_FOUND,{location:p,currentLocation:y});U=v.record.name,E=vt({},y.params,p.params),S=v.stringify(E)}const q=[];let L=v;for(;L;)q.unshift(L.record),L=L.parent;return{name:U,path:S,params:E,matched:q,meta:Ck(q)}}t.forEach(p=>s(p));function d(){n.length=0,r.clear()}return{addRoute:s,resolve:f,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function l_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function f_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Rk(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Rk(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function h_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ck(t){return t.reduce((e,n)=>vt(e,n.meta),{})}function Pk(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;rT(t,e[s])<0?r=s:n=s+1}const i=kk(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function kk(t){let e=t;for(;e=e.parent;)if(iT(e)&&rT(t,e)===0)return e}function iT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function d_(t){const e=Kt(ih),n=Kt(Km),r=et(()=>{const l=St(t.to);return e.resolve(l)}),i=et(()=>{const{matched:l}=r.value,{length:f}=l,d=l[f-1],p=n.matched;if(!d||!p.length)return-1;const y=p.findIndex(Qa.bind(null,d));if(y>-1)return y;const v=p_(l[f-2]);return f>1&&p_(d)===v&&p[p.length-1].path!==v?p.findIndex(Qa.bind(null,l[f-2])):y}),s=et(()=>i.value>-1&&Mk(n.params,r.value.params)),o=et(()=>i.value>-1&&i.value===n.matched.length-1&&ZE(n.params,r.value.params));function a(l={}){if(xk(l)){const f=e[St(t.replace)?"replace":"push"](St(t.to)).catch(Xc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:et(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function Ok(t){return t.length===1?t[0]:t}const Dk=Xt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:d_,setup(t,{slots:e}){const n=fn(d_(t)),{options:r}=Kt(ih),i=et(()=>({[m_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[m_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Ok(e.default(n));return t.custom?s:Ht("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Nk=Dk;function xk(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Mk(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Wr(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function p_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const m_=(t,e,n)=>t??e??n,Lk=Xt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Kt(Cp),i=et(()=>t.route||r.value),s=Kt(o_,0),o=et(()=>{let f=St(s);const{matched:d}=i.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),a=et(()=>i.value.matched[o.value]);Yi(o_,et(()=>o.value+1)),Yi(fk,a),Yi(Cp,i);const l=Ut();return Ir(()=>[l.value,a.value,t.name],([f,d,p],[y,v,E])=>{d&&(d.instances[p]=f,v&&v!==d&&f&&f===y&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),f&&d&&(!v||!Qa(d,v)||!y)&&(d.enterCallbacks[p]||[]).forEach(S=>S(f))},{flush:"post"}),()=>{const f=i.value,d=t.name,p=a.value,y=p&&p.components[d];if(!y)return g_(n.default,{Component:y,route:f});const v=p.props[d],E=v?v===!0?f.params:typeof v=="function"?v(f):v:null,U=Ht(y,vt({},E,e,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return g_(n.default,{Component:U,route:f})||U}}});function g_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sT=Lk;function Vk(t){const e=Sk(t.routes,t),n=t.parseQuery||uk,r=t.stringifyQuery||s_,i=t.history,s=Fc(),o=Fc(),a=Fc(),l=ts(Er);let f=Er;ba&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ud.bind(null,oe=>""+oe),p=ud.bind(null,W1),y=ud.bind(null,yu);function v(oe,Oe){let ie,Le;return eT(oe)?(ie=e.getRecordMatcher(oe),Le=Oe):Le=oe,e.addRoute(Le,ie)}function E(oe){const Oe=e.getRecordMatcher(oe);Oe&&e.removeRoute(Oe)}function S(){return e.getRoutes().map(oe=>oe.record)}function U(oe){return!!e.getRecordMatcher(oe)}function q(oe,Oe){if(Oe=vt({},Oe||l.value),typeof oe=="string"){const j=ld(n,oe,Oe.path),ee=e.resolve({path:j.path},Oe),fe=i.createHref(j.fullPath);return vt(j,ee,{params:y(ee.params),hash:yu(j.hash),redirectedFrom:void 0,href:fe})}let ie;if(oe.path!=null)ie=vt({},oe,{path:ld(n,oe.path,Oe.path).path});else{const j=vt({},oe.params);for(const ee in j)j[ee]==null&&delete j[ee];ie=vt({},oe,{params:p(j)}),Oe.params=p(Oe.params)}const Le=e.resolve(ie,Oe),Ke=oe.hash||"";Le.params=d(y(Le.params));const Be=Q1(r,vt({},oe,{hash:q1(Ke),path:Le.path})),N=i.createHref(Be);return vt({fullPath:Be,hash:Ke,query:r===s_?lk(oe.query):oe.query||{}},Le,{redirectedFrom:void 0,href:N})}function L(oe){return typeof oe=="string"?ld(n,oe,l.value.path):vt({},oe)}function R(oe,Oe){if(f!==oe)return Ja(qt.NAVIGATION_CANCELLED,{from:Oe,to:oe})}function x(oe){return D(oe)}function B(oe){return x(vt(L(oe),{replace:!0}))}function ne(oe,Oe){const ie=oe.matched[oe.matched.length-1];if(ie&&ie.redirect){const{redirect:Le}=ie;let Ke=typeof Le=="function"?Le(oe,Oe):Le;return typeof Ke=="string"&&(Ke=Ke.includes("?")||Ke.includes("#")?Ke=L(Ke):{path:Ke},Ke.params={}),vt({query:oe.query,hash:oe.hash,params:Ke.path!=null?{}:oe.params},Ke)}}function D(oe,Oe){const ie=f=q(oe),Le=l.value,Ke=oe.state,Be=oe.force,N=oe.replace===!0,j=ne(ie,Le);if(j)return D(vt(L(j),{state:typeof j=="object"?vt({},Ke,j.state):Ke,force:Be,replace:N}),Oe||ie);const ee=ie;ee.redirectedFrom=Oe;let fe;return!Be&&J1(r,Le,ie)&&(fe=Ja(qt.NAVIGATION_DUPLICATED,{to:ee,from:Le}),An(Le,Le,!0,!1)),(fe?Promise.resolve(fe):O(ee,Le)).catch(ae=>ji(ae)?ji(ae,qt.NAVIGATION_GUARD_REDIRECT)?ae:Wt(ae):Ee(ae,ee,Le)).then(ae=>{if(ae){if(ji(ae,qt.NAVIGATION_GUARD_REDIRECT))return D(vt({replace:N},L(ae.to),{state:typeof ae.to=="object"?vt({},Ke,ae.to.state):Ke,force:Be}),Oe||ee)}else ae=M(ee,Le,!0,N,Ke);return V(ee,Le,ae),ae})}function A(oe,Oe){const ie=R(oe,Oe);return ie?Promise.reject(ie):Promise.resolve()}function I(oe){const Oe=Cr.values().next().value;return Oe&&typeof Oe.runWithContext=="function"?Oe.runWithContext(oe):oe()}function O(oe,Oe){let ie;const[Le,Ke,Be]=hk(oe,Oe);ie=hd(Le.reverse(),"beforeRouteLeave",oe,Oe);for(const j of Le)j.leaveGuards.forEach(ee=>{ie.push(Ss(ee,oe,Oe))});const N=A.bind(null,oe,Oe);return ie.push(N),zt(ie).then(()=>{ie=[];for(const j of s.list())ie.push(Ss(j,oe,Oe));return ie.push(N),zt(ie)}).then(()=>{ie=hd(Ke,"beforeRouteUpdate",oe,Oe);for(const j of Ke)j.updateGuards.forEach(ee=>{ie.push(Ss(ee,oe,Oe))});return ie.push(N),zt(ie)}).then(()=>{ie=[];for(const j of Be)if(j.beforeEnter)if(Wr(j.beforeEnter))for(const ee of j.beforeEnter)ie.push(Ss(ee,oe,Oe));else ie.push(Ss(j.beforeEnter,oe,Oe));return ie.push(N),zt(ie)}).then(()=>(oe.matched.forEach(j=>j.enterCallbacks={}),ie=hd(Be,"beforeRouteEnter",oe,Oe,I),ie.push(N),zt(ie))).then(()=>{ie=[];for(const j of o.list())ie.push(Ss(j,oe,Oe));return ie.push(N),zt(ie)}).catch(j=>ji(j,qt.NAVIGATION_CANCELLED)?j:Promise.reject(j))}function V(oe,Oe,ie){a.list().forEach(Le=>I(()=>Le(oe,Oe,ie)))}function M(oe,Oe,ie,Le,Ke){const Be=R(oe,Oe);if(Be)return Be;const N=Oe===Er,j=ba?history.state:{};ie&&(Le||N?i.replace(oe.fullPath,vt({scroll:N&&j&&j.scroll},Ke)):i.push(oe.fullPath,Ke)),l.value=oe,An(oe,Oe,ie,N),Wt()}let P;function Ue(){P||(P=i.listen((oe,Oe,ie)=>{if(!hn.listening)return;const Le=q(oe),Ke=ne(Le,hn.currentRoute.value);if(Ke){D(vt(Ke,{replace:!0,force:!0}),Le).catch(Xc);return}f=Le;const Be=l.value;ba&&ik(i_(Be.fullPath,ie.delta),rh()),O(Le,Be).catch(N=>ji(N,qt.NAVIGATION_ABORTED|qt.NAVIGATION_CANCELLED)?N:ji(N,qt.NAVIGATION_GUARD_REDIRECT)?(D(vt(L(N.to),{force:!0}),Le).then(j=>{ji(j,qt.NAVIGATION_ABORTED|qt.NAVIGATION_DUPLICATED)&&!ie.delta&&ie.type===Sp.pop&&i.go(-1,!1)}).catch(Xc),Promise.reject()):(ie.delta&&i.go(-ie.delta,!1),Ee(N,Le,Be))).then(N=>{N=N||M(Le,Be,!1),N&&(ie.delta&&!ji(N,qt.NAVIGATION_CANCELLED)?i.go(-ie.delta,!1):ie.type===Sp.pop&&ji(N,qt.NAVIGATION_ABORTED|qt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),V(Le,Be,N)}).catch(Xc)}))}let Ge=Fc(),Se=Fc(),Ne;function Ee(oe,Oe,ie){Wt(oe);const Le=Se.list();return Le.length?Le.forEach(Ke=>Ke(oe,Oe,ie)):console.error(oe),Promise.reject(oe)}function st(){return Ne&&l.value!==Er?Promise.resolve():new Promise((oe,Oe)=>{Ge.add([oe,Oe])})}function Wt(oe){return Ne||(Ne=!oe,Ue(),Ge.list().forEach(([Oe,ie])=>oe?ie(oe):Oe()),Ge.reset()),oe}function An(oe,Oe,ie,Le){const{scrollBehavior:Ke}=t;if(!ba||!Ke)return Promise.resolve();const Be=!ie&&sk(i_(oe.fullPath,0))||(Le||!ie)&&history.state&&history.state.scroll||null;return fr().then(()=>Ke(oe,Oe,Be)).then(N=>N&&rk(N)).catch(N=>Ee(N,oe,Oe))}const kt=oe=>i.go(oe);let pt;const Cr=new Set,hn={currentRoute:l,listening:!0,addRoute:v,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:S,resolve:q,options:t,push:x,replace:B,go:kt,back:()=>kt(-1),forward:()=>kt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Se.add,isReady:st,install(oe){oe.component("RouterLink",Nk),oe.component("RouterView",sT),oe.config.globalProperties.$router=hn,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>St(l)}),ba&&!pt&&l.value===Er&&(pt=!0,x(i.location).catch(Le=>{}));const Oe={};for(const Le in Er)Object.defineProperty(Oe,Le,{get:()=>l.value[Le],enumerable:!0});oe.provide(ih,hn),oe.provide(Km,li(Oe)),oe.provide(Cp,l);const ie=oe.unmount;Cr.add(oe),oe.unmount=function(){Cr.delete(oe),Cr.size<1&&(f=Er,P&&P(),P=null,l.value=Er,pt=!1,Ne=!1),ie()}}};function zt(oe){return oe.reduce((Oe,ie)=>Oe.then(()=>I(ie)),Promise.resolve())}return hn}function bj(){return Kt(ih)}function oT(t){return Kt(Km)}const Fk=/(:\w+)\([^)]+\)/g,Uk=/(:\w+)[?+*]/g,Bk=/:\w+/g,jk=(t,e)=>e.path.replace(Fk,"$1").replace(Uk,"$1").replace(Bk,n=>t.params[n.slice(1)]?.toString()||""),Pp=(t,e)=>{const n=t.route.matched.find(i=>i.components?.default===t.Component.type),r=e??n?.meta.key??(n&&jk(t.route,n));return typeof r=="function"?r(t.route):r},$k=(t,e)=>({default:()=>t?Ht(LS,t===!0?{}:t,e):e});function Wm(t){return Array.isArray(t)?t:[t]}const qk="modulepreload",Hk=function(t,e){return new URL(t,e).href},y_={},_t=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=f(n.map(d=>{if(d=Hk(d,r),d in y_)return;y_[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const S=o[E];if(S.href===d&&(!p||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qk,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((E,S)=>{v.addEventListener("load",E),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Kk={layout:"home"},Wk={layout:"noscroll"},zk={layout:"form"},Gk={layout:"form"},Qk={layout:"form"},Jk={layout:"form"},dd=[{name:"200",path:"/200",component:()=>_t(()=>import("./CJMVep7M.js"),[],import.meta.url)},{name:"404",path:"/404",component:()=>_t(()=>import("./B0WCbwT0.js"),[],import.meta.url)},{name:"500",path:"/500",component:()=>_t(()=>import("./BRKr13Wk.js"),[],import.meta.url)},{name:"index",path:"/",meta:Kk||{},component:()=>_t(()=>import("./vGLycu4f.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{name:"sobre",path:"/sobre",component:()=>_t(()=>import("./C0Lc0fmM.js"),__vite__mapDeps([5,6]),import.meta.url)},{name:"agenda",path:"/agenda",meta:Wk||{},component:()=>_t(()=>import("./DMyxucgi.js"),__vite__mapDeps([7,1,2,8]),import.meta.url)},{name:"perfil",path:"/perfil",component:()=>_t(()=>import("./BH9dZuJW.js"),__vite__mapDeps([9,10]),import.meta.url)},{name:"eventos",path:"/eventos",component:()=>_t(()=>import("./Bogp-1th.js"),__vite__mapDeps([11,3,12,13]),import.meta.url)},{name:"navegar",path:"/navegar",component:()=>_t(()=>import("./BroNLtJt.js"),__vite__mapDeps([14,15]),import.meta.url)},{name:"recentes",path:"/recentes",component:()=>_t(()=>import("./DK3ZIzzi.js"),__vite__mapDeps([16,17]),import.meta.url)},{name:"servicos",path:"/servicos",component:()=>_t(()=>import("./oP8JY7cr.js"),__vite__mapDeps([18,19]),import.meta.url)},{name:"settings",path:"/settings",component:()=>_t(()=>import("./CURpDiIM.js"),__vite__mapDeps([20,21]),import.meta.url)},{name:"relatorio",path:"/relatorio",component:()=>_t(()=>import("./D_6FBNEe.js"),__vite__mapDeps([22,3,23]),import.meta.url)},{name:"forms-view",path:"/forms/view",meta:zk||{},component:()=>_t(()=>import("./BApoRQKo.js"),__vite__mapDeps([24,25,1,2,26]),import.meta.url)},{name:"lista-edit",path:"/lista/edit",component:()=>_t(()=>import("./DeEQxn-8.js"),[],import.meta.url)},{name:"hinos",path:"/hinos",component:()=>_t(()=>import("./DAosRn28.js"),__vite__mapDeps([27,28]),import.meta.url)},{name:"lista",path:"/lista",component:()=>_t(()=>import("./CGaeszlF.js"),__vite__mapDeps([29,1,2,25,12,3,30]),import.meta.url)},{name:"evento",path:"/evento",component:()=>_t(()=>import("./CJhOJHJw.js"),__vite__mapDeps([31,32]),import.meta.url)},{name:"forms-contato",path:"/forms/contato",meta:Gk||{},component:()=>_t(()=>import("./PQfk9T0v.js"),__vite__mapDeps([33,34]),import.meta.url)},{name:"lista-calendar",path:"/lista/calendar",component:()=>_t(()=>import("./D5HYD_eQ.js"),__vite__mapDeps([35,1,2,3,36]),import.meta.url)},{name:"evento-solicitar",path:"/evento/solicitar",component:()=>_t(()=>import("./D40dd_cX.js"),__vite__mapDeps([37,38]),import.meta.url)},{name:"forms-manutencao",path:"/forms/manutencao",meta:Qk||{},component:()=>_t(()=>import("./BLVUxl_5.js"),__vite__mapDeps([39,40]),import.meta.url)},{name:"lista-calendar-print",path:"/lista/calendar-print",component:()=>_t(()=>import("./CKOY4Tch.js"),__vite__mapDeps([41,42]),import.meta.url)},{name:"forms-levantamento_preventiva",path:"/forms/levantamento_preventiva",meta:Jk||{},component:()=>_t(()=>import("./BkJOpqce.js"),__vite__mapDeps([43,44]),import.meta.url)}],aT=(t,e)=>({default:()=>t?Ht(VR,t===!0?{}:t,e):e.default?.()}),Yk=/(:\w+)\([^)]+\)/g,Xk=/(:\w+)[?+*]/g,Zk=/:\w+/g;function __(t){const e=t?.meta.key??t.path.replace(Yk,"$1").replace(Xk,"$1").replace(Zk,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function eO(t,e){return t===e||e===Er?!1:__(t)!==__(e)?!0:!t.matched.every((r,i)=>r.components&&r.components.default===e.matched[i]?.components?.default)}const tO={scrollBehavior(t,e,n){const r=Vt(),i=Kn().options?.scrollBehaviorType??"auto";if(t.path.replace(/\/$/,"")===e.path.replace(/\/$/,""))return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:cT(t.hash),behavior:i}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===Er){a(v_(t,e,n,i));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(v_(t,e,n,i)))})})}};function cT(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function v_(t,e,n,r){if(n)return n;const i=eO(t,e);return t.hash?{el:t.hash,top:cT(t.hash),behavior:i?r:"instant"}:{left:0,top:0}}const nO={hashMode:!1,scrollBehaviorType:"auto"},ws={...nO,...tO},rO=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const i=([n,r]=hi(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(i===!0)return;const s=xs({fatal:!0,statusCode:i&&i.statusCode||404,statusMessage:i&&i.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),s},iO=async t=>{let e,n;const r=([e,n]=hi(()=>$m({path:t.path})),e=await e,n(),e);if(r.redirect){const i=r.redirect.includes("#")?r.redirect:r.redirect+t.hash;return ls(i,{acceptRelative:!0})?(window.location.href=i,!1):i}},sO=[rO,iO],kp={};function oO(t,e,n){const{pathname:r,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){const f=s.includes(t.slice(o))?t.slice(o).length:1;let d=s.slice(f);return d[0]!=="/"&&(d="/"+d),xy(d,"")}const a=xy(r,t),l=!n||MC(a,n)?a:n;return l+(l.includes("?")?"":i)+s}const aO=_n({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=ns().app.baseURL;const i=ws.history?.(r)??gk(r),s=ws.routes?([e,n]=hi(()=>ws.routes(dd)),e=await e,n(),e??dd):dd;let o;const a=Vk({...ws,scrollBehavior:(U,q,L)=>{if(q===Er){o=L;return}if(ws.scrollBehavior){if(a.options.scrollBehavior=ws.scrollBehavior,"scrollRestoration"in window.history){const R=a.beforeEach(()=>{R(),window.history.scrollRestoration="manual"})}return ws.scrollBehavior(U,Er,o||L)}},history:i,routes:s});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const l=ts(a.currentRoute.value);a.afterEach((U,q)=>{l.value=q}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const f=oO(r,window.location,t.payload.path),d=ts(a.currentRoute.value),p=()=>{d.value=a.currentRoute.value};t.hook("page:finish",p),a.afterEach((U,q)=>{U.matched[U.matched.length-1]?.components?.default===q.matched[q.matched.length-1]?.components?.default&&p()});const y={};for(const U in d.value)Object.defineProperty(y,U,{get:()=>d.value[U],enumerable:!0});t._route=li(y),t._middleware||={global:[],named:{}};const v=Mu();a.afterEach(async(U,q,L)=>{delete t._processingMiddleware,!t.isHydrating&&v.value&&await t.runWithContext(RE),L&&await t.callHook("page:loading:end")});try{[e,n]=hi(()=>a.isReady()),await e,n()}catch(U){[e,n]=hi(()=>t.runWithContext(()=>Ro(U))),await e,n()}const E=f!==a.currentRoute.value.fullPath?a.resolve(f):a.currentRoute.value;p();const S=t.payload.state._layout;return a.beforeEach(async(U,q)=>{await t.callHook("page:loading:start"),U.meta=fn(U.meta),t.isHydrating&&S&&!vi(U.meta.layout)&&(U.meta.layout=S),t._processingMiddleware=!0;{const L=new Set([...sO,...t._middleware.global]);for(const R of U.matched){const x=R.meta.middleware;if(x)for(const B of Wm(x))L.add(B)}{const R=await t.runWithContext(()=>$m({path:U.path}));if(R.appMiddleware)for(const x in R.appMiddleware)R.appMiddleware[x]?L.add(x):L.delete(x)}for(const R of L){const x=typeof R=="string"?t._middleware.named[R]||await kp[R]?.().then(B=>B.default||B):R;if(!x)throw new Error(`Unknown route middleware: '${R}'.`);try{const B=await t.runWithContext(()=>x(U,q));if(!t.payload.serverRendered&&t.isHydrating&&(B===!1||B instanceof Error)){const ne=B||xs({statusCode:404,statusMessage:`Page Not Found: ${f}`});return await t.runWithContext(()=>Ro(ne)),!1}if(B===!0)continue;if(B===!1)return B;if(B)return CE(B)&&B.fatal&&await t.runWithContext(()=>Ro(B)),B}catch(B){const ne=xs(B);return ne.fatal&&await t.runWithContext(()=>Ro(ne)),ne}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(U=>{if(U.matched.length===0)return t.runWithContext(()=>Ro(xs({statusCode:404,fatal:!1,statusMessage:`Page not found: ${U.fullPath}`,data:{path:U.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in E&&(E.name=void 0),await a.replace({...E,force:!0}),a.options.scrollBehavior=ws.scrollBehavior}catch(U){await t.runWithContext(()=>Ro(U))}}),{provide:{router:a}}}}),Op=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),cO=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),sh=t=>{const e=Vt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Op(()=>t())}):Op(()=>t())},uO=_n({name:"nuxt:payload",setup(t){const e=new Set;Kn().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const i=await e_(n.path);if(i){for(const s of e)delete t.static.data[s];for(const s in i.data)s in t.static.data||e.add(s),t.static.data[s]=i.data[s]}}),sh(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await e_(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(nh,1e3)})}}),lO=_n(()=>{const t=Kn();sh(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),fO=_n(t=>{let e;async function n(){let r;try{r=await nh()}catch(i){const s=i;if(!("status"in s&&(s.status===404||s.status===403)))throw s}e&&clearTimeout(e),e=setTimeout(n,jy);try{const i=await $fetch(Um("builds/latest.json")+`?${Date.now()}`);i.id!==r?.id&&(t.hooks.callHook("app:manifest:update",i),e&&clearTimeout(e))}catch{}}sh(()=>{e=setTimeout(n,jy)})});function hO(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ga(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Vt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const dO=_n({name:"nuxt:chunk-reload",setup(t){const e=Kn(),n=ns(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:s})=>{r.add(s)});function i(s){const o=eh(n.app.baseURL,s.fullPath);hO({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(i)}),e.onError((s,o)=>{r.has(s)&&i(o)})}});function Dp(t){return typeof t=="string"?`'${t}'`:new pO().serialize(t)}const pO=(function(){class t{#e=new Map;compare(n,r){const i=typeof n,s=typeof r;return i==="string"&&s==="string"?n.localeCompare(r):i==="number"&&s==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const i=n.constructor,s=i===Object||i===void 0?"":i.name;if(s!==""&&globalThis[s]===i)return this.serializeBuiltInType(s,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return s+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(s,Object.entries(n))}serializeBuiltInType(n,r){const i=this["$"+n];if(i)return i.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const i=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let s=`${n}{`;for(let o=0;o<i.length;o++){const[a,l]=i[o];s+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<i.length-1&&(s+=",")}return s+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let i=0;i<n.length;i++)r+=this.serialize(n[i]),i<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,i)=>this.compare(r,i)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function mO(t,e){return t===e||Dp(t)===Dp(e)}const gO=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],yO=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],_O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Ao=[];let vO=class{_data=new yl;_hash=new yl([...gO]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const r=this._hash.words;let i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],f=r[5],d=r[6],p=r[7];for(let y=0;y<64;y++){if(y<16)Ao[y]=e[n+y]|0;else{const R=Ao[y-15],x=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,B=Ao[y-2],ne=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;Ao[y]=x+Ao[y-7]+ne+Ao[y-16]}const v=l&f^~l&d,E=i&s^i&o^s&o,S=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),U=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),q=p+U+v+yO[y]+Ao[y],L=S+E;p=d,d=f,f=l,l=a+q|0,a=o,o=s,s=i,i=q+L|0}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+l|0,r[5]=r[5]+f|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0}_append(e){typeof e=="string"&&(e=yl.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,r=this._data.sigBytes/64;e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const i=r*16,s=Math.min(i*4,this._data.sigBytes);if(i){for(let o=0;o<i;o+=16)this._doProcessBlock(this._data.words,o);n=this._data.words.splice(0,i),this._data.sigBytes-=s}return new yl(n,s)}},yl=class uT{words;sigBytes;constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),r=n.length,i=[];for(let s=0;s<r;s++)i[s>>>2]|=(n.charCodeAt(s)&255)<<24-s%4*8;return new uT(i,r)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const r=this.words[n>>>2]>>>24-n%4*8&255,i=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,s=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,o=r<<16|i<<8|s;for(let a=0;a<4&&n*8+a*6<this.sigBytes*8;a++)e.push(_O.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}};function wO(t){return new vO().finalize(t).toBase64()}function Ea(t){return wO(Dp(t))}const bO={trailing:!0};function EO(t,e=25,n={}){if(n={...bO,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let r,i,s=[],o,a;const l=(p,y)=>(o=TO(t,p,y),o.finally(()=>{if(o=null,n.trailing&&a&&!i){const v=l(p,a);return a=null,v}}),o),f=function(...p){return n.trailing&&(a=p),o||new Promise(y=>{const v=!i&&n.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const E=n.leading?r:l(this,p);a=null;for(const S of s)S(E);s=[]},e),v?(r=l(this,p),y(r)):s.push(y)})},d=p=>{p&&(clearTimeout(p),i=null)};return f.isPending=()=>!!i,f.cancel=()=>{d(i),s=[],a=null},f.flush=()=>{if(d(i),!a||o)return;const p=a;return a=null,l(this,p)},f}async function TO(t,e,n){return await t.apply(e,n)}const IO=Symbol.for("nuxt:client-only");function AO(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;SO(t[0],t[1])&&t.unshift(e);let[n,r,i={}]=t,s=!1;const o=et(()=>ci(n));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=Vt();i.server??=!0,i.default??=CO,i.getCachedData??=fT,i.lazy??=!1,i.immediate??=!0,i.deep??=pP.deep,i.dedupe??="cancel",i._functionName,a._asyncData[o.value];function l(){const E={cause:"initial",dedupe:i.dedupe};return a._asyncData[o.value]?._init||(E.cachedData=i.getCachedData(o.value,a,{cause:"initial"}),a._asyncData[o.value]=w_(a,o.value,r,i,E.cachedData)),()=>a._asyncData[o.value].execute(E)}const f=l(),d=a._asyncData[o.value];d._deps++;const p=i.server!==!1&&a.payload.serverRendered;{let E=function(x){const B=a._asyncData[x];B?._deps&&(B._deps--,B._deps===0&&B?._off())};const S=us();if(S&&p&&i.immediate&&!S.sp&&(S.sp=[]),S&&!S._nuxtOnBeforeMountCbs){S._nuxtOnBeforeMountCbs=[];const x=S._nuxtOnBeforeMountCbs;Ab(()=>{x.forEach(B=>{B()}),x.splice(0,x.length)}),dr(()=>x.splice(0,x.length))}const U=S&&(S._nuxtClientOnly||Kt(IO,!1));p&&a.isHydrating&&(d.error.value||d.data.value!==void 0)?d.status.value=d.error.value?"error":"success":S&&(!U&&a.payload.serverRendered&&a.isHydrating||i.lazy)&&i.immediate?S._nuxtOnBeforeMountCbs.push(f):i.immediate&&d.status.value!=="success"&&f();const q=ac(),L=Ir(o,(x,B)=>{if((x||B)&&x!==B){s=!0;const ne=a._asyncData[B]?.data.value!==void 0,D=a._asyncDataPromises[B]!==void 0,A={cause:"initial",dedupe:i.dedupe};if(!a._asyncData[x]?._init){let I;B&&ne?I=a._asyncData[B].data.value:(I=i.getCachedData(x,a,{cause:"initial"}),A.cachedData=I),a._asyncData[x]=w_(a,x,r,i,I)}a._asyncData[x]._deps++,B&&E(B),(i.immediate||ne||D)&&a._asyncData[x].execute(A),lu(()=>{s=!1})}},{flush:"sync"}),R=i.watch?Ir(i.watch,()=>{s||d._execute({cause:"watch",dedupe:i.dedupe})}):()=>{};q&&au(()=>{L(),R(),E(o.value)})}const y={data:_l(()=>a._asyncData[o.value]?.data),pending:_l(()=>a._asyncData[o.value]?.pending),status:_l(()=>a._asyncData[o.value]?.status),error:_l(()=>a._asyncData[o.value]?.error),refresh:(...E)=>a._asyncData[o.value]?._init?a._asyncData[o.value].execute(...E):l()(),execute:(...E)=>y.refresh(...E),clear:()=>{const E=a._asyncData[o.value];if(E?._abortController)try{E._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{E._abortController=void 0}lT(a,o.value)}},v=Promise.resolve(a._asyncDataPromises[o.value]).then(()=>y);return Object.assign(v,y),v}function _l(t){return et({get(){return t()?.value},set(e){const n=t();n&&(n.value=e)}})}function SO(t,e){return!(typeof t=="string"||typeof t=="object"&&t!==null||typeof t=="function"&&typeof e=="function")}function lT(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=void 0),t._asyncData[e]&&(t._asyncData[e].data.value=St(t._asyncData[e]._default()),t._asyncData[e].error.value=void 0,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]=void 0)}function RO(t,e){const n={};for(const r of e)n[r]=t[r];return n}function w_(t,e,n,r,i){t.payload._errors[e]??=void 0;const s=r.getCachedData!==fT,o=n,a=r.deep?Ut:ts,l=i!==void 0,f=t.hook("app:data:refresh",async p=>{(!p||p.includes(e))&&await d.execute({cause:"refresh:hook"})}),d={data:a(l?i:r.default()),pending:et(()=>d.status.value==="pending"),error:lb(t.payload._errors,e),status:ts("idle"),execute:(...p)=>{const[y,v=void 0]=p,E=y&&v===void 0&&typeof y=="object"?y:{};if(t._asyncDataPromises[e]&&(E.dedupe??r.dedupe)==="defer")return t._asyncDataPromises[e];{const q="cachedData"in E?E.cachedData:r.getCachedData(e,t,{cause:E.cause??"refresh:manual"});if(q!==void 0)return t.payload.data[e]=d.data.value=q,d.error.value=void 0,d.status.value="success",Promise.resolve(q)}d._abortController&&d._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),d._abortController=new AbortController,d.status.value="pending";const S=new AbortController,U=new Promise((q,L)=>{try{const R=E.timeout??r.timeout,x=PO([d._abortController?.signal,E?.signal],S.signal,R);if(x.aborted){const B=x.reason;L(B instanceof Error?B:new DOMException(String(B??"Aborted"),"AbortError"));return}return x.addEventListener("abort",()=>{const B=x.reason;L(B instanceof Error?B:new DOMException(String(B??"Aborted"),"AbortError"))},{once:!0,signal:S.signal}),Promise.resolve(o(t,{signal:x})).then(q,L)}catch(R){L(R)}}).then(async q=>{let L=q;r.transform&&(L=await r.transform(q)),r.pick&&(L=RO(L,r.pick)),t.payload.data[e]=L,d.data.value=L,d.error.value=void 0,d.status.value="success"}).catch(q=>{if(!(t._asyncDataPromises[e]&&t._asyncDataPromises[e]!==U)&&!d._abortController?.signal.aborted){if(typeof DOMException<"u"&&q instanceof DOMException&&q.name==="AbortError"){d.status.value="idle";return}d.error.value=xs(q),d.data.value=St(r.default()),d.status.value="error"}}).finally(()=>{S.abort(),delete t._asyncDataPromises[e]});return t._asyncDataPromises[e]=U,t._asyncDataPromises[e]},_execute:EO((...p)=>d.execute(...p),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{f(),t._asyncData[e]?._init&&(t._asyncData[e]._init=!1),s||fr(()=>{t._asyncData[e]?._init||(lT(t,e),d.execute=()=>Promise.resolve())})}};return d}const CO=()=>{},fT=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function PO(t,e,n){const r=t.filter(o=>!!o);if(typeof n=="number"&&n>=0){const o=AbortSignal.timeout?.(n);o&&r.push(o)}if(AbortSignal.any)return AbortSignal.any(r);const i=new AbortController;for(const o of r)if(o.aborted){const a=o.reason??new DOMException("Aborted","AbortError");try{i.abort(a)}catch{i.abort()}return i.signal}const s=()=>{const a=r.find(l=>l.aborted)?.reason??new DOMException("Aborted","AbortError");try{i.abort(a)}catch{i.abort()}};for(const o of r)o.addEventListener?.("abort",s,{once:!0,signal:e});return i.signal}function b_(t,e,n){const[r={},i]=typeof e=="string"?[{},e]:[e,n],s=et(()=>ci(t)),o=et(()=>ci(r.key)||"$f"+Ea([i,typeof s.value=="string"?s.value:"",...kO(r)]));if(!r.baseURL&&typeof s.value=="string"&&s.value[0]==="/"&&s.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:a,lazy:l,default:f,transform:d,pick:p,watch:y,immediate:v,getCachedData:E,deep:S,dedupe:U,timeout:q,...L}=r,R=fn({...mP,...L,cache:typeof r.cache=="boolean"?void 0:r.cache}),x={server:a,lazy:l,default:f,transform:d,pick:p,immediate:v,getCachedData:E,deep:S,dedupe:U,timeout:q,watch:y===!1?[]:[...y||[],R]};return AO(y===!1?o.value:o,(ne,{signal:D})=>(r.$fetch||globalThis.$fetch)(s.value,{signal:D,...R}),x)}function kO(t){const e=[ci(t.method)?.toUpperCase()||"GET",ci(t.baseURL)];for(const n of[t.query||t.params]){const r=ci(n);if(!r)continue;const i={};for(const[s,o]of Object.entries(r))i[ci(s)]=ci(o);e.push(i)}if(t.body){const n=ci(t.body);if(!n)e.push(Ea(n));else if(n instanceof ArrayBuffer)e.push(Ea(Object.fromEntries([...new Uint8Array(n).entries()].map(([r,i])=>[r,i.toString()]))));else if(n instanceof FormData){const r={};for(const i of n.entries()){const[s,o]=i;r[s]=o instanceof File?o.name:o}e.push(Ea(r))}else if(_m(n))e.push(Ea(fn(n)));else try{e.push(Ea(n))}catch{console.warn("[useFetch] Failed to hash body",n)}}return e}function OO(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},i=r.decode||DO;let s=0;for(;s<t.length;){const o=t.indexOf("=",s);if(o===-1)break;let a=t.indexOf(";",s);if(a===-1)a=t.length;else if(a<o){s=t.lastIndexOf(";",o-1)+1;continue}const l=t.slice(s,o).trim();if(r?.filter&&!r?.filter(l)){s=a+1;continue}if(n[l]===void 0){let f=t.slice(o+1,a).trim();f.codePointAt(0)===34&&(f=f.slice(1,-1)),n[l]=NO(f,i)}s=a+1}return n}function DO(t){return t.includes("%")?decodeURIComponent(t):t}function NO(t,e){try{return e(t)}catch{return t}}const vl=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function E_(t,e,n){const r=n||{},i=r.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!vl.test(t))throw new TypeError("argument name is invalid");const s=i(e);if(s&&!vl.test(s))throw new TypeError("argument val is invalid");let o=t+"="+s;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!vl.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!vl.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!xO(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function xO(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function Vr(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=Vr(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Vr(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=Vr(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=Vr(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(i){n.add(Vr(i))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(i,s){n.set(Vr(s),Vr(i))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(Vr(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const MO={path:"/",watch:!0,decode:t=>Ga(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},wl=globalThis.cookieStore;function T_(t,e){const n={...MO,...e};n.filter??=f=>f===t;const r=I_(n)||{};let i;n.maxAge!==void 0?i=n.maxAge*1e3:n.expires&&(i=n.expires.getTime()-Date.now());const s=i!==void 0&&i<=0,o=s||r[t]===void 0||r[t]===null,a=Vr(s?void 0:r[t]??n.default?.()),l=i&&!s?FO(a,i,n.watch&&n.watch!=="shallow"):Ut(a);{let f=null;try{!wl&&typeof BroadcastChannel<"u"&&(f=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const d=(E=!1)=>{!E&&(n.readonly||mO(l.value,r[t]))||(VO(t,l.value,n),r[t]=Vr(l.value),f?.postMessage({value:n.encode(l.value)}))},p=E=>{const S=E.refresh?I_(n)?.[t]:n.decode(E.value);y=!0,l.value=S,r[t]=Vr(S),fr(()=>{y=!1})};let y=!1;const v=!!ac();if(v&&au(()=>{y=!0,d(),f?.close()}),wl){const E=S=>{const U=S.changed.find(L=>L.name===t),q=S.deleted.find(L=>L.name===t);U&&p({value:U.value}),q&&p({value:null})};wl.addEventListener("change",E),v&&au(()=>wl.removeEventListener("change",E))}else f&&(f.onmessage=({data:E})=>p(E));n.watch&&Ir(l,()=>{y||d()},{deep:n.watch!=="shallow"}),o&&d(o)}return l}function I_(t={}){return OO(document.cookie,t)}function LO(t,e,n={}){return e==null?E_(t,e,{...n,maxAge:-1}):E_(t,e,n)}function VO(t,e,n={}){document.cookie=LO(t,e,n)}const A_=2147483647;function FO(t,e,n){let r,i,s=0;const o=n?Ut(t):{value:t};return ac()&&au(()=>{i?.(),clearTimeout(r)}),gS((a,l)=>{n&&(i=Ir(o,l));function f(){s=0,clearTimeout(r);const d=e-s,p=d<A_?d:A_;r=setTimeout(()=>{if(s+=p,s<e)return f();o.value=void 0,l()},p)}return{get(){return a(),o.value},set(d){f(),o.value=d,l()}}})}function UO(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function hT(t,e=Kn()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const i=e._preloadPromises||=[];if(i.length>4)return Promise.all(i).then(()=>hT(t,e));e._routePreloaded.add(n);for(const s of r){const o=s.components?.default;if(typeof o!="function")continue;const a=Promise.resolve(o()).catch(()=>{}).finally(()=>i.splice(i.indexOf(a)));i.push(a)}await Promise.all(i)}const BO=(...t)=>t.find(e=>e!==void 0);function jO(t){const e=t.componentName||"NuxtLink";function n(s){return typeof s=="string"&&s.startsWith("#")}function r(s,o,a){const l=a??t.trailingSlash;if(!s||l!=="append"&&l!=="remove")return s;if(typeof s=="string")return bl(s,l);const f="path"in s&&s.path!==void 0?s.path:o(s).path;return{...s,name:void 0,path:bl(f,l)}}function i(s){const o=Kn(),a=ns(),l=et(()=>!!s.target&&s.target!=="_self"),f=et(()=>{const U=s.to||s.href||"";return typeof U=="string"&&ls(U,{acceptRelative:!0})}),d=np("RouterLink"),p=d&&typeof d!="string"?d.useLink:void 0,y=et(()=>{if(s.external)return!0;const U=s.to||s.href||"";return typeof U=="object"?!1:U===""||f.value}),v=et(()=>{const U=s.to||s.href||"";return y.value?U:r(U,o.resolve,s.trailingSlash)}),E=y.value?void 0:p?.({...s,to:v}),S=et(()=>{const U=s.trailingSlash??t.trailingSlash;if(!v.value||f.value||n(v.value))return v.value;if(y.value){const q=typeof v.value=="object"&&"path"in v.value?wp(v.value):v.value,L=typeof q=="object"?o.resolve(q).href:q;return bl(L,U)}return typeof v.value=="object"?o.resolve(v.value)?.href??null:bl(eh(a.app.baseURL,v.value),U)});return{to:v,hasTarget:l,isAbsoluteUrl:f,isExternal:y,href:S,isActive:E?.isActive??et(()=>v.value===o.currentRoute.value.path),isExactActive:E?.isExactActive??et(()=>v.value===o.currentRoute.value.path),route:E?.route??et(()=>o.resolve(v.value)),async navigate(U){await NP(S.value,{replace:s.replace,external:y.value||l.value})}}}return Xt({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:i,setup(s,{slots:o}){const a=Kn(),{to:l,href:f,navigate:d,isExternal:p,hasTarget:y,isAbsoluteUrl:v}=i(s),E=ts(!1),S=Ut(null),U=R=>{S.value=s.custom?R?.$el?.nextElementSibling:R?.$el};function q(R){return!E.value&&(typeof s.prefetchOn=="string"?s.prefetchOn===R:s.prefetchOn?.[R]??t.prefetchOn?.[R])&&(s.prefetch??t.prefetch)!==!1&&s.noPrefetch!==!0&&s.target!=="_blank"&&!KO()}async function L(R=Vt()){if(E.value)return;E.value=!0;const x=typeof l.value=="string"?l.value:p.value?wp(l.value):a.resolve(l.value).fullPath,B=p.value?new URL(x,window.location.href).href:x;await Promise.all([R.hooks.callHook("link:prefetch",B).catch(()=>{}),!p.value&&!y.value&&hT(l.value,a).catch(()=>{})])}if(q("visibility")){const R=Vt();let x,B=null;zo(()=>{const ne=qO();sh(()=>{x=Op(()=>{S?.value?.tagName&&(B=ne.observe(S.value,async()=>{B?.(),B=null,await L(R)}))})})}),uc(()=>{x&&cO(x),B?.(),B=null})}return()=>{if(!p.value&&!y.value&&!n(l.value)){const B={ref:U,to:l.value,activeClass:s.activeClass||t.activeClass,exactActiveClass:s.exactActiveClass||t.exactActiveClass,replace:s.replace,ariaCurrentValue:s.ariaCurrentValue,custom:s.custom};return s.custom||(q("interaction")&&(B.onPointerenter=L.bind(null,void 0),B.onFocus=L.bind(null,void 0)),E.value&&(B.class=s.prefetchedClass||t.prefetchedClass),B.rel=s.rel||void 0),Ht(np("RouterLink"),B,o.default)}const R=s.target||null,x=BO(s.noRel?"":s.rel,t.externalRelAttribute,v.value||y.value?"noopener noreferrer":"")||null;return s.custom?o.default?o.default({href:f.value,navigate:d,prefetch:L,get route(){if(!f.value)return;const B=new URL(f.value,window.location.href);return{path:B.pathname,fullPath:B.pathname,get query(){return Vm(B.search)},hash:B.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:x,target:R,isExternal:p.value||y.value,isActive:!1,isExactActive:!1}):null:Ht("a",{ref:S,href:f.value||null,rel:x,target:R,onClick:B=>{if(!(p.value||y.value))return B.preventDefault(),s.replace?a.replace(f.value):a.push(f.value)}},o.default?.())}}})}const $O=jO(dP);function bl(t,e){const n=e==="append"?lE:mu;return ls(t)&&!t.startsWith("http")?t:n(t,!0)}function qO(){const t=Vt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(s,o)=>(e||=new IntersectionObserver(a=>{for(const l of a){const f=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&f&&f()}}),n.set(s,o),e.observe(s),()=>{n.delete(s),e?.unobserve(s),n.size===0&&(e?.disconnect(),e=null)});return t._observer={observe:r}}const HO=/2g/;function KO(){const t=navigator.connection;return!!(t&&(t.saveData||HO.test(t.effectiveType)))}const WO=_n({name:"pinia",setup(t){const e=xP();return t.vueApp.use(e),Lu(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),zO=_n({name:"nuxt:global-components"}),ks={clear:ga(()=>_t(()=>import("./BP3WUk0P.js"),__vite__mapDeps([45,46,47]),import.meta.url).then(t=>t.default||t)),default:ga(()=>_t(()=>import("./BPJXjES6.js"),__vite__mapDeps([48,46,49,50,51]),import.meta.url).then(t=>t.default||t)),form:ga(()=>_t(()=>import("./D92VlWqS.js"),__vite__mapDeps([52,46,49,50,53]),import.meta.url).then(t=>t.default||t)),home:ga(()=>_t(()=>import("./CN4XYh72.js"),__vite__mapDeps([54,46,1,2]),import.meta.url).then(t=>t.default||t)),landscape:ga(()=>_t(()=>import("./gE3vm8fl.js"),__vite__mapDeps([55,46,49,50,56]),import.meta.url).then(t=>t.default||t)),noscroll:ga(()=>_t(()=>import("./CjCp0y6z.js"),__vite__mapDeps([57,46,49,50,58]),import.meta.url).then(t=>t.default||t))},GO=_n({name:"nuxt:prefetch",setup(t){const e=Kn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof ks[r]=="function"&&await ks[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ls(n))return;const r=e.resolve(n);if(!r)return;const i=r.meta.layout;let s=Wm(r.meta.middleware);s=s.filter(o=>typeof o=="string");for(const o of s)typeof kp[o]=="function"&&kp[o]();typeof i=="string"&&i in ks&&UO(ks[i])})}});function pd(...t){window.dataLayer?.push(arguments)}function QO({tags:t}){window.dataLayer=window.dataLayer||[];for(const e of t)for(const n of e.initCommands??[])pd(...n);pd("js",new Date);for(const e of t)pd("config",e.id,e.config??{})}function JO(t){const e=Qe(t),n=e.tags.filter(Boolean).map(r=>typeof r=="string"?{id:r}:r);if(e.id){const{id:r,config:i,initCommands:s}=e;n.unshift({id:r,config:i,initCommands:s})}return n}const YO=_n({parallel:!0,setup(){const t=ns().public.gtag,e=JO(t);if(!e.length||(QO({tags:e}),t.initMode==="manual"))return;const n=t.loadingStrategy==="async"?"async":"defer";$E({link:[{rel:"preload",as:"script",href:df(t.url,{id:e[0].id})}],script:[{src:df(t.url,{id:e[0].id}),[n]:!0,"data-gtag":""}]})}});function XO(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function zm(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=zm(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function dT(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return zm(t,dT(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function pT(t,e){return e.map(n=>n.split(".")).map(n=>[n,XO(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>zm(n,r[1],r[0]),{})}function mT(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>dT(n,r),t)}function S_(t,{storage:e,serializer:n,key:r,debug:i,pick:s,omit:o,beforeHydrate:a,afterHydrate:l},f,d=!0){try{d&&a?.(f);const p=e.getItem(r);if(p){const y=n.deserialize(p),v=s?pT(y,s):y,E=o?mT(v,o):v;t.$patch(E)}d&&l?.(f)}catch(p){i&&console.error("[pinia-plugin-persistedstate]",p)}}function R_(t,{storage:e,serializer:n,key:r,debug:i,pick:s,omit:o}){try{const a=s?pT(t,s):t,l=o?mT(a,o):a,f=n.serialize(l);e.setItem(r,f)}catch(a){i&&console.error("[pinia-plugin-persistedstate]",a)}}function ZO(t,e,n){const{pinia:r,store:i,options:{persist:s=n}}=t;if(!s)return;if(!(i.$id in r.state.value)){const l=r._s.get(i.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(s)?s:s===!0?[{}]:[s]).map(e);i.$hydrate=({runHooks:l=!0}={})=>{a.forEach(f=>{S_(i,f,t,l)})},i.$persist=()=>{a.forEach(l=>{R_(i.$state,l)})},a.forEach(l=>{S_(i,l,t),i.$subscribe((f,d)=>R_(d,l),{detached:!0})})}function eD(t){return{getItem:e=>T_(e,{...t??ns().public.piniaPluginPersistedstate.cookieOptions??{},decode:t?.decode??decodeURIComponent,readonly:!0}).value,setItem:(e,n)=>T_(e,{...t??ns().public.piniaPluginPersistedstate.cookieOptions??{},encode:t?.encode??encodeURIComponent}).value=n}}function tD(){return{getItem:t=>window.localStorage.getItem(t),setItem:(t,e)=>window.localStorage.setItem(t,e)}}function nD(){return{getItem:t=>window.sessionStorage.getItem(t),setItem:(t,e)=>window.sessionStorage.setItem(t,e)}}const md={cookies:eD,localStorage:tD,sessionStorage:nD};function rD(t){const n=ns().public.piniaPluginPersistedstate;ZO(t,r=>({key:n.key?n.key.replace(/%id/g,r.key??t.store.$id):r.key??t.store.$id,debug:r.debug??n.debug??!1,serializer:r.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>Ga(i)},storage:r.storage??(n.storage?n.storage==="cookies"?md.cookies(n.cookieOptions):md[n.storage]():md.cookies()),beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),n.auto??!1)}const iD=_n({name:"pinia-plugin-persistedstate",setup({$pinia:t}){t.use(rD)}});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nl={exports:{}},sD=Nl.exports,C_;function oD(){return C_||(C_=1,(function(t,e){(function(n,r){t.exports=r()})(sD,function(){var n=function(u,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])})(u,h)},r=function(){return(r=Object.assign||function(u){for(var h,m=1,_=arguments.length;m<_;m++)for(var b in h=arguments[m])Object.prototype.hasOwnProperty.call(h,b)&&(u[b]=h[b]);return u}).apply(this,arguments)};function i(u,h,m){for(var _,b=0,T=h.length;b<T;b++)!_&&b in h||((_=_||Array.prototype.slice.call(h,0,b))[b]=h[b]);return u.concat(_||Array.prototype.slice.call(h))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:jc,o=Object.keys,a=Array.isArray;function l(u,h){return typeof h!="object"||o(h).forEach(function(m){u[m]=h[m]}),u}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function p(u,h){return d.call(u,h)}function y(u,h){typeof h=="function"&&(h=h(f(u))),(typeof Reflect>"u"?o:Reflect.ownKeys)(h).forEach(function(m){E(u,m,h[m])})}var v=Object.defineProperty;function E(u,h,m,_){v(u,h,l(m&&p(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},_))}function S(u){return{from:function(h){return u.prototype=Object.create(h.prototype),E(u.prototype,"constructor",u),{extend:y.bind(null,u.prototype)}}}}var U=Object.getOwnPropertyDescriptor,q=[].slice;function L(u,h,m){return q.call(u,h,m)}function R(u,h){return h(u)}function x(u){if(!u)throw new Error("Assertion Failed")}function B(u){s.setImmediate?setImmediate(u):setTimeout(u,0)}function ne(u,h){if(typeof h=="string"&&p(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var m=[],_=0,b=h.length;_<b;++_){var T=ne(u,h[_]);m.push(T)}return m}var k=h.indexOf(".");if(k!==-1){var F=u[h.substr(0,k)];return F==null?void 0:ne(F,h.substr(k+1))}}function D(u,h,m){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){x(typeof m!="string"&&"length"in m);for(var _=0,b=h.length;_<b;++_)D(u,h[_],m[_])}else{var T,k,F=h.indexOf(".");F!==-1?(T=h.substr(0,F),(k=h.substr(F+1))===""?m===void 0?a(u)&&!isNaN(parseInt(T))?u.splice(T,1):delete u[T]:u[T]=m:D(F=!(F=u[T])||!p(u,T)?u[T]={}:F,k,m)):m===void 0?a(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=m}}function A(u){var h,m={};for(h in u)p(u,h)&&(m[h]=u[h]);return m}var I=[].concat;function O(u){return I.apply([],u)}var Pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return s[u]}),V=new Set(Pe.map(function(u){return s[u]})),M=null;function P(u){return M=new WeakMap,u=(function h(m){if(!m||typeof m!="object")return m;var _=M.get(m);if(_)return _;if(a(m)){_=[],M.set(m,_);for(var b=0,T=m.length;b<T;++b)_.push(h(m[b]))}else if(V.has(m.constructor))_=m;else{var k,F=f(m);for(k in _=F===Object.prototype?{}:Object.create(F),M.set(m,_),m)p(m,k)&&(_[k]=h(m[k]))}return _})(u),M=null,u}var Ue={}.toString;function Ge(u){return Ue.call(u).slice(8,-1)}var Se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ne=typeof Se=="symbol"?function(u){var h;return u!=null&&(h=u[Se])&&h.apply(u)}:function(){return null};function Ee(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var st={};function Wt(u){var h,m,_,b;if(arguments.length===1){if(a(u))return u.slice();if(this===st&&typeof u=="string")return[u];if(b=Ne(u)){for(m=[];!(_=b.next()).done;)m.push(_.value);return m}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(m=new Array(h);h--;)m[h]=u[h];return m}for(h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return m}var An=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Me=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Me),kt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pt(u,h){this.name=u,this.message=h}function Cr(u,h){return u+". Errors: "+Object.keys(h).map(function(m){return h[m].toString()}).filter(function(m,_,b){return b.indexOf(m)===_}).join(`
`)}function hn(u,h,m,_){this.failures=h,this.failedKeys=_,this.successCount=m,this.message=Cr(u,h)}function zt(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(m){return h[m]}),this.failuresByPos=h,this.message=Cr(u,this.failures)}S(pt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(hn).from(pt),S(zt).from(pt);var oe=wr.reduce(function(u,h){return u[h]=h+"Error",u},{}),Oe=pt,ie=wr.reduce(function(u,h){var m=h+"Error";function _(b,T){this.name=m,b?typeof b=="string"?(this.message="".concat(b).concat(T?`
 `+T:""),this.inner=T||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=kt[h]||m,this.inner=null)}return S(_).from(Oe),u[h]=_,u},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var Le=Me.reduce(function(u,h){return u[h+"Error"]=ie[h],u},{}),Ke=wr.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=ie[h]),u},{});function Be(){}function N(u){return u}function j(u,h){return u==null||u===N?h:function(m){return h(u(m))}}function ee(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function fe(u,h){return u===Be?h:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var _=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var T=h.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?ee(_,this.onsuccess):_),b&&(this.onerror=this.onerror?ee(b,this.onerror):b),T!==void 0?T:m}}function ae(u,h){return u===Be?h:function(){u.apply(this,arguments);var m=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?ee(m,this.onsuccess):m),_&&(this.onerror=this.onerror?ee(_,this.onerror):_)}}function he(u,h){return u===Be?h:function(m){var _=u.apply(this,arguments);l(m,_);var b=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,m=h.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?ee(b,this.onsuccess):b),T&&(this.onerror=this.onerror?ee(T,this.onerror):T),_===void 0?m===void 0?void 0:m:l(_,m)}}function Te(u,h){return u===Be?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function ye(u,h){return u===Be?h:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var _=this,b=arguments.length,T=new Array(b);b--;)T[b]=arguments[b];return m.then(function(){return h.apply(_,T)})}return h.apply(this,arguments)}}Ke.ModifyError=hn,Ke.DexieError=pt,Ke.BulkError=zt;var pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function de(u){pe=u}var Ve={},Re=100,Pe=typeof Promise>"u"?[]:(function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,f(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,f(h),u]})(),Me=Pe[0],wr=Pe[1],Pe=Pe[2],wr=wr&&wr.then,Fe=Me&&Me.constructor,ut=!!Pe,rt=function(u,h){dn.push([u,h]),Ft&&(queueMicrotask(Xu),Ft=!1)},Gt=!0,Ft=!0,Ot=[],Qt=[],pr=N,Ln={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Be,pgp:!1,env:{},finalize:Be},Ce=Ln,dn=[],zn=0,Qr=[];function Ae(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Ce;if(typeof u!="function"){if(u!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Zs(this,this._value))}this._state=null,this._value=null,++h.ref,(function m(_,b){try{b(function(T){if(_._state===null){if(T===_)throw new TypeError("A promise cannot be resolved with itself.");var k=_._lib&&mr();T&&typeof T.then=="function"?m(_,function(F,H){T instanceof Ae?T._then(F,H):T.then(F,H)}):(_._state=!0,_._value=T,Jr(_)),k&&Si()}},Zs.bind(null,_))}catch(T){Zs(_,T)}})(this,u)}var Ai={get:function(){var u=Ce,h=ta;function m(_,b){var T=this,k=!u.global&&(u!==Ce||h!==ta),F=k&&!gr(),H=new Ae(function(K,Q){Xo(T,new Yo(na(_,u,k,F),na(b,u,k,F),K,Q,u))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return m.prototype=Ve,m},set:function(u){E(this,"then",u&&u.prototype===Ve?Ai:{get:function(){return u},set:Ai.set})}};function Yo(u,h,m,_,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=m,this.reject=_,this.psd=b}function Zs(u,h){var m,_;Qt.push(h),u._state===null&&(m=u._lib&&mr(),h=pr(h),u._state=!1,u._value=h,_=u,Ot.some(function(b){return b._value===_._value})||Ot.push(_),Jr(u),m&&Si())}function Jr(u){var h=u._listeners;u._listeners=[];for(var m=0,_=h.length;m<_;++m)Xo(u,h[m]);var b=u._PSD;--b.ref||b.finalize(),zn===0&&(++zn,rt(function(){--zn==0&&sn()},[]))}function Xo(u,h){if(u._state!==null){var m=u._state?h.onFulfilled:h.onRejected;if(m===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++zn,rt(Zo,[m,u,h])}else u._listeners.push(h)}function Zo(u,h,m){try{var _,b=h._value;!h._state&&Qt.length&&(Qt=[]),_=pe&&h._consoleTask?h._consoleTask.run(function(){return u(b)}):u(b),h._state||Qt.indexOf(b)!==-1||(function(T){for(var k=Ot.length;k;)if(Ot[--k]._value===T._value)return Ot.splice(k,1)})(h),m.resolve(_)}catch(T){m.reject(T)}finally{--zn==0&&sn(),--m.psd.ref||m.psd.finalize()}}function Xu(){Or(Ln,function(){mr()&&Si()})}function mr(){var u=Gt;return Ft=Gt=!1,u}function Si(){var u,h,m;do for(;0<dn.length;)for(u=dn,dn=[],m=u.length,h=0;h<m;++h){var _=u[h];_[0].apply(null,_[1])}while(0<dn.length);Ft=Gt=!0}function sn(){var u=Ot;Ot=[],u.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var h=Qr.slice(0),m=h.length;m;)h[--m]()}function eo(u){return new Ae(Ve,!1,u)}function mt(u,h){var m=Ce;return function(){var _=mr(),b=Ce;try{return kr(m,!0),u.apply(this,arguments)}catch(T){h&&h(T)}finally{kr(b,!1),_&&Si()}}}y(Ae.prototype,{then:Ai,_then:function(u,h){Xo(this,new Yo(null,null,u,h,Ce))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,m=arguments[1];return typeof h=="function"?this.then(null,function(_){return(_ instanceof h?m:eo)(_)}):this.then(null,function(_){return(_&&_.name===h?m:eo)(_)})},finally:function(u){return this.then(function(h){return Ae.resolve(u()).then(function(){return h})},function(h){return Ae.resolve(u()).then(function(){return eo(h)})})},timeout:function(u,h){var m=this;return u<1/0?new Ae(function(_,b){var T=setTimeout(function(){return b(new ie.Timeout(h))},u);m.then(_,b).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&E(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Ln.env=wc(),y(Ae,{all:function(){var u=Wt.apply(null,arguments).map(Ci);return new Ae(function(h,m){u.length===0&&h([]);var _=u.length;u.forEach(function(b,T){return Ae.resolve(b).then(function(k){u[T]=k,--_||h(u)},m)})})},resolve:function(u){return u instanceof Ae?u:u&&typeof u.then=="function"?new Ae(function(h,m){u.then(h,m)}):new Ae(Ve,!0,u)},reject:eo,race:function(){var u=Wt.apply(null,arguments).map(Ci);return new Ae(function(h,m){u.map(function(_){return Ae.resolve(_).then(h,m)})})},PSD:{get:function(){return Ce},set:function(u){return Ce=u}},totalEchoes:{get:function(){return ta}},newPSD:tr,usePSD:Or,scheduler:{get:function(){return rt},set:function(u){rt=u}},rejectionMapper:{get:function(){return pr},set:function(u){pr=u}},follow:function(u,h){return new Ae(function(m,_){return tr(function(b,T){var k=Ce;k.unhandleds=[],k.onunhandled=T,k.finalize=ee(function(){var F,H=this;F=function(){H.unhandleds.length===0?b():T(H.unhandleds[0])},Qr.push(function K(){F(),Qr.splice(Qr.indexOf(K),1)}),++zn,rt(function(){--zn==0&&sn()},[])},k.finalize),u()},h,m,_)})}}),Fe&&(Fe.allSettled&&E(Ae,"allSettled",function(){var u=Wt.apply(null,arguments).map(Ci);return new Ae(function(h){u.length===0&&h([]);var m=u.length,_=new Array(m);u.forEach(function(b,T){return Ae.resolve(b).then(function(k){return _[T]={status:"fulfilled",value:k}},function(k){return _[T]={status:"rejected",reason:k}}).then(function(){return--m||h(_)})})})}),Fe.any&&typeof AggregateError<"u"&&E(Ae,"any",function(){var u=Wt.apply(null,arguments).map(Ci);return new Ae(function(h,m){u.length===0&&m(new AggregateError([]));var _=u.length,b=new Array(_);u.forEach(function(T,k){return Ae.resolve(T).then(function(F){return h(F)},function(F){b[k]=F,--_||m(new AggregateError(b))})})})}),Fe.withResolvers&&(Ae.withResolvers=Fe.withResolvers));var Nt={awaits:0,echoes:0,id:0},Mh=0,ea=[],Pr=0,ta=0,Lh=0;function tr(u,h,m,_){var b=Ce,T=Object.create(b);return T.parent=b,T.ref=0,T.global=!1,T.id=++Lh,Ln.env,T.env=ut?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},h&&l(T,h),++b.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Or(T,u,m,_),T.ref===0&&T.finalize(),_}function Ri(){return Nt.id||(Nt.id=++Mh),++Nt.awaits,Nt.echoes+=Re,Nt.id}function gr(){return!!Nt.awaits&&(--Nt.awaits==0&&(Nt.id=0),Nt.echoes=Nt.awaits*Re,!0)}function Ci(u){return Nt.echoes&&u&&u.constructor===Fe?(Ri(),u.then(function(h){return gr(),h},function(h){return gr(),xt(h)})):u}function Yr(){var u=ea[ea.length-1];ea.pop(),kr(u,!1)}function kr(u,h){var m,_=Ce;(h?!Nt.echoes||Pr++&&u===Ce:!Pr||--Pr&&u===Ce)||queueMicrotask(h?(function(b){++ta,Nt.echoes&&--Nt.echoes!=0||(Nt.echoes=Nt.awaits=Nt.id=0),ea.push(Ce),kr(b,!0)}).bind(null,u):Yr),u!==Ce&&(Ce=u,_===Ln&&(Ln.env=wc()),ut&&(m=Ln.env.Promise,h=u.env,(_.global||u.global)&&(Object.defineProperty(s,"Promise",h.PromiseProp),m.all=h.all,m.race=h.race,m.resolve=h.resolve,m.reject=h.reject,h.allSettled&&(m.allSettled=h.allSettled),h.any&&(m.any=h.any))))}function wc(){var u=s.Promise;return ut?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Or(u,h,m,_,b){var T=Ce;try{return kr(u,!0),h(m,_,b)}finally{kr(T,!1)}}function na(u,h,m,_){return typeof u!="function"?u:function(){var b=Ce;m&&Ri(),kr(h,!0);try{return u.apply(this,arguments)}finally{kr(b,!1),_&&queueMicrotask(gr)}}}function ra(u){Promise===Fe&&Nt.echoes===0?Pr===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+wr).indexOf("[native code]")===-1&&(Ri=gr=Be);var xt=Ae.reject,Pi="",Gn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bc="String expected.",Xr=[],Zr="__dbnames",Dr="readonly",to="readwrite";function ki(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var Ec={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function no(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=P(h))[u],h}}function Tc(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(u,h){try{var m=ia(u),_=ia(h);if(m!==_)return m==="Array"?1:_==="Array"?-1:m==="binary"?1:_==="binary"?-1:m==="string"?1:_==="string"?-1:m==="Date"?1:_!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return(function(b,T){for(var k=b.length,F=T.length,H=k<F?k:F,K=0;K<H;++K)if(b[K]!==T[K])return b[K]<T[K]?-1:1;return k===F?0:k<F?-1:1})(Ic(u),Ic(h));case"Array":return(function(b,T){for(var k=b.length,F=T.length,H=k<F?k:F,K=0;K<H;++K){var Q=nt(b[K],T[K]);if(Q!==0)return Q}return k===F?0:k<F?-1:1})(u,h)}}catch{}return NaN}function ia(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=Ge(u),u==="ArrayBuffer"?"binary":u)}function Ic(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function ro(u,h,m){var _=u.schema.yProps;return _?(h&&0<m.numFailures&&(h=h.filter(function(b,T){return!m.failures[T]})),Promise.all(_.map(function(b){return b=b.updatesTable,h?u.db.table(b).where("k").anyOf(h).delete():u.db.table(b).clear()})).then(function(){return m})):m}var io=(Zu.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var m=h.add;if(a(m))return i(i([],a(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(h.remove!==void 0){var _=h.remove;if(a(_))return a(u)?u.filter(function(b){return!_.includes(b)}).sort():[];if(typeof _=="number")return Number(u)-_;if(typeof _=="bigint")try{return BigInt(u)-_}catch{return BigInt(0)-_}throw new TypeError("Invalid subtrahend ".concat(_))}return m=(m=h.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?h.replacePrefix[1]+u.substring(m.length):u},Zu);function Zu(u){this["@@propmod"]=u}function Ac(u,h){for(var m=o(h),_=m.length,b=!1,T=0;T<_;++T){var k=m[T],F=h[k],H=ne(u,k);F instanceof io?(D(u,k,F.execute(H)),b=!0):H!==F&&(D(u,k,F),b=!0)}return b}var Sc=(At.prototype._trans=function(u,h,m){var _=this._tx||Ce.trans,b=this.name,T=pe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function k(K,Q,$){if(!$.schema[b])throw new ie.NotFound("Table "+b+" not part of transaction");return h($.idbtrans,$)}var F=mr();try{var H=_&&_.db._novip===this.db._novip?_===Ce.trans?_._promise(u,k,m):tr(function(){return _._promise(u,k,m)},{trans:_,transless:Ce.transless||Ce}):(function K(Q,$,Y,W){if(Q.idbdb&&(Q._state.openComplete||Ce.letThrough||Q._vip)){var z=Q._createTransaction($,Y,Q._dbSchema);try{z.create(),Q._state.PR1398_maxLoop=3}catch(G){return G.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,$,Y,W)})):xt(G)}return z._promise($,function(G,J){return tr(function(){return Ce.trans=z,W(G,J,z)})}).then(function(G){if($==="readwrite")try{z.idbtrans.commit()}catch{}return $==="readonly"?G:z._completion.then(function(){return G})})}if(Q._state.openComplete)return xt(new ie.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return xt(new ie.DatabaseClosed);Q.open().catch(Be)}return Q._state.dbReadyPromise.then(function(){return K(Q,$,Y,W)})})(this.db,u,[this.name],k);return T&&(H._consoleTask=T,H=H.catch(function(K){return console.trace(K),xt(K)})),H}finally{F&&Si()}},At.prototype.get=function(u,h){var m=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?xt(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return m.core.get({trans:_,key:u}).then(function(b){return m.hook.reading.fire(b)})}).then(h)},At.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(a(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=o(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(F){if(F.compound&&h.every(function(K){return 0<=F.keyPath.indexOf(K)})){for(var H=0;H<h.length;++H)if(h.indexOf(F.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(F,H){return F.keyPath.length-H.keyPath.length})[0];if(m&&this.db._maxKey!==Pi){var T=m.keyPath.slice(0,h.length);return this.where(T).equals(T.map(function(H){return u[H]}))}!m&&pe&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var _=this.schema.idxByName;function b(F,H){return nt(F,H)===0}var k=h.reduce(function($,H){var K=$[0],Q=$[1],$=_[H],Y=u[H];return[K||$,K||!$?ki(Q,$&&$.multi?function(W){return W=ne(W,H),a(W)&&W.some(function(z){return b(Y,z)})}:function(W){return b(Y,ne(W,H))}):Q]},[null,null]),T=k[0],k=k[1];return T?this.where(T.name).equals(u[T.keyPath]).filter(k):m?this.filter(k):this.where(h).equals("")},At.prototype.filter=function(u){return this.toCollection().and(u)},At.prototype.count=function(u){return this.toCollection().count(u)},At.prototype.offset=function(u){return this.toCollection().offset(u)},At.prototype.limit=function(u){return this.toCollection().limit(u)},At.prototype.each=function(u){return this.toCollection().each(u)},At.prototype.toArray=function(u){return this.toCollection().toArray(u)},At.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},At.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,a(u)?"[".concat(u.join("+"),"]"):u))},At.prototype.reverse=function(){return this.toCollection().reverse()},At.prototype.mapToClass=function(u){var h,m=this.db,_=this.name;function b(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Tc&&((function(H,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Q(){this.constructor=H}n(H,K),H.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)})(b,h=u),Object.defineProperty(b.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),b.prototype.table=function(){return _},u=b);for(var T=new Set,k=u.prototype;k;k=f(k))Object.getOwnPropertyNames(k).forEach(function(H){return T.add(H)});function F(H){if(!H)return H;var K,Q=Object.create(u.prototype);for(K in H)if(!T.has(K))try{Q[K]=H[K]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=F,this.hook("reading",F),u},At.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},At.prototype.add=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,k=u;return T&&b&&(k=no(T)(u)),this._trans("readwrite",function(F){return m.core.mutate({trans:F,type:"add",keys:h!=null?[h]:null,values:[k]})}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):F.lastResult}).then(function(F){if(T)try{D(u,T,F)}catch{}return F})},At.prototype.upsert=function(u,h){var m=this,_=this.schema.primKey.keyPath;return this._trans("readwrite",function(b){return m.core.get({trans:b,key:u}).then(function(T){var k=T??{};return Ac(k,h),_&&D(k,_,u),m.core.mutate({trans:b,type:"put",values:[k],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[h]}}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):!!T})})})},At.prototype.update=function(u,h){return typeof u!="object"||a(u)?this.where(":id").equals(u).modify(h):(u=ne(u,this.schema.primKey.keyPath),u===void 0?xt(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},At.prototype.put=function(u,h){var m=this,_=this.schema.primKey,b=_.auto,T=_.keyPath,k=u;return T&&b&&(k=no(T)(u)),this._trans("readwrite",function(F){return m.core.mutate({trans:F,type:"put",values:[k],keys:h!=null?[h]:null})}).then(function(F){return F.numFailures?Ae.reject(F.failures[0]):F.lastResult}).then(function(F){if(T)try{D(u,T,F)}catch{}return F})},At.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"delete",keys:[u]}).then(function(_){return ro(h,[u],_)}).then(function(_){return _.numFailures?Ae.reject(_.failures[0]):void 0})})},At.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:Ec}).then(function(m){return ro(u,null,m)})}).then(function(h){return h.numFailures?Ae.reject(h.failures[0]):void 0})},At.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(m){return h.core.getMany({keys:u,trans:m}).then(function(_){return _.map(function(b){return h.hook.reading.fire(b)})})})},At.prototype.bulkAdd=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(k){var K=_.schema.primKey,F=K.auto,K=K.keyPath;if(K&&b)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var H=u.length,K=K&&F?u.map(no(K)):u;return _.core.mutate({trans:k,type:"add",keys:b,values:K,wantResults:T}).then(function(z){var $=z.numFailures,Y=z.results,W=z.lastResult,z=z.failures;if($===0)return T?Y:W;throw new zt("".concat(_.name,".bulkAdd(): ").concat($," of ").concat(H," operations failed"),z)})})},At.prototype.bulkPut=function(u,h,m){var _=this,b=Array.isArray(h)?h:void 0,T=(m=m||(b?void 0:h))?m.allKeys:void 0;return this._trans("readwrite",function(k){var K=_.schema.primKey,F=K.auto,K=K.keyPath;if(K&&b)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var H=u.length,K=K&&F?u.map(no(K)):u;return _.core.mutate({trans:k,type:"put",keys:b,values:K,wantResults:T}).then(function(z){var $=z.numFailures,Y=z.results,W=z.lastResult,z=z.failures;if($===0)return T?Y:W;throw new zt("".concat(_.name,".bulkPut(): ").concat($," of ").concat(H," operations failed"),z)})})},At.prototype.bulkUpdate=function(u){var h=this,m=this.core,_=u.map(function(k){return k.key}),b=u.map(function(k){return k.changes}),T=[];return this._trans("readwrite",function(k){return m.getMany({trans:k,keys:_,cache:"clone"}).then(function(F){var H=[],K=[];u.forEach(function($,Y){var W=$.key,z=$.changes,G=F[Y];if(G){for(var J=0,Z=Object.keys(z);J<Z.length;J++){var te=Z[J],se=z[te];if(te===h.schema.primKey.keyPath){if(nt(se,W)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else D(G,te,se)}T.push(Y),H.push(W),K.push(G)}});var Q=H.length;return m.mutate({trans:k,type:"put",keys:H,values:K,updates:{keys:_,changeSpecs:b}}).then(function($){var Y=$.numFailures,W=$.failures;if(Y===0)return Q;for(var z=0,G=Object.keys(W);z<G.length;z++){var J,Z=G[z],te=T[Number(Z)];te!=null&&(J=W[Z],delete W[Z],W[te]=J)}throw new zt("".concat(h.name,".bulkUpdate(): ").concat(Y," of ").concat(Q," operations failed"),W)})})})},At.prototype.bulkDelete=function(u){var h=this,m=u.length;return this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"delete",keys:u}).then(function(b){return ro(h,u,b)})}).then(function(k){var b=k.numFailures,T=k.lastResult,k=k.failures;if(b===0)return T;throw new zt("".concat(h.name,".bulkDelete(): ").concat(b," of ").concat(m," operations failed"),k)})},At);function At(){}function nr(u){function h(k,F){if(F){for(var H=arguments.length,K=new Array(H-1);--H;)K[H-1]=arguments[H];return m[k].subscribe.apply(null,K),u}if(typeof k=="string")return m[k]}var m={};h.addEventType=T;for(var _=1,b=arguments.length;_<b;++_)T(arguments[_]);return h;function T(k,F,H){if(typeof k!="object"){var K;F=F||Te;var Q={subscribers:[],fire:H=H||Be,subscribe:function($){Q.subscribers.indexOf($)===-1&&(Q.subscribers.push($),Q.fire=F(Q.fire,$))},unsubscribe:function($){Q.subscribers=Q.subscribers.filter(function(Y){return Y!==$}),Q.fire=Q.subscribers.reduce(F,H)}};return m[k]=h[k]=Q}o(K=k).forEach(function($){var Y=K[$];if(a(Y))T($,K[$][0],K[$][1]);else{if(Y!=="asap")throw new ie.InvalidArgument("Invalid event config");var W=T($,N,function(){for(var z=arguments.length,G=new Array(z);z--;)G[z]=arguments[z];W.subscribers.forEach(function(J){B(function(){J.apply(null,G)})})})}})}}function Vn(u,h){return S(h).from({prototype:u}),h}function Nr(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function fs(u,h){u.filter=ki(u.filter,h)}function sa(u,h,m){var _=u.replayFilter;u.replayFilter=_?function(){return ki(_(),h())}:h,u.justLimit=m&&!_}function gt(u,h){if(u.isPrimKey)return h.primaryKey;var m=h.getIndexByKeyPath(u.index);if(!m)throw new ie.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return m}function so(u,h,m){var _=gt(u,h.schema);return h.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:_,range:u.range}})}function ei(u,h,m,_){var b=u.replayFilter?ki(u.filter,u.replayFilter()):u.filter;if(u.or){var T={},k=function(F,H,K){var Q,$;b&&!b(H,K,function(Y){return H.stop(Y)},function(Y){return H.fail(Y)})||(($=""+(Q=H.primaryKey))=="[object ArrayBuffer]"&&($=""+new Uint8Array(Q)),p(T,$)||(T[$]=!0,h(F,H,K)))};return Promise.all([u.or._iterate(k,m),hs(so(u,_,m),u.algorithm,k,!u.keysOnly&&u.valueMapper)])}return hs(so(u,_,m),ki(u.algorithm,b),h,!u.keysOnly&&u.valueMapper)}function hs(u,h,m,_){var b=mt(_?function(T,k,F){return m(_(T),k,F)}:m);return u.then(function(T){if(T)return T.start(function(){var k=function(){return T.continue()};h&&!h(T,function(F){return k=F},function(F){T.stop(F),k=Be},function(F){T.fail(F),k=Be})||b(T.value,T,function(F){return k=F}),k()})})}var Vh=(lt.prototype._read=function(u,h){var m=this._ctx;return m.error?m.table._trans(null,xt.bind(null,m.error)):m.table._trans("readonly",u).then(h)},lt.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,xt.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},lt.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=ki(h.algorithm,u)},lt.prototype._iterate=function(u,h){return ei(this._ctx,u,h,this._ctx.table.core)},lt.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&l(m,u),h._ctx=m,h},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(u){var h=this._ctx;return this._read(function(m){return ei(h,u,m,h.table.core)})},lt.prototype.count=function(u){var h=this;return this._read(function(m){var _=h._ctx,b=_.table.core;if(Nr(_,!0))return b.count({trans:m,query:{index:gt(_,b.schema),range:_.range}}).then(function(k){return Math.min(k,_.limit)});var T=0;return ei(_,function(){return++T,!1},m,b).then(function(){return T})}).then(u)},lt.prototype.sortBy=function(u,h){var m=u.split(".").reverse(),_=m[0],b=m.length-1;function T(H,K){return K?T(H[m[K]],K-1):H[_]}var k=this._ctx.dir==="next"?1:-1;function F(H,K){return nt(T(H,b),T(K,b))*k}return this.toArray(function(H){return H.sort(F)}).then(h)},lt.prototype.toArray=function(u){var h=this;return this._read(function(m){var _=h._ctx;if(_.dir==="next"&&Nr(_,!0)&&0<_.limit){var b=_.valueMapper,T=gt(_,_.table.core.schema);return _.table.core.query({trans:m,limit:_.limit,values:!0,query:{index:T,range:_.range}}).then(function(F){return F=F.result,b?F.map(b):F})}var k=[];return ei(_,function(F){return k.push(F)},m,_.table.core).then(function(){return k})},u)},lt.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Nr(h)?sa(h,function(){var m=u;return function(_,b){return m===0||(m===1?--m:b(function(){_.advance(m),m=0}),!1)}}):sa(h,function(){var m=u;return function(){return--m<0}})),this},lt.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),sa(this._ctx,function(){var h=u;return function(m,_,b){return--h<=0&&_(b),0<=h}},!0),this},lt.prototype.until=function(u,h){return fs(this._ctx,function(m,_,b){return!u(m.value)||(_(b),h)}),this},lt.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},lt.prototype.last=function(u){return this.reverse().first(u)},lt.prototype.filter=function(u){var h;return fs(this._ctx,function(m){return u(m.value)}),(h=this._ctx).isMatch=ki(h.isMatch,u),this},lt.prototype.and=function(u){return this.filter(u)},lt.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.key,_)})},lt.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},lt.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(m,_){u(_.primaryKey,_)})},lt.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.key)}).then(function(){return m}).then(u)},lt.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Nr(h,!0)&&0<h.limit)return this._read(function(_){var b=gt(h,h.table.core.schema);return h.table.core.query({trans:_,values:!1,limit:h.limit,query:{index:b,range:h.range}})}).then(function(_){return _.result}).then(u);h.keysOnly=!h.isMatch;var m=[];return this.each(function(_,b){m.push(b.primaryKey)}).then(function(){return m}).then(u)},lt.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},lt.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},lt.prototype.lastKey=function(u){return this.reverse().firstKey(u)},lt.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return fs(this._ctx,function(b){var _=b.primaryKey.toString(),b=p(h,_);return h[_]=!0,!b}),this},lt.prototype.modify=function(u){var h=this,m=this._ctx;return this._write(function(_){var b=typeof u=="function"?u:function(G){return Ac(G,u)},T=m.table.core,K=T.schema.primaryKey,k=K.outbound,F=K.extractKey,H=200,K=h.db._options.modifyChunkSize;K&&(H=typeof K=="object"?K[T.name]||K["*"]||200:K);function Q(G,te){var Z=te.failures,te=te.numFailures;Y+=G-te;for(var se=0,ce=o(Z);se<ce.length;se++){var ge=ce[se];$.push(Z[ge])}}var $=[],Y=0,W=[],z=u===el;return h.clone().primaryKeys().then(function(G){function J(te){var se=Math.min(H,G.length-te),ce=G.slice(te,te+se);return(z?Promise.resolve([]):T.getMany({trans:_,keys:ce,cache:"immutable"})).then(function(ge){var be=[],me=[],_e=k?[]:null,Ie=z?ce:[];if(!z)for(var we=0;we<se;++we){var xe=ge[we],Ze={value:P(xe),primKey:G[te+we]};b.call(Ze,Ze.value,Ze)!==!1&&(Ze.value==null?Ie.push(G[te+we]):k||nt(F(xe),F(Ze.value))===0?(me.push(Ze.value),k&&_e.push(G[te+we])):(Ie.push(G[te+we]),be.push(Ze.value)))}return Promise.resolve(0<be.length&&T.mutate({trans:_,type:"add",values:be}).then(function(tt){for(var it in tt.failures)Ie.splice(parseInt(it),1);Q(be.length,tt)})).then(function(){return(0<me.length||Z&&typeof u=="object")&&T.mutate({trans:_,type:"put",keys:_e,values:me,criteria:Z,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<te}).then(function(tt){return Q(me.length,tt)})}).then(function(){return(0<Ie.length||Z&&z)&&T.mutate({trans:_,type:"delete",keys:Ie,criteria:Z,isAdditionalChunk:0<te}).then(function(tt){return ro(m.table,Ie,tt)}).then(function(tt){return Q(Ie.length,tt)})}).then(function(){return G.length>te+se&&J(te+H)})})}var Z=Nr(m)&&m.limit===1/0&&(typeof u!="function"||z)&&{index:m.index,range:m.range};return J(0).then(function(){if(0<$.length)throw new hn("Error modifying one or more objects",$,Y,W);return G.length})})})},lt.prototype.delete=function(){var u=this._ctx,h=u.range;return!Nr(u)||u.table.schema.yProps||!u.isPrimKey&&h.type!==3?this.modify(el):this._write(function(m){var _=u.table.core.schema.primaryKey,b=h;return u.table.core.count({trans:m,query:{index:_,range:b}}).then(function(T){return u.table.core.mutate({trans:m,type:"deleteRange",range:b}).then(function(H){var F=H.failures,H=H.numFailures;if(H)throw new hn("Could not delete some values",Object.keys(F).map(function(K){return F[K]}),T-H);return T-H})})})},lt);function lt(){}var el=function(u,h){return h.value=null};function Fh(u,h){return u<h?-1:u===h?0:1}function Uh(u,h){return h<u?-1:u===h?0:1}function Fn(u,h,m){return u=u instanceof Cc?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(h),u}function yr(u){return new u.Collection(u,function(){return Rc("")}).limit(0)}function rr(u,h,m,_){var b,T,k,F,H,K,Q,$=m.length;if(!m.every(function(z){return typeof z=="string"}))return Fn(u,bc);function Y(z){b=z==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},T=z==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},k=z==="next"?Fh:Uh;var G=m.map(function(J){return{lower:T(J),upper:b(J)}}).sort(function(J,Z){return k(J.lower,Z.lower)});F=G.map(function(J){return J.upper}),H=G.map(function(J){return J.lower}),Q=(K=z)==="next"?"":_}Y("next"),u=new u.Collection(u,function(){return xr(F[0],H[$-1]+_)}),u._ondirectionchange=function(z){Y(z)};var W=0;return u._addAlgorithm(function(z,G,J){var Z=z.key;if(typeof Z!="string")return!1;var te=T(Z);if(h(te,H,W))return!0;for(var se=null,ce=W;ce<$;++ce){var ge=(function(be,me,_e,Ie,we,xe){for(var Ze=Math.min(be.length,Ie.length),tt=-1,it=0;it<Ze;++it){var ir=me[it];if(ir!==Ie[it])return we(be[it],_e[it])<0?be.substr(0,it)+_e[it]+_e.substr(it+1):we(be[it],Ie[it])<0?be.substr(0,it)+Ie[it]+_e.substr(it+1):0<=tt?be.substr(0,tt)+me[tt]+_e.substr(tt+1):null;we(be[it],ir)<0&&(tt=it)}return Ze<Ie.length&&xe==="next"?be+_e.substr(be.length):Ze<be.length&&xe==="prev"?be.substr(0,_e.length):tt<0?null:be.substr(0,tt)+Ie[tt]+_e.substr(tt+1)})(Z,te,F[ce],H[ce],k,K);ge===null&&se===null?W=ce+1:(se===null||0<k(se,ge))&&(se=ge)}return G(se!==null?function(){z.continue(se+Q)}:J),!1}),u}function xr(u,h,m,_){return{type:2,lower:u,upper:h,lowerOpen:m,upperOpen:_}}function Rc(u){return{type:1,lower:u,upper:u}}var Cc=(Object.defineProperty(Dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dt.prototype.between=function(u,h,m,_){m=m!==!1,_=_===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(m||_)&&(!m||!_)?yr(this):new this.Collection(this,function(){return xr(u,h,!m,!_)})}catch{return Fn(this,Gn)}},Dt.prototype.equals=function(u){return u==null?Fn(this,Gn):new this.Collection(this,function(){return Rc(u)})},Dt.prototype.above=function(u){return u==null?Fn(this,Gn):new this.Collection(this,function(){return xr(u,void 0,!0)})},Dt.prototype.aboveOrEqual=function(u){return u==null?Fn(this,Gn):new this.Collection(this,function(){return xr(u,void 0,!1)})},Dt.prototype.below=function(u){return u==null?Fn(this,Gn):new this.Collection(this,function(){return xr(void 0,u,!1,!0)})},Dt.prototype.belowOrEqual=function(u){return u==null?Fn(this,Gn):new this.Collection(this,function(){return xr(void 0,u)})},Dt.prototype.startsWith=function(u){return typeof u!="string"?Fn(this,bc):this.between(u,u+Pi,!0,!0)},Dt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):rr(this,function(h,m){return h.indexOf(m[0])===0},[u],Pi)},Dt.prototype.equalsIgnoreCase=function(u){return rr(this,function(h,m){return h===m[0]},[u],"")},Dt.prototype.anyOfIgnoreCase=function(){var u=Wt.apply(st,arguments);return u.length===0?yr(this):rr(this,function(h,m){return m.indexOf(h)!==-1},u,"")},Dt.prototype.startsWithAnyOfIgnoreCase=function(){var u=Wt.apply(st,arguments);return u.length===0?yr(this):rr(this,function(h,m){return m.some(function(_){return h.indexOf(_)===0})},u,Pi)},Dt.prototype.anyOf=function(){var u=this,h=Wt.apply(st,arguments),m=this._cmp;try{h.sort(m)}catch{return Fn(this,Gn)}if(h.length===0)return yr(this);var _=new this.Collection(this,function(){return xr(h[0],h[h.length-1])});_._ondirectionchange=function(T){m=T==="next"?u._ascending:u._descending,h.sort(m)};var b=0;return _._addAlgorithm(function(T,k,F){for(var H=T.key;0<m(H,h[b]);)if(++b===h.length)return k(F),!1;return m(H,h[b])===0||(k(function(){T.continue(h[b])}),!1)}),_},Dt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dt.prototype.noneOf=function(){var u=Wt.apply(st,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return Fn(this,Gn)}var h=u.reduce(function(m,_){return m?m.concat([[m[m.length-1][1],_]]):[[-1/0,_]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},Dt.prototype.inAnyRange=function(Z,h){var m=this,_=this._cmp,b=this._ascending,T=this._descending,k=this._min,F=this._max;if(Z.length===0)return yr(this);if(!Z.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&b(te[0],te[1])<=0}))return Fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var H=!h||h.includeLowers!==!1,K=h&&h.includeUppers===!0,Q,$=b;function Y(te,se){return $(te[0],se[0])}try{(Q=Z.reduce(function(te,se){for(var ce=0,ge=te.length;ce<ge;++ce){var be=te[ce];if(_(se[0],be[1])<0&&0<_(se[1],be[0])){be[0]=k(be[0],se[0]),be[1]=F(be[1],se[1]);break}}return ce===ge&&te.push(se),te},[])).sort(Y)}catch{return Fn(this,Gn)}var W=0,z=K?function(te){return 0<b(te,Q[W][1])}:function(te){return 0<=b(te,Q[W][1])},G=H?function(te){return 0<T(te,Q[W][0])}:function(te){return 0<=T(te,Q[W][0])},J=z,Z=new this.Collection(this,function(){return xr(Q[0][0],Q[Q.length-1][1],!H,!K)});return Z._ondirectionchange=function(te){$=te==="next"?(J=z,b):(J=G,T),Q.sort(Y)},Z._addAlgorithm(function(te,se,ce){for(var ge,be=te.key;J(be);)if(++W===Q.length)return se(ce),!1;return!z(ge=be)&&!G(ge)||(m._cmp(be,Q[W][1])===0||m._cmp(be,Q[W][0])===0||se(function(){$===b?te.continue(Q[W][0]):te.continue(Q[W][1])}),!1)}),Z},Dt.prototype.startsWithAnyOf=function(){var u=Wt.apply(st,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?yr(this):this.inAnyRange(u.map(function(h){return[h,h+Pi]})):Fn(this,"startsWithAnyOf() only works with strings")},Dt);function Dt(){}function _r(u){return mt(function(h){return oo(h),u(h.target.error),!1})}function oo(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var ao="storagemutated",vr="x-storagemutated-1",ti=nr(null,ao),Bh=(Un.prototype._lock=function(){return x(!Ce.global),++this._reculock,this._reculock!==1||Ce.global||(Ce.lockOwnerFor=this),this},Un.prototype._unlock=function(){if(x(!Ce.global),--this._reculock==0)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Or(u[1],u[0])}catch{}}return this},Un.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},Un.prototype.create=function(u){var h=this;if(!this.mode)return this;var m=this.db.idbdb,_=this.db._state.dbOpenError;if(x(!this.idbtrans),!u&&!m)switch(_&&_.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(_);case"MissingAPIError":throw new ie.MissingAPI(_.message,_);default:throw new ie.OpenFailed(_)}if(!this.active)throw new ie.TransactionInactive;return x(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(b){oo(b),h._reject(u.error)}),u.onabort=mt(function(b){oo(b),h.active&&h._reject(new ie.Abort(u.error)),h.active=!1,h.on("abort").fire(b)}),u.oncomplete=mt(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&ti.storagemutated.fire(u.mutatedParts)}),this},Un.prototype._promise=function(u,h,m){var _=this;if(u==="readwrite"&&this.mode!=="readwrite")return xt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return xt(new ie.TransactionInactive);if(this._locked())return new Ae(function(T,k){_._blockedFuncs.push([function(){_._promise(u,h,m).then(T,k)},Ce])});if(m)return tr(function(){var T=new Ae(function(k,F){_._lock();var H=h(k,F,_);H&&H.then&&H.then(k,F)});return T.finally(function(){return _._unlock()}),T._lib=!0,T});var b=new Ae(function(T,k){var F=h(T,k,_);F&&F.then&&F.then(T,k)});return b._lib=!0,b},Un.prototype._root=function(){return this.parent?this.parent._root():this},Un.prototype.waitFor=function(u){var h,m=this._root(),_=Ae.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return _}):(m._waitingFor=_,m._waitingQueue=[],h=m.idbtrans.objectStore(m.storeNames[0]),(function T(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(h.get(-1/0).onsuccess=T)})());var b=m._waitingFor;return new Ae(function(T,k){_.then(function(F){return m._waitingQueue.push(mt(T.bind(null,F)))},function(F){return m._waitingQueue.push(mt(k.bind(null,F)))}).finally(function(){m._waitingFor===b&&(m._waitingFor=null)})})},Un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},Un.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(p(h,u))return h[u];var m=this.schema[u];if(!m)throw new ie.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),h[u]=m},Un);function Un(){}function ds(u,h,m,_,b,T,k,F){return{name:u,keyPath:h,unique:m,multi:_,auto:b,compound:T,src:(m&&!k?"&":"")+(_?"*":"")+(b?"++":"")+Pc(h),type:F}}function Pc(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Oi(u,h,m){return{name:u,primKey:h,indexes:m,mappedClass:null,idxByName:(_=function(b){return[b.name,b]},m.reduce(function(b,T,k){return k=_(T,k),k&&(b[k[0]]=k[1]),b},{}))};var _}var Mr=function(u){try{return u.only([[]]),Mr=function(){return[[]]},[[]]}catch{return Mr=function(){return Pi},Pi}};function oa(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(m){return m[h]}:function(m){return ne(m,h)}:function(m){return ne(m,u)};var h}function aa(u){return[].slice.call(u)}var Mt=0;function co(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function jh(u,h,H){function _(J){if(J.type===3)return null;if(J.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var W=J.lower,z=J.upper,G=J.lowerOpen,J=J.upperOpen;return W===void 0?z===void 0?null:h.upperBound(z,!!J):z===void 0?h.lowerBound(W,!!G):h.bound(W,z,!!G,!!J)}function b(Y){var W,z=Y.name;return{name:z,schema:Y,mutate:function(G){var J=G.trans,Z=G.type,te=G.keys,se=G.values,ce=G.range;return new Promise(function(ge,be){ge=mt(ge);var me=J.objectStore(z),_e=me.keyPath==null,Ie=Z==="put"||Z==="add";if(!Ie&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var we,xe=(te||se||{length:1}).length;if(te&&se&&te.length!==se.length)throw new Error("Given keys array must have same length as given values array.");if(xe===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(jn){++ir,oo(jn)}var tt=[],it=[],ir=0;if(Z==="deleteRange"){if(ce.type===4)return ge({numFailures:ir,failures:it,results:[],lastResult:void 0});ce.type===3?tt.push(we=me.clear()):tt.push(we=me.delete(_(ce)))}else{var _e=Ie?_e?[se,te]:[se,null]:[te,null],Xe=_e[0],Sn=_e[1];if(Ie)for(var Rn=0;Rn<xe;++Rn)tt.push(we=Sn&&Sn[Rn]!==void 0?me[Z](Xe[Rn],Sn[Rn]):me[Z](Xe[Rn])),we.onerror=Ze;else for(Rn=0;Rn<xe;++Rn)tt.push(we=me[Z](Xe[Rn])),we.onerror=Ze}function ol(jn){jn=jn.target.result,tt.forEach(function(wo,Kh){return wo.error!=null&&(it[Kh]=wo.error)}),ge({numFailures:ir,failures:it,results:Z==="delete"?te:tt.map(function(wo){return wo.result}),lastResult:jn})}we.onerror=function(jn){Ze(jn),ol(jn)},we.onsuccess=ol})},getMany:function(G){var J=G.trans,Z=G.keys;return new Promise(function(te,se){te=mt(te);for(var ce,ge=J.objectStore(z),be=Z.length,me=new Array(be),_e=0,Ie=0,we=function(tt){tt=tt.target,me[tt._pos]=tt.result,++Ie===_e&&te(me)},xe=_r(se),Ze=0;Ze<be;++Ze)Z[Ze]!=null&&((ce=ge.get(Z[Ze]))._pos=Ze,ce.onsuccess=we,ce.onerror=xe,++_e);_e===0&&te(me)})},get:function(G){var J=G.trans,Z=G.key;return new Promise(function(te,se){te=mt(te);var ce=J.objectStore(z).get(Z);ce.onsuccess=function(ge){return te(ge.target.result)},ce.onerror=_r(se)})},query:(W=K,function(G){return new Promise(function(J,Z){J=mt(J);var te,se,ce,_e=G.trans,ge=G.values,be=G.limit,we=G.query,me=be===1/0?void 0:be,Ie=we.index,we=we.range,_e=_e.objectStore(z),Ie=Ie.isPrimaryKey?_e:_e.index(Ie.name),we=_(we);if(be===0)return J({result:[]});W?((me=ge?Ie.getAll(we,me):Ie.getAllKeys(we,me)).onsuccess=function(xe){return J({result:xe.target.result})},me.onerror=_r(Z)):(te=0,se=!ge&&"openKeyCursor"in Ie?Ie.openKeyCursor(we):Ie.openCursor(we),ce=[],se.onsuccess=function(xe){var Ze=se.result;return Ze?(ce.push(ge?Ze.value:Ze.primaryKey),++te===be?J({result:ce}):void Ze.continue()):J({result:ce})},se.onerror=_r(Z))})}),openCursor:function(G){var J=G.trans,Z=G.values,te=G.query,se=G.reverse,ce=G.unique;return new Promise(function(ge,be){ge=mt(ge);var Ie=te.index,me=te.range,_e=J.objectStore(z),_e=Ie.isPrimaryKey?_e:_e.index(Ie.name),Ie=se?ce?"prevunique":"prev":ce?"nextunique":"next",we=!Z&&"openKeyCursor"in _e?_e.openKeyCursor(_(me),Ie):_e.openCursor(_(me),Ie);we.onerror=_r(be),we.onsuccess=mt(function(xe){var Ze,tt,it,ir,Xe=we.result;Xe?(Xe.___id=++Mt,Xe.done=!1,Ze=Xe.continue.bind(Xe),tt=(tt=Xe.continuePrimaryKey)&&tt.bind(Xe),it=Xe.advance.bind(Xe),ir=function(){throw new Error("Cursor not stopped")},Xe.trans=J,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=mt(be),Xe.next=function(){var Sn=this,Rn=1;return this.start(function(){return Rn--?Sn.continue():Sn.stop()}).then(function(){return Sn})},Xe.start=function(Sn){function Rn(){if(we.result)try{Sn()}catch(jn){Xe.fail(jn)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var ol=new Promise(function(jn,wo){jn=mt(jn),we.onerror=_r(wo),Xe.fail=wo,Xe.stop=function(Kh){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=ir,jn(Kh)}});return we.onsuccess=mt(function(jn){we.onsuccess=Rn,Rn()}),Xe.continue=Ze,Xe.continuePrimaryKey=tt,Xe.advance=it,Rn(),ol},ge(Xe)):ge(null)},be)})},count:function(G){var J=G.query,Z=G.trans,te=J.index,se=J.range;return new Promise(function(ce,ge){var be=Z.objectStore(z),me=te.isPrimaryKey?be:be.index(te.name),be=_(se),me=be?me.count(be):me.count();me.onsuccess=mt(function(_e){return ce(_e.target.result)}),me.onerror=_r(ge)})}}}var T,k,F,Q=(k=H,F=aa((T=u).objectStoreNames),{schema:{name:T.name,tables:F.map(function(Y){return k.objectStore(Y)}).map(function(Y){var W=Y.keyPath,J=Y.autoIncrement,z=a(W),G={},J={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:W==null,compound:z,keyPath:W,autoIncrement:J,unique:!0,extractKey:oa(W)},indexes:aa(Y.indexNames).map(function(Z){return Y.index(Z)}).map(function(ce){var te=ce.name,se=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,ge={name:te,compound:a(ce),keyPath:ce,unique:se,multiEntry:ge,extractKey:oa(ce)};return G[co(ce)]=ge}),getIndexByKeyPath:function(Z){return G[co(Z)]}};return G[":id"]=J.primaryKey,W!=null&&(G[co(W)]=J.primaryKey),J})},hasGetAll:0<F.length&&"getAll"in k.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=Q.schema,K=Q.hasGetAll,Q=H.tables.map(b),$={};return Q.forEach(function(Y){return $[Y.name]=Y}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(Y){if(!$[Y])throw new Error("Table '".concat(Y,"' not found"));return $[Y]},MIN_KEY:-1/0,MAX_KEY:Mr(h),schema:H}}function tl(u,h,m,_){var b=m.IDBKeyRange;return m.indexedDB,{dbcore:(_=jh(h,b,_),u.dbcore.reduce(function(T,k){return k=k.create,r(r({},T),k(T))},_))}}function uo(u,_){var m=_.db,_=tl(u._middlewares,m,u._deps,_);u.core=_.dbcore,u.tables.forEach(function(b){var T=b.name;u.core.schema.tables.some(function(k){return k.name===T})&&(b.core=u.core.table(T),u[T]instanceof u.Table&&(u[T].core=b.core))})}function lo(u,h,m,_){m.forEach(function(b){var T=_[b];h.forEach(function(k){var F=(function H(K,Q){return U(K,Q)||(K=f(K))&&H(K,Q)})(k,b);(!F||"value"in F&&F.value===void 0)&&(k===u.Transaction.prototype||k instanceof u.Transaction?E(k,b,{get:function(){return this.table(b)},set:function(H){v(this,b,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):k[b]=new u.Table(b,T))})})}function ps(u,h){h.forEach(function(m){for(var _ in m)m[_]instanceof u.Table&&delete m[_]})}function nl(u,h){return u._cfg.version-h._cfg.version}function Lr(u,h,m,_){var b=u._dbSchema;m.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Oi("$meta",ho("")[0],[]),u._storeNames.push("$meta"));var T=u._createTransaction("readwrite",u._storeNames,b);T.create(m),T._completion.catch(_);var k=T._reject.bind(T),F=Ce.transless||Ce;tr(function(){return Ce.trans=T,Ce.transless=F,h!==0?(uo(u,m),K=h,((H=T).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(Q){return Q??K}):Ae.resolve(K)).then(function(Q){return Y=Q,W=T,z=m,G=[],Q=($=u)._versions,J=$._dbSchema=Ni(0,$.idbdb,z),(Q=Q.filter(function(Z){return Z._cfg.version>=Y})).length!==0?(Q.forEach(function(Z){G.push(function(){var te=J,se=Z._cfg.dbschema;fo($,te,z),fo($,se,z),J=$._dbSchema=se;var ce=kc(te,se);ce.add.forEach(function(Ie){Di(z,Ie[0],Ie[1].primKey,Ie[1].indexes)}),ce.change.forEach(function(Ie){if(Ie.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var we=z.objectStore(Ie.name);Ie.add.forEach(function(xe){return ms(we,xe)}),Ie.change.forEach(function(xe){we.deleteIndex(xe.name),ms(we,xe)}),Ie.del.forEach(function(xe){return we.deleteIndex(xe)})});var ge=Z._cfg.contentUpgrade;if(ge&&Z._cfg.version>Y){uo($,z),W._memoizedTables={};var be=A(se);ce.del.forEach(function(Ie){be[Ie]=te[Ie]}),ps($,[$.Transaction.prototype]),lo($,[$.Transaction.prototype],o(be),be),W.schema=be;var me,_e=An(ge);return _e&&Ri(),ce=Ae.follow(function(){var Ie;(me=ge(W))&&_e&&(Ie=gr.bind(null,null),me.then(Ie,Ie))}),me&&typeof me.then=="function"?Ae.resolve(me):ce.then(function(){return me})}}),G.push(function(te){var se,ce,ge=Z._cfg.dbschema;se=ge,ce=te,[].slice.call(ce.db.objectStoreNames).forEach(function(be){return se[be]==null&&ce.db.deleteObjectStore(be)}),ps($,[$.Transaction.prototype]),lo($,[$.Transaction.prototype],$._storeNames,$._dbSchema),W.schema=$._dbSchema}),G.push(function(te){$.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($.idbdb.version/10)===Z._cfg.version?($.idbdb.deleteObjectStore("$meta"),delete $._dbSchema.$meta,$._storeNames=$._storeNames.filter(function(se){return se!=="$meta"})):te.objectStore("$meta").put(Z._cfg.version,"version"))})}),(function Z(){return G.length?Ae.resolve(G.shift()(W.idbtrans)).then(Z):Ae.resolve()})().then(function(){Oc(J,z)})):Ae.resolve();var $,Y,W,z,G,J}).catch(k)):(o(b).forEach(function(Q){Di(m,Q,b[Q].primKey,b[Q].indexes)}),uo(u,m),void Ae.follow(function(){return u.on.populate.fire(T)}).catch(k));var H,K})}function rl(u,h){Oc(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var m=Ni(0,u.idbdb,h);fo(u,u._dbSchema,h);for(var _=0,b=kc(m,u._dbSchema).change;_<b.length;_++){var T=(function(k){if(k.change.length||k.recreate)return console.warn("Unable to patch indexes of table ".concat(k.name," because it has changes on the type of index or primary key.")),{value:void 0};var F=h.objectStore(k.name);k.add.forEach(function(H){pe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(k.name,".").concat(H.src)),ms(F,H)})})(b[_]);if(typeof T=="object")return T.value}}function kc(u,h){var m,_={del:[],add:[],change:[]};for(m in u)h[m]||_.del.push(m);for(m in h){var b=u[m],T=h[m];if(b){var k={name:m,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||b.primKey.auto!==T.primKey.auto)k.recreate=!0,_.change.push(k);else{var F=b.idxByName,H=T.idxByName,K=void 0;for(K in F)H[K]||k.del.push(K);for(K in H){var Q=F[K],$=H[K];Q?Q.src!==$.src&&k.change.push($):k.add.push($)}(0<k.del.length||0<k.add.length||0<k.change.length)&&_.change.push(k)}}else _.add.push([m,T])}return _}function Di(u,h,m,_){var b=u.db.createObjectStore(h,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return _.forEach(function(T){return ms(b,T)}),b}function Oc(u,h){o(u).forEach(function(m){h.db.objectStoreNames.contains(m)||(pe&&console.debug("Dexie: Creating missing table",m),Di(h,m,u[m].primKey,u[m].indexes))})}function ms(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Ni(u,h,m){var _={};return L(h.objectStoreNames,0).forEach(function(b){for(var T=m.objectStore(b),k=ds(Pc(K=T.keyPath),K||"",!0,!1,!!T.autoIncrement,K&&typeof K!="string",!0),F=[],H=0;H<T.indexNames.length;++H){var Q=T.index(T.indexNames[H]),K=Q.keyPath,Q=ds(Q.name,K,!!Q.unique,!!Q.multiEntry,!1,K&&typeof K!="string",!1);F.push(Q)}_[b]=Oi(b,k,F)}),_}function fo(u,h,m){for(var _=m.db.objectStoreNames,b=0;b<_.length;++b){var T=_[b],k=m.objectStore(T);u._hasGetAll="getAll"in k;for(var F=0;F<k.indexNames.length;++F){var H=k.indexNames[F],K=k.index(H).keyPath,Q=typeof K=="string"?K:"["+L(K).join("+")+"]";!h[T]||(K=h[T].idxByName[Q])&&(K.name=H,delete h[T].idxByName[Q],h[T].idxByName[H]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function ho(u){return u.split(",").map(function(h,m){var T=h.split(":"),_=(b=T[1])===null||b===void 0?void 0:b.trim(),b=(h=T[0].trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return ds(b,T||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),a(T),m===0,_)})}var $h=(xi.prototype._createTableSchema=Oi,xi.prototype._parseIndexSyntax=ho,xi.prototype._parseStoresSpec=function(u,h){var m=this;o(u).forEach(function(_){if(u[_]!==null){var b=m._parseIndexSyntax(u[_]),T=b.shift();if(!T)throw new ie.Schema("Invalid schema for table "+_+": "+u[_]);if(T.unique=!0,T.multi)throw new ie.Schema("Primary key cannot be multiEntry*");b.forEach(function(k){if(k.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!k.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),b=m._createTableSchema(_,T,b),h[_]=b}})},xi.prototype.stores=function(m){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,m):m;var m=h._versions,_={},b={};return m.forEach(function(T){l(_,T._cfg.storesSource),b=T._cfg.dbschema={},T._parseStoresSpec(_,b)}),h._dbSchema=b,ps(h,[h._allTables,h,h.Transaction.prototype]),lo(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],o(b),b),h._storeNames=o(b),this},xi.prototype.upgrade=function(u){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||Be,u),this},xi);function xi(){}function Mi(u,h){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new Fi(Zr,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function ca(u){return u&&typeof u.databases=="function"}function ua(u){return tr(function(){return Ce.letThrough=!0,u()})}function po(u){return!("from"in u)}var Zt=function(u,h){if(!this){var m=new Zt;return u&&"d"in u&&l(m,u),m}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function gs(u,h,m){var _=nt(h,m);if(!isNaN(_)){if(0<_)throw RangeError();if(po(u))return l(u,{from:h,to:m,d:1});var b=u.l,_=u.r;if(nt(m,u.from)<0)return b?gs(b,h,m):u.l={from:h,to:m,d:1,l:null,r:null},ri(u);if(0<nt(h,u.to))return _?gs(_,h,m):u.r={from:h,to:m,d:1,l:null,r:null},ri(u);nt(h,u.from)<0&&(u.from=h,u.l=null,u.d=_?_.d+1:1),0<nt(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,b&&!u.l&&ni(u,b),_&&m&&ni(u,_)}}function ni(u,h){po(h)||(function m(_,H){var T=H.from,k=H.to,F=H.l,H=H.r;gs(_,T,k),F&&m(_,F),H&&m(_,H)})(u,h)}function Dc(u,h){var m=mo(h),_=m.next();if(_.done)return!1;for(var b=_.value,T=mo(u),k=T.next(b.from),F=k.value;!_.done&&!k.done;){if(nt(F.from,b.to)<=0&&0<=nt(F.to,b.from))return!0;nt(b.from,F.from)<0?b=(_=m.next(F.from)).value:F=(k=T.next(b.from)).value}return!1}function mo(u){var h=po(u)?null:{s:0,n:u};return{next:function(m){for(var _=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,_)for(;h.n.l&&nt(m,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!_||nt(m,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function ri(u){var h,m,_=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),b=1<_?"r":_<-1?"l":"";b&&(h=b=="r"?"l":"r",m=r({},u),_=u[b],u.from=_.from,u.to=_.to,u[b]=_[b],m[b]=_[h],(u[h]=m).d=Nc(m)),u.d=Nc(u)}function Nc(m){var h=m.r,m=m.l;return(h?m?Math.max(h.d,m.d):h.d:m?m.d:0)+1}function go(u,h){return o(h).forEach(function(m){u[m]?ni(u[m],h[m]):u[m]=(function _(b){var T,k,F={};for(T in b)p(b,T)&&(k=b[T],F[T]=!k||typeof k!="object"||V.has(k.constructor)?k:_(k));return F})(h[m])}),u}function la(u,h){return u.all||h.all||Object.keys(u).some(function(m){return h[m]&&Dc(h[m],u[m])})}y(Zt.prototype,((wr={add:function(u){return ni(this,u),this},addKey:function(u){return gs(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(m){return gs(h,m,m)}),this},hasKey:function(u){var h=mo(this).next(u).value;return h&&nt(h.from,u)<=0&&0<=nt(h.to,u)}})[Se]=function(){return mo(this)},wr));var ii={},ys={},vn=!1;function yo(u){go(ys,u),vn||(vn=!0,setTimeout(function(){vn=!1,fa(ys,!(ys={}))},0))}function fa(u,h){h===void 0&&(h=!1);var m=new Set;if(u.all)for(var _=0,b=Object.values(ii);_<b.length;_++)Li(k=b[_],u,m,h);else for(var T in u){var k,F=/^idb\:\/\/(.*)\/(.*)\//.exec(T);F&&(T=F[1],F=F[2],(k=ii["idb://".concat(T,"/").concat(F)])&&Li(k,u,m,h))}m.forEach(function(H){return H()})}function Li(u,h,m,_){for(var b=[],T=0,k=Object.entries(u.queries.query);T<k.length;T++){for(var F=k[T],H=F[0],K=[],Q=0,$=F[1];Q<$.length;Q++){var Y=$[Q];la(h,Y.obsSet)?Y.subscribers.forEach(function(J){return m.add(J)}):_&&K.push(Y)}_&&b.push([H,K])}if(_)for(var W=0,z=b;W<z.length;W++){var G=z[W],H=G[0],K=G[1];u.queries.query[H]=K}}function c(u){var h=u._state,m=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?xt(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var _=h.openCanceller,b=Math.round(10*u.verno),T=!1;function k(){if(h.openCanceller!==_)throw new ie.DatabaseClosed("db.open() was cancelled")}function F(){return new Ae(function(Y,W){if(k(),!m)throw new ie.MissingAPI;var z=u.name,G=h.autoSchema||!b?m.open(z):m.open(z,b);if(!G)throw new ie.MissingAPI;G.onerror=_r(W),G.onblocked=mt(u._fireOnBlocked),G.onupgradeneeded=mt(function(J){var Z;Q=G.transaction,h.autoSchema&&!u._options.allowEmptyDB?(G.onerror=oo,Q.abort(),G.result.close(),(Z=m.deleteDatabase(z)).onsuccess=Z.onerror=mt(function(){W(new ie.NoSuchDatabase("Database ".concat(z," doesnt exist")))})):(Q.onerror=_r(W),J=J.oldVersion>Math.pow(2,62)?0:J.oldVersion,$=J<1,u.idbdb=G.result,T&&rl(u,Q),Lr(u,J/10,Q,W))},W),G.onsuccess=mt(function(){Q=null;var J,Z,te,se,ce,ge=u.idbdb=G.result,be=L(ge.objectStoreNames);if(0<be.length)try{var me=ge.transaction((se=be).length===1?se[0]:se,"readonly");if(h.autoSchema)Z=ge,te=me,(J=u).verno=Z.version/10,te=J._dbSchema=Ni(0,Z,te),J._storeNames=L(Z.objectStoreNames,0),lo(J,[J._allTables],o(te),te);else if(fo(u,u._dbSchema,me),((ce=kc(Ni(0,(ce=u).idbdb,me),ce._dbSchema)).add.length||ce.change.some(function(_e){return _e.add.length||_e.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),b=ge.version+1,T=!0,Y(F());uo(u,me)}catch{}Xr.push(u),ge.onversionchange=mt(function(_e){h.vcFired=!0,u.on("versionchange").fire(_e)}),ge.onclose=mt(function(){u.close({disableAutoOpen:!1})}),$&&(ce=u._deps,me=z,ge=ce.indexedDB,ce=ce.IDBKeyRange,ca(ge)||me===Zr||Mi(ge,ce).put({name:me}).catch(Be)),Y()},W)}).catch(function(Y){switch(Y?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),F();break;case"VersionError":if(0<b)return b=0,F()}return Ae.reject(Y)})}var H,K=h.dbReadyResolve,Q=null,$=!1;return Ae.race([_,(typeof navigator>"u"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function W(){return indexedDB.databases().finally(Y)}H=setInterval(W,100),W()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(F)]).then(function(){return k(),h.onReadyBeingFired=[],Ae.resolve(ua(function(){return u.on.ready.fire(u.vip)})).then(function Y(){if(0<h.onReadyBeingFired.length){var W=h.onReadyBeingFired.reduce(ye,Be);return h.onReadyBeingFired=[],Ae.resolve(ua(function(){return W(u.vip)})).then(Y)}})}).finally(function(){h.openCanceller===_&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(Y){h.dbOpenError=Y;try{Q&&Q.abort()}catch{}return _===h.openCanceller&&u._close(),xt(Y)}).finally(function(){h.openComplete=!0,K()}).then(function(){var Y;return $&&(Y={},u.tables.forEach(function(W){W.schema.indexes.forEach(function(z){z.name&&(Y["idb://".concat(u.name,"/").concat(W.name,"/").concat(z.name)]=new Zt(-1/0,[[[]]]))}),Y["idb://".concat(u.name,"/").concat(W.name,"/")]=Y["idb://".concat(u.name,"/").concat(W.name,"/:dels")]=new Zt(-1/0,[[[]]])}),ti(ao).fire(Y),fa(Y,!0)),u})}function g(u){function h(T){return u.next(T)}var m=b(h),_=b(function(T){return u.throw(T)});function b(T){return function(H){var F=T(H),H=F.value;return F.done?H:H&&typeof H.then=="function"?H.then(m,_):a(H)?Promise.all(H).then(m,_):m(H)}}return b(h)()}function w(u,h,m){for(var _=a(u)?u.slice():[u],b=0;b<m;++b)_.push(h);return _}var C={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema,b={},T=[];function k($,Y,W){var z=co($),G=b[z]=b[z]||[],J=$==null?0:typeof $=="string"?1:$.length,Z=0<Y,Z=r(r({},W),{name:Z?"".concat(z,"(virtual-from:").concat(W.name,")"):W.name,lowLevelIndex:W,isVirtual:Z,keyTail:Y,keyLength:J,extractKey:oa($),unique:!Z&&W.unique});return G.push(Z),Z.isPrimaryKey||T.push(Z),1<J&&k(J===2?$[0]:$.slice(0,J-1),Y+1,W),G.sort(function(te,se){return te.keyTail-se.keyTail}),Z}h=k(_.primaryKey.keyPath,0,_.primaryKey),b[":id"]=[h];for(var F=0,H=_.indexes;F<H.length;F++){var K=H[F];k(K.keyPath,0,K)}function Q($){var Y,W=$.query.index;return W.isVirtual?r(r({},$),{query:{index:W.lowLevelIndex,range:(Y=$.query.range,W=W.keyTail,{type:Y.type===1?2:Y.type,lower:w(Y.lower,Y.lowerOpen?u.MAX_KEY:u.MIN_KEY,W),lowerOpen:!0,upper:w(Y.upper,Y.upperOpen?u.MIN_KEY:u.MAX_KEY,W),upperOpen:!0})}}):$}return r(r({},m),{schema:r(r({},_),{primaryKey:h,indexes:T,getIndexByKeyPath:function($){return($=b[co($)])&&$[0]}}),count:function($){return m.count(Q($))},query:function($){return m.query(Q($))},openCursor:function($){var Y=$.query.index,W=Y.keyTail,z=Y.isVirtual,G=Y.keyLength;return z?m.openCursor(Q($)).then(function(Z){return Z&&J(Z)}):m.openCursor($);function J(Z){return Object.create(Z,{continue:{value:function(te){te!=null?Z.continue(w(te,$.reverse?u.MAX_KEY:u.MIN_KEY,W)):$.unique?Z.continue(Z.key.slice(0,G).concat($.reverse?u.MIN_KEY:u.MAX_KEY,W)):Z.continue()}},continuePrimaryKey:{value:function(te,se){Z.continuePrimaryKey(w(te,u.MAX_KEY,W),se)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var te=Z.key;return G===1?te[0]:te.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function X(u,h,m,_){return m=m||{},_=_||"",o(u).forEach(function(b){var T,k,F;p(h,b)?(T=u[b],k=h[b],typeof T=="object"&&typeof k=="object"&&T&&k?(F=Ge(T))!==Ge(k)?m[_+b]=h[b]:F==="Object"?X(T,k,m,_+b+"."):T!==k&&(m[_+b]=h[b]):T!==k&&(m[_+b]=h[b])):m[_+b]=void 0}),o(h).forEach(function(b){p(u,b)||(m[_+b]=h[b])}),m}function re(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var ve={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(h){var m=u.table(h),_=m.schema.primaryKey;return r(r({},m),{mutate:function(b){var T=Ce.trans,k=T.table(h).hook,F=k.deleting,H=k.creating,K=k.updating;switch(b.type){case"add":if(H.fire===Be)break;return T._promise("readwrite",function(){return Q(b)},!0);case"put":if(H.fire===Be&&K.fire===Be)break;return T._promise("readwrite",function(){return Q(b)},!0);case"delete":if(F.fire===Be)break;return T._promise("readwrite",function(){return Q(b)},!0);case"deleteRange":if(F.fire===Be)break;return T._promise("readwrite",function(){return(function $(Y,W,z){return m.query({trans:Y,values:!1,query:{index:_,range:W},limit:z}).then(function(G){var J=G.result;return Q({type:"delete",keys:J,trans:Y}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):J.length<z?{failures:[],numFailures:0,lastResult:void 0}:$(Y,r(r({},W),{lower:J[J.length-1],lowerOpen:!0}),z)})})})(b.trans,b.range,1e4)},!0)}return m.mutate(b);function Q($){var Y,W,z,G=Ce.trans,J=$.keys||re(_,$);if(!J)throw new Error("Keys missing");return($=$.type==="add"||$.type==="put"?r(r({},$),{keys:J}):r({},$)).type!=="delete"&&($.values=i([],$.values)),$.keys&&($.keys=i([],$.keys)),Y=m,z=J,((W=$).type==="add"?Promise.resolve([]):Y.getMany({trans:W.trans,keys:z,cache:"immutable"})).then(function(Z){var te=J.map(function(se,ce){var ge,be,me,_e=Z[ce],Ie={onerror:null,onsuccess:null};return $.type==="delete"?F.fire.call(Ie,se,_e,G):$.type==="add"||_e===void 0?(ge=H.fire.call(Ie,se,$.values[ce],G),se==null&&ge!=null&&($.keys[ce]=se=ge,_.outbound||D($.values[ce],_.keyPath,se))):(ge=X(_e,$.values[ce]),(be=K.fire.call(Ie,ge,se,_e,G))&&(me=$.values[ce],Object.keys(be).forEach(function(we){p(me,we)?me[we]=be[we]:D(me,we,be[we])}))),Ie});return m.mutate($).then(function(se){for(var ce=se.failures,ge=se.results,be=se.numFailures,se=se.lastResult,me=0;me<J.length;++me){var _e=(ge||J)[me],Ie=te[me];_e==null?Ie.onerror&&Ie.onerror(ce[me]):Ie.onsuccess&&Ie.onsuccess($.type==="put"&&Z[me]?$.values[me]:_e)}return{failures:ce,results:ge,numFailures:be,lastResult:se}}).catch(function(se){return te.forEach(function(ce){return ce.onerror&&ce.onerror(se)}),Promise.reject(se)})})}}})}})}};function yt(u,h,m){try{if(!h||h.keys.length<u.length)return null;for(var _=[],b=0,T=0;b<h.keys.length&&T<u.length;++b)nt(h.keys[b],u[T])===0&&(_.push(m?P(h.values[b]):h.values[b]),++T);return _.length===u.length?_:null}catch{return null}}var on={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var m=u.table(h);return r(r({},m),{getMany:function(_){if(!_.cache)return m.getMany(_);var b=yt(_.keys,_.trans._cache,_.cache==="clone");return b?Ae.resolve(b):m.getMany(_).then(function(T){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?P(T):T},T})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),m.mutate(_)}})}}}};function ft(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function an(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var pn={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,m=new Zt(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(_,b,T){if(Ce.subscr&&b!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return u.transaction(_,b,T)},table:function(_){var b=u.table(_),T=b.schema,k=T.primaryKey,$=T.indexes,F=k.extractKey,H=k.outbound,K=k.autoIncrement&&$.filter(function(W){return W.compound&&W.keyPath.includes(k.keyPath)}),Q=r(r({},b),{mutate:function(W){function z(we){return we="idb://".concat(h,"/").concat(_,"/").concat(we),se[we]||(se[we]=new Zt)}var G,J,Z,te=W.trans,se=W.mutatedParts||(W.mutatedParts={}),ce=z(""),ge=z(":dels"),be=W.type,Ie=W.type==="deleteRange"?[W.range]:W.type==="delete"?[W.keys]:W.values.length<50?[re(k,W).filter(function(we){return we}),W.values]:[],me=Ie[0],_e=Ie[1],Ie=W.trans._cache;return a(me)?(ce.addKeys(me),(Ie=be==="delete"||me.length===_e.length?yt(me,Ie):null)||ge.addKeys(me),(Ie||_e)&&(G=z,J=Ie,Z=_e,T.indexes.forEach(function(we){var xe=G(we.name||"");function Ze(it){return it!=null?we.extractKey(it):null}function tt(it){return we.multiEntry&&a(it)?it.forEach(function(ir){return xe.addKey(ir)}):xe.addKey(it)}(J||Z).forEach(function(it,Sn){var Xe=J&&Ze(J[Sn]),Sn=Z&&Ze(Z[Sn]);nt(Xe,Sn)!==0&&(Xe!=null&&tt(Xe),Sn!=null&&tt(Sn))})}))):me?(_e={from:(_e=me.lower)!==null&&_e!==void 0?_e:u.MIN_KEY,to:(_e=me.upper)!==null&&_e!==void 0?_e:u.MAX_KEY},ge.add(_e),ce.add(_e)):(ce.add(m),ge.add(m),T.indexes.forEach(function(we){return z(we.name).add(m)})),b.mutate(W).then(function(we){return!me||W.type!=="add"&&W.type!=="put"||(ce.addKeys(we.results),K&&K.forEach(function(xe){for(var Ze=W.values.map(function(Xe){return xe.extractKey(Xe)}),tt=xe.keyPath.findIndex(function(Xe){return Xe===k.keyPath}),it=0,ir=we.results.length;it<ir;++it)Ze[it][tt]=we.results[it];z(xe.name).addKeys(Ze)})),te.mutatedParts=go(te.mutatedParts||{},se),we})}}),$=function(z){var G=z.query,z=G.index,G=G.range;return[z,new Zt((z=G.lower)!==null&&z!==void 0?z:u.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:u.MAX_KEY)]},Y={get:function(W){return[k,new Zt(W.key)]},getMany:function(W){return[k,new Zt().addKeys(W.keys)]},count:$,query:$,openCursor:$};return o(Y).forEach(function(W){Q[W]=function(z){var G=Ce.subscr,J=!!G,Z=ft(Ce,b)&&an(W,z)?z.obsSet={}:G;if(J){var te=function(_e){return _e="idb://".concat(h,"/").concat(_,"/").concat(_e),Z[_e]||(Z[_e]=new Zt)},se=te(""),ce=te(":dels"),G=Y[W](z),J=G[0],G=G[1];if((W==="query"&&J.isPrimaryKey&&!z.values?ce:te(J.name||"")).add(G),!J.isPrimaryKey){if(W!=="count"){var ge=W==="query"&&H&&z.values&&b.query(r(r({},z),{values:!1}));return b[W].apply(this,arguments).then(function(_e){if(W==="query"){if(H&&z.values)return ge.then(function(Ze){return Ze=Ze.result,se.addKeys(Ze),_e});var Ie=z.values?_e.result.map(F):_e.result;(z.values?se:ce).addKeys(Ie)}else if(W==="openCursor"){var we=_e,xe=z.values;return we&&Object.create(we,{key:{get:function(){return ce.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Ze=we.primaryKey;return ce.addKey(Ze),Ze}},value:{get:function(){return xe&&se.addKey(we.primaryKey),we.value}}})}return _e})}ce.add(m)}}return b[W].apply(this,arguments)}}),Q}})}};function Vi(u,h,m){if(m.numFailures===0)return h;if(h.type==="deleteRange")return null;var _=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return m.numFailures===_?null:(h=r({},h),a(h.keys)&&(h.keys=h.keys.filter(function(b,T){return!(T in m.failures)})),"values"in h&&a(h.values)&&(h.values=h.values.filter(function(b,T){return!(T in m.failures)})),h)}function Bn(u,h){return m=u,((_=h).lower===void 0||(_.lowerOpen?0<nt(m,_.lower):0<=nt(m,_.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?nt(u,h.upper)<0:nt(u,h.upper)<=0));var m,_}function _o(u,h,Y,_,b,T){if(!Y||Y.length===0)return u;var k=h.query.index,F=k.multiEntry,H=h.query.range,K=_.schema.primaryKey.extractKey,Q=k.extractKey,$=(k.lowLevelIndex||k).extractKey,Y=Y.reduce(function(W,z){var G=W,J=[];if(z.type==="add"||z.type==="put")for(var Z=new Zt,te=z.values.length-1;0<=te;--te){var se,ce=z.values[te],ge=K(ce);Z.hasKey(ge)||(se=Q(ce),(F&&a(se)?se.some(function(we){return Bn(we,H)}):Bn(se,H))&&(Z.addKey(ge),J.push(ce)))}switch(z.type){case"add":var be=new Zt().addKeys(h.values?W.map(function(xe){return K(xe)}):W),G=W.concat(h.values?J.filter(function(xe){return xe=K(xe),!be.hasKey(xe)&&(be.addKey(xe),!0)}):J.map(function(xe){return K(xe)}).filter(function(xe){return!be.hasKey(xe)&&(be.addKey(xe),!0)}));break;case"put":var me=new Zt().addKeys(z.values.map(function(xe){return K(xe)}));G=W.filter(function(xe){return!me.hasKey(h.values?K(xe):xe)}).concat(h.values?J:J.map(function(xe){return K(xe)}));break;case"delete":var _e=new Zt().addKeys(z.keys);G=W.filter(function(xe){return!_e.hasKey(h.values?K(xe):xe)});break;case"deleteRange":var Ie=z.range;G=W.filter(function(xe){return!Bn(K(xe),Ie)})}return G},u);return Y===u?u:(Y.sort(function(W,z){return nt($(W),$(z))||nt(K(W),K(z))}),h.limit&&h.limit<1/0&&(Y.length>h.limit?Y.length=h.limit:u.length===h.limit&&Y.length<h.limit&&(b.dirty=!0)),T?Object.freeze(Y):Y)}function ha(u,h){return nt(u.lower,h.lower)===0&&nt(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function kA(u,h){return(function(m,_,b,T){if(m===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return 1;if(T)return-1}return _})(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=(function(m,_,b,T){if(m===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=nt(m,_))===0){if(b&&T)return 0;if(b)return-1;if(T)return 1}return _})(u.upper,h.upper,u.upperOpen,h.upperOpen)}function OA(u,h,m,_){u.subscribers.add(m),_.addEventListener("abort",function(){var b,T;u.subscribers.delete(m),u.subscribers.size===0&&(b=u,T=h,setTimeout(function(){b.subscribers.size===0&&Ee(T,b)},3e3))})}var DA={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return r(r({},u),{transaction:function(m,_,b){var T,k,F=u.transaction(m,_,b);return _==="readwrite"&&(k=(T=new AbortController).signal,b=function(H){return function(){if(T.abort(),_==="readwrite"){for(var K=new Set,Q=0,$=m;Q<$.length;Q++){var Y=$[Q],W=ii["idb://".concat(h,"/").concat(Y)];if(W){var z=u.table(Y),G=W.optimisticOps.filter(function(xe){return xe.trans===F});if(F._explicit&&H&&F.mutatedParts)for(var J=0,Z=Object.values(W.queries.query);J<Z.length;J++)for(var te=0,se=(be=Z[J]).slice();te<se.length;te++)la((me=se[te]).obsSet,F.mutatedParts)&&(Ee(be,me),me.subscribers.forEach(function(xe){return K.add(xe)}));else if(0<G.length){W.optimisticOps=W.optimisticOps.filter(function(xe){return xe.trans!==F});for(var ce=0,ge=Object.values(W.queries.query);ce<ge.length;ce++)for(var be,me,_e,Ie=0,we=(be=ge[ce]).slice();Ie<we.length;Ie++)(me=we[Ie]).res!=null&&F.mutatedParts&&(H&&!me.dirty?(_e=Object.isFrozen(me.res),_e=_o(me.res,me.req,G,z,me,_e),me.dirty?(Ee(be,me),me.subscribers.forEach(function(xe){return K.add(xe)})):_e!==me.res&&(me.res=_e,me.promise=Ae.resolve({result:_e}))):(me.dirty&&Ee(be,me),me.subscribers.forEach(function(xe){return K.add(xe)})))}}}K.forEach(function(xe){return xe()})}}},F.addEventListener("abort",b(!1),{signal:k}),F.addEventListener("error",b(!1),{signal:k}),F.addEventListener("complete",b(!0),{signal:k})),F},table:function(m){var _=u.table(m),b=_.schema.primaryKey;return r(r({},_),{mutate:function(T){var k=Ce.trans;if(b.outbound||k.db._options.cache==="disabled"||k.explicit||k.idbtrans.mode!=="readwrite")return _.mutate(T);var F=ii["idb://".concat(h,"/").concat(m)];return F?(k=_.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||re(b,T).some(function(H){return H==null}))?(F.optimisticOps.push(T),T.mutatedParts&&yo(T.mutatedParts),k.then(function(H){0<H.numFailures&&(Ee(F.optimisticOps,T),(H=Vi(0,T,H))&&F.optimisticOps.push(H),T.mutatedParts&&yo(T.mutatedParts))}),k.catch(function(){Ee(F.optimisticOps,T),T.mutatedParts&&yo(T.mutatedParts)})):k.then(function(H){var K=Vi(0,r(r({},T),{values:T.values.map(function(Q,$){var Y;return H.failures[$]?Q:(Q=(Y=b.keyPath)!==null&&Y!==void 0&&Y.includes(".")?P(Q):r({},Q),D(Q,b.keyPath,H.results[$]),Q)})}),H);F.optimisticOps.push(K),queueMicrotask(function(){return T.mutatedParts&&yo(T.mutatedParts)})}),k):_.mutate(T)},query:function(T){if(!ft(Ce,_)||!an("query",T))return _.query(T);var k=((K=Ce.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",$=Ce,F=$.requery,H=$.signal,K=(function(z,G,J,Z){var te=ii["idb://".concat(z,"/").concat(G)];if(!te)return[];if(!(G=te.queries[J]))return[null,!1,te,null];var se=G[(Z.query?Z.query.index.name:null)||""];if(!se)return[null,!1,te,null];switch(J){case"query":var ce=se.find(function(ge){return ge.req.limit===Z.limit&&ge.req.values===Z.values&&ha(ge.req.query.range,Z.query.range)});return ce?[ce,!0,te,se]:[se.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Z.limit&&(!Z.values||ge.req.values)&&kA(ge.req.query.range,Z.query.range)}),!1,te,se];case"count":return ce=se.find(function(ge){return ha(ge.req.query.range,Z.query.range)}),[ce,!!ce,te,se]}})(h,m,"query",T),Q=K[0],$=K[1],Y=K[2],W=K[3];return Q&&$?Q.obsSet=T.obsSet:($=_.query(T).then(function(z){var G=z.result;if(Q&&(Q.res=G),k){for(var J=0,Z=G.length;J<Z;++J)Object.freeze(G[J]);Object.freeze(G)}else z.result=P(G);return z}).catch(function(z){return W&&Q&&Ee(W,Q),Promise.reject(z)}),Q={obsSet:T.obsSet,promise:$,subscribers:new Set,type:"query",req:T,dirty:!1},W?W.push(Q):(W=[Q],(Y=Y||(ii["idb://".concat(h,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=W)),OA(Q,W,F,H),Q.promise.then(function(z){return{result:_o(z.result,T,Y?.optimisticOps,_,Q,k)}})}})}})}};function il(u,h){return new Proxy(u,{get:function(m,_,b){return _==="db"?h:Reflect.get(m,_,b)}})}var Fi=(Jt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new ie.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,m=h.filter(function(_){return _._cfg.version===u})[0];return m||(m=new this.Version(u),h.push(m),h.sort(nl),m.stores({}),this._state.autoSchema=!1,m)},Jt.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?u():new Ae(function(m,_){if(h._state.openComplete)return _(new ie.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void _(new ie.DatabaseClosed);h.open().catch(Be)}h._state.dbReadyPromise.then(m,_)}).then(u)},Jt.prototype.use=function(u){var h=u.stack,m=u.create,_=u.level,b=u.name;return b&&this.unuse({stack:h,name:b}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:m,level:_??10,name:b}),u.sort(function(T,k){return T.level-k.level}),this},Jt.prototype.unuse=function(u){var h=u.stack,m=u.name,_=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(b){return _?b.create!==_:!!m&&b.name!==m})),this},Jt.prototype.open=function(){var u=this;return Or(Ln,function(){return c(u)})},Jt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,h=Xr.indexOf(this);if(0<=h&&Xr.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ae(function(m){u.dbReadyResolve=m}),u.openCanceller=new Ae(function(m,_){u.cancelOpen=_}))},Jt.prototype.close=function(m){var h=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;h?(m.isBeingOpened&&m.cancelOpen(new ie.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new ie.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},Jt.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new Ae(function(b,T){function k(){h.close(u);var F=h._deps.indexedDB.deleteDatabase(h.name);F.onsuccess=mt(function(){var H,K,Q;H=h._deps,K=h.name,Q=H.indexedDB,H=H.IDBKeyRange,ca(Q)||K===Zr||Mi(Q,H).delete(K).catch(Be),b()}),F.onerror=_r(T),F.onblocked=h._fireOnBlocked}if(m)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(k):k()})},Jt.prototype.backendDB=function(){return this.idbdb},Jt.prototype.isOpen=function(){return this.idbdb!==null},Jt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Jt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Jt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Jt.prototype,"tables",{get:function(){var u=this;return o(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),Jt.prototype.transaction=function(){var u=(function(h,m,_){var b=arguments.length;if(b<2)throw new ie.InvalidArgument("Too few arguments");for(var T=new Array(b-1);--b;)T[b-1]=arguments[b];return _=T.pop(),[h,O(T),_]}).apply(this,arguments);return this._transaction.apply(this,u)},Jt.prototype._transaction=function(u,h,m){var _=this,b=Ce.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var T,k,F=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(k=h.map(function(K){if(K=K instanceof _.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),u=="r"||u===Dr)T=Dr;else{if(u!="rw"&&u!=to)throw new ie.InvalidArgument("Invalid transaction mode: "+u);T=to}if(b){if(b.mode===Dr&&T===to){if(!F)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&k.forEach(function(K){if(b&&b.storeNames.indexOf(K)===-1){if(!F)throw new ie.SubTransaction("Table "+K+" not included in parent transaction.");b=null}}),F&&b&&!b.active&&(b=null)}}catch(K){return b?b._promise(null,function(Q,$){$(K)}):xt(K)}var H=(function K(Q,$,Y,W,z){return Ae.resolve().then(function(){var G=Ce.transless||Ce,J=Q._createTransaction($,Y,Q._dbSchema,W);if(J.explicit=!0,G={trans:J,transless:G},W)J.idbtrans=W.idbtrans;else try{J.create(),J.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(se){return se.name===oe.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,$,Y,null,z)})):xt(se)}var Z,te=An(z);return te&&Ri(),G=Ae.follow(function(){var se;(Z=z.call(J,J))&&(te?(se=gr.bind(null,null),Z.then(se,se)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=g(Z)))},G),(Z&&typeof Z.then=="function"?Ae.resolve(Z).then(function(se){return J.active?se:xt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(se){return W&&J._resolve(),J._completion.then(function(){return se})}).catch(function(se){return J._reject(se),xt(se)})})}).bind(null,this,T,k,b,m);return b?b._promise(T,H,"lock"):Ce.trans?Or(Ce.transless,function(){return _._whenReady(H)}):this._whenReady(H)},Jt.prototype.table=function(u){if(!p(this._allTables,u))throw new ie.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Jt);function Jt(u,h){var m=this;this._middlewares={},this.verno=0;var _=Jt.dependencies;this._options=h=r({addons:Jt.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},_=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,T,k,F,H,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Be,dbReadyPromise:null,cancelOpen:Be,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};K.dbReadyPromise=new Ae(function($){K.dbReadyResolve=$}),K.openCanceller=new Ae(function($,Y){K.cancelOpen=Y}),this._state=K,this.name=u,this.on=nr(this,"populate","blocked","versionchange","close",{ready:[ye,Be]}),this.once=function($,Y){var W=function(){for(var z=[],G=0;G<arguments.length;G++)z[G]=arguments[G];m.on($).unsubscribe(W),Y.apply(m,z)};return m.on($,W)},this.on.ready.subscribe=R(this.on.ready.subscribe,function($){return function(Y,W){Jt.vip(function(){var z,G=m._state;G.openComplete?(G.dbOpenError||Ae.resolve().then(Y),W&&$(Y)):G.onReadyBeingFired?(G.onReadyBeingFired.push(Y),W&&$(Y)):($(Y),z=m,W||$(function J(){z.on.ready.unsubscribe(Y),z.on.ready.unsubscribe(J)}))})}}),this.Collection=(b=this,Vn(Vh.prototype,function(Z,J){this.db=b;var W=Ec,z=null;if(J)try{W=J()}catch(te){z=te}var G=Z._ctx,J=G.table,Z=J.hook.reading.fire;this._ctx={table:J,index:G.index,isPrimKey:!G.index||J.schema.primKey.keyPath&&G.index===J.schema.primKey.name,range:W,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:z,or:G.or,valueMapper:Z!==N?Z:null}})),this.Table=(T=this,Vn(Sc.prototype,function($,Y,W){this.db=T,this._tx=W,this.name=$,this.schema=Y,this.hook=T._allTables[$]?T._allTables[$].hook:nr(null,{creating:[fe,Be],reading:[j,N],updating:[he,Be],deleting:[ae,Be]})})),this.Transaction=(k=this,Vn(Bh.prototype,function($,Y,W,z,G){var J=this;$!=="readonly"&&Y.forEach(function(Z){Z=(Z=W[Z])===null||Z===void 0?void 0:Z.yProps,Z&&(Y=Y.concat(Z.map(function(te){return te.updatesTable})))}),this.db=k,this.mode=$,this.storeNames=Y,this.schema=W,this.chromeTransactionDurability=z,this.idbtrans=null,this.on=nr(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(Z,te){J._resolve=Z,J._reject=te}),this._completion.then(function(){J.active=!1,J.on.complete.fire()},function(Z){var te=J.active;return J.active=!1,J.on.error.fire(Z),J.parent?J.parent._reject(Z):te&&J.idbtrans&&J.idbtrans.abort(),xt(Z)})})),this.Version=(F=this,Vn($h.prototype,function($){this.db=F,this._cfg={version:$,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,Vn(Cc.prototype,function($,Y,W){if(this.db=H,this._ctx={table:$,index:Y===":id"?null:Y,or:W},this._cmp=this._ascending=nt,this._descending=function(z,G){return nt(G,z)},this._max=function(z,G){return 0<nt(z,G)?z:G},this._min=function(z,G){return nt(z,G)<0?z:G},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function($){0<$.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function($){!$.newVersion||$.newVersion<$.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat($.oldVersion/10))}),this._maxKey=Mr(h.IDBKeyRange),this._createTransaction=function($,Y,W,z){return new m.Transaction($,Y,W,m._options.chromeTransactionDurability,z)},this._fireOnBlocked=function($){m.on("blocked").fire($),Xr.filter(function(Y){return Y.name===m.name&&Y!==m&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire($)})},this.use(on),this.use(DA),this.use(pn),this.use(C),this.use(ve);var Q=new Proxy(this,{get:function($,Y,W){if(Y==="_vip")return!0;if(Y==="table")return function(G){return il(m.table(G),Q)};var z=Reflect.get($,Y,W);return z instanceof Sc?il(z,Q):Y==="tables"?z.map(function(G){return il(G,Q)}):Y==="_createTransaction"?function(){return il(z.apply(this,arguments),Q)}:z}});this.vip=Q,_.forEach(function($){return $(m)})}var sl,wr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",NA=(qh.prototype.subscribe=function(u,h,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:m})},qh.prototype[wr]=function(){return this},qh);function qh(u){this._subscribe=u}try{sl={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{sl={indexedDB:null,IDBKeyRange:null}}function Qg(u){var h,m=!1,_=new NA(function(b){var T=An(u),k,F=!1,H={},K={},Q={get closed(){return F},unsubscribe:function(){F||(F=!0,k&&k.abort(),$&&ti.storagemutated.unsubscribe(W))}};b.start&&b.start(Q);var $=!1,Y=function(){return ra(z)},W=function(G){go(H,G),la(K,H)&&Y()},z=function(){var G,J,Z;!F&&sl.indexedDB&&(H={},G={},k&&k.abort(),k=new AbortController,Z=(function(te){var se=mr();try{T&&Ri();var ce=tr(u,te);return ce=T?ce.finally(gr):ce}finally{se&&Si()}})(J={subscr:G,signal:k.signal,requery:Y,querier:u,trans:null}),Promise.resolve(Z).then(function(te){m=!0,h=te,F||J.signal.aborted||(H={},(function(se){for(var ce in se)if(p(se,ce))return;return 1})(K=G)||$||(ti(ao,W),$=!0),ra(function(){return!F&&b.next&&b.next(te)}))},function(te){m=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||F||ra(function(){F||b.error&&b.error(te)})}))};return setTimeout(Y,0),Q});return _.hasValue=function(){return m},_.getValue=function(){return h},_}var vo=Fi;function Hh(u){var h=_s;try{_s=!0,ti.storagemutated.fire(u),fa(u,!0)}finally{_s=h}}y(vo,r(r({},Ke),{delete:function(u){return new vo(u,{addons:[]}).delete()},exists:function(u){return new vo(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=vo.dependencies,m=h.indexedDB,h=h.IDBKeyRange,(ca(m)?Promise.resolve(m.databases()).then(function(_){return _.map(function(b){return b.name}).filter(function(b){return b!==Zr})}):Mi(m,h).toCollection().primaryKeys()).then(u)}catch{return xt(new ie.MissingAPI)}var h,m},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return Ce.trans?Or(Ce.transless,u):u()},vip:ua,async:function(u){return function(){try{var h=g(u.apply(this,arguments));return h&&typeof h.then=="function"?h:Ae.resolve(h)}catch(m){return xt(m)}}},spawn:function(u,h,m){try{var _=g(u.apply(m,h||[]));return _&&typeof _.then=="function"?_:Ae.resolve(_)}catch(b){return xt(b)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(u,h){return h=Ae.resolve(typeof u=="function"?vo.ignoreTransaction(u):u).timeout(h||6e4),Ce.trans?Ce.trans.waitFor(h):h},Promise:Ae,debug:{get:function(){return pe},set:function(u){de(u)}},derive:S,extend:l,props:y,override:R,Events:nr,on:ti,liveQuery:Qg,extendObservabilitySet:go,getByKeyPath:ne,setByKeyPath:D,delByKeyPath:function(u,h){typeof h=="string"?D(u,h,void 0):"length"in h&&[].map.call(h,function(m){D(u,m,void 0)})},shallowClone:A,deepClone:P,getObjectDiff:X,cmp:nt,asap:B,minKey:-1/0,addons:[],connections:Xr,errnames:oe,dependencies:sl,cache:ii,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,m){return u+h/Math.pow(10,2*m)})})),vo.maxKey=Mr(vo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ti(ao,function(u){_s||(u=new CustomEvent(vr,{detail:u}),_s=!0,dispatchEvent(u),_s=!1)}),addEventListener(vr,function(u){u=u.detail,_s||Hh(u)}));var da,_s=!1,Jg=function(){};return typeof BroadcastChannel<"u"&&((Jg=function(){(da=new BroadcastChannel(vr)).onmessage=function(u){return u.data&&Hh(u.data)}})(),typeof da.unref=="function"&&da.unref(),ti(ao,function(u){_s||da.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Fi.disableBfCache&&u.persisted){pe&&console.debug("Dexie: handling persisted pagehide"),da?.close();for(var h=0,m=Xr;h<m.length;h++)m[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Fi.disableBfCache&&u.persisted&&(pe&&console.debug("Dexie: handling persisted pageshow"),Jg(),Hh({all:new Zt(-1/0,[[]])}))})),Ae.rejectionMapper=function(u,h){return!u||u instanceof pt||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Le[u.name]?u:(h=new Le[u.name](h||u.message,u),"stack"in u&&E(h,"stack",{get:function(){return this.inner.stack}}),h)},de(pe),r(Fi,Object.freeze({__proto__:null,Dexie:Fi,liveQuery:Qg,Entity:Tc,cmp:nt,PropModification:io,replacePrefix:function(u,h){return new io({replacePrefix:[u,h]})},add:function(u){return new io({add:u})},remove:function(u){return new io({remove:u})},default:Fi,RangeSet:Zt,mergeRanges:ni,rangesOverlap:Dc}),{default:Fi}),Fi})})(Nl)),Nl.exports}var aD=oD();const Np=gT(aD),P_=Symbol.for("Dexie"),_u=globalThis[P_]||(globalThis[P_]=Np);if(Np.semVer!==_u.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Np.semVer} and ${_u.semVer}`);const{liveQuery:Tj,mergeRanges:Ij,rangesOverlap:Aj,RangeSet:Sj,cmp:Rj,Entity:Cj,PropModification:Pj,replacePrefix:kj,add:Oj,remove:Dj,DexieYProvider:Nj}=_u,yT=new _u("Agenda2DB");yT.version(10).stores({eventos:"id, group, date, normalizedList, normalizedTitle, normalizedLocale, normalizedDesc",tags:"&id, group, title",notificacoesEnviadas:"id",desc:"&id, text",titles:"&id, text",locales:"&id, text",relatorio:"&Codigo, normalizedMinisterio, normalizedNomeCidade"});const cD=async()=>{const t=new _u("Agenda");try{return await t.delete(),!0}catch{return!1}};cD();const uD=_n(t=>{const e=async(f={})=>{const{$sw:d}=t;return await d.send("fetchRelatorio",f)||[]},n=async(f={})=>{const{$sw:d}=t;return await d.send("fetchEventos",f)||[]},r=async f=>{const{$sw:d}=t;return await d.send(`fetch${f.charAt(0).toUpperCase()+f.slice(1)}`)||[]},i=async()=>r("titles"),s=async()=>r("locales"),o=async()=>r("desc"),a=async(f={},d=3,p=1e3)=>{const{$sw:y}=t;for(let v=0;v<d;v++)try{return await y.send("fetchTags",f)||[]}catch{if(v<d-1)await new Promise(E=>setTimeout(E,p));else return[]}};if(typeof window<"u")try{const f=JSON.parse(localStorage.getItem("relatorio_chunk_state")||"{}");f&&f.version&&f.totalChunks&&f.receivedCount<f.totalChunks&&setTimeout(()=>{window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&window.navigator.serviceWorker.controller.postMessage({type:"REQUEST_RELATORIO_CHUNKS",payload:{version:f.version,missingChunks:Array.from({length:f.totalChunks},(d,p)=>p+1).filter(d=>!f.receivedChunks[d])}})},2e3)}catch{}return{provide:{indexedDB:{db:yT,getEvents:n,getTitles:i,getLocales:s,getDesc:o,getTags:a,getRelatorio:e,getRecentTags:async(f={})=>{const{$sw:d}=t;return await d.send("fetchRecenteTags",f)||[]}}}}}),lD=()=>{};var k_={};const _T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|f>>6,v=f&63;l||(v=64,o||(y=64)),r.push(n[d],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||f==null||p==null)throw new hD;const y=s<<2|a>>4;if(r.push(y),f!==64){const v=a<<4&240|f>>2;if(r.push(v),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dD=function(t){const e=_T(t);return vT.encodeByteArray(e,!0)},_f=function(t){return dD(t).replace(/\./g,"")},wT=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mD=()=>pD().__FIREBASE_DEFAULTS__,gD=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wT(t[1]);return e&&JSON.parse(e)},oh=()=>{try{return lD()||mD()||gD()||yD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bT=t=>oh()?.emulatorHosts?.[t],_D=t=>{const e=bT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ET=()=>oh()?.config,TT=t=>oh()?.[`_${t}`];class vD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IT(t){return(await fetch(t,{credentials:"include"})).ok}function wD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_f(JSON.stringify(n)),_f(JSON.stringify(o)),""].join(".")}const Zc={};function bD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?t.emulator.push(e):t.prod.push(e);return t}function ED(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O_=!1;function AT(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||Zc[t]===e||Zc[t]||O_)return;Zc[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=bD().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{O_=!0,o()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=ED(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),U=document.getElementById(S)||document.createElement("a"),q=n("preprendIcon"),L=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;a(R),d(U,S);const x=f();l(L,q),R.append(L,E,U,x),document.body.appendChild(R)}s?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function ID(){const t=oh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CD(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gm(){try{return typeof indexedDB=="object"}catch{return!1}}function Qm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function RT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const PD="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PD,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gs.prototype.create)}}class Gs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}}function kD(t,e){return t.replace(OD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OD=/\{\$([^}]+)}/g;function DD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D_(s)&&D_(o)){if(!Bs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D_(t){return t!==null&&typeof t=="object"}function Fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ND(t,e){const n=new xD(t,e);return n.subscribe.bind(n)}class xD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gd),i.error===void 0&&(i.error=gd),i.complete===void 0&&(i.complete=gd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gd(){}const LD=1e3,VD=2,FD=14400*1e3,UD=.5;function N_(t,e=LD,n=VD){const r=e*Math.pow(n,t),i=Math.round(UD*r*(Math.random()-.5)*2);return Math.min(FD,r+i)}function jt(t){return t&&t._delegate?t._delegate:t}class hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Co="[DEFAULT]";class BD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($D(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(t){return t===Co?void 0:t}function $D(t){return t.instantiationMode==="EAGER"}class qD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const HD={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},KD=ot.INFO,WD={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},zD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ah{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=zD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const GD=(t,e)=>e.some(n=>t instanceof n);let x_,M_;function QD(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JD(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,xp=new WeakMap,PT=new WeakMap,yd=new WeakMap,Jm=new WeakMap;function YD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),Jm.set(e,t),e}function XD(t){if(xp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xp.set(t,e)}let Mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZD(t){Mp=t(Mp)}function eN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_d(this),e,...n);return PT.set(r,e.sort?e.sort():[e]),Xi(r)}:JD().includes(t)?function(...e){return t.apply(_d(this),e),Xi(CT.get(this))}:function(...e){return Xi(t.apply(_d(this),e))}}function tN(t){return typeof t=="function"?eN(t):(t instanceof IDBTransaction&&XD(t),GD(t,QD())?new Proxy(t,Mp):t)}function Xi(t){if(t instanceof IDBRequest)return YD(t);if(yd.has(t))return yd.get(t);const e=tN(t);return e!==t&&(yd.set(t,e),Jm.set(e,t)),e}const _d=t=>Jm.get(t);function ch(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xi(o.result),l.oldVersion,l.newVersion,Xi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}function vd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Xi(n).then(()=>{})}const nN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],wd=new Map;function L_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return wd.set(e,s),s}ZD(t=>({...t,get:(e,n,r)=>L_(e,n)||t.get(e,n,r),has:(e,n)=>!!L_(e,n)||t.has(e,n)}));class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sN(t){return t.getComponent()?.type==="VERSION"}const Lp="@firebase/app",V_="0.14.1";const rs=new ah("@firebase/app"),oN="@firebase/app-compat",aN="@firebase/analytics-compat",cN="@firebase/analytics",uN="@firebase/app-check-compat",lN="@firebase/app-check",fN="@firebase/auth",hN="@firebase/auth-compat",dN="@firebase/database",pN="@firebase/data-connect",mN="@firebase/database-compat",gN="@firebase/functions",yN="@firebase/functions-compat",_N="@firebase/installations",vN="@firebase/installations-compat",wN="@firebase/messaging",bN="@firebase/messaging-compat",EN="@firebase/performance",TN="@firebase/performance-compat",IN="@firebase/remote-config",AN="@firebase/remote-config-compat",SN="@firebase/storage",RN="@firebase/storage-compat",CN="@firebase/firestore",PN="@firebase/ai",kN="@firebase/firestore-compat",ON="firebase",DN="12.1.0";const Vp="[DEFAULT]",NN={[Lp]:"fire-core",[oN]:"fire-core-compat",[cN]:"fire-analytics",[aN]:"fire-analytics-compat",[lN]:"fire-app-check",[uN]:"fire-app-check-compat",[fN]:"fire-auth",[hN]:"fire-auth-compat",[dN]:"fire-rtdb",[pN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[gN]:"fire-fn",[yN]:"fire-fn-compat",[_N]:"fire-iid",[vN]:"fire-iid-compat",[wN]:"fire-fcm",[bN]:"fire-fcm-compat",[EN]:"fire-perf",[TN]:"fire-perf-compat",[IN]:"fire-rc",[AN]:"fire-rc-compat",[SN]:"fire-gcs",[RN]:"fire-gcs-compat",[CN]:"fire-fst",[kN]:"fire-fst-compat",[PN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};const vu=new Map,xN=new Map,Fp=new Map;function F_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){const e=t.name;if(Fp.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,t);for(const n of vu.values())F_(n,t);for(const n of xN.values())F_(n,t);return!0}function Qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Gs("app","Firebase",MN);class LN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const fc=DN;function Up(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(n||(n=ET()),!n)throw Ms.create("no-options");const s=vu.get(i);if(s){if(Bs(n,s.options)&&Bs(r,s.config))return s;throw Ms.create("duplicate-app",{appName:i})}const o=new qD(i);for(const l of Fp.values())o.addComponent(l);const a=new LN(n,r,o);return vu.set(i,a),a}function Uu(t=Vp){const e=vu.get(t);if(!e&&t===Vp&&ET())return Up();if(!e)throw Ms.create("no-app",{appName:t});return e}function VN(){return Array.from(vu.values())}function Zn(t,e,n){let r=NN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(o.join(" "));return}Rr(new hr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const FN="firebase-heartbeat-database",UN=1,wu="firebase-heartbeat-store";let bd=null;function kT(){return bd||(bd=ch(FN,UN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),bd}async function BN(t){try{const n=(await kT()).transaction(wu),r=await n.objectStore(wu).get(OT(t));return await n.done,r}catch(e){if(e instanceof Gr)rs.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e?.message});rs.warn(n.message)}}}async function U_(t,e){try{const r=(await kT()).transaction(wu,"readwrite");await r.objectStore(wu).put(e,OT(t)),await r.done}catch(n){if(n instanceof Gr)rs.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n?.message});rs.warn(r.message)}}}function OT(t){return`${t.name}!${t.options.appId}`}const jN=1024,$N=30;class qN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$N){const i=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B_(),{heartbeatsToSend:n,unsentEntries:r}=HN(this._heartbeatsCache.heartbeats),i=_f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return rs.warn(e),""}}}function B_(){return new Date().toISOString().substring(0,10)}function HN(t,e=jN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gm()?Qm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function j_(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}function WN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function zN(t){Rr(new hr("platform-logger",e=>new iN(e),"PRIVATE")),Rr(new hr("heartbeat",e=>new qN(e),"PRIVATE")),Zn(Lp,V_,t),Zn(Lp,V_,"esm2020"),Zn("fire-js","")}zN("");var GN="firebase",QN="12.1.0";Zn(GN,QN,"app");function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=DT,NT=new Gs("auth","Firebase",DT());const vf=new ah("@firebase/auth");function YN(t,...e){vf.logLevel<=ot.WARN&&vf.warn(`Auth (${fc}): ${t}`,...e)}function xl(t,...e){vf.logLevel<=ot.ERROR&&vf.error(`Auth (${fc}): ${t}`,...e)}function bi(t,...e){throw Xm(t,...e)}function qr(t,...e){return Xm(t,...e)}function Ym(t,e,n){const r={...JN(),[e]:n};return new Gs("auth","Firebase",r).create(e,{appName:t.name})}function Uo(t){return Ym(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bi(t,"argument-error"),Ym(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NT.create(t,...e)}function We(t,e,...n){if(!t)throw Xm(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xl(e),new Error(e)}function is(t,e){t||Qi(e)}function Bp(){return typeof self<"u"&&self.location?.href||""}function ZN(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function ex(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||ST()||"connection"in navigator)?navigator.onLine:!0}function tx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=TD()||SD()}get(){return ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ix=new Bu(3e4,6e4);function eg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hc(t,e,n,r,i={}){return MT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Fu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:l,...s};return AD()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(f.credentials="include"),xT.fetch()(await LT(t,t.config.apiHost,n,a),f)})}async function MT(t,e,n){t._canInitEmulator=!1;const r={...nx,...e};try{const i=new ox(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw El(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw El(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ym(t,d,f);bi(t,d)}}catch(i){if(i instanceof Gr)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function sx(t,e,n,r,i={}){const s=await hc(t,e,n,r,i);return"mfaPendingCredential"in s&&bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function LT(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Zm(t.config,i):`${t.config.apiScheme}://${i}`;return rx.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),ix.get())})}}function El(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}async function ax(t,e){return hc(t,"POST","/v1/accounts:delete",e)}async function wf(t,e){return hc(t,"POST","/v1/accounts:lookup",e)}function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cx(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=tg(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:eu(Ed(i.auth_time)),issuedAtTime:eu(Ed(i.iat)),expirationTime:eu(Ed(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ed(t){return Number(t)*1e3}function tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xl("JWT malformed, contained fewer than 3 sections"),null;try{const i=wT(n);return i?JSON.parse(i):(xl("Failed to decode base64 JWT payload"),null)}catch(i){return xl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function q_(t){const e=tg(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&ux(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ux({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(t){const e=t.auth,n=await t.getIdToken(),r=await bu(t,wf(e,{idToken:n}));We(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?VT(i.providerUserInfo):[],o=hx(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!o?.length,f=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jp(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function fx(t){const e=jt(t);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dx(t,e){const n=await MT(t,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await LT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(l.credentials="include"),xT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function px(t,e){return hc(t,"POST","/v2/accounts:revokeToken",eg(t,e))}class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=q_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dx(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Va;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(We(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function bs(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cx(this,e)}reload(){return fx(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await bu(this,ax(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:S}=n;We(p&&S,e,"internal-error");const U=Va.fromJSON(this.name,S);We(typeof p=="string",e,"internal-error"),bs(r,e.name),bs(i,e.name),We(typeof y=="boolean",e,"internal-error"),We(typeof v=="boolean",e,"internal-error"),bs(s,e.name),bs(o,e.name),bs(a,e.name),bs(l,e.name),bs(f,e.name),bs(d,e.name);const q=new Br({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:U,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(q.providerData=E.map(L=>({...L}))),l&&(q._redirectEventId=l),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new Va;i.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?VT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Va;a.updateFromIdToken(r);const l=new Br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,f),l}}const H_=new Map;function Ji(t){is(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}class FT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FT.type="NONE";const K_=FT;function Ml(t,e,n){return`firebase:${t}:${e}:${n}`}class Fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ml("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wf(this.auth,{idToken:e}).catch(()=>{});return n?Br._fromGetAccountInfoResponse(this.auth,n,e):null}return Br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fa(Ji(K_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ji(K_);const o=Ml(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const y=await wf(e,{idToken:d}).catch(()=>{});if(!y)break;p=await Br._fromGetAccountInfoResponse(e,y,d)}else p=Br._fromJSON(e,d);f!==s&&(a=p),s=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Fa(s,e,r))}}function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(KT(e))return"Webos";if(BT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UT(t=Mn()){return/firefox\//i.test(t)}function BT(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(t=Mn()){return/crios\//i.test(t)}function $T(t=Mn()){return/iemobile/i.test(t)}function qT(t=Mn()){return/android/i.test(t)}function HT(t=Mn()){return/blackberry/i.test(t)}function KT(t=Mn()){return/webos/i.test(t)}function ng(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mx(t=Mn()){return ng(t)&&!!window.navigator?.standalone}function gx(){return RD()&&document.documentMode===10}function WT(t=Mn()){return ng(t)||qT(t)||KT(t)||HT(t)||/windows phone/i.test(t)||$T(t)}function zT(t,e=[]){let n;switch(t){case"Browser":n=W_(Mn());break;case"Worker":n=`${W_(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fc}/${r}`}class yx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _x(t,e={}){return hc(t,"GET","/v2/passwordPolicy",eg(t,e))}const vx=6;class wx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class bx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wf(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Uo(this));const n=e?jt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _x(this),n=new wx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await px(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uh(t){return jt(t)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ND(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(t){rg=t}function Tx(t){return rg.loadJS(t)}function Ix(){return rg.gapiScript}function Ax(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Sx(t,e){const n=Qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bs(s,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function Rx(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ji);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cx(t,e,n){const r=uh(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=GT(e),{host:o,port:a}=Px(e),l=a===null?"":`:${a}`,f={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Bs(f,r.config.emulator)&&Bs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,lc(o)?(IT(`${s}//${o}${l}`),AT("Auth",!0)):kx()}function GT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Px(t){const e=GT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:G_(o)}}}function G_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class QT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function Ua(t,e){return sx(t,"POST","/v1/accounts:signInWithIdp",eg(t,e))}const Ox="http://localhost";class $o extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new $o(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ua(e,n)}buildRequest(){const e={requestUri:Ox,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fu(n)}return e}}class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rs extends ju{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";class zi extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $o._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class Cs extends ju{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";class Ps extends ju{constructor(){super("twitter.com")}static credential(e,n){return $o._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Br._fromIdTokenResponse(e,r,i),o=Q_(r);return new Ya({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q_(r);return new Ya({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ef extends Gr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ef(e,n,r,i)}}function JT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(t,s,e,r):s})}async function Dx(t,e,n=!1){const r=await bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ya._forOperation(t,"link",r)}async function Nx(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Uo(r));const i="reauthenticate";try{const s=await bu(t,JT(r,i,e,t),n);We(s.idToken,r,"internal-error");const o=tg(s.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Ya._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&bi(r,"user-mismatch"),s}}async function xx(t,e,n=!1){if(Ur(t.app))return Promise.reject(Uo(t));const r="signIn",i=await JT(t,r,e),s=await Ya._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function Mx(t,e){return jt(t).setPersistence(e)}function Lx(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function Vx(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function Fx(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function xj(t){return jt(t).signOut()}const Tf="__sak";class YT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ux=1e3,Bx=10;class XT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ux)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XT.type="LOCAL";const ZT=XT;class eI extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;function jx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async f=>f(n.origin,s)),l=await jx(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class $x{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const f=sg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function di(){return window}function qx(t){di().location.href=t}function nI(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function Hx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kx(){return navigator?.serviceWorker?.controller||null}function Wx(){return nI()?self:null}const rI="firebaseLocalStorageDb",zx=1,If="firebaseLocalStorage",iI="fbase_key";class $u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([If],e?"readwrite":"readonly").objectStore(If)}function Gx(){const t=indexedDB.deleteDatabase(rI);return new $u(t).toPromise()}function $p(){const t=indexedDB.open(rI,zx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(If,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(If)?e(r):(r.close(),await Gx(),e(await $p()))})})}async function J_(t,e,n){const r=fh(t,!0).put({[iI]:e,value:n});return new $u(r).toPromise()}async function Qx(t,e){const n=fh(t,!1).get(e),r=await new $u(n).toPromise();return r===void 0?null:r.value}function Y_(t,e){const n=fh(t,!0).delete(e);return new $u(n).toPromise()}const Jx=800,Yx=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(Wx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Hx(),!this.activeServiceWorker)return;this.sender=new $x(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await J_(e,Tf,"1"),await Y_(e,Tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Qx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fh(i,!1).getAll();return new $u(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const Xx=sI;new Bu(3e4,6e4);function oI(t,e){return e?Ji(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class og extends QT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zx(t){return xx(t.auth,new og(t),t.bypassAuthState)}function eM(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Nx(n,new og(t),t.bypassAuthState)}async function tM(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Dx(n,new og(t),t.bypassAuthState)}class aI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zx;case"linkViaPopup":case"linkViaRedirect":return tM;case"reauthViaPopup":case"reauthViaRedirect":return eM;default:bi(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nM=new Bu(2e3,1e4);async function rM(t,e,n){if(Ur(t.app))return Promise.reject(qr(t,"operation-not-supported-in-this-environment"));const r=uh(t);XN(t,e,ig);const i=oI(r,n);return new Do(r,"signInViaPopup",e,i).executeNotNull()}class Do extends aI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nM.get())};e()}}Do.currentPopupAction=null;const iM="pendingRedirect",Ll=new Map;class sM extends aI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ll.get(this.auth._key());if(!e){try{const r=await oM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ll.set(this.auth._key(),e)}return this.bypassAuthState||Ll.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oM(t,e){const n=uM(e),r=cM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aM(t,e){Ll.set(t._key(),e)}function cM(t){return Ji(t._redirectPersistence)}function uM(t){return Ml(iM,t.config.apiKey,t.name)}async function lM(t,e,n=!1){if(Ur(t.app))return Promise.reject(Uo(t));const r=uh(t),i=oI(r,e),o=await new sM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const fM=600*1e3;class hM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fM&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cI(t);default:return!1}}async function pM(t,e={}){return hc(t,"GET","/v1/projects",e)}const mM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gM=/^https?/;async function yM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pM(t);for(const n of e)try{if(_M(n))return}catch{}bi(t,"unauthorized-domain")}function _M(t){const e=Bp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gM.test(n))return!1;if(mM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vM=new Bu(3e4,6e4);function Z_(){const t=di().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wM(t){return new Promise((e,n)=>{function r(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(qr(t,"network-request-failed"))},timeout:vM.get()})}if(di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(di().gapi?.load)r();else{const i=Ax("iframefcb");return di()[i]=()=>{gapi.load?r():n(qr(t,"network-request-failed"))},Tx(`${Ix()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Vl=null,e})}let Vl=null;function bM(t){return Vl=Vl||wM(t),Vl}const EM=new Bu(5e3,15e3),TM="__/auth/iframe",IM="emulator/auth/iframe",AM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zm(e,IM):`https://${t.config.authDomain}/${TM}`,r={apiKey:e.apiKey,appName:t.name,v:fc},i=SM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fu(r).slice(1)}`}async function CM(t){const e=await bM(t),n=di().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qr(t,"network-request-failed"),a=di().setTimeout(()=>{s(o)},EM.get());function l(){di().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}const PM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kM=500,OM=600,DM="_blank",NM="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xM(t,e,n,r=kM,i=OM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...PM,width:r.toString(),height:i.toString(),top:s,left:o},f=Mn().toLowerCase();n&&(a=jT(f)?DM:n),UT(f)&&(e=e||NM,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(mx(f)&&a!=="_self")return MM(e||"",a),new ev(null);const p=window.open(e||"",a,d);We(p,t,"popup-blocked");try{p.focus()}catch{}return new ev(p)}function MM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const LM="__/auth/handler",VM="emulator/auth/handler",FM=encodeURIComponent("fac");async function tv(t,e,n,r,i,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fc,eventId:i};if(e instanceof ig){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof ju){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),f=l?`#${FM}=${encodeURIComponent(l)}`:"";return`${UM(t)}?${Fu(a).slice(1)}${f}`}function UM({config:t}){return t.emulator?Zm(t,VM):`https://${t.authDomain}/${LM}`}const Td="webStorageSupport";class BM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=lM,this._overrideRedirectResult=aM}async _openPopup(e,n,r,i){is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await tv(e,n,r,Bp(),i);return xM(e,s,sg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tv(e,n,r,Bp(),i);return qx(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(is(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CM(e),r=new hM(e);return n.register("authEvent",i=>(We(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Td,{type:Td},i=>{const s=i?.[0]?.[Td];s!==void 0&&n(!!s),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||BT()||ng()}}const jM=BM;var nv="@firebase/auth",rv="1.11.0";class $M{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HM(t){Rr(new hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zT(t)},f=new bx(r,i,s,l);return Rx(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new hr("auth-internal",e=>{const n=uh(e.getProvider("auth").getImmediate());return(r=>new $M(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(nv,rv,qM(t)),Zn(nv,rv,"esm2020")}const KM=300,WM=TT("authIdTokenMaxAge")||KM;let iv=null;const zM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WM)return;const i=n?.token;iv!==i&&(iv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GM(t=Uu()){const e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sx(t,{popupRedirectResolver:jM,persistence:[Xx,ZT,tI]}),r=TT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zM(s.toString());Vx(n,o,()=>o(n.currentUser)),Lx(n,a=>o(a))}}const i=bT("auth");return i&&Cx(n,`http://${i}`),n}function QM(){return document.getElementsByTagName("head")?.[0]??document}Ex({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",QM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HM("Browser");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ls,uI;(function(){var t;function e(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(O,V,M){for(var P=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)P[Ue-2]=arguments[Ue];return A.prototype[V].apply(O,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,I){I||(I=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],V=D.g[2];var M=D.g[3],P=A+(M^I&(V^M))+O[0]+3614090360&4294967295;A=I+(P<<7&4294967295|P>>>25),P=M+(V^A&(I^V))+O[1]+3905402710&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(I^M&(A^I))+O[2]+606105819&4294967295,V=M+(P<<17&4294967295|P>>>15),P=I+(A^V&(M^A))+O[3]+3250441966&4294967295,I=V+(P<<22&4294967295|P>>>10),P=A+(M^I&(V^M))+O[4]+4118548399&4294967295,A=I+(P<<7&4294967295|P>>>25),P=M+(V^A&(I^V))+O[5]+1200080426&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(I^M&(A^I))+O[6]+2821735955&4294967295,V=M+(P<<17&4294967295|P>>>15),P=I+(A^V&(M^A))+O[7]+4249261313&4294967295,I=V+(P<<22&4294967295|P>>>10),P=A+(M^I&(V^M))+O[8]+1770035416&4294967295,A=I+(P<<7&4294967295|P>>>25),P=M+(V^A&(I^V))+O[9]+2336552879&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(I^M&(A^I))+O[10]+4294925233&4294967295,V=M+(P<<17&4294967295|P>>>15),P=I+(A^V&(M^A))+O[11]+2304563134&4294967295,I=V+(P<<22&4294967295|P>>>10),P=A+(M^I&(V^M))+O[12]+1804603682&4294967295,A=I+(P<<7&4294967295|P>>>25),P=M+(V^A&(I^V))+O[13]+4254626195&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(I^M&(A^I))+O[14]+2792965006&4294967295,V=M+(P<<17&4294967295|P>>>15),P=I+(A^V&(M^A))+O[15]+1236535329&4294967295,I=V+(P<<22&4294967295|P>>>10),P=A+(V^M&(I^V))+O[1]+4129170786&4294967295,A=I+(P<<5&4294967295|P>>>27),P=M+(I^V&(A^I))+O[6]+3225465664&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^I&(M^A))+O[11]+643717713&4294967295,V=M+(P<<14&4294967295|P>>>18),P=I+(M^A&(V^M))+O[0]+3921069994&4294967295,I=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(I^V))+O[5]+3593408605&4294967295,A=I+(P<<5&4294967295|P>>>27),P=M+(I^V&(A^I))+O[10]+38016083&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^I&(M^A))+O[15]+3634488961&4294967295,V=M+(P<<14&4294967295|P>>>18),P=I+(M^A&(V^M))+O[4]+3889429448&4294967295,I=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(I^V))+O[9]+568446438&4294967295,A=I+(P<<5&4294967295|P>>>27),P=M+(I^V&(A^I))+O[14]+3275163606&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^I&(M^A))+O[3]+4107603335&4294967295,V=M+(P<<14&4294967295|P>>>18),P=I+(M^A&(V^M))+O[8]+1163531501&4294967295,I=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(I^V))+O[13]+2850285829&4294967295,A=I+(P<<5&4294967295|P>>>27),P=M+(I^V&(A^I))+O[2]+4243563512&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^I&(M^A))+O[7]+1735328473&4294967295,V=M+(P<<14&4294967295|P>>>18),P=I+(M^A&(V^M))+O[12]+2368359562&4294967295,I=V+(P<<20&4294967295|P>>>12),P=A+(I^V^M)+O[5]+4294588738&4294967295,A=I+(P<<4&4294967295|P>>>28),P=M+(A^I^V)+O[8]+2272392833&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^I)+O[11]+1839030562&4294967295,V=M+(P<<16&4294967295|P>>>16),P=I+(V^M^A)+O[14]+4259657740&4294967295,I=V+(P<<23&4294967295|P>>>9),P=A+(I^V^M)+O[1]+2763975236&4294967295,A=I+(P<<4&4294967295|P>>>28),P=M+(A^I^V)+O[4]+1272893353&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^I)+O[7]+4139469664&4294967295,V=M+(P<<16&4294967295|P>>>16),P=I+(V^M^A)+O[10]+3200236656&4294967295,I=V+(P<<23&4294967295|P>>>9),P=A+(I^V^M)+O[13]+681279174&4294967295,A=I+(P<<4&4294967295|P>>>28),P=M+(A^I^V)+O[0]+3936430074&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^I)+O[3]+3572445317&4294967295,V=M+(P<<16&4294967295|P>>>16),P=I+(V^M^A)+O[6]+76029189&4294967295,I=V+(P<<23&4294967295|P>>>9),P=A+(I^V^M)+O[9]+3654602809&4294967295,A=I+(P<<4&4294967295|P>>>28),P=M+(A^I^V)+O[12]+3873151461&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^I)+O[15]+530742520&4294967295,V=M+(P<<16&4294967295|P>>>16),P=I+(V^M^A)+O[2]+3299628645&4294967295,I=V+(P<<23&4294967295|P>>>9),P=A+(V^(I|~M))+O[0]+4096336452&4294967295,A=I+(P<<6&4294967295|P>>>26),P=M+(I^(A|~V))+O[7]+1126891415&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~I))+O[14]+2878612391&4294967295,V=M+(P<<15&4294967295|P>>>17),P=I+(M^(V|~A))+O[5]+4237533241&4294967295,I=V+(P<<21&4294967295|P>>>11),P=A+(V^(I|~M))+O[12]+1700485571&4294967295,A=I+(P<<6&4294967295|P>>>26),P=M+(I^(A|~V))+O[3]+2399980690&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~I))+O[10]+4293915773&4294967295,V=M+(P<<15&4294967295|P>>>17),P=I+(M^(V|~A))+O[1]+2240044497&4294967295,I=V+(P<<21&4294967295|P>>>11),P=A+(V^(I|~M))+O[8]+1873313359&4294967295,A=I+(P<<6&4294967295|P>>>26),P=M+(I^(A|~V))+O[15]+4264355552&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~I))+O[6]+2734768916&4294967295,V=M+(P<<15&4294967295|P>>>17),P=I+(M^(V|~A))+O[13]+1309151649&4294967295,I=V+(P<<21&4294967295|P>>>11),P=A+(V^(I|~M))+O[4]+4149444226&4294967295,A=I+(P<<6&4294967295|P>>>26),P=M+(I^(A|~V))+O[11]+3174756917&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~I))+O[2]+718787259&4294967295,V=M+(P<<15&4294967295|P>>>17),P=I+(M^(V|~A))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,O=this.B,V=this.h,M=0;M<A;){if(V==0)for(;M<=I;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<A;)if(O[V++]=D.charCodeAt(M++),V==this.blockSize){i(this,O),V=0;break}}else for(;M<A;)if(O[V++]=D[M++],V==this.blockSize){i(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var O=0;32>O;O+=8)D[I++]=this.g[A]>>>O&255;return D};function s(D,A){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function o(D,A){this.h=A;for(var I=[],O=!0,V=D.length-1;0<=V;V--){var M=D[V]|0;O&&M==A||(I[V]=M,O=!1)}this.g=I}var a={};function l(D){return-128<=D&&128>D?s(D,function(A){return new o([A|0],0>A?-1:0)}):new o([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return U(f(-D));for(var A=[],I=1,O=0;D>=I;O++)A[O]=D/I|0,I*=4294967296;return new o(A,0)}function d(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return U(d(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(A,8)),O=p,V=0;V<D.length;V+=8){var M=Math.min(8,D.length-V),P=parseInt(D.substring(V,V+M),A);8>M?(M=f(Math.pow(A,M)),O=O.j(M).add(f(P))):(O=O.j(I),O=O.add(f(P)))}return O}var p=l(0),y=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-U(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var O=this.i(I);D+=(0<=O?O:4294967296+O)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(S(this))return"-"+U(this).toString(D);for(var A=f(Math.pow(D,6)),I=this,O="";;){var V=x(I,A).g;I=q(I,V.j(A));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=V,E(I))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=q(this,D),S(D)?-1:E(D)?0:1};function U(D){for(var A=D.g.length,I=[],O=0;O<A;O++)I[O]=~D.g[O];return new o(I,~D.h).add(y)}t.abs=function(){return S(this)?U(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0,V=0;V<=A;V++){var M=O+(this.i(V)&65535)+(D.i(V)&65535),P=(M>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=P>>>16,M&=65535,P&=65535,I[V]=P<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function q(D,A){return D.add(U(A))}t.j=function(D){if(E(this)||E(D))return p;if(S(this))return S(D)?U(this).j(U(D)):U(U(this).j(D));if(S(D))return U(this.j(U(D)));if(0>this.l(v)&&0>D.l(v))return f(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<D.g.length;V++){var M=this.i(O)>>>16,P=this.i(O)&65535,Ue=D.i(V)>>>16,Ge=D.i(V)&65535;I[2*O+2*V]+=P*Ge,L(I,2*O+2*V),I[2*O+2*V+1]+=M*Ge,L(I,2*O+2*V+1),I[2*O+2*V+1]+=P*Ue,L(I,2*O+2*V+1),I[2*O+2*V+2]+=M*Ue,L(I,2*O+2*V+2)}for(O=0;O<A;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=A;O<2*A;O++)I[O]=0;return new o(I,0)};function L(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function R(D,A){this.g=D,this.h=A}function x(D,A){if(E(A))throw Error("division by zero");if(E(D))return new R(p,p);if(S(D))return A=x(U(D),A),new R(U(A.g),U(A.h));if(S(A))return A=x(D,U(A)),new R(U(A.g),A.h);if(30<D.g.length){if(S(D)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var I=y,O=A;0>=O.l(D);)I=B(I),O=B(O);var V=ne(I,1),M=ne(O,1);for(O=ne(O,2),I=ne(I,2);!E(O);){var P=M.add(O);0>=P.l(D)&&(V=V.add(I),M=P),O=ne(O,1),I=ne(I,1)}return A=q(D,V.j(A)),new R(V,A)}for(V=p;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=f(I),P=M.j(A);S(P)||0<P.l(D);)I-=O,M=f(I),P=M.j(A);E(M)&&(M=y),V=V.add(M),D=q(D,P)}return new R(V,D)}t.A=function(D){return x(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)&D.i(O);return new o(I,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)|D.i(O);return new o(I,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)^D.i(O);return new o(I,this.h^D.h)};function B(D){for(var A=D.g.length+1,I=[],O=0;O<A;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new o(I,D.h)}function ne(D,A){var I=A>>5;A%=32;for(var O=D.g.length-I,V=[],M=0;M<O;M++)V[M]=0<A?D.i(M+I)>>>A|D.i(M+I+1)<<32-A:D.i(M+I);return new o(V,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Ls=o}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lI,$c,fI,Fl,qp,hI,dI,pI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tl=="object"&&Tl];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var X=c[C];if(!(X in w))break e;w=w[X]}c=c[c.length-1],C=w[c],g=g(C),g!=C&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var w=0,C=!1,X={next:function(){if(!C&&w<c.length){var re=w++;return{value:g(re,c[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,w){return w})}});var o=o||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function f(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,w){return c.call.apply(c.bind,arguments)}function p(c,g,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,C),c.apply(g,X)}}return function(){return c.apply(g,arguments)}}function y(c,g,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function v(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function E(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,X,re){for(var ve=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ve[yt-2]=arguments[yt];return g.prototype[X].apply(C,ve)}}function S(c){const g=c.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=c[C];return w}return[]}function U(c,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(l(C)){const X=c.length||0,re=C.length||0;c.length=X+re;for(let ve=0;ve<re;ve++)c[X+ve]=C[ve]}else c.push(C)}}class q{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function L(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function x(c){return x[" "](c),c}x[" "]=function(){};var B=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function ne(c,g,w){for(const C in c)g.call(w,c[C],C,c)}function D(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function A(c){const g={};for(const w in c)g[w]=c[w];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let w,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(w in C)c[w]=C[w];for(let re=0;re<I.length;re++)w=I[re],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function V(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function M(c){a.setTimeout(()=>{throw c},0)}function P(){var c=st;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ue{constructor(){this.h=this.g=null}add(g,w){const C=Ge.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Ge=new q(()=>new Se,c=>c.reset());class Se{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Ee=!1,st=new Ue,Wt=()=>{const c=a.Promise.resolve(void 0);Ne=()=>{c.then(An)}};var An=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(w){M(w)}var g=Ge;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Ee=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Cr=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return c})();function hn(c,g){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(B){e:{try{x(g.nodeName);var X=!0;break e}catch{}X=!1}X||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&hn.aa.h.call(this)}}E(hn,pt);var zt={2:"touch",3:"pen",4:"mouse"};hn.prototype.h=function(){hn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function ie(c,g,w,C,X){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=X,this.key=++Oe,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ke(c){this.src=c,this.g={},this.h=0}Ke.prototype.add=function(c,g,w,C,X){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ve=N(c,g,C,X);return-1<ve?(g=c[ve],w||(g.fa=!1)):(g=new ie(g,this.src,re,!!C,X),g.fa=w,c.push(g)),g};function Be(c,g){var w=g.type;if(w in c.g){var C=c.g[w],X=Array.prototype.indexOf.call(C,g,void 0),re;(re=0<=X)&&Array.prototype.splice.call(C,X,1),re&&(Le(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function N(c,g,w,C){for(var X=0;X<c.length;++X){var re=c[X];if(!re.da&&re.listener==g&&re.capture==!!w&&re.ha==C)return X}return-1}var j="closure_lm_"+(1e6*Math.random()|0),ee={};function fe(c,g,w,C,X){if(Array.isArray(g)){for(var re=0;re<g.length;re++)fe(c,g[re],w,C,X);return null}return w=Me(w),c&&c[oe]?c.K(g,w,f(C)?!!C.capture:!1,X):ae(c,g,w,!1,C,X)}function ae(c,g,w,C,X,re){if(!g)throw Error("Invalid event type");var ve=f(X)?!!X.capture:!!X,yt=Ve(c);if(yt||(c[j]=yt=new Ke(c)),w=yt.add(g,w,C,ve,re),w.proxy)return w;if(C=he(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)Cr||(X=ve),X===void 0&&(X=!1),c.addEventListener(g.toString(),C,X);else if(c.attachEvent)c.attachEvent(pe(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function he(){function c(w){return g.call(c.src,c.listener,w)}const g=de;return c}function Te(c,g,w,C,X){if(Array.isArray(g))for(var re=0;re<g.length;re++)Te(c,g[re],w,C,X);else C=f(C)?!!C.capture:!!C,w=Me(w),c&&c[oe]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],w=N(re,w,C,X),-1<w&&(Le(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ve(c))&&(g=c.g[g.toString()],c=-1,g&&(c=N(g,w,C,X)),(w=-1<c?g[c]:null)&&ye(w))}function ye(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[oe])Be(g.i,c);else{var w=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(w,C,c.capture):g.detachEvent?g.detachEvent(pe(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=Ve(g))?(Be(w,c),w.h==0&&(w.src=null,g[j]=null)):Le(c)}}}function pe(c){return c in ee?ee[c]:ee[c]="on"+c}function de(c,g){if(c.da)c=!0;else{g=new hn(g,this);var w=c.listener,C=c.ha||c.src;c.fa&&ye(c),c=w.call(C,g)}return c}function Ve(c){return c=c[j],c instanceof Ke?c:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(c){return typeof c=="function"?c:(c[Re]||(c[Re]=function(g){return c.handleEvent(g)}),c[Re])}function Pe(){kt.call(this),this.i=new Ke(this),this.M=this,this.F=null}E(Pe,kt),Pe.prototype[oe]=!0,Pe.prototype.removeEventListener=function(c,g,w,C){Te(this,c,g,w,C)};function Fe(c,g){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new pt(g,c);else if(g instanceof pt)g.target=g.target||c;else{var X=g;g=new pt(C,c),O(g,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ve=g.g=w[re];X=ut(ve,C,!0,g)&&X}if(ve=g.g=c,X=ut(ve,C,!0,g)&&X,X=ut(ve,C,!1,g)&&X,w)for(re=0;re<w.length;re++)ve=g.g=w[re],X=ut(ve,C,!1,g)&&X}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],C=0;C<w.length;C++)Le(w[C]);delete c.g[g],c.h--}}this.F=null},Pe.prototype.K=function(c,g,w,C){return this.i.add(String(c),g,!1,w,C)},Pe.prototype.L=function(c,g,w,C){return this.i.add(String(c),g,!0,w,C)};function ut(c,g,w,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var X=!0,re=0;re<g.length;++re){var ve=g[re];if(ve&&!ve.da&&ve.capture==w){var yt=ve.listener,on=ve.ha||ve.src;ve.fa&&Be(c.i,ve),X=yt.call(on,C)!==!1&&X}}return X&&!C.defaultPrevented}function rt(c,g,w){if(typeof c=="function")w&&(c=y(c,w));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function Gt(c){c.g=rt(()=>{c.g=null,c.i&&(c.i=!1,Gt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ft extends kt{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(c){kt.call(this),this.h=c,this.g={}}E(Ot,kt);var Qt=[];function pr(c){ne(c.g,function(g,w){this.g.hasOwnProperty(w)&&ye(g)},c),c.g={}}Ot.prototype.N=function(){Ot.aa.N.call(this),pr(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=a.JSON.stringify,Ce=a.JSON.parse,dn=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function zn(){}zn.prototype.h=null;function Qr(c){return c.h||(c.h=c.i())}function Ae(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yo(){pt.call(this,"d")}E(Yo,pt);function Zs(){pt.call(this,"c")}E(Zs,pt);var Jr={},Xo=null;function Zo(){return Xo=Xo||new Pe}Jr.La="serverreachability";function Xu(c){pt.call(this,Jr.La,c)}E(Xu,pt);function mr(c){const g=Zo();Fe(g,new Xu(g))}Jr.STAT_EVENT="statevent";function Si(c,g){pt.call(this,Jr.STAT_EVENT,c),this.stat=g}E(Si,pt);function sn(c){const g=Zo();Fe(g,new Si(g,c))}Jr.Ma="timingevent";function eo(c,g){pt.call(this,Jr.Ma,c),this.size=g}E(eo,pt);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function Mh(c,g,w,C,X,re){c.info(function(){if(c.g)if(re)for(var ve="",yt=re.split("&"),on=0;on<yt.length;on++){var ft=yt[on].split("=");if(1<ft.length){var an=ft[0];ft=ft[1];var pn=an.split("_");ve=2<=pn.length&&pn[1]=="type"?ve+(an+"="+ft+"&"):ve+(an+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+g+`
`+w+`
`+ve})}function ea(c,g,w,C,X,re,ve){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+g+`
`+w+`
`+re+" "+ve})}function Pr(c,g,w,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lh(c,w)+(C?" "+C:"")})}function ta(c,g){c.info(function(){return"TIMEOUT: "+g})}Nt.prototype.info=function(){};function Lh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var X=C[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Ln(w)}catch{return g}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function Ci(){}E(Ci,zn),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},gr=new Ci;function Yr(c,g,w,C){this.j=c,this.i=g,this.l=w,this.R=C||1,this.U=new Ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kr}function kr(){this.i=null,this.g="",this.h=!1}var wc={},Or={};function na(c,g,w){c.L=1,c.v=so(Vn(g)),c.m=w,c.P=!0,ra(c,null)}function ra(c,g){c.F=Date.now(),Gn(c),c.A=Vn(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Cc(w.i,"t",C),c.C=0,w=c.j.J,c.h=new kr,c.g=la(c.j,w?g:null,!c.m),0<c.O&&(c.M=new Ft(y(c.Y,c,c.g),c.O)),g=c.U,w=c.g,C=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Qt[0]=X.toString()),X=Qt);for(var re=0;re<X.length;re++){var ve=fe(w,X[re],C||g.handleEvent,!1,g.h||g);if(!ve)break;g.g[ve.key]=ve}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),mr(),Mh(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Lr(c)==3?g.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const pn=Lr(this.g);var g=this.g.Ba();const Vi=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||pn!=4||g==7||(g==8||0>=Vi?mr(3):mr(2)),Xr(this);var w=this.g.Z();this.X=w;t:if(xt(this)){var C=rl(this.g);c="";var X=C.length,re=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Zr(this);var ve="";break t}this.h.i=new a.TextDecoder}for(g=0;g<X;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(re&&g==X-1)});C.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,ea(this.i,this.u,this.A,this.l,this.R,pn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,on=this.g;if((yt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(yt)){var ft=yt;break t}}ft=null}if(w=ft)Pr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,w);else{this.o=!1,this.s=3,sn(12),Dr(this),Zr(this);break e}}if(this.P){w=!0;let Bn;for(;!this.J&&this.C<ve.length;)if(Bn=Pi(this,ve),Bn==Or){pn==4&&(this.s=4,sn(14),w=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==wc){this.s=4,sn(15),Pr(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Pr(this.i,this.l,Bn,null),to(this,Bn);if(xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||ve.length!=0||this.h.h||(this.s=1,sn(16),w=!1),this.o=this.o&&w,!w)Pr(this.i,this.l,ve,"[Invalid Chunked Response]"),Dr(this),Zr(this);else if(0<ve.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Zt(an),an.M=!0,sn(11))}}else Pr(this.i,this.l,ve,null),to(this,ve);pn==4&&Dr(this),this.o&&!this.J&&(pn==4?Dc(this.j,this):(this.o=!1,Gn(this)))}else kc(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Dr(this),Zr(this)}}}catch{}finally{}};function xt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pi(c,g){var w=c.C,C=g.indexOf(`
`,w);return C==-1?Or:(w=Number(g.substring(w,C)),isNaN(w)?wc:(C+=1,C+w>g.length?Or:(g=g.slice(C,C+w),c.C=C+w,g)))}Yr.prototype.cancel=function(){this.J=!0,Dr(this)};function Gn(c){c.S=Date.now()+c.I,bc(c,c.I)}function bc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(y(c.ba,c),g)}function Xr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ta(this.i,this.A),this.L!=2&&(mr(),sn(17)),Dr(this),this.s=2,Zr(this)):bc(this,this.S-c)};function Zr(c){c.j.G==0||c.J||Dc(c.j,c)}function Dr(c){Xr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,pr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function to(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||nt(w.h,c))){if(!c.K&&nt(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ni(w),Ni(w);else break e;po(w),sn(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=mt(y(w.Za,w),6e3));if(1>=Tc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ri(w,11)}else if((c.K||w.g==c)&&ni(w),!L(g))for(X=w.Da.g.parse(g),g=0;g<X.length;g++){let ft=X[g];if(w.T=ft[0],ft=ft[1],w.G==2)if(ft[0]=="c"){w.K=ft[1],w.ia=ft[2];const an=ft[3];an!=null&&(w.la=an,w.j.info("VER="+w.la));const pn=ft[4];pn!=null&&(w.Aa=pn,w.j.info("SVER="+w.Aa));const Vi=ft[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(C=1.5*Vi,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Bn=c.g;if(Bn){const _o=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var re=C.h;re.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ia(re,re.h),re.h=null))}if(C.D){const ha=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(C.ya=ha,gt(C.I,C.D,ha))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ve=c;if(C.qa=go(C,C.J?C.ia:null,C.W),ve.K){Ic(C.h,ve);var yt=ve,on=C.L;on&&(yt.I=on),yt.B&&(Xr(yt),Gn(yt)),C.g=ve}else ua(C);0<w.i.length&&ho(w)}else ft[0]!="stop"&&ft[0]!="close"||ri(w,7);else w.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?ri(w,7):ms(w):ft[0]!="noop"&&w.l&&w.l.ta(ft),w.v=0)}}mr(4)}catch{}}var ki=class{constructor(c,g){this.g=c,this.map=g}};function Ec(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function no(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tc(c){return c.h?1:c.g?c.g.size:0}function nt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ia(c,g){c.g?c.g.add(g):c.h=g}function Ic(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ec.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ro(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return S(c.i)}function io(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],w=c.length,C=0;C<w;C++)g.push(c[C]);return g}g=[],w=0;for(C in c)g[w++]=c[C];return g}function Zu(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const C in c)g[w++]=C;return g}}}function Ac(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=Zu(c),C=io(c),X=C.length,re=0;re<X;re++)g.call(void 0,C[re],w&&w[re],c)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function At(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),X=null;if(0<=C){var re=c[w].substring(0,C);X=c[w].substring(C+1)}else re=c[w];g(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof nr){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,fs(this,c.s),this.l=c.l;var g=c.i,w=new yr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),sa(this,w),this.m=c.m}else c&&(g=String(c).match(Sc))?(this.h=!1,Nr(this,g[1]||"",!0),this.o=ei(g[2]||""),this.g=ei(g[3]||"",!0),fs(this,g[4]),this.l=ei(g[5]||"",!0),sa(this,g[6]||"",!0),this.m=ei(g[7]||"")):(this.h=!1,this.i=new yr(null,this.h))}nr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hs(g,lt,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,lt,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(hs(w,w.charAt(0)=="/"?Fh:el,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",hs(w,Fn)),c.join("")};function Vn(c){return new nr(c)}function Nr(c,g,w){c.j=w?ei(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function sa(c,g,w){g instanceof yr?(c.i=g,_r(c.i,c.h)):(w||(g=hs(g,Uh)),c.i=new yr(g,c.h))}function gt(c,g,w){c.i.set(g,w)}function so(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ei(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Vh),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lt=/[#\/\?@]/g,el=/[#\?:]/g,Fh=/[#\?]/g,Uh=/[#\?@]/g,Fn=/#/g;function yr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&At(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=yr.prototype,t.add=function(c,g){rr(this),this.i=null,c=Dt(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function xr(c,g){rr(c),g=Dt(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Rc(c,g){return rr(c),g=Dt(c,g),c.g.has(g)}t.forEach=function(c,g){rr(this),this.g.forEach(function(w,C){w.forEach(function(X){c.call(g,X,C,this)},this)},this)},t.na=function(){rr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const X=c[C];for(let re=0;re<X.length;re++)w.push(g[C])}return w},t.V=function(c){rr(this);let g=[];if(typeof c=="string")Rc(this,c)&&(g=g.concat(this.g.get(Dt(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return rr(this),this.i=null,c=Dt(this,c),Rc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Cc(c,g,w){xr(c,g),0<w.length&&(c.i=null,c.g.set(Dt(c,g),S(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const re=encodeURIComponent(String(C)),ve=this.V(C);for(C=0;C<ve.length;C++){var X=re;ve[C]!==""&&(X+="="+encodeURIComponent(String(ve[C]))),c.push(X)}}return this.i=c.join("&")};function Dt(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function _r(c,g){g&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(w,C){var X=C.toLowerCase();C!=X&&(xr(this,C),Cc(this,X,w))},c)),c.j=g}function oo(c,g){const w=new Nt;if(a.Image){const C=new Image;C.onload=v(vr,w,"TestLoadImage: loaded",!0,g,C),C.onerror=v(vr,w,"TestLoadImage: error",!1,g,C),C.onabort=v(vr,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=v(vr,w,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function ao(c,g){const w=new Nt,C=new AbortController,X=setTimeout(()=>{C.abort(),vr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(re=>{clearTimeout(X),re.ok?vr(w,"TestPingServer: ok",!0,g):vr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(X),vr(w,"TestPingServer: error",!1,g)})}function vr(c,g,w,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(w)}catch{}}function ti(){this.g=new dn}function Bh(c,g,w){const C=w||"";try{Ac(c,function(X,re){let ve=X;f(X)&&(ve=Ln(X)),g.push(C+re+"="+encodeURIComponent(ve))})}catch(X){throw g.push(C+"type="+encodeURIComponent("_badmap")),X}}function Un(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Un,zn),Un.prototype.g=function(){return new ds(this.l,this.j)},Un.prototype.i=(function(c){return function(){return c}})({});function ds(c,g){Pe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ds,Pe),t=ds.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Mr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Oi(this):Mr(this),this.readyState==3&&Pc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Oi(this))},t.Qa=function(c){this.g&&(this.response=c,Oi(this))},t.ga=function(){this.g&&Oi(this)};function Oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function oa(c){let g="";return ne(c,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function aa(c,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=oa(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):gt(c,g,w))}function Mt(c){Pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Mt,Pe);var co=/^https?$/i,jh=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?Qr(this.o):Qr(gr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){tl(this,re);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)w.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())w.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jh,g,void 0))||C||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of w)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nl(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){tl(this,re)}};function tl(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,uo(c),ps(c)}function uo(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lo(this):this.bb())},t.bb=function(){lo(this)};function lo(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Lr(c)!=4||c.Z()!=2)){if(c.u&&Lr(c)==4)rt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Lr(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=ve===0){var X=String(c.D).match(Sc)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),C=!co.test(X?X.toLowerCase():"")}w=C}if(w)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var re=2<Lr(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",uo(c)}}finally{ps(c)}}}}function ps(c,g){if(c.g){nl(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{w.onreadystatechange=C}catch{}}}function nl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ce(g)}};function rl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kc(c){const g={};c=(c.g&&2<=Lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(L(c[C]))continue;var w=V(c[C]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=g[X]||[];g[X]=re,re.push(w)}D(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Oc(c){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,c),this.cb=Di("retryDelaySeedMs",1e4,c),this.Wa=Di("forwardChannelMaxRetries",2,c),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ec(c&&c.concurrentRequestLimit),this.Da=new ti,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Oc.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,C){sn(0),this.W=c,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=go(this,null,this.W),ho(this)};function ms(c){if(fo(c),c.G==3){var g=c.U++,w=Vn(c.I);if(gt(w,"SID",c.K),gt(w,"RID",g),gt(w,"TYPE","terminate"),Mi(c,w),g=new Yr(c,c.j,g),g.L=2,g.v=so(Vn(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=la(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Gn(g)}Nc(c)}function Ni(c){c.g&&(Zt(c),c.g.cancel(),c.g=null)}function fo(c){Ni(c),c.u&&(a.clearTimeout(c.u),c.u=null),ni(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ho(c){if(!no(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ne||Wt(),Ee||(Ne(),Ee=!0),st.add(g,c),c.B=0}}function $h(c,g){return Tc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(y(c.Ga,c,g),mo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Yr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=A(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=ca(this,X,g),w=Vn(this.I),gt(w,"RID",c),gt(w,"CVER",22),this.D&&gt(w,"X-HTTP-Session-Id",this.D),Mi(this,w),re&&(this.O?g="headers="+encodeURIComponent(String(oa(re)))+"&"+g:this.m&&aa(w,this.m,re)),ia(this.h,X),this.Ua&&gt(w,"TYPE","init"),this.P?(gt(w,"$req",g),gt(w,"SID","null"),X.T=!0,na(X,w,null)):na(X,w,g),this.G=2}}else this.G==3&&(c?xi(this,c):this.i.length==0||no(this.h)||xi(this))};function xi(c,g){var w;g?w=g.l:w=c.U++;const C=Vn(c.I);gt(C,"SID",c.K),gt(C,"RID",w),gt(C,"AID",c.T),Mi(c,C),c.m&&c.o&&aa(C,c.m,c.o),w=new Yr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ca(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,w),na(w,C,g)}function Mi(c,g){c.H&&ne(c.H,function(w,C){gt(g,C,w)}),c.l&&Ac({},function(w,C){gt(g,C,w)})}function ca(c,g,w){w=Math.min(c.i.length,w);var C=c.l?y(c.l.Na,c.l,c):null;e:{var X=c.i;let re=-1;for(;;){const ve=["count="+w];re==-1?0<w?(re=X[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let yt=!0;for(let on=0;on<w;on++){let ft=X[on].g;const an=X[on].map;if(ft-=re,0>ft)re=Math.max(0,X[on].g-100),yt=!1;else try{Bh(an,ve,"req"+ft+"_")}catch{C&&C(an)}}if(yt){C=ve.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,C}function ua(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ne||Wt(),Ee||(Ne(),Ee=!0),st.add(g,c),c.v=0}}function po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(y(c.Fa,c),mo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,gs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Ni(this),gs(this))};function Zt(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gs(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Vn(c.qa);gt(g,"RID","rpc"),gt(g,"SID",c.K),gt(g,"AID",c.T),gt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(g,"TO",c.ja),gt(g,"TYPE","xmlhttp"),Mi(c,g),c.m&&c.o&&aa(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=so(Vn(g)),w.m=null,w.P=!0,ra(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Ni(this),po(this),sn(19))};function ni(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Dc(c,g){var w=null;if(c.g==g){ni(c),Zt(c),c.g=null;var C=2}else if(nt(c.h,g))w=g.D,Ic(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var X=c.B;C=Zo(),Fe(C,new eo(C,w)),ho(c)}else ua(c);else if(X=g.s,X==3||X==0&&0<g.X||!(C==1&&$h(c,g)||C==2&&po(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),X){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function mo(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function ri(c,g){if(c.j.info("Error code "+g),g==2){var w=y(c.fb,c),C=c.Xa;const X=!C;C=new nr(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nr(C,"https"),so(C),X?oo(C.toString(),w):ao(C.toString(),w)}else sn(2);c.G=0,c.l&&c.l.sa(g),Nc(c),fo(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Nc(c){if(c.G=0,c.ka=[],c.l){const g=ro(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function go(c,g,w){var C=w instanceof nr?Vn(w):new nr(w);if(C.g!="")g&&(C.g=g+"."+C.g),fs(C,C.s);else{var X=a.location;C=X.protocol,g=g?g+"."+X.hostname:X.hostname,X=+X.port;var re=new nr(null);C&&Nr(re,C),g&&(re.g=g),X&&fs(re,X),w&&(re.l=w),C=re}return w=c.D,g=c.ya,w&&g&&gt(C,w,g),gt(C,"VER",c.la),Mi(c,C),C}function la(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Mt(new Un({eb:w})):new Mt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ii(){}t=ii.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ys(){}ys.prototype.g=function(c,g){return new vn(c,g)};function vn(c,g){Pe.call(this),this.g=new Oc(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!L(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!L(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Li(this)}E(vn,Pe),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ms(this.g)},vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ln(c),c=w);g.i.push(new ki(g.Ya++,c)),g.G==3&&ho(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,ms(this.g),delete this.g,vn.aa.N.call(this)};function yo(c){Yo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}E(yo,Yo);function fa(){Zs.call(this),this.status=1}E(fa,Zs);function Li(c){this.g=c}E(Li,ii),Li.prototype.ua=function(){Fe(this.g,"a")},Li.prototype.ta=function(c){Fe(this.g,new yo(c))},Li.prototype.sa=function(c){Fe(this.g,new fa)},Li.prototype.ra=function(){Fe(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,pI=function(){return new ys},dI=function(){return Zo()},hI=Jr,qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Fl=tr,Ri.COMPLETE="complete",fI=Ri,Ae.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,$c=Ae,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,lI=Mt}).apply(typeof Tl<"u"?Tl:typeof self<"u"?self:typeof window<"u"?window:{});const ov="@firebase/firestore",av="4.9.0";class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let dc="12.0.0";const qo=new ah("@firebase/firestore");function Ta(){return qo.logLevel}function De(t,...e){if(qo.logLevel<=ot.DEBUG){const n=e.map(ag);qo.debug(`Firestore (${dc}): ${t}`,...n)}}function ss(t,...e){if(qo.logLevel<=ot.ERROR){const n=e.map(ag);qo.error(`Firestore (${dc}): ${t}`,...n)}}function Xa(t,...e){if(qo.logLevel<=ot.WARN){const n=e.map(ag);qo.warn(`Firestore (${dc}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mI(t,r,n)}function mI(t,e,n){let r=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Tt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mI(e,i,r)}function Ye(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class YM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XM{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vs,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new gI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class ZM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function Hp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Id(i)===Id(s)?at(i,s):Id(i)?1:-1}return at(t.length,e.length)}const rL=55296,iL=57343;function Id(t){const e=t.charCodeAt(0);return e>=rL&&e<=iL}function Za(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const uv="__name__";class ai{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ai.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=ai.isNumericId(e),i=ai.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ai.extractNumericId(e).compare(ai.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Pt extends ai{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ai{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return sL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Tn([uv])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ke(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ke(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ke(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Pt.fromString(e))}static fromName(e){return new je(Pt.fromString(e).popFirst(5))}static empty(){return new je(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Pt(e.slice()))}}function yI(t,e,n){if(!n)throw new ke(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oL(t,e,n,r){if(e===!0&&r===!0)throw new ke(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lv(t){if(!je.isDocumentKey(t))throw new ke(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fv(t){if(je.isDocumentKey(t))throw new ke(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _I(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new ke(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function qu(t,e){if(!_I(t))throw new ke(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ke(ue.INVALID_ARGUMENT,n);return!0}const hv=-62135596800,dv=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dv);return new Et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hv)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:nn("string",Et._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Et(0,0))}static max(){return new Je(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function aL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new js(i,je.empty(),e)}function cL(t){return new js(t.readTime,t.key,Eu)}class js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new js(Je.min(),je.empty(),Eu)}static max(){return new js(Je.max(),je.empty(),Eu)}}function uL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const lL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pc(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==lL)throw t;De("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&n()}),(l=>r(l)))})),o=!0,s===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const f=l;n(e[f]).next((d=>{o[f]=d,++a,a===s&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new le(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function hL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mc(t){return t.name==="IndexedDbTransactionError"}class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;const ug=-1;function ph(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function dL(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const vI="";function pL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pv(e)),e=mL(t.get(n),e);return pv(e)}function mL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case vI:n+="";break;default:n+=s}}return n}function pv(t){return t+vI+""}function mv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class $t{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(e){return new gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new ln(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class bI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bI("Invalid base64 string: "+s):s}})(e);return new In(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const gL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=gL.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}const EI="server_timestamp",TI="__type__",II="__previous_value__",AI="__local_write_time__";function lg(t){return(t?.mapValue?.fields||{})[TI]?.stringValue===EI}function mh(t){const e=t.mapValue.fields[II];return lg(e)?mh(e):e}function Tu(t){const e=$s(t.mapValue.fields[AI].timestampValue);return new Et(e.seconds,e.nanos)}class yL{constructor(e,n,r,i,s,o,a,l,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=d}}const Sf="(default)";class Iu{constructor(e,n){this.projectId=e,this.database=n||Sf}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}const SI="__type__",_L="__max__",Al={mapValue:{}},RI="__vector__",Rf="value";function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lg(t)?4:wL(t)?9007199254740991:vL(t)?10:11:He(28295,{value:t})}function Ei(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$s(i.timestampValue),a=$s(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Af(o)===Af(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mv(o)!==mv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ei(o[l],a[l])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>Ei(n,e)))!==void 0}function ec(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return yv(t.timestampValue,e.timestampValue);case 4:return yv(Tu(t),Tu(e));case 5:return Hp(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const d=at(a[f],l[f]);if(d!==0)return d}return at(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=at(Yt(s.latitude),Yt(o.latitude));return a!==0?a:at(Yt(s.longitude),Yt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _v(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const a=s.fields||{},l=o.fields||{},f=a[Rf]?.arrayValue,d=l[Rf]?.arrayValue,p=at(f?.values?.length||0,d?.values?.length||0);return p!==0?p:_v(f,d)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Al.mapValue&&o===Al.mapValue)return 0;if(s===Al.mapValue)return 1;if(o===Al.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),f=o.fields||{},d=Object.keys(f);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=Hp(l[p],d[p]);if(y!==0)return y;const v=ec(a[l[p]],f[d[p]]);if(v!==0)return v}return at(l.length,d.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=$s(t),r=$s(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function _v(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ec(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function tc(t){return Kp(t)}function Kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Kp(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Kp(n.fields[o])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function Ul(t){switch(Hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+Ul(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Ul(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Js(r.fields,((s,o)=>{i+=s.length+Ul(o)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function vv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wp(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function wv(t){return!!t&&"nullValue"in t}function bv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bl(t){return!!t&&"mapValue"in t}function vL(t){return(t?.mapValue?.fields||{})[SI]?.stringValue===RI}function tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return{...t}}function wL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_L}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Tn.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=tu(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Yn(tu(this.value))}}function CI(t){const e=[];return Js(t.fields,((n,r)=>{const i=new Tn([n]);if(Bl(r)){const s=CI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new cr(e)}class Nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nn(e,0,Je.min(),Je.min(),Je.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Je.min(),Je.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Je.min(),Je.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cf{constructor(e,n){this.position=e,this.inclusive=n}}function Ev(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=ec(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}class Pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function bL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class PI{}class tn extends PI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TL(e,n,r):n==="array-contains"?new SL(e,r):n==="in"?new RL(e,r):n==="not-in"?new CL(e,r):n==="array-contains-any"?new PL(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IL(e,r):new AL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ec(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends PI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return kI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kI(t){return t.op==="and"}function OI(t){return EL(t)&&kI(t)}function EL(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function zp(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(OI(t))return t.filters.map((e=>zp(e))).join(",");{const e=t.filters.map((n=>zp(n))).join(",");return`${t.op}(${e})`}}function DI(t,e){return t instanceof tn?(function(r,i){return i instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)})(t,e):t instanceof zr?(function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&DI(o,i.filters[a])),!0):!1})(t,e):void He(19439)}function NI(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`})(t):t instanceof zr?(function(n){return n.op.toString()+" {"+n.getFilters().map(NI).join(" ,")+"}"})(t):"Filter"}class TL extends tn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class IL extends tn{constructor(e,n){super(e,"in",n),this.keys=xI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AL extends tn{constructor(e,n){super(e,"not-in",n),this.keys=xI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xI(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class SL extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&Au(n.arrayValue,this.value)}}class RL extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class CL extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class PL extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}class kL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Iv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kL(t,e,n,r,i,s,o)}function hg(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tc(r))).join(",")),e.Te=n}return e.Te}function dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tv(t.startAt,e.startAt)&&Tv(t.endAt,e.endAt)}function Gp(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Hu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OL(t,e,n,r,i,s,o,a){return new Hu(t,e,n,r,i,s,o,a)}function MI(t){return new Hu(t)}function Av(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LI(t){return t.collectionGroup!==null}function nu(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(Tn.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((f=>{f.isInequality()&&(a=a.add(f.field))}))})),a})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Pf(s,r))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Pf(Tn.keyField(),r))}return e.Ie}function pi(t){const e=Ye(t);return e.Ee||(e.Ee=DL(e,nu(t))),e.Ee}function DL(t,e){if(t.limitType==="F")return Iv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Pf(i.field,s)}));const n=t.endAt?new Cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cf(t.startAt.position,t.startAt.inclusive):null;return Iv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qp(t,e){const n=t.filters.concat([e]);return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jp(t,e,n){return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return dg(pi(t),pi(e))&&t.limitType===e.limitType}function VI(t){return`${hg(pi(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>NI(i))).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>tc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>tc(i))).join(",")),`Target(${r})`})(pi(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,l){const f=Ev(o,a,l);return o.inclusive?f<=0:f<0})(r.startAt,nu(r),i)||r.endAt&&!(function(o,a,l){const f=Ev(o,a,l);return o.inclusive?f>=0:f>0})(r.endAt,nu(r),i))})(t,e)}function NL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FI(t){return(e,n)=>{let r=!1;for(const i of nu(t)){const s=xL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xL(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(s,o,a){const l=o.data.field(s),f=a.data.field(s);return l!==null&&f!==null?ec(l,f):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return wI(this.inner)}size(){return this.innerSize}}const ML=new $t(je.comparator);function as(){return ML}const UI=new $t(je.comparator);function qc(...t){let e=UI;for(const n of t)e=e.insert(n.key,n);return e}function BI(t){let e=UI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function No(){return ru()}function jI(){return ru()}function ru(){return new Go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const LL=new $t(je.comparator),VL=new ln(je.comparator);function ct(...t){let e=VL;for(const n of t)e=e.add(n);return e}const FL=new ln(at);function UL(){return FL}function pg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function $I(t){return{integerValue:""+t}}function BL(t,e){return dL(e)?$I(e):pg(t,e)}class _h{constructor(){this._=void 0}}function jL(t,e,n){return t instanceof kf?(function(i,s){const o={fields:{[TI]:{stringValue:EI},[AI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lg(s)&&(s=mh(s)),s&&(o.fields[II]=s),{mapValue:o}})(n,e):t instanceof Su?HI(t,e):t instanceof Ru?KI(t,e):(function(i,s){const o=qI(i,s),a=Sv(o)+Sv(i.Ae);return Wp(o)&&Wp(i.Ae)?$I(a):pg(i.serializer,a)})(t,e)}function $L(t,e,n){return t instanceof Su?HI(t,e):t instanceof Ru?KI(t,e):n}function qI(t,e){return t instanceof Of?(function(r){return Wp(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class kf extends _h{}class Su extends _h{constructor(e){super(),this.elements=e}}function HI(t,e){const n=WI(e);for(const r of t.elements)n.some((i=>Ei(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ru extends _h{constructor(e){super(),this.elements=e}}function KI(t,e){let n=WI(e);for(const r of t.elements)n=n.filter((i=>!Ei(i,r)));return{arrayValue:{values:n}}}class Of extends _h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Sv(t){return Yt(t.integerValue||t.doubleValue)}function WI(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qL(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Ru&&i instanceof Ru?Za(r.elements,i.elements,Ei):r instanceof Of&&i instanceof Of?Ei(r.Ae,i.Ae):r instanceof kf&&i instanceof kf})(t.transform,e.transform)}class HL{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vh{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mg(t.key,Ar.none()):new Ku(t.key,t.data,Ar.none());{const n=t.data,r=Yn.empty();let i=new ln(Tn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ys(t.key,r,new cr(i.toArray()),Ar.none())}}function KL(t,e,n){t instanceof Ku?(function(i,s,o){const a=i.value.clone(),l=Cv(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Ys?(function(i,s,o){if(!jl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Cv(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(GI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,r){return t instanceof Ku?(function(s,o,a,l){if(!jl(s.precondition,o))return a;const f=s.value.clone(),d=Pv(s.fieldTransforms,l,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ys?(function(s,o,a,l){if(!jl(s.precondition,o))return a;const f=Pv(s.fieldTransforms,l,o),d=o.data;return d.setAll(GI(s)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,o,a){return jl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function WL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qI(r.transform,i||null);s!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,s))}return n||null}function Rv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Za(r,i,((s,o)=>qL(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ku extends vh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends vh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Cv(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$L(o,a,n[i]))}return r}function Pv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jL(s,o,e))}return r}class mg extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zL extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jI();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((n,r)=>Rv(n,r)))&&Za(this.baseMutations,e.baseMutations,((n,r)=>Rv(n,r)))}}class gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return LL})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gg(e,n,r,i)}}class QL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JL{constructor(e,n){this.count=e,this.unchangedNames=n}}var en,ht;function YL(t){switch(t){case ue.OK:return He(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function QI(t){if(t===void 0)return ss("GRPC error has no .code"),ue.UNKNOWN;switch(t){case en.OK:return ue.OK;case en.CANCELLED:return ue.CANCELLED;case en.UNKNOWN:return ue.UNKNOWN;case en.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case en.INTERNAL:return ue.INTERNAL;case en.UNAVAILABLE:return ue.UNAVAILABLE;case en.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case en.NOT_FOUND:return ue.NOT_FOUND;case en.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case en.ABORTED:return ue.ABORTED;case en.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case en.DATA_LOSS:return ue.DATA_LOSS;default:return He(39323,{code:t})}}(ht=en||(en={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function XL(){return new TextEncoder}const ZL=new Ls([4294967295,4294967295],0);function kv(t){const e=XL().encode(t),n=new uI;return n.update(e),new Uint8Array(n.digest())}function Ov(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,s],0)]}class yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hc(`Invalid padding: ${n}`);if(r<0)throw new Hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ls.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(ZL)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kv(e),[r,i]=Ov(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yg(s,i,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=kv(e),[r,i]=Ov(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wh(Je.min(),i,new $t(at),as(),ct())}}class Wu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wu(r,n,ct(),ct(),ct())}}class $l{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class JI{constructor(e,n){this.targetId=e,this.Ce=n}}class YI{constructor(e,n,r=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Wu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eV{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Sl(),this.He=Sl(),this.Ye=new $t(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Gp(s))if(r===0){const o=new je(s.path);this.et(n,o,Nn.newNoDocument(o,Je.min()))}else Tt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof bI)return Xa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yg(o,i,s)}catch(l){return Xa(l instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Gp(a.target)){const l=new je(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Nn.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((l=>{const f=this.ot(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new wh(e,n,this.Ye,this.je,r);return this.je=as(),this.Je=Sl(),this.He=Sl(),this.Ye=new $t(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sl(){return new $t(je.comparator)}function Nv(){return new $t(je.comparator)}const tV={asc:"ASCENDING",desc:"DESCENDING"},nV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rV={and:"AND",or:"OR"};class iV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yp(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sV(t,e){return Df(t,e.toTimestamp())}function mi(t){return Tt(!!t,49232),Je.fromTimestamp((function(n){const r=$s(n);return new Et(r.seconds,r.nanos)})(t))}function _g(t,e){return Xp(t,e).canonicalString()}function Xp(t,e){const n=(function(i){return new Pt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZI(t){const e=Pt.fromString(t);return Tt(i0(e),10190,{key:e.toString()}),e}function Zp(t,e){return _g(t.databaseId,e.path)}function Ad(t,e){const n=ZI(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(t0(n))}function e0(t,e){return _g(t.databaseId,e)}function oV(t){const e=ZI(t);return e.length===4?Pt.emptyPath():t0(e)}function em(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t0(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xv(t,e,n){return{name:Zp(t,e),fields:n.value.mapValue.fields}}function aV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:He(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(Tt(d===void 0||typeof d=="string",58123),In.fromBase64String(d||"")):(Tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),In.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(f){const d=f.code===void 0?ue.UNKNOWN:QI(f.code);return new ke(d,f.message||"")})(o);n=new YI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ad(t,r.document.name),s=mi(r.document.updateTime),o=r.document.createTime?mi(r.document.createTime):Je.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=Nn.newFoundDocument(i,s,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];n=new $l(f,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ad(t,r.document),s=r.readTime?mi(r.readTime):Je.min(),o=Nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $l([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ad(t,r.document),s=r.removedTargetIds||[];n=new $l([],s,i,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JL(i,s),a=r.targetId;n=new JI(a,o)}}return n}function cV(t,e){let n;if(e instanceof Ku)n={update:xv(t,e.key,e.value)};else if(e instanceof mg)n={delete:Zp(t,e.key)};else if(e instanceof Ys)n={update:xv(t,e.key,e.data),updateMask:yV(e.fieldMask)};else{if(!(e instanceof zL))return He(16599,{Vt:e.type});n={verify:Zp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof kf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Of)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw He(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:sV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function uV(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?mi(i.updateTime):mi(s);return o.isEqual(Je.min())&&(o=mi(s)),new HL(o,i.transformResults||[])})(n,e)))):[]}function lV(t,e){return{documents:[e0(t,e.path)]}}function fV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=e0(t,i);const s=(function(f){if(f.length!==0)return r0(zr.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(f){if(f.length!==0)return f.map((d=>(function(y){return{field:Aa(y.field),direction:pV(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function hV(t){let e=oV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(p){const y=n0(p);return y instanceof zr&&OI(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(E){return new Pf(Sa(E.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let y;return y=typeof p=="object"?p.value:p,ph(y)?null:y})(n.limit));let l=null;n.startAt&&(l=(function(p){const y=!!p.before,v=p.values||[];return new Cf(v,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,v=p.values||[];return new Cf(v,y)})(n.endAt)),OL(e,i,o,s,a,"F",l,f)}function dV(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n0(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sa(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sa(n.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sa(n.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sa(n.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(Sa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zr.create(n.compositeFilter.filters.map((r=>n0(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function pV(t){return tV[t]}function mV(t){return nV[t]}function gV(t){return rV[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function Sa(t){return Tn.fromServerFormat(t.fieldPath)}function r0(t){return t instanceof tn?(function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:mV(n.op),value:n.value}}})(t):t instanceof zr?(function(n){const r=n.getFilters().map((i=>r0(i)));return r.length===1?r[0]:{compositeFilter:{op:gV(n.op),filters:r}}})(t):He(54877,{filter:t})}function yV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Os{constructor(e,n,r,i,s=Je.min(),o=Je.min(),a=In.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _V{constructor(e){this.yt=e}}function vV(t){const e=hV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jp(e,e.limit,"L"):e}class wV{constructor(){this.Cn=new bV}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(js.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(js.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class bV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(Pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(Pt.comparator)).toArray()}}const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s0=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(s0,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nc(0)}static cr(){return new nc(-1)}}const Lv="LruGarbageCollector",EV=1048576;function Vv([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class TV{constructor(e){this.Ir=e,this.buffer=new ln(Vv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(Lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mc(n)?De(Lv,"Ignoring IndexedDB error during garbage collection: ",n):await pc(n)}await this.Vr(3e5)}))}}class AV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(dh.ce);const r=new TV(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Mv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,a=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Ta()<=ot.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(f-l)+`ms
Total Duration: ${f-d}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function SV(t,e){return new AV(t,e)}class RV{constructor(){this.changes=new Go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&iu(r.mutation,i,cr.empty(),Et.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=No();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=qc();return s.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,i){let s=as();const o=ru(),a=(function(){return ru()})();return n.forEach(((l,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Ys)?s=s.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),iu(d.mutation,f,d.mutation.getFieldMask(),Et.now())):o.set(f.key,cr.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((f,d)=>o.set(f,d))),n.forEach(((f,d)=>a.set(f,new CV(d,o.get(f)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=ru();let i=new $t(((o,a)=>o-a)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const f=n.get(l);if(f===null)return;let d=r.get(l)||cr.empty();d=a.applyToLocalView(f,d),r.set(l,d);const p=(i.get(a.batchId)||ct()).add(l);i=i.insert(a.batchId,p)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,d=l.value,p=jI();d.forEach((y=>{if(!s.has(y)){const v=zI(n.get(y),r.get(y));v!==null&&p.set(y,v),s=s.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(No());let a=Eu,l=s;return o.next((f=>le.forEach(f,((d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{l=l.insert(d,y)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,l,f,ct()))).next((d=>({batchId:a,changes:BI(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=qc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qc();return this.indexManager.getCollectionParents(e,s).next((a=>le.forEach(a,(l=>{const f=(function(p,y){return new Hu(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((l,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Nn.newInvalidDocument(d)))}));let a=qc();return o.forEach(((l,f)=>{const d=s.get(l);d!==void 0&&iu(d.mutation,f,cr.empty(),Et.now()),yh(n,f)&&(a=a.insert(l,f))})),a}))}}class kV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:vV(i.bundledQuery),readTime:mi(i.readTime)}})(n)),le.resolve()}}class OV{constructor(){this.overlays=new $t(je.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=No(),s=n.length+1,o=new je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t(((f,d)=>f-d));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=No(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=No(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((f,d)=>a.set(f,d))),!(a.size()>=i)););return le.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QL(n,r));let s=this.qr.get(n);s===void 0&&(s=ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class DV{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class vg{constructor(){this.Qr=new ln(gn.$r),this.Ur=new ln(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new je(new Pt([])),r=new gn(n,e),i=new gn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Pt([])),r=new gn(n,e),i=new gn(n,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}class NV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(gn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(at);return n.forEach((i=>{const s=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const o=new gn(new je(s),0);let a=new ln(at);return this.Zr.forEachWhile((l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.Yr)),!0)}),o),le.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(i=>{const s=new gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gn(n,0),i=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xV{constructor(e){this.ri=e,this.docs=(function(){return new $t(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=as();const o=n.path,a=new je(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:d}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||uL(cL(d),r)<=0||(i.has(d.key)||yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new MV(this)}getSize(e){return le.resolve(this.size)}}class MV extends RV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class LV{constructor(e){this.persistence=e,this.si=new Go((n=>hg(n)),dg),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=nc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),le.waitFor(s).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class o0{constructor(e,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new DV,this.referenceDelegate=e(this),this.Pi=new LV(this),this.indexManager=new wV,this.remoteDocumentCache=(function(i){return new xV(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _V(n),this.Ii=new kV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new VV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class VV extends fL{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const i=je.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nf{constructor(e,n){this.persistence=e,this.pi=new Go((r=>pL(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=SV(this,n)}static mi(e,n){return new Nf(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,s.removeEntry(o,Je.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ul(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bg(e,n.fromCache,r,i)}}class FV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CD()?8:hL(Mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new FV;return this.Ss(e,n,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ta()<=ot.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Ta()<=ot.DEBUG&&De("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ta()<=ot.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):le.resolve())}ys(e,n){if(Av(n))return le.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Jp(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=ct(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const f=this.Ds(n,a);return this.Cs(n,f,o,l.readTime)?this.ys(e,Jp(n,null,"F")):this.vs(e,f,n,l)}))))})))))}ws(e,n,r,i){return Av(n)||i.isEqual(Je.min())?le.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?le.resolve(null):(Ta()<=ot.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(n)),this.vs(e,o,n,aL(i,Eu)).next((a=>a)))}))}Ds(e,n){let r=new ln(FI(e));return n.forEach(((i,s)=>{yh(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ta()<=ot.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.ps.getDocumentsMatchingQuery(e,n,js.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const Eg="LocalStore",BV=3e8;class jV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new $t(at),this.xs=new Go((s=>hg(s)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $V(t,e,n,r){return new jV(t,e,n,r)}async function a0(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let l=ct();for(const f of i){o.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}for(const f of s){a.push(f.batchId);for(const d of f.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:a})))}))}))}function qV(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,f,d){const p=f.batch,y=p.keys();let v=le.resolve();return y.forEach((E=>{v=v.next((()=>d.getEntry(l,E))).next((S=>{const U=f.docVersions.get(E);Tt(U!==null,48541),S.version.compareTo(U)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),d.addEntry(S)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=ct();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function c0(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function HV(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((d,p)=>{const y=i.get(p);if(!y)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(In.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),(function(S,U,q){return S.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=BV?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(y,v,d)&&a.push(n.Pi.updateTargetData(s,v))}));let l=as(),f=ct();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),a.push(KV(s,o,e.documentUpdates).next((d=>{l=d.ks,f=d.qs}))),!r.isEqual(Je.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(d)}return le.waitFor(a).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,f))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function KV(t,e,n){let r=ct(),i=ct();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=as();return n.forEach(((a,l)=>{const f=s.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):De(Eg,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function WV(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zV(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,le.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function tm(t,e,n){const r=Ye(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!mc(o))throw o;De(Eg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Fv(t,e,n){const r=Ye(t);let i=Je.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,f,d){const p=Ye(l),y=p.xs.get(d);return y!==void 0?le.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,d)})(r,o,pi(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Je.min(),n?s:ct()))).next((a=>(GV(r,NL(e),a),{documents:a,Qs:s})))))}function GV(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class Uv{constructor(){this.activeTargetIds=UL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QV{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JV{Oo(e){}shutdown(){}}const Bv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(Bv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(Bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rl=null;function nm(){return Rl===null?Rl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rl++,"0x"+Rl.toString(16)}const Sd="RestConnection",YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=nm(),a=this.zo(e,n.toUriEncodedString());De(Sd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:f}=new URL(a),d=lc(f);return this.Jo(e,a,l,r,d).then((p=>(De(Sd,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Xa(Sd,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=YV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class ZV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Cn="WebChannelConnection";class e2 extends XV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=nm();return new Promise(((a,l)=>{const f=new lI;f.setWithCredentials(!0),f.listenOnce(fI.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Fl.NO_ERROR:const p=f.getResponseJson();De(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Fl.TIMEOUT:De(Cn,`RPC '${e}' ${o} timed out`),l(new ke(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const y=f.getStatus();if(De(Cn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const S=(function(q){const L=q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(L)>=0?L:ue.UNKNOWN})(E.status);l(new ke(S,E.message))}else l(new ke(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new ke(ue.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{De(Cn,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);De(Cn,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=nm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pI(),a=dI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");De(Cn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);this.I_(p);let y=!1,v=!1;const E=new ZV({Yo:U=>{v?De(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(y||(De(Cn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),De(Cn,`RPC '${e}' stream ${i} sending:`,U),p.send(U))},Zo:()=>p.close()}),S=(U,q,L)=>{U.listen(q,(R=>{try{L(R)}catch(x){setTimeout((()=>{throw x}),0)}}))};return S(p,$c.EventType.OPEN,(()=>{v||(De(Cn,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(p,$c.EventType.CLOSE,(()=>{v||(v=!0,De(Cn,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),S(p,$c.EventType.ERROR,(U=>{v||(v=!0,Xa(Cn,`RPC '${e}' stream ${i} transport errored. Name:`,U.name,"Message:",U.message),E.a_(new ke(ue.UNAVAILABLE,"The operation could not be completed")))})),S(p,$c.EventType.MESSAGE,(U=>{if(!v){const q=U.data[0];Tt(!!q,16349);const L=q,R=L?.error||L[0]?.error;if(R){De(Cn,`RPC '${e}' stream ${i} received error:`,R);const x=R.status;let B=(function(A){const I=en[A];if(I!==void 0)return QI(I)})(x),ne=R.message;B===void 0&&(B=ue.INTERNAL,ne="Unknown error status: "+x+" with message "+R.message),v=!0,E.a_(new ke(B,ne)),p.close()}else De(Cn,`RPC '${e}' stream ${i} received:`,q),E.u_(q)}})),S(a,hI.STAT_EVENT,(U=>{U.stat===qp.PROXY?De(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===qp.NOPROXY&&De(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rd(){return typeof document<"u"?document:null}function bh(t){return new iV(t,!0)}class u0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $v="PersistentStream";class l0{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t2 extends l0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aV(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Je.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?mi(o.readTime):Je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=em(this.serializer),n.addTarget=(function(s,o){let a;const l=o.target;if(a=Gp(l)?{documents:lV(s,l)}:{query:fV(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XI(s,o.resumeToken);const f=Yp(s,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Je.min())>0){a.readTime=Df(s,o.snapshotVersion.toTimestamp());const f=Yp(s,o.expectedCount);f!==null&&(a.expectedCount=f)}return a})(this.serializer,e);const r=dV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=em(this.serializer),n.removeTarget=e,this.q_(n)}}class n2 extends l0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uV(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=em(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>cV(this.serializer,r)))};this.q_(n)}}class r2{}class i2 extends r2{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,Xp(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ue.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Xp(n,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class o2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Qo(this)&&(De(Ho,"Restarting streams for network reachability change."),await(async function(l){const f=Ye(l);f.Ea.add(4),await zu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Eh(f)})(this))}))})),this.Ra=new s2(r,i)}}async function Eh(t){if(Qo(t))for(const e of t.da)await e(!0)}async function zu(t){for(const e of t.da)await e(!1)}function f0(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?Ag(n):gc(n).O_()&&Ig(n,e))}function Tg(t,e){const n=Ye(t),r=gc(n);n.Ia.delete(e),r.O_()&&h0(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qo(n)&&n.Ra.set("Unknown"))}function Ig(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gc(t).Y_(e)}function h0(t,e){t.Va.Ue(e),gc(t).Z_(e)}function Ag(t){t.Va=new eV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gc(t).start(),t.Ra.ua()}function Sg(t){return Qo(t)&&!gc(t).x_()&&t.Ia.size>0}function Qo(t){return Ye(t).Ea.size===0}function d0(t){t.Va=void 0}async function a2(t){t.Ra.set("Online")}async function c2(t){t.Ia.forEach(((e,n)=>{Ig(t,e)}))}async function u2(t,e){d0(t),Sg(t)?(t.Ra.ha(e),Ag(t)):t.Ra.set("Unknown")}async function l2(t,e,n){if(t.Ra.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){De(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof $l?t.Va.Ze(e):e instanceof JI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await c0(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(f);d&&s.Ia.set(f,d.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,f)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(In.EMPTY_BYTE_STRING,d.snapshotVersion)),h0(s,l);const p=new Os(d.target,l,f,d.sequenceNumber);Ig(s,p)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){De(Ho,"Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!mc(e))throw e;t.Ea.add(1),await zu(t),t.Ra.set("Offline"),n||(n=()=>c0(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Eh(t)}))}function p0(t,e){return e().catch((n=>xf(t,n,e)))}async function Th(t){const e=Ye(t),n=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;f2(e);)try{const i=await WV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,h2(e,i)}catch(i){await xf(e,i)}m0(e)&&g0(e)}function f2(t){return Qo(t)&&t.Ta.length<10}function h2(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function m0(t){return Qo(t)&&!Ks(t).x_()&&t.Ta.length>0}function g0(t){Ks(t).start()}async function d2(t){Ks(t).ra()}async function p2(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function m2(t,e,n){const r=t.Ta.shift(),i=gg.from(r,e,n);await p0(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Th(t)}async function g2(t,e){e&&Ks(t).X_&&await(async function(r,i){if((function(o){return YL(o)&&o!==ue.ABORTED})(i.code)){const s=r.Ta.shift();Ks(r).B_(),await p0(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Th(r)}})(t,e),m0(t)&&g0(t)}async function qv(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),De(Ho,"RemoteStore received new credentials");const r=Qo(n);n.Ea.add(3),await zu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function y2(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await zu(n),n.Ra.set("Unknown"))}function gc(t){return t.ma||(t.ma=(function(n,r,i){const s=Ye(n);return s.sa(),new t2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:a2.bind(null,t),t_:c2.bind(null,t),r_:u2.bind(null,t),H_:l2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Sg(t)?Ag(t):t.Ra.set("Unknown")):(await t.ma.stop(),d0(t))}))),t.ma}function Ks(t){return t.fa||(t.fa=(function(n,r,i){const s=Ye(n);return s.sa(),new n2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:d2.bind(null,t),r_:g2.bind(null,t),ta:p2.bind(null,t),na:m2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Th(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Rg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Rg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(t,e){if(ss("AsyncQueue",`${e}: ${t}`),mc(t))return new ke(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=qc(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Hv{constructor(){this.ga=new $t(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rc{constructor(e,n,r,i,s,o,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new rc(e,n,Ba.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class _2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class v2{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),s=i.queries;i.queries=Kv(),s.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new ke(ue.ABORTED,"Firestore shutting down"))}}function Kv(){return new Go((t=>VI(t)),gh)}async function w2(t,e){const n=Ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _2,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Cg(o,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Pg(n)}async function b2(t,e){const n=Ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E2(t,e){const n=Ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Pg(n)}function T2(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Pg(t){t.Ca.forEach((e=>{e.next()}))}var rm,Wv;(Wv=rm||(rm={})).Ma="default",Wv.Cache="cache";class I2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rm.Cache}}class y0{constructor(e){this.key=e}}class _0{constructor(e){this.key=e}}class A2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=FI(e),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Hv,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const y=i.get(d),v=yh(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let U=!1;y&&v?y.data.isEqual(v.data)?E!==S&&(r.track({type:3,doc:v}),U=!0):this.su(y,v)||(r.track({type:2,doc:v}),U=!0,(l&&this.eu(v,l)>0||f&&this.eu(v,f)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),U=!0):y&&!v&&(r.track({type:1,doc:y}),U=!0,(l||f)&&(a=!0)),U&&(v?(o=o.add(v),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,p)=>(function(v,E){const S=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:U})}};return S(v)-S(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,f=l!==this.Za;return this.Za=l,o.length!==0||f?{snapshot:new rc(this.query,e.tu,s,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _0(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new y0(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class S2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R2{constructor(e){this.key=e,this.hu=!1}}class C2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Go((a=>VI(a)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new $t(je.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P2(t,e,n=!0){const r=I0(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await v0(r,e,n,!0),i}async function k2(t,e){const n=I0(t);await v0(n,e,!0,!1)}async function v0(t,e,n,r){const i=await zV(t.localStore,pi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await O2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&f0(t.remoteStore,i),a}async function O2(t,e,n,r,i){t.pu=(p,y,v)=>(async function(S,U,q,L){let R=U.view.ru(q);R.Cs&&(R=await Fv(S.localStore,U.query,!1).then((({documents:D})=>U.view.ru(D,R))));const x=L&&L.targetChanges.get(U.targetId),B=L&&L.targetMismatches.get(U.targetId)!=null,ne=U.view.applyChanges(R,S.isPrimaryClient,x,B);return Gv(S,U.targetId,ne.au),ne.snapshot})(t,p,y,v);const s=await Fv(t.localStore,e,!0),o=new A2(e,s.Qs),a=o.ru(s.documents),l=Wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(a,t.isPrimaryClient,l);Gv(t,n,f.au);const d=new S2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function D2(t,e,n){const r=Ye(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!gh(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Tg(r.remoteStore,i.targetId),im(r,i.targetId)})).catch(pc)):(im(r,i.targetId),await tm(r.localStore,i.targetId,!0))}async function N2(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(n.remoteStore,r.targetId))}async function x2(t,e,n){const r=j2(t);try{const i=await(function(o,a){const l=Ye(o),f=Et.now(),d=a.reduce(((v,E)=>v.add(E.key)),ct());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=as(),S=ct();return l.Ns.getEntries(v,d).next((U=>{E=U,E.forEach(((q,L)=>{L.isValidDocument()||(S=S.add(q))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,E))).next((U=>{p=U;const q=[];for(const L of a){const R=WL(L,p.get(L.key).overlayedDocument);R!=null&&q.push(new Ys(L.key,R,CI(R.value.mapValue),Ar.exists(!0)))}return l.mutationQueue.addMutationBatch(v,f,q,a)})).next((U=>{y=U;const q=U.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(v,U.batchId,q)}))})).then((()=>({batchId:y.batchId,changes:BI(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,l){let f=o.Vu[o.currentUser.toKey()];f||(f=new $t(at)),f=f.insert(a,l),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await Gu(r,i.changes),await Th(r.remoteStore)}catch(i){const s=Cg(i,"Failed to persist write");n.reject(s)}}async function w0(t,e){const n=Ye(t);try{const r=await HV(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Tt(o.hu,14607):i.removedDocuments.size>0&&(Tt(o.hu,42227),o.hu=!1))})),await Gu(n,r,e)}catch(r){await pc(r)}}function zv(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const l=Ye(o);l.onlineState=a;let f=!1;l.queries.forEach(((d,p)=>{for(const y of p.Sa)y.va(a)&&(f=!0)})),f&&Pg(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M2(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new $t(je.comparator);o=o.insert(s,Nn.newNoDocument(s,Je.min()));const a=ct().add(s),l=new wh(Je.min(),new Map,new $t(at),o,a);await w0(r,l),r.du=r.du.remove(s),r.Au.delete(e),Og(r)}else await tm(r.localStore,e,!1).then((()=>im(r,e,n))).catch(pc)}async function L2(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await qV(n.localStore,e);E0(n,r,null),b0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,i)}catch(i){await pc(i)}}async function V2(t,e,n){const r=Ye(t);try{const i=await(function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return l.mutationQueue.lookupMutationBatch(f,a).next((p=>(Tt(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(f,p)))).next((()=>l.mutationQueue.performConsistencyCheck(f))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(f,d,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>l.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);E0(r,e,n),b0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,i)}catch(i){await pc(i)}}function b0(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function E0(t,e,n){const r=Ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||T0(t,r)}))}function T0(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Tg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Og(t))}function Gv(t,e,n){for(const r of n)r instanceof y0?(t.Ru.addReference(r.key,e),F2(t,r)):r instanceof _0?(De(kg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||T0(t,r.key)):He(19791,{wu:r})}function F2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(kg,"New document in limbo: "+n),t.Eu.add(r),Og(t))}function Og(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new R2(n)),t.du=t.du.insert(n,r),f0(t.remoteStore,new Os(pi(MI(n.path)),r,"TargetPurposeLimboResolution",dh.ce))}}async function Gu(t,e,n){const r=Ye(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(f){i.push(f);const d=bg.As(l.targetId,f);s.push(d)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(l,f){const d=Ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(f,(y=>le.forEach(y.Es,(v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>le.forEach(y.ds,(v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!mc(p))throw p;De(Eg,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const v=d.Ms.get(y),E=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(y,S)}}})(r.localStore,s))}async function U2(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){De(kg,"User change. New user:",e.toKey());const r=await a0(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((l=>{l.reject(new ke(ue.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.Ls)}}function B2(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function I0(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M2.bind(null,e),e.Pu.H_=E2.bind(null,e.eventManager),e.Pu.yu=T2.bind(null,e.eventManager),e}function j2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V2.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $V(this.persistence,new UV,e.initialUser,this.serializer)}Cu(e){return new o0(wg.mi,this.serializer)}Du(e){return new QV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class $2 extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof Nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new o0((r=>Nf.mi(r,n)),this.serializer)}}class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),await y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v2})()}createDatastore(e){const n=bh(e.databaseInfo.databaseId),r=(function(s){return new e2(s)})(e.databaseInfo);return(function(s,o,a,l){return new i2(s,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,a){return new o2(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>zv(this.syncEngine,n,0)),(function(){return jv.v()?new jv:new JV})())}createSyncEngine(e,n){return(function(i,s,o,a,l,f,d){const p=new C2(i,s,o,a,l,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);De(Ho,"RemoteStore shutting down."),r.Ea.add(5),await zu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ws="FirestoreClient";class H2{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{De(Ws,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(De(Ws,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cd(t,e){t.asyncQueue.verifyOperationInProgress(),De(Ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await a0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Qv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K2(t);De(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>qv(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>qv(e.remoteStore,i))),t._onlineComponents=e}async function K2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Ws,"Using user provided OfflineComponentProvider");try{await Cd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await Cd(t,new Mf)}}else De(Ws,"Using default OfflineComponentProvider"),await Cd(t,new $2(void 0));return t._offlineComponents}async function A0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Ws,"Using user provided OnlineComponentProvider"),await Qv(t,t._uninitializedComponentsProvider._online)):(De(Ws,"Using default OnlineComponentProvider"),await Qv(t,new sm))),t._onlineComponents}function W2(t){return A0(t).then((e=>e.syncEngine))}async function z2(t){const e=await A0(t),n=e.eventManager;return n.onListen=P2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),n}function G2(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,f){const d=new q2({next:y=>{d.Nu(),o.enqueueAndForget((()=>b2(s,p))),y.fromCache&&l.source==="server"?f.reject(new ke(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new I2(a,d,{includeMetadataChanges:!0,qa:!0});return w2(s,p)})(await z2(t),t.asyncQueue,e,n,r))),r.promise}function S0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Jv=new Map;const R0="firestore.googleapis.com",Yv=!0;class Xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=Yv}else this.host=e.host,this.ssl=e.ssl??Yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EV)throw new ke(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JM;switch(r.type){case"firstParty":return new eL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Jv.get(n);r&&(De("ComponentProvider","Removing Datastore"),Jv.delete(n),r.terminate())})(this),Promise.resolve()}}function Q2(t,e,n,r={}){t=os(t,Ih);const i=lc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(IT(`https://${a}`),AT("Firestore",!0)),s.host!==R0&&s.host!==a&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Bs(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=kn.MOCK_USER;else{f=wD(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ke(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new kn(p)}t._authCredentials=new YM(new gI(f,d))}}class yc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qu(n,rn._jsonSchema))return new rn(e,r||null,new je(Pt.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:nn("string",rn._jsonSchemaVersion),referencePath:nn("string")};class Fs extends yc{constructor(e,n,r){super(e,n,MI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new je(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function J2(t,e,...n){if(t=jt(t),yI("collection","path",e),t instanceof Ih){const r=Pt.fromString(e,...n);return fv(r),new Fs(t,null,r)}{if(!(t instanceof rn||t instanceof Fs))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return fv(r),new Fs(t.firestore,null,r)}}function C0(t,e,...n){if(t=jt(t),arguments.length===1&&(e=cg.newId()),yI("doc","path",e),t instanceof Ih){const r=Pt.fromString(e,...n);return lv(r),new rn(t,null,new je(r))}{if(!(t instanceof rn||t instanceof Fs))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return lv(r),new rn(t.firestore,t instanceof Fs?t.converter:null,new je(r))}}const Zv="AsyncQueue";class ew{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u0(this,"async_queue_retry"),this._c=()=>{const r=Rd();r&&De(Zv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mc(e))throw e;De(Zv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",tw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Rg.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:tw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _c extends Ih{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ew,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ew(e),this._firestoreClient=void 0,await e}}}function Y2(t,e){const n=typeof t=="object"?t:Uu(),r=typeof t=="string"?t:Sf,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_D("firestore");s&&Q2(i,...s)}return i}function P0(t){if(t._terminated)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X2(t),t._firestoreClient}function X2(t){const e=t._freezeSettings(),n=(function(i,s,o,a){return new yL(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,S0(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(In.fromBase64String(e))}catch(n){throw new ke(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:nn("string",Tr._jsonSchemaVersion),bytes:nn("string")};class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dg{constructor(e){this._methodName=e}}class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(qu(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:nn("string",gi._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new ke(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:nn("string",yi._jsonSchemaVersion),vectorValues:nn("object")};const Z2=/^__.*__$/;class eF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class k0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class Ng{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O0(this.Ac)&&Z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bh(e)}Cc(e,n,r,i=!1){return new Ng({Ac:e,methodName:n,Dc:r,path:Tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(t){const e=t._freezeSettings(),n=bh(t._databaseId);return new tF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D0(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);xg("Data must be an object, but it was:",o,r);const a=N0(r,o);let l,f;if(s.merge)l=new cr(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const y=om(e,p,n);if(!o.contains(y))throw new ke(ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);M0(d,y)||d.push(y)}l=new cr(d),f=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,f=o.fieldTransforms;return new eF(new Yn(a),l,f)}class Rh extends Dg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function nF(t,e,n,r){const i=t.Cc(1,e,n);xg("Data must be an object, but it was:",i,r);const s=[],o=Yn.empty();Js(r,((l,f)=>{const d=Mg(e,l,n);f=jt(f);const p=i.yc(d);if(f instanceof Rh)s.push(d);else{const y=Qu(f,p);y!=null&&(s.push(d),o.set(d,y))}}));const a=new cr(s);return new k0(o,a,i.fieldTransforms)}function rF(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[om(e,r,n)],l=[i];if(s.length%2!=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(om(e,s[y])),l.push(s[y+1]);const f=[],d=Yn.empty();for(let y=a.length-1;y>=0;--y)if(!M0(f,a[y])){const v=a[y];let E=l[y];E=jt(E);const S=o.yc(v);if(E instanceof Rh)f.push(v);else{const U=Qu(E,S);U!=null&&(f.push(v),d.set(v,U))}}const p=new cr(f);return new k0(d,p,o.fieldTransforms)}function iF(t,e,n,r=!1){return Qu(n,t.Cc(r?4:3,e))}function Qu(t,e){if(x0(t=jt(t)))return xg("Unsupported field value:",e,t),N0(t,e);if(t instanceof Dg)return(function(r,i){if(!O0(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let l=Qu(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Et.fromDate(r);return{timestampValue:Df(i.serializer,s)}}if(r instanceof Et){const s=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(i.serializer,s)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:XI(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_g(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yi)return(function(o,a){return{mapValue:{fields:{[SI]:{stringValue:RI},[Rf]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw a.Sc("VectorValues must only contain numeric values.");return pg(a.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${hh(r)}`)})(t,e)}function N0(t,e){const n={};return wI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,((r,i)=>{const s=Qu(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function x0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof gi||t instanceof Tr||t instanceof rn||t instanceof Dg||t instanceof yi)}function xg(t,e,n){if(!x0(n)||!_I(n)){const r=hh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function om(t,e,n){if((e=jt(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return Mg(t,e);throw Lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const sF=new RegExp("[~\\*/\\[\\]]");function Mg(t,e,n){if(e.search(sF)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ke(ue.INVALID_ARGUMENT,a+t+l)}function M0(t,e){return t.some((n=>n.isEqual(e)))}class L0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oF extends L0{data(){return super.data()}}function Lg(t,e){return typeof e=="string"?Mg(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}function aF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class cF extends Vg{}function Lj(t,e,...n){let r=[];e instanceof Vg&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((l=>l instanceof Fg)).length,a=s.filter((l=>l instanceof Ch)).length;if(o>1||o>0&&a>0)throw new ke(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ch extends cF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ch(e,n,r)}_apply(e){const n=this._parse(e);return V0(e._query,n),new yc(e.firestore,e.converter,Qp(e._query,n))}_parse(e){const n=Sh(e.firestore);return(function(s,o,a,l,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rw(p,d);const E=[];for(const S of p)E.push(nw(l,s,S));y={arrayValue:{values:E}}}else y=nw(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rw(p,d),y=iF(a,o,p,d==="in"||d==="not-in");return tn.create(f,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vj(t,e,n){const r=e,i=Lg("where",t);return Ch._create(i,r,n)}class Fg extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)V0(o,l),o=Qp(o,l)})(e._query,n),new yc(e.firestore,e.converter,Qp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nw(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ke(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LI(e)&&n.indexOf("/")!==-1)throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!je.isDocumentKey(r))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vv(t,new je(r))}if(n instanceof rn)return vv(t,n._key);throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function rw(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(t,e){const n=(function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ke(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uF{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Rf].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new yi(n)}convertGeoPoint(e){return new gi(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=$s(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);Tt(i0(r),9688,{name:e});const i=new Iu(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||ss(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function F0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends L0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:nn("string",ja._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class ql extends ja{data(e={}){return super.data(e)}}class $a{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ql(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new ql(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new ql(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:lF(a.type),doc:l,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:nn("string",$a._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class fF extends uF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Fj(t){t=os(t,yc);const e=os(t.firestore,_c),n=P0(e),r=new fF(e);return aF(t._query),G2(n,t._query).then((i=>new $a(e,r,t,i)))}function hF(t,e,n){t=os(t,rn);const r=os(t.firestore,_c),i=F0(t.converter,e,n);return Ph(r,[D0(Sh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function Uj(t,e,n,...r){t=os(t,rn);const i=os(t.firestore,_c),s=Sh(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof Ah?rF(s,"updateDoc",t._key,e,n,r):nF(s,"updateDoc",t._key,e),Ph(i,[o.toMutation(t._key,Ar.exists(!0))])}function Bj(t){return Ph(os(t.firestore,_c),[new mg(t._key,Ar.none())])}function jj(t,e){const n=os(t.firestore,_c),r=C0(t),i=F0(t.converter,e);return Ph(n,[D0(Sh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then((()=>r))}function Ph(t,e){return(function(r,i){const s=new Vs;return r.asyncQueue.enqueueAndForget((async()=>x2(await W2(r),i,s))),s.promise})(P0(t),e)}(function(e,n=!0){(function(i){dc=i})(fc),Rr(new hr("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _c(new XM(r.getProvider("auth-internal")),new tL(o,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(f.options.projectId,d)})(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Zn(ov,av,e),Zn(ov,av,"esm2020")})();const U0="@firebase/installations",Ug="0.6.19";const B0=1e4,j0=`w:${Ug}`,$0="FIS_v2",dF="https://firebaseinstallations.googleapis.com/v1",pF=3600*1e3,mF="installations",gF="Installations";const yF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ko=new Gs(mF,gF,yF);function q0(t){return t instanceof Gr&&t.code.includes("request-failed")}function H0({projectId:t}){return`${dF}/projects/${t}/installations`}function K0(t){return{token:t.token,requestStatus:2,expiresIn:vF(t.expiresIn),creationTime:Date.now()}}async function W0(t,e){const r=(await e.json()).error;return Ko.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function z0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _F(t,{refreshToken:e}){const n=z0(t);return n.append("Authorization",wF(e)),n}async function G0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vF(t){return Number(t.replace("s","000"))}function wF(t){return`${$0} ${t}`}async function bF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=H0(t),i=z0(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:$0,appId:t.appId,sdkVersion:j0},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await G0(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:K0(f.authToken)}}else throw await W0("Create Installation",l)}function Q0(t){return new Promise(e=>{setTimeout(e,t)})}function EF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const TF=/^[cdef][\w-]{21}$/,am="";function IF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=AF(t);return TF.test(n)?n:am}catch{return am}}function AF(t){return EF(t).substr(0,22)}function kh(t){return`${t.appName}!${t.appId}`}const J0=new Map;function Y0(t,e){const n=kh(t);X0(n,e),SF(n,e)}function X0(t,e){const n=J0.get(t);if(n)for(const r of n)r(e)}function SF(t,e){const n=RF();n&&n.postMessage({key:t,fid:e}),CF()}let xo=null;function RF(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=t=>{X0(t.data.key,t.data.fid)}),xo}function CF(){J0.size===0&&xo&&(xo.close(),xo=null)}const PF="firebase-installations-database",kF=1,Wo="firebase-installations-store";let Pd=null;function Bg(){return Pd||(Pd=ch(PF,kF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wo)}}})),Pd}async function Vf(t,e){const n=kh(t),i=(await Bg()).transaction(Wo,"readwrite"),s=i.objectStore(Wo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Y0(t,e.fid),e}async function Z0(t){const e=kh(t),r=(await Bg()).transaction(Wo,"readwrite");await r.objectStore(Wo).delete(e),await r.done}async function Oh(t,e){const n=kh(t),i=(await Bg()).transaction(Wo,"readwrite"),s=i.objectStore(Wo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Y0(t,a.fid),a}async function jg(t){let e;const n=await Oh(t.appConfig,r=>{const i=OF(r),s=DF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===am?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OF(t){const e=t||{fid:IF(),registrationStatus:0};return eA(e)}function DF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ko.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xF(t)}:{installationEntry:e}}async function NF(t,e){try{const n=await bF(t,e);return Vf(t.appConfig,n)}catch(n){throw q0(n)&&n.customData.serverCode===409?await Z0(t.appConfig):await Vf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function xF(t){let e=await iw(t.appConfig);for(;e.registrationStatus===1;)await Q0(100),e=await iw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jg(t);return r||n}return e}function iw(t){return Oh(t,e=>{if(!e)throw Ko.create("installation-not-found");return eA(e)})}function eA(t){return MF(t)?{fid:t.fid,registrationStatus:0}:t}function MF(t){return t.registrationStatus===1&&t.registrationTime+B0<Date.now()}async function LF({appConfig:t,heartbeatServiceProvider:e},n){const r=VF(t,n),i=_F(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:j0,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await G0(()=>fetch(r,a));if(l.ok){const f=await l.json();return K0(f)}else throw await W0("Generate Auth Token",l)}function VF(t,{fid:e}){return`${H0(t)}/${e}/authTokens:generate`}async function $g(t,e=!1){let n;const r=await Oh(t.appConfig,s=>{if(!tA(s))throw Ko.create("not-registered");const o=s.authToken;if(!e&&BF(o))return s;if(o.requestStatus===1)return n=FF(t,e),s;{if(!navigator.onLine)throw Ko.create("app-offline");const a=$F(s);return n=UF(t,a),a}});return n?await n:r.authToken}async function FF(t,e){let n=await sw(t.appConfig);for(;n.authToken.requestStatus===1;)await Q0(100),n=await sw(t.appConfig);const r=n.authToken;return r.requestStatus===0?$g(t,e):r}function sw(t){return Oh(t,e=>{if(!tA(e))throw Ko.create("not-registered");const n=e.authToken;return qF(n)?{...e,authToken:{requestStatus:0}}:e})}async function UF(t,e){try{const n=await LF(t,e),r={...e,authToken:n};return await Vf(t.appConfig,r),n}catch(n){if(q0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Z0(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Vf(t.appConfig,r)}throw n}}function tA(t){return t!==void 0&&t.registrationStatus===2}function BF(t){return t.requestStatus===2&&!jF(t)}function jF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pF}function $F(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function qF(t){return t.requestStatus===1&&t.requestTime+B0<Date.now()}async function HF(t){const e=t,{installationEntry:n,registrationPromise:r}=await jg(e);return r?r.catch(console.error):$g(e).catch(console.error),n.fid}async function KF(t,e=!1){const n=t;return await WF(n),(await $g(n,e)).token}async function WF(t){const{registrationPromise:e}=await jg(t);e&&await e}function zF(t){if(!t||!t.options)throw kd("App Configuration");if(!t.name)throw kd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw kd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function kd(t){return Ko.create("missing-app-config-values",{valueName:t})}const nA="installations",GF="installations-internal",QF=t=>{const e=t.getProvider("app").getImmediate(),n=zF(e),r=Qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JF=t=>{const e=t.getProvider("app").getImmediate(),n=Qs(e,nA).getImmediate();return{getId:()=>HF(n),getToken:i=>KF(n,i)}};function YF(){Rr(new hr(nA,QF,"PUBLIC")),Rr(new hr(GF,JF,"PRIVATE"))}YF();Zn(U0,Ug);Zn(U0,Ug,"esm2020");const XF="/firebase-messaging-sw.js",ZF="/firebase-cloud-messaging-push-scope",rA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",e4="https://fcmregistrations.googleapis.com/v1",iA="google.c.a.c_id",t4="google.c.a.c_l",n4="google.c.a.ts",r4="google.c.a.e",ow=1e4;var aw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(aw||(aw={}));var Cu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Cu||(Cu={}));function qi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function i4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Od="fcm_token_details_db",s4=5,cw="fcm_token_object_Store";async function o4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Od))return null;let e=null;return(await ch(Od,s4,{upgrade:async(r,i,s,o)=>{if(i<2||!r.objectStoreNames.contains(cw))return;const a=o.objectStore(cw),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(i===2){const f=l;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:qi(f.vapidKey)}}}else if(i===3){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qi(f.auth),p256dh:qi(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qi(f.vapidKey)}}}else if(i===4){const f=l;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qi(f.auth),p256dh:qi(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qi(f.vapidKey)}}}}}})).close(),await vd(Od),await vd("fcm_vapid_details_db"),await vd("undefined"),a4(e)?e:null}function a4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const c4="firebase-messaging-database",u4=1,Pu="firebase-messaging-store";let Dd=null;function sA(){return Dd||(Dd=ch(c4,u4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pu)}}})),Dd}async function l4(t){const e=oA(t),r=await(await sA()).transaction(Pu).objectStore(Pu).get(e);if(r)return r;{const i=await o4(t.appConfig.senderId);if(i)return await qg(t,i),i}}async function qg(t,e){const n=oA(t),i=(await sA()).transaction(Pu,"readwrite");return await i.objectStore(Pu).put(e,n),await i.done,e}function oA({appConfig:t}){return t.appId}const f4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},xn=new Gs("messaging","Messaging",f4);async function h4(t,e){const n=await Kg(t),r=aA(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Hg(t.appConfig),i)).json()}catch(o){throw xn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){const o=s.error.message;throw xn.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw xn.create("token-subscribe-no-token");return s.token}async function d4(t,e){const n=await Kg(t),r=aA(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Hg(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw xn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){const o=s.error.message;throw xn.create("token-update-failed",{errorInfo:o})}if(!s.token)throw xn.create("token-update-no-token");return s.token}async function p4(t,e){const r={method:"DELETE",headers:await Kg(t)};try{const s=await(await fetch(`${Hg(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw xn.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw xn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function Hg({projectId:t}){return`${e4}/projects/${t}/registrations`}async function Kg({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function aA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==rA&&(i.web.applicationPubKey=r),i}const m4=10080*60*1e3;async function g4(t){const e=await _4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qi(e.getKey("auth")),p256dh:qi(e.getKey("p256dh"))},r=await l4(t.firebaseDependencies);if(r){if(v4(r.subscriptionOptions,n))return Date.now()>=r.createTime+m4?y4(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await p4(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uw(t.firebaseDependencies,n)}else return uw(t.firebaseDependencies,n)}async function y4(t,e){try{const n=await d4(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await qg(t.firebaseDependencies,r),n}catch(n){throw n}}async function uw(t,e){const r={token:await h4(t,e),createTime:Date.now(),subscriptionOptions:e};return await qg(t,r),r.token}async function _4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i4(e)})}function v4(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function lw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return w4(e,t),b4(e,t),E4(e,t),e}function w4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function b4(t,e){e.data&&(t.data=e.data)}function E4(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}function T4(t){return typeof t=="object"&&!!t&&iA in t}function I4(t){if(!t||!t.options)throw Nd("App Configuration Object");if(!t.name)throw Nd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Nd(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Nd(t){return xn.create("missing-app-config-values",{valueName:t})}class A4{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=I4(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function S4(t){try{t.swRegistration=await navigator.serviceWorker.register(XF,{scope:ZF}),t.swRegistration.update().catch(()=>{}),await R4(t.swRegistration)}catch(e){throw xn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function R4(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${ow} ms`)),ow),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{s.target?.state==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}async function C4(t,e){if(!e&&!t.swRegistration&&await S4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");t.swRegistration=e}}async function P4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=rA)}async function cA(t,e){if(!navigator)throw xn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw xn.create("permission-blocked");return await P4(t,e?.vapidKey),await C4(t,e?.serviceWorkerRegistration),g4(t)}async function k4(t,e,n){const r=O4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iA],message_name:n[t4],message_time:n[n4],message_device_time:Math.floor(Date.now()/1e3)})}function O4(t){switch(t){case Cu.NOTIFICATION_CLICKED:return"notification_open";case Cu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function D4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Cu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(lw(n)):t.onMessageHandler.next(lw(n)));const r=n.data;T4(r)&&r[r4]==="1"&&await k4(t,n.messageType,r)}const fw="@firebase/messaging",hw="0.12.23";const N4=t=>{const e=new A4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>D4(e,n)),e},x4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>cA(e,r)}};function M4(){Rr(new hr("messaging",N4,"PUBLIC")),Rr(new hr("messaging-internal",x4,"PRIVATE")),Zn(fw,hw),Zn(fw,hw,"esm2020")}async function L4(){try{await Qm()}catch{return!1}return typeof window<"u"&&Gm()&&RT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function V4(t,e){if(!navigator)throw xn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}function F4(t=Uu()){return L4().then(e=>{if(!e)throw xn.create("unsupported-browser")},e=>{throw xn.create("indexed-db-unsupported")}),Qs(jt(t),"messaging").getImmediate()}async function U4(t,e){return t=jt(t),cA(t,e)}function B4(t,e){return t=jt(t),V4(t,e)}M4();const Ff="analytics",j4="firebase_id",$4="origin",q4=60*1e3,H4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wg="https://www.googletagmanager.com/gtag/js";const er=new ah("@firebase/analytics");const K4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},lr=new Gs("analytics","Analytics",K4);function W4(t){if(!t.startsWith(Wg)){const e=lr.create("invalid-gtag-resource",{gtagURL:t});return er.warn(e.message),""}return t}function uA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function z4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function G4(t,e){const n=z4("firebase-js-sdk-policy",{createScriptURL:W4}),r=document.createElement("script"),i=`${Wg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Q4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function J4(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await uA(n)).find(f=>f.measurementId===i);l&&await e[l.appId]}}catch(a){er.error(a)}t("config",i,s)}async function Y4(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await uA(n);for(const l of o){const f=a.find(p=>p.measurementId===l),d=f&&e[f.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){er.error(s)}}function X4(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Y4(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await J4(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,f]=o;t("get",a,l,f)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){er.error(a)}}return i}function Z4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=X4(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function eU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wg)&&n.src.includes(t))return n;return null}const tU=30,nU=1e3;class rU{constructor(e={},n=nU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lA=new rU;function iU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function sU(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:iU(n)},i=H4.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let o="";try{const a=await s.json();a.error?.message&&(o=a.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function oU(t,e=lA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw lr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw lr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uU;return setTimeout(async()=>{a.abort()},q4),fA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function fA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lA){const{appId:s,measurementId:o}=t;try{await aU(r,e)}catch(a){if(o)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:s,measurementId:o};throw a}try{const a=await sU(t);return i.deleteThrottleMetadata(s),a}catch(a){const l=a;if(!cU(l)){if(i.deleteThrottleMetadata(s),o)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:o};throw a}const f=Number(l?.customData?.httpStatus)===503?N_(n,i.intervalMillis,tU):N_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,d),er.debug(`Calling attemptFetch again in ${f} millis`),fA(t,d,r,i)}}function aU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cU(t){if(!(t instanceof Gr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function fU(){if(Gm())try{await Qm()}catch(t){return er.warn(lr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return er.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hU(t,e,n,r,i,s,o){const a=oU(t);a.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>er.error(y)),e.push(a);const l=fU().then(y=>{if(y)return r.getId()}),[f,d]=await Promise.all([a,l]);eU(s)||G4(s,f.measurementId),i("js",new Date);const p=o?.config??{};return p[$4]="firebase",p.update=!0,d!=null&&(p[j4]=d),i("config",f.measurementId,p),f.measurementId}class dU{constructor(e){this.app=e}_delete(){return delete su[this.app.options.appId],Promise.resolve()}}let su={},dw=[];const pw={};let xd="dataLayer",pU="gtag",mw,hA,gw=!1;function mU(){const t=[];if(ST()&&t.push("This is a browser extension environment."),RT()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=lr.create("invalid-analytics-context",{errorInfo:e});er.warn(n.message)}}function gU(t,e,n){mU();const r=t.options.appId;if(!r)throw lr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw lr.create("no-api-key");if(su[r]!=null)throw lr.create("already-exists",{id:r});if(!gw){Q4(xd);const{wrappedGtag:s,gtagCore:o}=Z4(su,dw,pw,xd,pU);hA=s,mw=o,gw=!0}return su[r]=hU(t,dw,pw,e,mw,xd,n),new dU(t)}function yU(t=Uu()){t=jt(t);const e=Qs(t,Ff);return e.isInitialized()?e.getImmediate():_U(t)}function _U(t,e={}){const n=Qs(t,Ff);if(n.isInitialized()){const i=n.getImmediate();if(Bs(e,n.getOptions()))return i;throw lr.create("already-initialized")}return n.initialize({options:e})}function vU(t,e,n,r){t=jt(t),lU(hA,su[t.app.options.appId],e,n,r).catch(i=>er.error(i))}const yw="@firebase/analytics",_w="0.10.18";function wU(){Rr(new hr(Ff,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return gU(r,i,n)},"PUBLIC")),Rr(new hr("analytics-internal",t,"PRIVATE")),Zn(yw,_w),Zn(yw,_w,"esm2020");function t(e){try{const n=e.getProvider(Ff).getImmediate();return{logEvent:(r,i,s)=>vU(n,r,i,s)}}catch(n){throw lr.create("interop-component-reg-failed",{reason:n})}}}wU();const dA=Vu("settingsApp",{state:()=>({theme:"light",language:"pt-BR",user:null,location:{city:null,state:null,lat:null,log:null,confirmed:!1},notifications:{status:"loading",fcmToken:null},install:{canInstall:!1,deferredPrompt:null}}),getters:{pendingConfigsCount(t){let e=0;return t.notifications.status!=="granted"&&e++,t.install.canInstall&&e++,t.user===null&&e++,e}},actions:{async init(){"Notification"in window&&navigator.permissions&&navigator.permissions.query&&(this.notifications.status=Notification.permission,navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{console.log("[settings.js] Permisso de notificao alterada:",t.state),this.notifications.status=t.state}})),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.install.deferredPrompt=t,this.install.canInstall=!0})},userChanged(t){this.user=t},sendMessage(t){console.log("[Settings Messaging] Mensagem recebida:",t),t.notification&&"Notification"in window&&Notification.permission==="granted"&&new Notification(t.notification.title,{body:t.notification.body,icon:t.notification.icon||"/favicon.ico"})}}}),bU=_n(async()=>{let t,e;const n={apiKey:"AIzaSyDjh-kSamZSSOA1pEwMuCB1HZxiZBgCaVE",authDomain:"agenda-408113.firebaseapp.com",projectId:"agenda-408113",storageBucket:"agenda-408113.appspot.com",messagingSenderId:"865568496873",appId:"1:865568496873:web:66e24b202af5ba7f1b6478",measurementId:"G-KDP8RZ0Z19"},r="BJt_lJHggy9DmtbU64-umpjs4jgfSZgBG21yBlXHM_rh-71-SAT27MuiWFwuNTivWIwQAHzo-CTYL3xBaCi01Rc",i=Up(n),s=dA(),o=GM(i),a=Ut(null);let l=null;try{[t,e]=hi(()=>Mx(o,ZT)),await t,e()}catch(E){console.error("Erro ao configurar a persistncia de sesso:",E)}const f=Y2(i),d=J2(f,"events"),p=async E=>{try{const S=C0(f,"users",E.uid);await hF(S,E,{merge:!0})}catch(S){console.error("Erro ao atualizar perfil do usurio no Firestore:",S)}};Fx(o,async E=>{if(E){a.value=E;const S={uid:E.uid,displayName:E.displayName,email:E.email,photoURL:E.photoURL,lastLogin:Et.now(),emailVerified:E.emailVerified||!1,createdAt:E.metadata?.creationTime?Et.fromDate(new Date(E.metadata.creationTime)):Et.now(),lastLoginAt:E.metadata?.lastSignInTime?Et.fromDate(new Date(E.metadata.lastSignInTime)):Et.now(),phoneNumber:E.phoneNumber||null,...s.location};s.userChanged(S),p(S)}});const y=async()=>{try{return await rM(o,new zi),window.location.reload(),!0}catch(E){console.error("Erro ao fazer login com Google:",E)}},v=async()=>{try{return await o.signOut(),console.warn("Usurio desconectado:",s.user.uid),s.user.uid=null,s.userChanged(a.value),!0}catch(E){console.error("Erro durante o logout:",E)}};if("Notification"in window&&"serviceWorker"in navigator&&Notification.permission==="granted")try{const E=([t,e]=hi(()=>navigator.serviceWorker.getRegistration()),t=await t,e(),t);if(!E){console.warn("[Firebase Messaging] Nenhum Service Worker registrado.");return}const S=VN().length?Uu():Up(n);l=F4(S),yU(S),s.notifications.fcmToken=([t,e]=hi(()=>U4(l,{vapidKey:r,serviceWorkerRegistration:E})),t=await t,e(),t),B4(l,s.sendMessage)}catch(E){console.error("[Firebase Messaging] Erro ao inicializar:",E)}else console.log("[Firebase Messaging] Ambiente ou permisso inadequada!");return{provide:{session:{firebaseAuth:o,firebaseDb:f,eventsCollection:d,currentUser:a,loginWithGoogle:y,logoutWithGoogle:v},notifications:{fcmToken:s.notifications.fcmToken,messaging:l}}}});function vw(t,e="operao"){if(t?.error){console.error(`Erro ao ${e}:`,t.error);const n=t.error.code;throw n===401?(console.error("Token invlido ou expirado."),new Error("Token invlido ou expirado.")):n===403?(console.error("Acesso negado ao calendrio."),new Error("Acesso negado ao calendrio.")):n===404?(console.error("Calendrio no encontrado."),new Error("Calendrio no encontrado.")):n===500?(console.error("Erro interno do servidor."),new Error("Erro interno do servidor.")):new Error(t.error.message)}}function EU(){const t=new Date,e=new Date;return e.setDate(t.getDate()+70),{today:t.toISOString().split("T")[0],future:e.toISOString().split("T")[0]}}function ww(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)&&!isNaN(new Date(t).getTime())}function TU(t){return t.startsWith("start")||t.startsWith("end")||t.startsWith("calendarIDs")}function _a(t){return(t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function IU(t,e){let n=Array.isArray(t)?t:[];const{search:r,title:i,locale:s,date:o}=e;if(r){const a=_a(r),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""} ${f.location||""} ${f.description||""}`,p=_a(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(i){const a=_a(i),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.summary||""}`,p=_a(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}if(s){const a=_a(s),l=new RegExp(a,"gi");n=n.filter(f=>{const d=`${f.location||""}`,p=_a(d);return l.test(p)||a.split(" ").every(y=>new RegExp(`\\b${y}`,"i").test(p))})}return o&&(n=n.filter(a=>{const l=a.start?.date||(a.start?.dateTime?a.start.dateTime.split("T")[0]:void 0);return o.startsWith(l)})),n??[]}function AU(t){try{const e=["br","p","b","strong","i","em"];let n=t.replace(/[\n\r]/g,"<br />");return n=n.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(r,i)=>e.includes(i.toLowerCase())?r:""),n=n.replace(/<([a-z][a-z0-9]*)\b[^>]*>/gi,"<$1>"),n=n.replace(/&nbsp;/g," "),n=n.replace(/\u00A0/g," "),n}catch{return""}}function $j(t){try{return[[/(es)\b/gi,"O"],[/(es)\b/gi,"O"],[/(ais)\b/gi,"AL"],[/(eis)\b/gi,"EL"],[/(is)\b/gi,"IL"],[/(us)\b/gi,"U"],[/(os)\b/gi,"O"],[/(as)\b/gi,"A"],[/(ns)\b/gi,"M"],[/(es)\b/gi,"E"],[/(s)\b/gi,""]].reduce((n,[r,i])=>n.replace(r,i),t)}catch{return""}}const{today:SU,future:RU}=EU(),CU=Vu("agenda",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],events:[],filters:{calendarIDs:[],title:"",locale:"",search:"",date:"",start:SU,end:RU}}),getters:{eventsLocales(t){const e=new Set;return t.events.forEach(n=>{n.location&&typeof n.location=="string"&&n.location.trim()&&e.add(n.location.trim())}),Array.from(e).sort((n,r)=>n.localeCompare(r,"pt-BR"))},eventsFiltered(t){return IU(t.events,t.filters)}},actions:{setLoading(t){this.loading=t},async awaitGapi(){for(let t=0;t<30;t++){if(window&&window?.gapi?.client?.calendar)return;await new Promise(e=>setTimeout(e,200))}throw new Error("Google Calendar API no carregou aps 30 tentativas.")},async fetchGoogleCalendars(){this.setLoading(!0);try{await this.awaitGapi();const{result:t}=await window.gapi.client.calendar.calendarList.list();return vw(t,"buscar calendrios"),this.calendars=(t.items||[]).map(e=>{let n=e.description||"";return n=n.replace(/<(?!\/?(b|br|p|u|i|em)\b)[^>]*>/gi,"").replace(/<(b|br|p|u|i|em)\s+[^>]*>/gi,"<$1>"),{...e,description:AU(n)}}),this.calendars}finally{this.setLoading(!1)}},async fetchGoogleEvents(t=null,e={}){this.setLoading(!0);try{if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const n=[];let r;const i=t||this.filters.calendarIDs;for(const s of i)do{const o={calendarId:s,timeMin:e.timeMin||this.filters.start+"T00:00:00Z",timeMax:e.timeMax||this.filters.end+"T23:59:59Z",showDeleted:!1,singleEvents:!0,maxResults:e.maxResults||1e4,orderBy:"startTime",...r&&{pageToken:r}},{result:a}=await window.gapi.client.calendar.events.list(o);vw(a,"buscar eventos"),a?.items?.length&&n.push(...a.items.map(l=>({calendarId:s,...l}))),r=a.nextPageToken}while(r);return JSON.stringify(this.events)!==JSON.stringify(n)&&(this.events=n),n}finally{this.setLoading(!1)}},async createGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:n}=await window.gapi.client.calendar.events.insert({calendarId:t,resource:e});return n&&!this.events.some(r=>r.id===n.id)&&this.events.unshift({calendarId:t,...n}),n},async updateGoogleEvent(t,e,n){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");const{result:r}=await window.gapi.client.calendar.events.update({calendarId:t,eventId:e,resource:n});if(r){const i=this.events.findIndex(s=>s.id===e);i!==-1&&JSON.stringify(this.events[i])!==JSON.stringify(r)&&(this.events[i]={calendarId:t,...r})}return r},async deleteGoogleEvent(t,e){if(!window.gapi?.client?.calendar)throw new Error("Google Calendar API no est disponvel.");await window.gapi.client.calendar.events.delete({calendarId:t,eventId:e});const n=this.events.findIndex(r=>r.id===e);n!==-1&&this.events.splice(n,1)},async handleFilterChange(t){this.setLoading(!0);try{const{start:e,end:n}=t.filters;if(!ww(e)||!ww(n))throw t.events=[],new Error("Datas invlidas. Use o formato yyyy-mm-dd.");if(e>n)throw t.events=[],new Error("A data inicial deve ser menor ou igual  data final.");await this.fetchGoogleCalendars(),await this.fetchGoogleEvents()}finally{this.setLoading(!1)}},init(){this.$subscribe(async(t,e)=>{try{t.storeId==="agenda"&&t?.events?.key&&TU(t.events.key)&&await this.handleFilterChange(e)}catch(n){console.log("Erro ao iniciar o monitor de mudanas na agenda:",n)}},{detached:!0})}}}),PU=globalThis.setInterval;async function kU(t){const e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():null}const OU=Vu("auth",{state:()=>({user:{name:"",email:"",picture:"",token:"",expires_in:0,expires_at:Date.now(),rawUserInfo:{},expires_countdown:0}}),actions:{client:null,tokenClient:null,configs:{},setUserFromToken(t){this.$patch(e=>{e.user.name=t.name||"",e.user.email=t.email||"",e.user.picture=t.picture||"",e.user.token=t.access_token||"",e.user.expires_in=t.expires_in||0,e.user.expires_at=Date.now()+(t.expires_in?t.expires_in*1e3:0),e.user.rawUserInfo=t.rawUserInfo||{}}),this.startCountdown()},clearToken(){this.user.token&&(this.user.token="")},clearUser(){this.$patch(t=>{t.user.token="",t.user.expires_in=0,t.user.expires_at=Date.now(),t.user.rawUserInfo={},t.user.expires_countdown=0}),this.stopCountdown()},startCountdown(){this.user&&this.user.token&&this.user.expires_at>Date.now()?(this.stopCountdown(),this.updateCountdown(),this.countdownInterval=PU(this.updateCountdown,1e3)):(this.clearToken(),this.user.expires_countdown=0)},stopCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null},updateCountdown(){const t=Math.max(0,Math.floor((this.user.expires_at-Date.now())/1e3));this.user.expires_countdown=t,t===0&&(this.clearToken(),this.stopCountdown())},async init({clientId:t,apiKey:e,discoveryDocs:n,scopes:r}){this.configs={clientId:t,apiKey:e,discoveryDocs:n,scopes:r};let i=0;for(;(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)&&i<50;)await new Promise(s=>setTimeout(s,100)),i++;if(typeof window>"u"||!window.gapi||!window.google||!window.google.accounts?.oauth2)throw new Error("Google API no carregada. Verifique se o script do Google API foi includo.");await new Promise(s=>window.gapi.load("client",s)),await window.gapi.client.init({apiKey:this.configs.apiKey,discoveryDocs:this.configs.discoveryDocs}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.configs.clientId,scope:this.configs.scopes,callback:""}),this.user.token&&this.user.expires_at&&this.user.expires_at>Date.now()&&window.gapi.client.setToken({access_token:this.user.token}),console.log("Login Google Init::: ",this.user),this.startCountdown()},async signIn({callback:t,errorCallback:e}={}){if(console.log(">>> Login iniciado edit::: "),!this.tokenClient)throw new Error("Google Auth no inicializado. Chame initGoogleAuth antes.");this.tokenClient.callback=async n=>{if(n.error){e&&e(n);return}const r=await kU(n.access_token);this.setUserFromToken({...n,name:r?.name,email:r?.email,picture:r?.picture,expires_in:n.expires_in,rawUserInfo:r}),t&&t(this.user)},this.tokenClient.requestAccessToken({prompt:"consent"})},signOut(){const t=window.gapi?.client?.getToken?.();t&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken("")),this.clearUser()}}});var Md,bw;function pA(){if(bw)return Md;bw=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Md=t,Md}var Ld,Ew;function DU(){if(Ew)return Ld;Ew=1;var t=typeof jc=="object"&&jc&&jc.Object===Object&&jc;return Ld=t,Ld}var Vd,Tw;function mA(){if(Tw)return Vd;Tw=1;var t=DU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Vd=n,Vd}var Fd,Iw;function NU(){if(Iw)return Fd;Iw=1;var t=mA(),e=function(){return t.Date.now()};return Fd=e,Fd}var Ud,Aw;function xU(){if(Aw)return Ud;Aw=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Ud=e,Ud}var Bd,Sw;function MU(){if(Sw)return Bd;Sw=1;var t=xU(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Bd=n,Bd}var jd,Rw;function gA(){if(Rw)return jd;Rw=1;var t=mA(),e=t.Symbol;return jd=e,jd}var $d,Cw;function LU(){if(Cw)return $d;Cw=1;var t=gA(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(a?o[i]=l:delete o[i]),d}return $d=s,$d}var qd,Pw;function VU(){if(Pw)return qd;Pw=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return qd=n,qd}var Hd,kw;function FU(){if(kw)return Hd;kw=1;var t=gA(),e=LU(),n=VU(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return Hd=o,Hd}var Kd,Ow;function UU(){if(Ow)return Kd;Ow=1;function t(e){return e!=null&&typeof e=="object"}return Kd=t,Kd}var Wd,Dw;function BU(){if(Dw)return Wd;Dw=1;var t=FU(),e=UU(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Wd=r,Wd}var zd,Nw;function jU(){if(Nw)return zd;Nw=1;var t=MU(),e=pA(),n=BU(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=s.test(f);return p||o.test(f)?a(f.slice(2),p?2:8):i.test(f)?r:+f}return zd=l,zd}var Gd,xw;function $U(){if(xw)return Gd;xw=1;var t=pA(),e=NU(),n=jU(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,f){var d,p,y,v,E,S,U=0,q=!1,L=!1,R=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(q=!!f.leading,L="maxWait"in f,y=L?i(n(f.maxWait)||0,l):y,R="trailing"in f?!!f.trailing:R);function x(P){var Ue=d,Ge=p;return d=p=void 0,U=P,v=a.apply(Ge,Ue),v}function B(P){return U=P,E=setTimeout(A,l),q?x(P):v}function ne(P){var Ue=P-S,Ge=P-U,Se=l-Ue;return L?s(Se,y-Ge):Se}function D(P){var Ue=P-S,Ge=P-U;return S===void 0||Ue>=l||Ue<0||L&&Ge>=y}function A(){var P=e();if(D(P))return I(P);E=setTimeout(A,ne(P))}function I(P){return E=void 0,R&&d?x(P):(d=p=void 0,v)}function O(){E!==void 0&&clearTimeout(E),U=0,d=S=p=E=void 0}function V(){return E===void 0?v:I(e())}function M(){var P=e(),Ue=D(P);if(d=arguments,p=this,S=P,Ue){if(E===void 0)return B(S);if(L)return clearTimeout(E),E=setTimeout(A,l),x(S)}return E===void 0&&(E=setTimeout(A,l)),v}return M.cancel=O,M.flush=V,M}return Gd=o,Gd}var qU=$U();const HU=gT(qU),Ds=(t="")=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),KU=(t,e)=>{if(!Array.isArray(t)||!e)return[];let n=t;const{search:r,title:i,locale:s,date:o,start:a,end:l,calendars:f=[]}=e;if(f.length){const d=new Set(f.map(Ds));n=n.filter(p=>d.has(p.normalizedList))}if(o){const d=o.slice(0,10);n=n.filter(p=>p.date instanceof Date&&p.date.toISOString().startsWith(d))}else{if(a){const d=new Date(a+"T00:00:00");n=n.filter(p=>p.date>=d)}if(l){const d=new Date(l+"T23:59:59");n=n.filter(p=>p.date<=d)}}if(r){const p=Ds(r).replace(/\bou\b/gi,",").split(/,|\s+/).map(y=>y.trim()).filter(Boolean).map(y=>new RegExp(`\\b${y}`,"i"));n=n.filter(y=>{const v=`${y.normalizedTitle||""} ${y.normalizedLocale||""} ${y.normalizedDesc||""}`;return p.every(E=>E.test(v))})}if(i){const d=new RegExp(Ds(i),"i");n=n.filter(p=>d.test(p.normalizedTitle))}if(s){const d=new RegExp(`^${Ds(s)}`,"i");n=n.filter(p=>d.test(p.normalizedLocale))}return n};HU((t,e,n)=>{const r=KU(t,e);n(r)},1e3);const Qd={date:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),time:new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:new Intl.DateTimeFormat("pt-BR",{weekday:"short"})};function WU(t){const e=t.date?new Date(t.date):null,n=t.title==="AVISOS  IRMANDADE";t.noDate=t.desc.includes("!nodate"),t.noDate&&(t.desc=t.desc.replace(/!nodate/gi,"").trim());const r=e&&!n&&!t.noDate,i=e&&e.getHours()>=3,{title:s,locale:o,desc:a,list:l}=t,f={...t,onDate:e};return r?(f.formatDate=Qd.date.format(e),f.formatWeek=Qd.weekday.format(e).replace(".","")):(f.formatDate="",f.formatWeek=""),r&&i?f.formatTime=Qd.time.format(e):f.formatTime="",f.normalizedTitle=Ds(s),f.normalizedLocale=Ds(o),f.normalizedDesc=Ds(a),f.normalizedList=Ds(l),f.desc=(a||"").replace(/<(?!\/?(b|br)\b)[^>]*>/gi,""),f.date=e,f.end=new Date(t.end),f}const zU=Vu("lista",{state:()=>({loading:!1,calendars:[],titles:[],locales:[],desc:[],allEvents:[]}),actions:{setLoading(t){this.loading=t},async loadEventsFromFile(){this.setLoading(!0);try{if(!this.allEvents?.length)try{let t;if(t=await $fetch(`/data/data.json?v=${new Date().toISOString().replace(/\D/g,"")}`),t?.eventos){const e=(t.eventos.items||[]).map(WU);this.locales=t.eventos.locales||[],this.titles=t.eventos.titles||[],this.desc=t.eventos.desc||[],this.allEvents=e}}catch(t){console.error("Erro ao carregar eventos:",t)}}finally{this.setLoading(!1),console.log("Lista inicializada com sucesso!")}},async init(){console.warn("Inicializando lista..."),this.loadEventsFromFile()}}}),GU=Vu("tags",{state:()=>({tags:[],defaultTags:[],suggestionsTags:[]}),actions:{async loadTagsFromFile(){if(!this.tags.length)try{if(!navigator.onLine){const s=await(await caches.open("v1")).match("/data/tags.json");if(s){const o=await s.json();this.tags=o.tags||[],this.defaultTags=o.defaultTags||[],this.suggestionsTags=o.suggestionsTags||[]}return}const{data:t,status:e,error:n}=await b_(`/data/tags.json?v=${new Date().toISOString().replace(/\D/g,"")}`,{key:"tags-data",server:!1},"$Y5ByR0upLZ");this.tags=t.value.tags||[],this.defaultTags=t.value.defaultTags||[],this.suggestionsTags=t.value.suggestionsTags||[];const{data:r}=await b_("/data/tags-circulares.json",{key:"tags-circulares",server:!1},"$MflRSbdvcv");this.tags=this.tags.concat(r.value.tags||[]),e.value==="success"&&t.value?(await caches.open("v1")).put("/data/tags.json",new Response(JSON.stringify(t.value),{headers:{"Content-Type":"application/json"}})):console.error("Erro ao carregar tags: ",n)}catch(t){console.error("Falha ao carregar tags:",t)}},async init(){this.loadTagsFromFile()}}}),QU=()=>({agenda:CU(),lista:zU(),auth:OU(),tags:GU(),settings:dA()}),JU=_n({name:"init-app",setup(){},hooks:{"app:mounted":()=>{const{auth:t,agenda:e,settings:n}=QU();e.init(),n.init(),t.init({clientId:"865568496873-o4enb1hhvpmj2unq7v9n6dcg94h5itp6.apps.googleusercontent.com",apiKey:"",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scopes:"openid profile email https://www.googleapis.com/auth/calendar"})}}}),YU=_n(async t=>{let e,n;function r(o,a={},l,f=5e3){const d=crypto.randomUUID?.()||Math.random().toString(36).slice(2),p=navigator.serviceWorker.controller;if(!p)return Promise.reject(new Error("Service Worker no est pronto."));const y=r._pending||=new Map;return new Promise((E,S)=>{const U=setTimeout(()=>{y.delete(d),S(new Error(`Timeout aguardando resposta do SW (${o})`))},f);y.set(d,q=>{clearTimeout(U),y.delete(d);const L=typeof q=="string"?JSON.parse(q):q;l?.(L),L&&L.error?S(new Error(L.error)):E(L)}),p.postMessage({id:d,type:o,payload:JSON.stringify(a)})})}const i={},s=(o,a)=>{i[o]||(i[o]=[]),i[o].push(a)};if(navigator.serviceWorker.addEventListener("message",o=>{const{id:a,type:l,result:f,message:d,data:p}=o.data,y=r._pending?.get(a);if(y){const v=typeof f=="string"?JSON.parse(f):f;y(v)}else if(i[l]){const v=typeof d=="string"?JSON.parse(d):d,E=typeof p=="string"?JSON.parse(p):p;i[l].forEach(S=>S({message:v,data:E}))}}),"serviceWorker"in navigator){try{const o=([e,n]=hi(()=>navigator.serviceWorker.register("/service-worker.js",{})),e=await e,n(),e);s("activated",a=>{console.log("Client: Service Worker ativado!",a.message)}),s("init",a=>{console.log("Client: Service Worker inicializado!",a.message)}),s("status_update",a=>{console.log("Client: Status Update:",a.message)}),s("message",a=>{const{$toast:l}=t;l.info(a.message,{duration:5e3,position:"bottom-right"})}),s("error",a=>{const{$toast:l}=t;l.error(a.message,{duration:5e3,position:"bottom-right"})}),o.addEventListener("updatefound",async()=>{o.installing?(console.log("Client: Service worker installing"),o.installing.addEventListener("statechange",async a=>{if(a.target.state==="activated"){console.log("Client: Service worker est instalado e ativo!");const{$toast:l}=t;l.info("App atualizado! Reiniciando",{duration:5e3,position:"bottom-right"}),setTimeout(()=>{window.location.reload()},5e3)}})):o.active&&console.log("Client: Service worker est ativo!")}),navigator.serviceWorker.controller&&console.log("Client: Service Worker iniciado.")}catch(o){console.error("Client: Falha no registro do Service Worker: ",o)}navigator.serviceWorker.addEventListener("controllerchange",async()=>{console.log("Client: O Service Worker ativo mudou. "),navigator.serviceWorker.controller&&await r("client_ping",{clientStatus:"controller_changed"})})}return r("update").then(()=>{console.log("Client: Verificao inicial de atualizao concluda.")}),{provide:{sw:{send:r,receive:s}}}}),Ju={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ic={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Wn={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},XU={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},ZU={dangerouslyHTMLString:!1,multiple:!0,position:Ju.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},eB={rtl:!1,newestOnTop:!1,toastClassName:""},yA={...ZU,...eB};Wn.DEFAULT;var bt=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(bt||{}),cm=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(cm||{});const tB={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},nB={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},rB={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},iB={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Mw="Toastify--animate Toastify__none-enter";function _A(t,e=!1){var n;let r=tB;if(!t||typeof t=="string")switch(t){case"flip":r=iB;break;case"zoom":r=rB;break;case"slide":r=nB;break}else r=t;if(e)r.enter=Mw;else if(r.enter===Mw){const i=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${i}-enter`}return r}function sB(t){return t.containerId||String(t.position)}const Dh="will-unmount";function oB(t=Ju.TOP_RIGHT){return!!document.querySelector(`.${bt.CSS_NAMESPACE}__toast-container--${t}`)}function aB(t=Ju.TOP_RIGHT){return`${bt.CSS_NAMESPACE}__toast-container--${t}`}function cB(t,e,n=!1){const r=[`${bt.CSS_NAMESPACE}__toast-container`,`${bt.CSS_NAMESPACE}__toast-container--${t}`,n?`${bt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return qa(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function uB(t){var e;const{position:n,containerClassName:r,rtl:i=!1,style:s={}}=t,o=bt.CSS_NAMESPACE,a=aB(n),l=document.querySelector(`.${o}`),f=document.querySelector(`.${a}`),d=!!f&&!((e=f.className)!=null&&e.includes(Dh)),p=l||document.createElement("div"),y=document.createElement("div");y.className=cB(n,r,i),y.dataset.testid=`${bt.CSS_NAMESPACE}__toast-container--${n}`,y.id=sB(t);for(const v in s)if(Object.prototype.hasOwnProperty.call(s,v)){const E=s[v];y.style[v]=E}return l||(p.className=bt.CSS_NAMESPACE,document.body.appendChild(p)),d||p.appendChild(y),y}function um(t){var e,n,r;const i=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),s=document.getElementById(i);s&&s.removeEventListener("animationend",um,!1);try{ku[i].unmount(),(r=document.getElementById(i))==null||r.remove(),delete ku[i],delete wn[i]}catch{}}const ku=fn({});function lB(t,e){const n=document.getElementById(String(e));n&&(ku[n.id]=t)}function lm(t,e=!0){const n=String(t);if(!ku[n])return;const r=document.getElementById(n);r&&r.classList.add(Dh),e?(hB(t),r&&r.addEventListener("animationend",um,!1)):um(n),Ti.items=Ti.items.filter(i=>i.containerId!==t)}function fB(t){for(const e in ku)lm(e,t);Ti.items=[]}function vA(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,..._A(r.transition)};const i=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${i}`,e&&e(n)}}function hB(t){for(const e in wn)if(e===t)for(const n of wn[e]||[])vA(n)}function dB(t){const e=sc().find(n=>n.toastId===t);return e?.containerId}function zg(t){return document.getElementById(t)}function pB(t){const e=zg(t.containerId);return e&&e.classList.contains(Dh)}function Lw(t){var e;const n=Us(t.content)?Qe(t.content.props):null;return n??Qe((e=t.data)!=null?e:{})}function mB(t){return t?Ti.items.filter(e=>e.containerId===t).length>0:Ti.items.length>0}function gB(){if(Ti.items.length>0){const t=Ti.items.shift();Hl(t?.toastContent,t?.toastProps)}}const wn=fn({}),Ti=fn({items:[]});function sc(){const t=Qe(wn);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function yB(t){return sc().find(e=>e.toastId===t)}function Hl(t,e={}){if(pB(e)){const n=zg(e.containerId);n&&n.addEventListener("animationend",fm.bind(null,t,e),!1)}else fm(t,e)}function fm(t,e={}){const n=zg(e.containerId);n&&n.removeEventListener("animationend",fm.bind(null,t,e),!1);const r=wn[e.containerId]||[],i=r.length>0;if(!i&&!oB(e.position)){const s=uB(e),o=aE(VB,e);e.useHandler&&e.useHandler(o),o.mount(s),lB(o,s.id)}i&&!e.updateId&&(e.position=r[0].position),fr(()=>{e.updateId?or.update(e):or.add(t,e)})}const or={add(t,e){const{containerId:n=""}=e;n&&(wn[n]=wn[n]||[],wn[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,i;e.newestOnTop?(r=wn[n])==null||r.unshift(e):(i=wn[n])==null||i.push(e),e.onOpen&&e.onOpen(Lw(e))},e.delay||0))},remove(t){if(t){const e=dB(t);if(e){const n=wn[e];let r=n.find(i=>i.toastId===t);wn[e]=n.filter(i=>i.toastId!==t),!wn[e].length&&!mB(e)&&lm(e,!1),gB(),fr(()=>{r!=null&&r.onClose&&(r.onClose(Lw(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){wn[e]=wn[e]||[];const n=wn[e].find(s=>s.toastId===t.toastId),r=n?.position!==t.position||n?.transition!==t.transition,i={...t,disabledEnterTransition:!r,updateId:void 0};or.dismissForce(t?.toastId),setTimeout(()=>{dt(i.content,i)},t.delay||0)}},clear(t,e=!0){t?lm(t,e):fB(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",or.dismissCallback,!1),setTimeout(()=>{or.remove(n)}))},dismiss(t){if(t){const e=sc();for(const n of e)if(n.toastId===t){vA(n,r=>{r.addEventListener("animationend",or.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=sc();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",or.dismissCallback,!1),or.remove(t));break}}}},_B=fn({useHandler:void 0}),wA=fn({}),Uf=fn({});function bA(){return Math.random().toString(36).substring(2,9)}function vB(t){return typeof t=="number"&&!isNaN(t)}function hm(t){return typeof t=="string"}function qa(t){return typeof t=="function"}function Nh(...t){return Ii(...t)}function Kl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof t?.type=="object")}function wB(t={}){wA[`${bt.CSS_NAMESPACE}-default-options`]=t}function bB(){return wA[`${bt.CSS_NAMESPACE}-default-options`]||yA}function EB(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Wl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Wl||{});const EA={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Ju.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:ic.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Wn.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},TB={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Wn.DEFAULT},theme:{type:String,required:!1,default:ic.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},IB=Xt({name:"ProgressBar",props:TB,setup(t,{attrs:e}){const n=Ut(),r=et(()=>t.hide?"true":"false"),i=et(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),s=et(()=>[`${bt.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${bt.CSS_NAMESPACE}__progress-bar--controlled`:`${bt.CSS_NAMESPACE}__progress-bar--animated`,`${bt.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${bt.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${bt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=et(()=>`${s.value} ${e?.class||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},f=et(()=>t.controlledProgress?null:l),d=et(()=>t.controlledProgress?l:null);return Gc(()=>{n.value&&(a(),n.value.onanimationend=f.value,n.value.ontransitionend=d.value)}),()=>ze("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:o.value,style:i.value},null)}}),AB=Xt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:ic.AUTO},type:{type:String,required:!1,default:ic.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>ze("button",{class:`${bt.CSS_NAMESPACE}__close-button ${bt.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[ze("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[ze("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),xh=({theme:t,type:e,path:n,...r})=>ze("svg",Ii({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[ze("path",{d:n},null)]);function SB(t){return ze(xh,Ii(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function RB(t){return ze(xh,Ii(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function CB(t){return ze(xh,Ii(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function PB(t){return ze(xh,Ii(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function kB(){return ze("div",{class:`${bt.CSS_NAMESPACE}__spinner`},null)}const zl={info:RB,warning:SB,success:CB,error:PB,spinner:kB},OB=t=>t in zl;function DB({theme:t,type:e,isLoading:n,icon:r}){let i;const s=!!n||e==="loading",o={theme:t,type:e};if(s&&(r===void 0||typeof r=="boolean"))return zl.spinner();if(r!==!1){if(Kl(r))i=Qe(r);else if(qa(r)){const a=r;o.type=s?"loading":e,i=a(o),i=!i&&s?zl.spinner():i}else Us(r)?i=wi(r,o):hm(r)||vB(r)?i=r:OB(e)&&(i=zl[e](o));return i}}const NB=()=>{};function xB(t,e,n=bt.COLLAPSE_DURATION){const{scrollHeight:r,style:i}=t,s=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,s)})})}function MB(t){const e=Ut(!1),n=Ut(!1),r=Ut(!1),i=Ut(Wl.Enter),s=fn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||bt.COLLAPSE_DURATION}),o=s.done||NB,a=et(()=>s.appendPosition?`${s.enter}--${s.position}`:s.enter),l=et(()=>s.appendPosition?`${s.exit}--${s.position}`:s.exit),f=et(()=>t.pauseOnHover?{onMouseenter:U,onMouseleave:S}:{});function d(){const L=a.value.split(" ");y().addEventListener(cm.ENTRANCE_ANIMATION_END,S,{once:!0});const R=B=>{const ne=y();B.target===ne&&(ne.dispatchEvent(new Event(cm.ENTRANCE_ANIMATION_END)),ne.removeEventListener("animationend",R),ne.removeEventListener("animationcancel",R),i.value===Wl.Enter&&B.type!=="animationcancel"&&ne.classList.remove(...L))},x=()=>{const B=y();B.classList.add(...L),B.addEventListener("animationend",R),B.addEventListener("animationcancel",R)};t.pauseOnFocusLoss&&v(),x()}function p(){if(!y())return;const L=()=>{const x=y();x.removeEventListener("animationend",L),s.collapse?xB(x,o,s.collapseDuration):o()},R=()=>{const x=y();i.value=Wl.Exit,x&&(x.className+=` ${l.value}`,x.addEventListener("animationend",L))};n.value||(r.value?L():setTimeout(R))}function y(){return t.toastRef.value}function v(){document.hasFocus()||U(),window.addEventListener("focus",S),window.addEventListener("blur",U)}function E(){window.removeEventListener("focus",S),window.removeEventListener("blur",U)}function S(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function U(){e.value=!1}function q(L){L&&(L.stopPropagation(),L.preventDefault()),n.value=!1}return Gc(p),Gc(()=>{const L=sc();n.value=L.findIndex(R=>R.toastId===s.toastId)>-1}),Gc(()=>{t.isLoading!==void 0&&(t.loading.value?U():S())}),zo(d),dr(()=>{t.pauseOnFocusLoss&&E()}),{isIn:n,isRunning:e,hideToast:q,eventHandlers:f}}const LB=Xt({name:"ToastItem",inheritAttrs:!1,props:EA,setup(t){const e=Ut(),n=et(()=>!!t.isLoading),r=et(()=>t.progress!==void 0&&t.progress!==null),i=et(()=>DB(t)),s=et(()=>[`${bt.CSS_NAMESPACE}__toast`,`${bt.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${bt.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${bt.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:f}=MB({toastRef:e,loading:n,done:()=>{or.remove(t.toastId)},..._A(t.transition,t.disabledEnterTransition),...t});return()=>ze("div",Ii({id:t.toastId,class:s.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},f.value),[ze("div",{role:t.role,"data-testid":"toast-body",class:`${bt.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[i.value!=null&&ze("div",{"data-testid":`toast-icon-${t.type}`,class:[`${bt.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${bt.CSS_NAMESPACE}--animate-icon ${bt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Kl(i.value)?Ht(Qe(i.value),{theme:t.theme,type:t.type}):qa(i.value)?i.value({theme:t.theme,type:t.type}):i.value]),ze("div",{"data-testid":"toast-content"},[Kl(t.content)?Ht(Qe(t.content),{toastProps:Qe(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):qa(t.content)?t.content({toastProps:Qe(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Ht("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&ze(AB,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),Kl(t.closeButton)?Ht(Qe(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):qa(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,ze(IB,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let ou=0;function TA(){typeof window>"u"||(ou&&window.cancelAnimationFrame(ou),ou=window.requestAnimationFrame(TA),Uf.lastUrl!==window.location.href&&(Uf.lastUrl=window.location.href,or.clear()))}const VB=Xt({name:"ToastifyContainer",inheritAttrs:!1,props:EA,setup(t){const e=et(()=>t.containerId),n=et(()=>wn[e.value]||[]),r=et(()=>n.value.filter(i=>i.position===t.position));return zo(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(TA)}),dr(()=>{typeof window<"u"&&ou&&(window.cancelAnimationFrame(ou),Uf.lastUrl="")}),()=>ze(Dn,null,[r.value.map(i=>{const{toastId:s=""}=i;return ze(LB,Ii({key:s},i),null)})])}});let Jd=!1;const IA={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function AA(){const t=[];return sc().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(Dh)&&t.push(e)}),t}function FB(t){const e=AA().length,n=t??0;return n>0&&e+Ti.items.length>=n}function UB(t){FB(t.limit)&&!t.updateId&&Ti.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Xs(t,e,n={}){if(Jd)return;n=Nh(bB(),{type:e},Qe(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=bA()),n={...n,...n.type==="loading"?IA:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n?.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=EB()),UB(n),Uf.lastUrl=window.location.href,n.multiple?Ti.items.length?n.updateId&&Hl(t,n):Hl(t,n):(Jd=!0,dt.clearAll(void 0,!1),setTimeout(()=>{Hl(t,n)},0),setTimeout(()=>{Jd=!1},390)),n.toastId}const dt=(t,e)=>Xs(t,Wn.DEFAULT,e);dt.info=(t,e)=>Xs(t,Wn.DEFAULT,{...e,type:Wn.INFO});dt.error=(t,e)=>Xs(t,Wn.DEFAULT,{...e,type:Wn.ERROR});dt.warning=(t,e)=>Xs(t,Wn.DEFAULT,{...e,type:Wn.WARNING});dt.warn=dt.warning;dt.success=(t,e)=>Xs(t,Wn.DEFAULT,{...e,type:Wn.SUCCESS});dt.loading=(t,e)=>Xs(t,Wn.DEFAULT,Nh(e,IA));dt.dark=(t,e)=>Xs(t,Wn.DEFAULT,Nh(e,{theme:ic.DARK}));dt.remove=t=>{t?or.dismiss(t):or.clear()};dt.clearAll=(t,e)=>{fr(()=>{or.clear(t,e)})};dt.isActive=t=>{let e=!1;return e=AA().findIndex(n=>n.toastId===t)>-1,e};dt.update=(t,e={})=>{setTimeout(()=>{const n=yB(t);if(n){const r=Qe(n),{content:i}=r,s={...r,...e,toastId:e.toastId||t,updateId:bA()},o=s.render||i;delete s.render,Xs(o,s.type,s)}},0)};dt.done=t=>{dt.update(t,{isLoading:!1,progress:1})};dt.promise=BB;function BB(t,{pending:e,error:n,success:r},i){var s,o,a;let l;const f={...i||{},autoClose:!1};e&&(l=hm(e)?dt.loading(e,f):dt.loading(e.render,{...f,...e}));const d={autoClose:(s=i?.autoClose)!=null?s:!0,closeOnClick:(o=i?.closeOnClick)!=null?o:!0,closeButton:(a=i?.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},p=(v,E,S)=>{if(E==null){dt.remove(l);return}const U={type:v,...d,...i,data:S},q=hm(E)?{render:E}:E;return l?dt.update(l,{...U,...q,isLoading:!1}):dt(q.render,{...U,...q,isLoading:!1}),S},y=qa(t)?t():t;return y.then(v=>{p("success",r,v)}).catch(v=>{p("error",n,v)}),y}dt.POSITION=Ju;dt.THEME=ic;dt.TYPE=Wn;dt.TRANSITIONS=XU;const SA={install(t,e={}){_B.useHandler=e.useHandler||(()=>{}),jB(e)}};typeof window<"u"&&(window.Vue3Toastify=SA);function jB(t={}){const e=Nh(yA,t);wB(e)}const $B=_n(t=>(t.vueApp.use(SA,{autoClose:2e3,theme:"dark",progressStyle:{background:"#757575"},style:{opacity:.8},position:"bottom-right"}),{provide:{toast:{success:dt.success,error:dt.error,info:dt.info,warn:dt.warn,promise:dt.promise}}})),qB=[A1,R1,D1,aO,uO,lO,fO,dO,WO,zO,GO,YO,iD,uD,bU,JU,YU,$B],dm=Symbol("head-component"),Gg={body:{type:Boolean,default:void 0},tagPosition:{type:String}},Yu=t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return typeof e.body<"u"&&(e.tagPosition=e.body?"bodyClose":"head"),typeof e.renderPriority<"u"&&(e.tagPriority=e.renderPriority),e};function Jo(){return Kt(dm,RA,!0)}function RA(){const t=Kt(dm,null);if(t)return t;const e=fn({}),n=$E(e),r={input:e,entry:n};return Yi(dm,r),r}const vc={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};({...vc,...Gg});({...vc,...Gg});({...vc});const HB=Xt({name:"Title",inheritAttrs:!1,setup(t,{slots:e}){const{input:n}=Jo();return dr(()=>n.title=null),()=>{const r=e.default?.();return n.title=r?.[0]?.children?String(r?.[0]?.children):void 0,null}}}),KB=Xt({name:"Meta",inheritAttrs:!1,props:{...vc,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(t){const{input:e}=Jo();e.meta||=[];const n=e.meta.push({})-1;return dr(()=>e.meta[n]=null),()=>{const r={"http-equiv":t.httpEquiv,...Yu(t)};return"httpEquiv"in r&&delete r.httpEquiv,e.meta[n]=r,null}}}),WB=Xt({name:"Style",inheritAttrs:!1,props:{...vc,...Gg,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(t,{slots:e}){const{input:n}=Jo();n.style||=[];const r=n.style.push({})-1;return dr(()=>n.style[r]=null),()=>{const i=Yu(t),s=e.default?.()?.[0]?.children;return s&&(n.style[r]=i,i.textContent=s),null}}}),zB=Xt({name:"Head",inheritAttrs:!1,setup:(t,e)=>(RA(),()=>e.slots.default?.())});({...vc});const CA=(t="RouteProvider")=>Xt({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,i={};for(const s in e.route)Object.defineProperty(i,s,{get:()=>n===e.renderKey?e.route[s]:r[s],enumerable:!0});return Yi(jo,li(i)),()=>e.vnode?Ht(e.vnode,{ref:e.vnodeRef}):e.vnode}}),GB=CA(),Vw=new WeakMap,QB=Xt({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const i=Vt(),s=Ut(),o=Kt(jo,null);let a;r({pageRef:s});const l=Kt(AE,null);let f;const d=i.deferHydration();if(i.isHydrating){const y=i.hooks.hookOnce("app:error",d);Kn().beforeEach(y)}t.pageKey&&Ir(()=>t.pageKey,(y,v)=>{y!==v&&i.callHook("page:loading:start")});let p=!1;{const y=Kn().beforeResolve(()=>{p=!1});uc(()=>{y()})}return()=>Ht(sT,{name:t.name,route:t.route,...e},{default:y=>{const v=YB(o,y.route,y.Component),E=o&&o.matched.length===y.route.matched.length;if(!y.Component){if(f&&!E)return f;d();return}if(f&&l&&!l.isCurrent(y.route))return f;if(v&&o&&(!l||l?.isCurrent(o)))return E?f:null;const S=Pp(y,t.pageKey),U=XB(o,y.route,y.Component);!i.isHydrating&&a===S&&!U&&fr(()=>{p=!0,i.callHook("page:loading:end")}),a=S;const q=!!(t.transition??y.route.meta.pageTransition??Uy),L=q&&JB([t.transition,y.route.meta.pageTransition,Uy,{onAfterLeave(){delete i._runningTransition,i.callHook("page:transition:finish",y.Component)}}]),R=t.keepalive??y.route.meta.keepalive??hP;return f=aT(q&&L,$k(R,Ht(Nm,{suspensible:!0,onPending:()=>{q&&(i._runningTransition=!0),i.callHook("page:start",y.Component)},onResolve:()=>{fr(()=>i.callHook("page:finish",y.Component).then(()=>{if(delete i._runningTransition,!p&&!U)return p=!0,i.callHook("page:loading:end")}).finally(d))}},{default:()=>{const x={key:S||void 0,vnode:n.default?ZB(n.default,y):y.Component,route:y.route,renderKey:S||void 0,trackRootNodes:q,vnodeRef:s};if(!R)return Ht(GB,x);const B=y.Component.type,ne=B;let D=Vw.get(ne);return D||(D=CA(B.name||B.__name),Vw.set(ne,D)),Ht(D,x)}}))).default(),f}})}});function JB(t){const e=[];for(const n of t)n&&e.push({...n,onAfterLeave:n.onAfterLeave?Wm(n.onAfterLeave):void 0});return TE(...e)}function YB(t,e,n){if(!t)return!1;const r=e.matched.findIndex(i=>i.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((i,s)=>i.components?.default!==t.matched[s]?.components?.default)||n&&Pp({route:e,Component:n})!==Pp({route:t,Component:n})}function XB(t,e,n){return t?e.matched.findIndex(i=>i.components?.default===n?.type)<e.matched.length-1:!1}function ZB(t,e){const n=t(e);return n.length===1?Ht(n[0]):Ht(Dn,void 0,n)}const ej=Xt({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>Ht(ks[t.name],t.layoutProps,e.slots)}}),tj={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},nj=Xt({name:"NuxtLayout",inheritAttrs:!1,props:tj,setup(t,e){const n=Vt(),r=Kt(jo),s=!r||r===th()?oT():r,o=et(()=>{let d=St(t.name)??s?.meta.layout??"default";return d&&!(d in ks)&&t.fallback&&(d=St(t.fallback)),d}),a=ts();e.expose({layoutRef:a});const l=n.deferHydration();if(n.isHydrating){const d=n.hooks.hookOnce("app:error",l);Kn().beforeEach(d)}let f;return()=>{const d=o.value&&o.value in ks,p=s?.meta.layoutTransition??fP,y=f;return f=o.value,aT(d&&p,{default:()=>Ht(Nm,{suspensible:!0,onResolve:()=>{fr(l)}},{default:()=>Ht(rj,{layoutProps:Ii(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:v=>v!==y&&v===o.value,hasTransition:!!p},e.slots)})}).default()}}}),rj=Xt({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Yi(AE,{isCurrent:s=>n===(s.meta.layout??"default")});const r=Kt(jo);if(r&&r===th()){const s=oT(),o={};for(const a in s){const l=a;Object.defineProperty(o,l,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?s[l]:r[l]})}Yi(jo,li(o))}return()=>!n||typeof n=="string"&&!(n in ks)?e.slots.default?.():Ht(ej,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),PA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},ij={__name:"app",setup(t){const e=Ut("Agenda Regional Faina");return w1({title:e.value,ogTitle:"Agenda Regional Faina",description:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogDescription:"Acompanhe a agenda da regio de Faina com informaes sobre congregaes, atendimentos, eventos e batismos.",ogImage:"https://congregacaocristanobrasil.org.br/assets/images/logo-ccb-light.png",twitterCard:"summary_large_image",keywords:"Agenda, Regional, Faina, Congregao, Atendimentos, Eventos, Batismos"}),(n,r)=>{const i=HB,s=KB,o=WB,a=zB,l=np("VitePwaManifest"),f=QB,d=nj;return ui(),xm(Dn,null,[ze(a,null,{default:ko(()=>[ze(i,null,{default:ko(()=>[du(Gl(St(e)),1)]),_:1}),ze(s,{name:"description",content:St(e)},null,8,["content"]),ze(o,null,{default:ko(()=>[...r[0]||(r[0]=[du(" body {} ",-1)])]),_:1})]),_:1}),ze(d,null,{default:ko(()=>[ze(l),ze(f)]),_:1})],64)}}},sj=PA(ij,[["__scopeId","data-v-8ea51f04"]]),oj={class:"error-page"},aj={__name:"error",setup(t){const e=Mu();return console.error("Um erro ocorreu:",e.value),RE({redirect:"/"}),(n,r)=>{const i=$O;return ui(),xm("div",oj,[of("h1",null,Gl(St(e).statusCode),1),of("p",null,Gl(St(e).message),1),ze(i,{to:"/"},{default:ko(()=>[...r[0]||(r[0]=[du("Voltar para a pgina inicial",-1)])]),_:1})])}}},cj=PA(aj,[["__scopeId","data-v-785eb261"]]),uj={key:0},Fw={__name:"nuxt-root",setup(t){const e=()=>null,n=Vt(),r=n.deferHydration();if(n.isHydrating){const f=n.hooks.hookOnce("app:error",r);Kn().beforeEach(f)}const i=!1;Yi(jo,th()),n.hooks.callHookWith(f=>f.map(d=>d()),"vue:setup");const s=Mu(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Cb((f,d,p)=>{if(n.hooks.callHook("vue:error",f,d,p).catch(y=>console.error("[nuxt] Error in `vue:error` hook",y)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",f),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,f),!1;if(CE(f)&&(f.fatal||f.unhandled))return n.runWithContext(()=>Ro(f)),!1});const l=!1;return(f,d)=>(ui(),wa(Nm,{onResolve:St(r)},{default:ko(()=>[St(o)?(ui(),xm("div",uj)):St(s)?(ui(),wa(St(cj),{key:1,error:St(s)},null,8,["error"])):St(l)?(ui(),wa(St(e),{key:2,context:St(l)},null,8,["context"])):St(i)?(ui(),wa(jS(St(i)),{key:3})):(ui(),wa(St(sj),{key:4}))]),_:1},8,["onResolve"]))}};let Uw;{let t;Uw=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?aC(Fw):aE(Fw),i=vP({vueApp:r});async function s(o){await i.callHook("app:error",o),i.payload.error||=xs(o)}r.config.errorHandler=s,i.hook("app:suspense:resolve",()=>{r.config.errorHandler===s&&(r.config.errorHandler=void 0)}),!n&&By.id&&i.hook("app:suspense:resolve",()=>{document.getElementById(By.id)?.remove()});try{await EP(i,qB)}catch(o){s(o)}try{await i.hooks.callHook("app:created",r),await i.hooks.callHook("app:beforeMount",r),r.mount(gP),await i.hooks.callHook("app:mounted",r),await fr()}catch(o){s(o)}return r},t=Uw().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{gj as $,zo as A,wa as B,yj as C,KU as D,vm as E,Dn as F,AU as G,dA as H,_j as I,OU as J,Xt as K,Ht as L,Gc as M,vj as N,fr as O,dj as P,np as Q,uc as R,EU as S,VR as T,Rm as U,gS as V,us as W,$E as X,$j as Y,NP as Z,PA as _,of as a,rM as a0,zi as a1,xj as a2,Et as a3,Uj as a4,C0 as a5,jj as a6,Bj as a7,Lj as a8,Vj as a9,Fj as aa,QB as ab,ac,au as ad,ts as ae,ze as b,xm as c,$O as d,du as e,Vt as f,oT as g,hj as h,Ir as i,et as j,lj as k,wj as l,St as m,fj as n,ui as o,AO as p,bj as q,Ut as r,wm as s,pj as t,QU as u,mj as v,ko as w,Gl as x,b_ as y,fn as z};
