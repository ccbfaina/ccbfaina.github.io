import{c as T,g as F,i as I,e as w,l as N,p as Y,a as g,h as b,d as W,f as Z,j as ae,s as le,w as M,k as ie,o as ee,m as te,n as re,q as se,r as ce,t as S,u as B,v as ue,x as q,y as de,z as fe,A as ge,B as pe,C as z,D as y,E as a,F as i,G as V,Q as A,H as ve,I as me,J as G,K,L,M as Q,N as he}from"./index-GUTASxEq.js";import{Q as ye,a as be,b as we,c as Ce,d as _e,e as $,f as P,C as k}from"./QDialog-Dx7uDrqT.js";import{Q as j}from"./QList-BKRO6Pqw.js";import{Q as J}from"./QResizeObserver-ZZL42RJ5.js";import{u as xe}from"./use-quasar-DDu18Vp-.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-CjoKdMar.js";import"./QSeparator-B4cErR4k.js";import"./focus-manager-DNoq2uyl.js";const Se=T({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:c}){const{proxy:{$q:o}}=F(),e=I(N,w);if(e===w)return console.error("QPage needs to be a deep child of QLayout"),w;if(I(Y,w)===w)return console.error("QPage needs to be child of QPageContainer"),w;const r=g(()=>{const u=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const v=e.isContainer.value===!0?e.containerHeight.value:o.screen.height;return t.styleFn(u,v)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-u+"px":o.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":o.screen.height-u+"px"}}),p=g(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>b("main",{class:p.value,style:r.value},W(c.default))}}),Le=T({name:"QPageContainer",setup(t,{slots:c}){const{proxy:{$q:o}}=F(),e=I(N,w);if(e===w)return console.error("QPageContainer needs to be child of QLayout"),w;Z(Y,!0);const l=g(()=>{const r={};return e.header.space===!0&&(r.paddingTop=`${e.header.size}px`),e.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(r.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),r});return()=>b("div",{class:"q-page-container",style:l.value},W(c.default))}}),{passive:X}=ae,Qe=["both","horizontal","vertical"],$e=T({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Qe.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:le},emits:["scroll"],setup(t,{emit:c}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,l,r;M(()=>t.scrollTarget,()=>{v(),u()});function p(){e!==null&&e();const s=Math.max(0,se(l)),_=ce(l),m={top:s-o.position.top,left:_-o.position.left};if(t.axis==="vertical"&&m.top===0||t.axis==="horizontal"&&m.left===0)return;const E=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";o.position={top:s,left:_},o.directionChanged=o.direction!==E,o.delta=m,o.directionChanged===!0&&(o.direction=E,o.inflectionPoint=o.position),c("scroll",{...o})}function u(){l=ie(r,t.scrollTarget),l.addEventListener("scroll",d,X),d(!0)}function v(){l!==void 0&&(l.removeEventListener("scroll",d,X),l=void 0)}function d(s){if(s===!0||t.debounce===0||t.debounce==="0")p();else if(e===null){const[_,m]=t.debounce?[setTimeout(p,t.debounce),clearTimeout]:[requestAnimationFrame(p),cancelAnimationFrame];e=()=>{m(_),e=null}}}const{proxy:C}=F();return M(()=>C.$q.lang.rtl,p),ee(()=>{r=C.$el.parentNode,u()}),te(()=>{e!==null&&e(),v()}),Object.assign(C,{trigger:d,getPosition:()=>o}),re}}),Pe=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:c,emit:o}){const{proxy:{$q:e}}=F(),l=S(null),r=S(e.screen.height),p=S(t.container===!0?0:e.screen.width),u=S({position:0,direction:"down",inflectionPoint:0}),v=S(0),d=S(ue.value===!0?0:B()),C=g(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),s=g(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),_=g(()=>d.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),m=g(()=>d.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function E(n){if(t.container===!0||document.qScrollPrevented!==!0){const f={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};u.value=f,t.onScroll!==void 0&&o("scroll",f)}}function oe(n){const{height:f,width:x}=n;let h=!1;r.value!==f&&(h=!0,r.value=f,t.onScrollHeight!==void 0&&o("scrollHeight",f),O()),p.value!==x&&(h=!0,p.value=x),h===!0&&t.onResize!==void 0&&o("resize",n)}function ne({height:n}){v.value!==n&&(v.value=n,O())}function O(){if(t.container===!0){const n=r.value>v.value?B():0;d.value!==n&&(d.value=n)}}let R=null;const D={instances:{},view:g(()=>t.view),isContainer:g(()=>t.container),rootRef:l,height:r,containerHeight:v,scrollbarWidth:d,totalWidth:g(()=>p.value+d.value),rows:g(()=>{const n=t.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:q({size:0,offset:0,space:!1}),right:q({size:300,offset:0,space:!1}),footer:q({size:0,offset:0,space:!1}),left:q({size:300,offset:0,space:!1}),scroll:u,animate(){R!==null?clearTimeout(R):document.body.classList.add("q-body--layout-animate"),R=setTimeout(()=>{R=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,f,x){D[n][f]=x}};if(Z(N,D),B()>0){let n=function(){h=null,H.classList.remove("hide-scrollbar")},f=function(){if(h===null){if(H.scrollHeight>e.screen.height)return;H.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(n,300)},x=function(U){h!==null&&U==="remove"&&(clearTimeout(h),n()),window[`${U}EventListener`]("resize",f)},h=null;const H=document.body;M(()=>t.container!==!0?"add":"remove",x),t.container!==!0&&x("add"),de(()=>{x("remove")})}return()=>{const n=fe(c.default,[b($e,{onScroll:E}),b(J,{onResize:oe})]),f=b("div",{class:C.value,style:s.value,ref:t.container===!0?void 0:l,tabindex:-1},n);return t.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:l},[b(J,{onResize:ne}),b("div",{class:"absolute-full",style:_.value},[b("div",{class:"scroll",style:m.value},[f])])]):f}}}),ke=T({name:"QCardActions",props:{...ge,vertical:Boolean},setup(t,{slots:c}){const o=pe(t),e=g(()=>`q-card__actions ${o.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:e.value},W(c.default))}}),qe={__name:"UpdateApp",setup(t){const c=S(!1),o=()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),c.value=!1,window.location.reload()};return(e,l)=>(y(),z(we,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=r=>c.value=r)},{default:a(()=>[i(ye,null,{default:a(()=>[i(be,null,{default:a(()=>l[2]||(l[2]=[V("div",{class:"text-h6"},"Atualização Disponível",-1),V("div",null,"A nova versão está pronta. Atualizar agora?",-1)])),_:1}),i(ke,{align:"right"},{default:a(()=>[i(A,{flat:"",label:"Cancelar",onClick:l[0]||(l[0]=r=>c.value=!1)}),i(A,{flat:"",label:"Atualizar",onClick:o})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ae={class:"print-hide absolute-top-left row q-ma-md flex"},Te={key:0,class:"off"},Ee={__name:"MainLayout",setup(t){const c=ve(),o=xe(),e=q({connected:navigator.onLine}),l=g(()=>window.history.length>1),r=()=>{window.history.back()},p=()=>{c.push("/")},u=()=>{e.connected=navigator.onLine};ee(()=>{window.addEventListener("online",u),window.addEventListener("offline",u)}),te(()=>{window.removeEventListener("online",u),window.removeEventListener("offline",u)});const v=()=>!!navigator.share,d=()=>{v()?navigator.share({title:"Agenda",text:"Lista de Atendimento",url:location.href}).then(()=>o.notify({type:"positive",message:"Compartilhado com sucesso!"})).catch(C=>o.notify({type:"negative",message:`Erro: ${C}`})):(navigator.clipboard.writeText(location.href),o.notify({type:"info",message:"URL copiada."}))};return(C,s)=>{const _=me("router-view");return y(),G(he,null,[V("div",Ae,[i(A,{color:"primary",flat:"",round:"",icon:"home",class:"q-mr-sm cursor-pointer z-top",onClick:p,"aria-label":"Pagina Inicial"}),l.value?(y(),z(A,{key:0,color:"primary",flat:"",round:"",icon:"arrow_back",class:"q-mr-sm cursor-pointer z-top",onClick:r,"aria-label":"Voltar"})):K("",!0)]),i(A,{color:"primary",flat:"",round:"",icon:"more_vert",class:"print-hide z-top absolute-top-right q-pa-md","aria-label":"Menu"},{default:a(()=>[i(Ce,{anchor:"top right",self:"top end",class:"z-top"},{default:a(()=>[i(_e,{label:"Agenda","expand-separator":""},{default:a(()=>[i(j,null,{default:a(()=>[L((y(),z($,{to:"/settings",clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[0]||(s[0]=[Q("Configurações")])),_:1})]),_:1})),[[k]]),L((y(),z($,{to:"/lista/?pesquisar=*",clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[1]||(s[1]=[Q("Lista de Atendimentos")])),_:1})]),_:1})),[[k]]),L((y(),z($,{to:"/tags",clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[2]||(s[2]=[Q("Tags")])),_:1})]),_:1})),[[k]])]),_:1})]),_:1}),i(j,{style:{"min-width":"200px"}},{default:a(()=>[L((y(),z($,{onClick:d,clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[3]||(s[3]=[Q("Compartilhar")])),_:1})]),_:1})),[[k]]),L((y(),z($,{to:"/calendar/2025?filters=Lista: REGIONAL FAINA",clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[4]||(s[4]=[Q("Calendário")])),_:1})]),_:1})),[[k]]),L((y(),z($,{to:"/sobre",clickable:""},{default:a(()=>[i(P,null,{default:a(()=>s[5]||(s[5]=[Q("Sobre")])),_:1})]),_:1})),[[k]])]),_:1})]),_:1})]),_:1}),i(Pe,{view:"lHh Lpr lFf"},{default:a(()=>[i(Le,null,{default:a(()=>[i(Se,null,{default:a(()=>[i(_),i(qe),e.connected?K("",!0):(y(),G("div",Te,"Você está off-line"))]),_:1})]),_:1})]),_:1})],64)}}},Oe=ze(Ee,[["__scopeId","data-v-8257be83"]]);export{Oe as default};
