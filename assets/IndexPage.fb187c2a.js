import{x as m,f as E,w as b,o as C,B as I,E as n,F as u,H as i,M as f,K as $,af as B,O as h,_ as v,G as r,N as S,ag as D,J as L,R as N,ah as Q}from"./index.e1c7799b.js";import{Q as q}from"./QInput.9c0fea5b.js";import{Q as K}from"./QChip.47567a38.js";import{a as P,b as w}from"./app.b26607db.js";import{_ as R}from"./TagsShow.a752b207.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";import"./focus-manager.b742f9f4.js";import"./use-dark.7a82b6ee.js";const V={class:"tag-list"},F=["onClick"],M={__name:"inputSearch",emits:["search"],setup(g,{emit:d}){const o=d,l=m(null),a=m(""),x=async e=>{if(!e.href)return;const t=e.href.startsWith("http://")||e.href.startsWith("https://");try{t?window.open(e.href,"_blank"):(e.autoSave&&await P(w,e),window.location.href=e.href)}catch(s){console.error("Erro ao tentar abrir a URL:",s)}},y=E(()=>{const e=a.value.split(" ").filter(t=>t.trim()!=="").map(t=>c(t));return w.agenda.tagsSuggestions.filter(t=>e.every(s=>new RegExp(`\\b${s}`,"i").test(c(t.title||""))||new RegExp(`\\b${s}`,"i").test(c(t.description||""))))}),c=e=>e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")||"";b(a,e=>{e&&o("search",e)});const p=()=>{a.value&&(window.location.href=`${window.location.origin}/#/lista/?pesquisar=${a.value}`)},_=e=>{e.key==="Escape"&&(a.value="",l.value?.focus())};return C(()=>{window.addEventListener("keydown",_),l.value?.focus()}),I(()=>{window.removeEventListener("keydown",_)}),(e,t)=>(n(),u("div",null,[i(q,{ref_key:"searchInput",ref:l,onKeyup:B(p,["enter"]),placeholder:"Pesquisar por localidades, atendimentos, paginas...",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),class:"search-bar q-ma-lg"},{append:f(()=>[i($,{flat:"",round:"",icon:"search",onClick:p})]),_:1},8,["modelValue"]),h(r("div",null,[r("div",V,[(n(!0),u(S,null,D(y.value,(s,k)=>(n(),L(K,{key:k,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:f(()=>[r("div",{onClick:N(z=>x(s),["stop"])},Q(s.title),9,F)]),_:2},1024))),128))])],512),[[v,a.value]]),h(r("div",null,[i(R)],512),[[v,!a.value]])]))}};const U={class:"text-center"},W={__name:"IndexPage",setup(g){return(d,o)=>(n(),u("div",null,[r("div",U,[o[0]||(o[0]=r("img",{src:"img/logo-ccb.png",alt:"Congrega\xE7\xE3o Crist\xE3 no Brasil",class:"logo"},null,-1)),i(M)])]))}};var Z=T(W,[["__scopeId","data-v-c368cf0a"]]);export{Z as default};
