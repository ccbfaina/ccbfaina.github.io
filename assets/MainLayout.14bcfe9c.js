import{c as A,d as M,e as _,f as m,h,g as ee,l as W,p as te,j as F,k as oe,s as le,w as O,o as D,m as ne,q as re,r as se,t as ce,u as ue,v as de,x as y,y as fe,z as R,A as k,B as pe,C as me,D as g,E as w,Q as E,F as B,N as T,G as V,H as ve,I as J,J as c,K as ge,L as s,M as he,O as z,P as S}from"./index.e5170aa8.js";import{Q as _e,a as ye,b as $,c as Q,C as q}from"./ClosePopup.579dd3bd.js";import{Q as X}from"./QList.0e4cda07.js";import{Q as Y}from"./QResizeObserver.56ff359d.js";import{u as we}from"./use-quasar.15173c2c.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.c3bc50bb.js";import"./QSeparator.85dedfe5.js";import"./focus-manager.e09fd876.js";var be=A({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:l}){const{proxy:{$q:o}}=F(),e=M(W,_);if(e===_)return console.error("QPage needs to be a deep child of QLayout"),_;if(M(te,_)===_)return console.error("QPage needs to be child of QPageContainer"),_;const r=m(()=>{const d=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const p=e.isContainer.value===!0?e.containerHeight.value:o.screen.height;return t.styleFn(d,p)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-d+"px":o.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":o.screen.height-d+"px"}}),f=m(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:f.value,style:r.value},ee(l.default))}}),Ce=A({name:"QPageContainer",setup(t,{slots:l}){const{proxy:{$q:o}}=F(),e=M(W,_);if(e===_)return console.error("QPageContainer needs to be child of QLayout"),_;oe(te,!0);const i=m(()=>{const r={};return e.header.space===!0&&(r.paddingTop=`${e.header.size}px`),e.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(r.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),r});return()=>h("div",{class:"q-page-container",style:i.value},ee(l.default))}});const{passive:Z}=ce,xe=["both","horizontal","vertical"];var Pe=A({name:"QScrollObserver",props:{axis:{type:String,validator:t=>xe.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:le},emits:["scroll"],setup(t,{emit:l}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,i,r;O(()=>t.scrollTarget,()=>{p(),d()});function f(){e!==null&&e();const x=Math.max(0,ue(i)),P=de(i),v={top:x-o.position.top,left:P-o.position.left};if(t.axis==="vertical"&&v.top===0||t.axis==="horizontal"&&v.left===0)return;const I=Math.abs(v.top)>=Math.abs(v.left)?v.top<0?"up":"down":v.left<0?"left":"right";o.position={top:x,left:P},o.directionChanged=o.direction!==I,o.delta=v,o.directionChanged===!0&&(o.direction=I,o.inflectionPoint=o.position),l("scroll",{...o})}function d(){i=se(r,t.scrollTarget),i.addEventListener("scroll",a,Z),a(!0)}function p(){i!==void 0&&(i.removeEventListener("scroll",a,Z),i=void 0)}function a(x){if(x===!0||t.debounce===0||t.debounce==="0")f();else if(e===null){const[P,v]=t.debounce?[setTimeout(f,t.debounce),clearTimeout]:[requestAnimationFrame(f),cancelAnimationFrame];e=()=>{v(P),e=null}}}const{proxy:b}=F();return O(()=>b.$q.lang.rtl,f),D(()=>{r=b.$el.parentNode,d()}),ne(()=>{e!==null&&e(),p()}),Object.assign(b,{trigger:a,getPosition:()=>o}),re}}),Le=A({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:l,emit:o}){const{proxy:{$q:e}}=F(),i=y(null),r=y(e.screen.height),f=y(t.container===!0?0:e.screen.width),d=y({position:0,direction:"down",inflectionPoint:0}),p=y(0),a=y(fe.value===!0?0:R()),b=m(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),x=m(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),P=m(()=>a.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),v=m(()=>a.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function I(n){if(t.container===!0||document.qScrollPrevented!==!0){const u={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};d.value=u,t.onScroll!==void 0&&o("scroll",u)}}function ae(n){const{height:u,width:C}=n;let L=!1;r.value!==u&&(L=!0,r.value=u,t.onScrollHeight!==void 0&&o("scrollHeight",u),j()),f.value!==C&&(L=!0,f.value=C),L===!0&&t.onResize!==void 0&&o("resize",n)}function ie({height:n}){p.value!==n&&(p.value=n,j())}function j(){if(t.container===!0){const n=r.value>p.value?R():0;a.value!==n&&(a.value=n)}}let N=null;const G={instances:{},view:m(()=>t.view),isContainer:m(()=>t.container),rootRef:i,height:r,containerHeight:p,scrollbarWidth:a,totalWidth:m(()=>f.value+a.value),rows:m(()=>{const n=t.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:k({size:0,offset:0,space:!1}),right:k({size:300,offset:0,space:!1}),footer:k({size:0,offset:0,space:!1}),left:k({size:300,offset:0,space:!1}),scroll:d,animate(){N!==null?clearTimeout(N):document.body.classList.add("q-body--layout-animate"),N=setTimeout(()=>{N=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,u,C){G[n][u]=C}};if(oe(W,G),R()>0){let C=function(){n=null,u.classList.remove("hide-scrollbar")},L=function(){if(n===null){if(u.scrollHeight>e.screen.height)return;u.classList.add("hide-scrollbar")}else clearTimeout(n);n=setTimeout(C,300)},H=function(K){n!==null&&K==="remove"&&(clearTimeout(n),C()),window[`${K}EventListener`]("resize",L)},n=null;const u=document.body;O(()=>t.container!==!0?"add":"remove",H),t.container!==!0&&H("add"),pe(()=>{H("remove")})}return()=>{const n=me(l.default,[h(Pe,{onScroll:I}),h(Y,{onResize:ae})]),u=h("div",{class:b.value,style:x.value,ref:t.container===!0?void 0:i,tabindex:-1},n);return t.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:i},[h(Y,{onResize:ie}),h("div",{class:"absolute-full",style:P.value},[h("div",{class:"scroll",style:v.value},[u])])]):u}}});const ze={__name:"InstallComponent",setup(t){const l=y(!1);let o=null;window.matchMedia("(display-mode: standalone)").matches?l.value=!1:l.value=!0;const e=async()=>{o&&(o.prompt(),await o.userChoice,o.userChoice.then(i=>{i.outcome==="accepted"?T.create({message:"PWA instalado com sucesso!",color:"green",icon:"check_circle"}):T.create({message:"Usu\xE1rio recusou a instala\xE7\xE3o do PWA.",color:"red",icon:"cancel"}),o=null,l.value=!1}))};return D(()=>{window.addEventListener("beforeinstallprompt",i=>{console.log("Instaled::: ",o),i.preventDefault(),o=i,l.value=!0})}),(i,r)=>l.value?(g(),w(E,{key:0,color:"red",round:"",dense:"",size:"md",icon:"mdi-cellphone-arrow-down-variant",class:"install","aria-label":"Instalar APP",onClick:e})):B("",!0)}};var Se=U(ze,[["__scopeId","data-v-3af4d215"]]);const $e={class:"print-hide"},Qe={__name:"PushComponent",setup(t){const l=y(!0);"Notification"in window&&Notification.permission==="granted"&&(l.value=!1);const o=()=>{"Notification"in window?Notification.requestPermission().then(e=>{e==="granted"?(T.create({color:"positive",position:"top",message:"Permiss\xE3o para notifica\xE7\xF5es concedida!"}),l.value=!1,setTimeout(()=>{location.reload(!0)},2e3)):e==="denied"&&T.create({color:"negative",position:"top",message:"Permiss\xE3o para notifica\xE7\xF5es negada!"})}):T.create({color:"negative",position:"top",message:"Seu navegador n\xE3o suporta notifica\xE7\xF5es!"})};return(e,i)=>(g(),V("div",$e,[l.value?(g(),w(E,{onClick:o,class:"notify",key:"btn_size_dense_round_sm",round:"",dense:"",color:"red",size:"md",icon:"notifications","aria-label":"Notificar"})):B("",!0)]))}};var qe=U(Qe,[["__scopeId","data-v-4a1cb3b0"]]);const ke={class:"print-hide absolute-top-left row q-pa-md z-top flex"},Te={href:"/",class:"text-blue-grey-2 q-pa-md","aria-label":"P\xE1gina Inicial"},Ie={key:0,class:"off"},Ne={__name:"MainLayout",setup(t){const l=we(),o=k({connected:navigator.onLine}),e=m(()=>window.history.length>1),i=()=>{window.history.back()},r=()=>{o.connected=navigator.onLine};D(()=>{window.addEventListener("online",r),window.addEventListener("offline",r)}),ne(()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)});const f=()=>!!navigator.share,d=()=>{f()?navigator.share({title:"CCB",text:"Lista de Atendimento",url:location.href}).then(()=>l.notify({type:"positive",message:"Compartilhado com sucesso!"})).catch(p=>l.notify({type:"negative",message:`Erro: ${p}`})):(navigator.clipboard.writeText(location.href),l.notify({type:"info",message:"URL copiada."}))};return(p,a)=>{const b=ve("router-view");return g(),V(he,null,[J("div",ke,[J("a",Te,[c(ge,{size:"sm",name:"home"})]),e.value?(g(),w(E,{key:0,color:"primary",flat:"",round:"",icon:"arrow_back",class:"q-mr-sm",onClick:i,"aria-label":"Voltar"})):B("",!0)]),c(E,{color:"primary",flat:"",round:"",icon:"more_vert",class:"print-hide z-top absolute-top-right q-pa-md","aria-label":"Menu"},{default:s(()=>[c(_e,{anchor:"top right",self:"top end",class:"z-top"},{default:s(()=>[c(ye,{label:"Agenda","expand-separator":""},{default:s(()=>[c(X,null,{default:s(()=>[z((g(),w(Q,{to:"/settings",clickable:""},{default:s(()=>[c($,null,{default:s(()=>a[0]||(a[0]=[S("Configura\xE7\xF5es")])),_:1})]),_:1})),[[q]]),z((g(),w(Q,{to:"/lista/?pesquisar=*",clickable:""},{default:s(()=>[c($,null,{default:s(()=>a[1]||(a[1]=[S("Lista de Atendimentos")])),_:1})]),_:1})),[[q]]),z((g(),w(Q,{to:"/tags",clickable:""},{default:s(()=>[c($,null,{default:s(()=>a[2]||(a[2]=[S("Tags")])),_:1})]),_:1})),[[q]])]),_:1})]),_:1}),c(X,{style:{"min-width":"200px"}},{default:s(()=>[z((g(),w(Q,{onClick:d,clickable:""},{default:s(()=>[c($,null,{default:s(()=>a[3]||(a[3]=[S("Compartilhar")])),_:1})]),_:1})),[[q]]),z((g(),w(Q,{to:"/calendar/2025?filters=Lista: REGIONAL FAINA",clickable:""},{default:s(()=>[c($,null,{default:s(()=>a[4]||(a[4]=[S("Calend\xE1rio")])),_:1})]),_:1})),[[q]])]),_:1})]),_:1})]),_:1}),c(Le,{view:"lHh Lpr lFf"},{default:s(()=>[c(Ce,null,{default:s(()=>[c(be,null,{default:s(()=>[c(b),c(qe),c(Se),o.connected?B("",!0):(g(),V("div",Ie,"Voc\xEA est\xE1 off-line"))]),_:1})]),_:1})]),_:1})],64)}}};var We=U(Ne,[["__scopeId","data-v-5051ba10"]]);export{We as default};
