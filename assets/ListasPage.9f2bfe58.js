import{G as I,A as c,I as g,D as n,L as f,M as o,P as k,F as $,B as L,R as C,S as D,v as q,w as N,E as v,C as F,T as B,U as R,Q as A,_ as z,V as J,W as Q,o as U,x as W,X as Y,Y as H,Z as E,$ as K,J as T,K as V,H as p,a0 as G,N as X,O as Z}from"./index.f699fb56.js";const j={class:""},ee=["innerHTML"],te=I({__name:"ListaTRComponent",props:{event:{}},setup(h){const e=h.event;function u(t){return!(t instanceof Date)||isNaN(t.getTime())?"":["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"][t.getDay()]||""}function l(t){return!(t instanceof Date)||isNaN(t.getTime())?"":String(t==null?void 0:t.getDate()).padStart(2,"0")}function y(t){return!(t instanceof Date)||isNaN(t.getTime())?"":String(t.getMonth()+1).padStart(2,"0")}function _(t){try{!(t instanceof Date)||isNaN(t.getTime());const x=String(t==null?void 0:t.getHours()).padStart(2,"0"),b=String(t==null?void 0:t.getMinutes()).padStart(2,"0");return`${x}:${b}`}catch{return console.log("Erro format hours!"),""}}function m(t){return!(!(t instanceof Date)||isNaN(t.getTime()))}return(t,x)=>(c(),g("tr",null,[n("td",{style:k(m(o(e).date)?"":"display: none;")},[n("b",null,f(l(o(e).date))+"/"+f(y(o(e).date)),1)],4),n("td",{style:k(m(o(e).date)?"":"display: none;")},f(u(o(e).date)),5),n("td",{style:k(o(e).date?"":"display: none;")},f(_(o(e).date)),5),n("td",null,[n("div",j,[$(f(o(e).locale)+" ",1),o(e).recurring?(c(),L(D,{key:0,class:"print-hide",name:"event_repeat",style:{color:"#9e9e9e"}})):C("",!0)])]),n("td",null,[n("div",{style:k(o(e).desc?"":"display: none;"),innerHTML:o(e).desc.replace(/(;\n|\n)/gi,"</br>")},null,12,ee)])]))}});const ne={class:"print-hide calendar"},ae=I({__name:"IconCalendarComponent",props:{search:{},events:{}},emits:["update"],setup(h,{emit:S}){const e=h,u=S,l=q({range:"",events:[],locale:{days:"Domingo_Segunda_Ter\xE7a_Quarta_Quinta_Sexta_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias"}});y(),N(()=>e.events,y);function y(){l.events=[...new Set(e.events.filter(_=>_.date instanceof Date).map(_=>{var m;return((m=_.date)==null?void 0:m.toISOString().split("T")[0].replace(/-/g,"/"))||""}).filter(_=>_))]}return N(()=>l.range,()=>{l.range?u("update",`${e.search.replace(/\d+\/\d+\/\d+/gi,"").trim()} ${l.range}`):u("update",e.search.replace(/\d+\/\d+\/\d+/gi,"").trim())}),(_,m)=>(c(),g("div",ne,[v(A,{icon:"event",dense:"",round:"",color:"dark"},{default:F(()=>[v(B,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:F(()=>[v(R,{modelValue:l.range,"onUpdate:modelValue":m[0]||(m[0]=t=>l.range=t),minimal:"",mask:"DD/MM/YYYY",events:l.events,locale:l.locale},null,8,["modelValue","events","locale"])]),_:1})]),_:1})]))}});const O=h=>(X("data-v-47ed9dbe"),h=h(),Z(),h),oe={class:"text-center"},se=O(()=>n("div",{class:"print-only"},"LISTA DE ATENDIMENTO E DIVERSOS",-1)),re={id:"lista"},ie={class:"print-hide menu flex space-between"},le={class:"search"},ce=["summary"],ue={colspan:"5"},de={key:0,class:"print-hide"},pe={class:"print-only right"},_e=["href"],me={key:1,class:"print-only"},he=O(()=>n("i",null,[$(" Ora\xE7\xE3o Santa Ceia "),n("br"),n("b",null,"P\xE3o:"),$(' "Senhor, aben\xE7oa este P\xE3o que vamos comer, que \xE9 a comunh\xE3o do Corpo de Cristo." '),n("br"),n("b",null,"C\xE1lice: "),$('"Senhor, aben\xE7oa o C\xE1lice que vamos beber, que \xE9 a comunh\xE3o do Sangue de Cristo." ')],-1)),ge=[he],fe=I({__name:"ListasPage",setup(h){var b,M;const S=J(),e=q({search:((b=S.query.pesquisar)==null?void 0:b.toString())||"",locale:((M=S.params.local)==null?void 0:M.toString())||"",titles:{}}),u=[];l(),N(()=>Q.eventos.items,l),N(()=>e.search,l);function l(){let s=Q.eventos.items;if(!e.search&&!e.locale)return[];const a=i=>i.trim().toUpperCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");let r=a(e.search),d=a(e.locale);if(/^(\*)/gi.test(e.search)&&(d="",r=r.replace(/^(\*|\/)/gi,"").trim()),d){const i=new RegExp(`^${d}`);s=s.filter(w=>a(w.list).includes(d)||i.test(a(w.locale)))}r&&(s=s.filter(i=>r.split(" ").every(w=>{var P;return a(`${(P=i.date)==null?void 0:P.toLocaleString()} ${i.title} ${i.list} ${i.locale} ${i.desc}`).includes(w)}))),u.length=0,s.forEach(i=>{u.push(i)}),e.titles=[...new Set(u.map(i=>i.title))]}function y(s){if(s.altKey&&s.key.toLowerCase()==="a")s.preventDefault(),s.stopPropagation(),p.createEvent();else if(s.altKey&&["/","*"].includes(s.key)){const a=document.querySelector('input[type="text"]');a&&a.focus()}}U(()=>{window.addEventListener("keydown",y)}),W(()=>{window.removeEventListener("keydown",y)});function _(){window.print()}function m(){navigator.share?navigator.share({title:"CCB",text:"Lista de Atendimento",url:location.href}).then(()=>console.log("Conte\xFAdo compartilhado com sucesso!")).catch(s=>console.error("Erro ao compartilhar:",s)):console.error("API de compartilhamento n\xE3o suportada.")}function t(){const r=`https://api.whatsapp.com/send/?phone=5562984972385&text=${encodeURIComponent(`\u{1F4C4} Batismo, Santa Ceia, ...

\u{1F4CD} Local: 
\u{1F557} Data: 
\u{1F935} Atender\xE1: `)}&type=phone_number&app_absent=0`;window.location.href=r}async function x(){if(!p.loading){p.loading=!0;try{await G()}catch{console.log("Erro ao recarregar!")}console.log("Terminoou de recarregar..."),p.loading=!1}}return(s,a)=>(c(),g(T,null,[n("div",oe,[se,n("div",null,f(e.locale.replace(/-$/,"").trim()),1)]),n("div",re,[n("div",ie,[n("div",le,[Y(n("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>e.search=r),placeholder:"Pesquisar...","x-webkit-speech":""},null,512),[[H,e.search]])]),o(p).shared?(c(),L(D,{key:0,name:"share",onClick:E(m,["prevent"])})):C("",!0),o(p).shared?(c(),L(D,{key:1,name:"quiz",onClick:E(t,["prevent"])})):C("",!0),v(D,{name:"cached",onClick:E(x,["prevent"]),class:K({rotate:o(p).loading}),style:{transform:"scaleX(-1)"}},null,8,["class"]),v(D,{name:"print",onClick:a[1]||(a[1]=E(r=>_(),["prevent"]))}),v(A,{to:"/",dense:"",flat:"",icon:"close"})]),(c(!0),g(T,null,V(e.titles,r=>(c(),g("div",{key:r},[n("table",{summary:String(r)},[n("thead",null,[n("th",ue,f(r),1)]),n("tbody",null,[(c(!0),g(T,null,V(u.filter(d=>d.title===r),d=>(c(),L(te,{key:d.gid,event:d,onDblclick:i=>o(p).selected=d,onContextmenu:E(i=>o(p).selected=d,["right","prevent"])},null,8,["event","onDblclick","onContextmenu"]))),128))])],8,ce)]))),128)),!u.length&&!e.search.startsWith("*")?(c(),g("div",de,[v(A,{class:"print-hide q-mt-lg",onClick:a[2]||(a[2]=r=>e.search=`*${e.search}`),color:"blue",flat:"",label:"Lista completa..."})])):C("",!0),n("div",pe,[n("a",{style:{color:"black"},href:o(p).url},f(o(p).url),9,_e)]),e.locale.includes("REGIONAL")?(c(),g("div",me,ge)):C("",!0)]),v(ae,{search:e.search,events:u,onUpdate:a[3]||(a[3]=r=>e.search=r)},null,8,["search"])],64))}});var ye=z(fe,[["__scopeId","data-v-47ed9dbe"]]);export{ye as default};
