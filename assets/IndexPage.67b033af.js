import{x as _,f as E,w as I,o as $,B as b,D as n,G as u,J as i,M as f,Q as C,ag as S,P as h,$ as v,I as r,O as B,ah as D,E as Q,S as L,ai as P}from"./index.7551571b.js";import{Q as q}from"./QInput.57538528.js";import{Q as N}from"./QChip.4b61c1b0.js";import{a as T,b as w}from"./app.3b500240.js";import{_ as V}from"./TagsShow.dc2083f7.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import"./focus-manager.3614c629.js";import"./use-dark.5d9b86b1.js";const M={class:"tag-list"},R=["onClick"],U={__name:"inputSearch",emits:["search"],setup(g,{emit:d}){const o=d,l=_(null),a=_(""),x=async e=>{if(!e.href)return;const t=e.href.startsWith("http://")||e.href.startsWith("https://");try{t?window.open(e.href,"_blank"):(e.autoSave&&await T(w,e),window.location.href=e.href)}catch(s){console.error("Erro ao tentar abrir a URL:",s)}},y=E(()=>{const e=a.value.split(" ").filter(t=>t.trim()!=="").map(t=>c(t));return w.agenda.tagsSuggestions.filter(t=>e.every(s=>new RegExp(`\\b${s}`,"i").test(c(t.title||""))||new RegExp(`\\b${s}`,"i").test(c(t.description||""))))}),c=e=>e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")||"";I(a,e=>{e&&o("search",e)});const p=()=>{a.value&&(window.location.href=`${window.location.origin}/#/lista/?pesquisar=${a.value}`)},m=e=>{e.key==="Escape"&&(a.value="",l.value?.focus())};return $(()=>{window.addEventListener("keydown",m),l.value?.focus()}),b(()=>{window.removeEventListener("keydown",m)}),(e,t)=>(n(),u("div",null,[i(q,{ref_key:"searchInput",ref:l,onKeyup:S(p,["enter"]),placeholder:"Pesquisar por localidades, atendimentos, paginas...",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),class:"search-bar q-ma-lg"},{append:f(()=>[i(C,{flat:"",round:"",icon:"search",onClick:p})]),_:1},8,["modelValue"]),h(r("div",null,[r("div",M,[(n(!0),u(B,null,D(y.value,(s,k)=>(n(),Q(N,{key:k,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:f(()=>[r("div",{onClick:L(F=>x(s),["stop"])},P(s.title),9,R)]),_:2},1024))),128))])],512),[[v,a.value]]),h(r("div",null,[i(V)],512),[[v,!a.value]])]))}};const W={class:"text-center"},z={__name:"IndexPage",setup(g){return(d,o)=>(n(),u("div",null,[r("div",W,[o[0]||(o[0]=r("img",{src:"img/logo-ccb.png",alt:"Congrega\xE7\xE3o Crist\xE3 no Brasil",class:"logo"},null,-1)),i(U)])]))}};var Z=K(z,[["__scopeId","data-v-c368cf0a"]]);export{Z as default};
