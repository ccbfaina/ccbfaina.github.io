import{c as k,i as N,e as b,a as p,h as m,b as ne,l as I,p as oe,g as H,d as ie,s as ue,w as A,o as E,f as B,n as ae,j as de,k as D,m as fe,q as ve,r as z,t as re,u as U,v as M,x as q,y as ge,z as he,A as pe,B as w,C as G,D as me,E as f,Q as V,F as J,G as L,H as X,I as c,J as ye,K as S,L as T}from"./index.d69f4433.js";import{Q as be,a as $,b as Q,c as we,C as P}from"./ClosePopup.63cb5187.js";import{Q as Y}from"./QList.2a2f4d57.js";import{u as xe}from"./use-quasar.9f0360ae.js";import{_ as ze}from"./plugin-vue_export-helper.21dcd24c.js";import"./focus-manager.feea02cd.js";var _e=k({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:v}){const{proxy:{$q:n}}=H(),e=N(I,b);if(e===b)return console.error("QPage needs to be a deep child of QLayout"),b;if(N(oe,b)===b)return console.error("QPage needs to be child of QPageContainer"),b;const l=p(()=>{const s=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const o=e.isContainer.value===!0?e.containerHeight.value:n.screen.height;return t.styleFn(s,o)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),u=p(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:u.value,style:l.value},ne(v.default))}}),Le=k({name:"QPageContainer",setup(t,{slots:v}){const{proxy:{$q:n}}=H(),e=N(I,b);if(e===b)return console.error("QPageContainer needs to be child of QLayout"),b;ie(oe,!0);const r=p(()=>{const l={};return e.header.space===!0&&(l.paddingTop=`${e.header.size}px`),e.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(l.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),l});return()=>m("div",{class:"q-page-container",style:r.value},ne(v.default))}});const{passive:Z}=D,Ce=["both","horizontal","vertical"];var Se=k({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Ce.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:ue},emits:["scroll"],setup(t,{emit:v}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,r,l;A(()=>t.scrollTarget,()=>{o(),s()});function u(){e!==null&&e();const y=Math.max(0,fe(r)),_=ve(r),h={top:y-n.position.top,left:_-n.position.left};if(t.axis==="vertical"&&h.top===0||t.axis==="horizontal"&&h.left===0)return;const R=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:y,left:_},n.directionChanged=n.direction!==R,n.delta=h,n.directionChanged===!0&&(n.direction=R,n.inflectionPoint=n.position),v("scroll",{...n})}function s(){r=de(l,t.scrollTarget),r.addEventListener("scroll",i,Z),i(!0)}function o(){r!==void 0&&(r.removeEventListener("scroll",i,Z),r=void 0)}function i(y){if(y===!0||t.debounce===0||t.debounce==="0")u();else if(e===null){const[_,h]=t.debounce?[setTimeout(u,t.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];e=()=>{h(_),e=null}}}const{proxy:g}=H();return A(()=>g.$q.lang.rtl,u),E(()=>{l=g.$el.parentNode,s()}),B(()=>{e!==null&&e(),o()}),Object.assign(g,{trigger:i,getPosition:()=>n}),ae}});function Te(){const t=z(!re.value);return t.value===!1&&E(()=>{t.value=!0}),{isHydrated:t}}const le=typeof ResizeObserver!="undefined",ee=le===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var te=k({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:v}){let n=null,e,r={width:-1,height:-1};function l(o){o===!0||t.debounce===0||t.debounce==="0"?u():n===null&&(n=setTimeout(u,t.debounce))}function u(){if(n!==null&&(clearTimeout(n),n=null),e){const{offsetWidth:o,offsetHeight:i}=e;(o!==r.width||i!==r.height)&&(r={width:o,height:i},v("resize",r))}}const{proxy:s}=H();if(s.trigger=l,le===!0){let o;const i=g=>{e=s.$el.parentNode,e?(o=new ResizeObserver(l),o.observe(e),u()):g!==!0&&U(()=>{i(!0)})};return E(()=>{i()}),B(()=>{n!==null&&clearTimeout(n),o!==void 0&&(o.disconnect!==void 0?o.disconnect():e&&o.unobserve(e))}),ae}else{let g=function(){n!==null&&(clearTimeout(n),n=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",l,D.passive),i=void 0)},y=function(){g(),e&&e.contentDocument&&(i=e.contentDocument.defaultView,i.addEventListener("resize",l,D.passive),u())};const{isHydrated:o}=Te();let i;return E(()=>{U(()=>{e=s.$el,e&&y()})}),B(g),()=>{if(o.value===!0)return m("object",{class:"q--avoid-card-border",style:ee.style,tabindex:-1,type:"text/html",data:ee.url,"aria-hidden":"true",onLoad:y})}}}}),$e=k({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:v,emit:n}){const{proxy:{$q:e}}=H(),r=z(null),l=z(e.screen.height),u=z(t.container===!0?0:e.screen.width),s=z({position:0,direction:"down",inflectionPoint:0}),o=z(0),i=z(re.value===!0?0:M()),g=p(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),y=p(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),_=p(()=>i.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),h=p(()=>i.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function R(a){if(t.container===!0||document.qScrollPrevented!==!0){const d={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};s.value=d,t.onScroll!==void 0&&n("scroll",d)}}function se(a){const{height:d,width:x}=a;let C=!1;l.value!==d&&(C=!0,l.value=d,t.onScrollHeight!==void 0&&n("scrollHeight",d),W()),u.value!==x&&(C=!0,u.value=x),C===!0&&t.onResize!==void 0&&n("resize",a)}function ce({height:a}){o.value!==a&&(o.value=a,W())}function W(){if(t.container===!0){const a=l.value>o.value?M():0;i.value!==a&&(i.value=a)}}let F=null;const j={instances:{},view:p(()=>t.view),isContainer:p(()=>t.container),rootRef:r,height:l,containerHeight:o,scrollbarWidth:i,totalWidth:p(()=>u.value+i.value),rows:p(()=>{const a=t.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:q({size:0,offset:0,space:!1}),right:q({size:300,offset:0,space:!1}),footer:q({size:0,offset:0,space:!1}),left:q({size:300,offset:0,space:!1}),scroll:s,animate(){F!==null?clearTimeout(F):document.body.classList.add("q-body--layout-animate"),F=setTimeout(()=>{F=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,d,x){j[a][d]=x}};if(ie(I,j),M()>0){let x=function(){a=null,d.classList.remove("hide-scrollbar")},C=function(){if(a===null){if(d.scrollHeight>e.screen.height)return;d.classList.add("hide-scrollbar")}else clearTimeout(a);a=setTimeout(x,300)},O=function(K){a!==null&&K==="remove"&&(clearTimeout(a),x()),window[`${K}EventListener`]("resize",C)},a=null;const d=document.body;A(()=>t.container!==!0?"add":"remove",O),t.container!==!0&&O("add"),ge(()=>{O("remove")})}return()=>{const a=he(v.default,[m(Se,{onScroll:R}),m(te,{onResize:se})]),d=m("div",{class:g.value,style:y.value,ref:t.container===!0?void 0:r,tabindex:-1},a);return t.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:r},[m(te,{onResize:ce}),m("div",{class:"absolute-full",style:_.value},[m("div",{class:"scroll",style:h.value},[d])])]):d}}});const Qe={class:"print-hide absolute-top-left row q-pa-md z-top"},Pe={key:0,class:"off"},qe={__name:"MainLayout",setup(t){const v=q({connected:navigator.onLine}),n=window.history,e=()=>{v.connected=navigator.onLine};E(()=>{window.addEventListener("online",e),window.addEventListener("offline",e)}),B(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)});const r=xe(),l=()=>{navigator.share?navigator.share({title:"CCB",text:"Lista de Atendimento",url:location.href}).then(()=>r.notify({type:"positive",message:"Compartilhado com sucesso!"})).catch(s=>r.notify({type:"negative",message:"Erro: "+s})):(u(location.href),r.notify({type:"info",message:"URL copiada."}))},u=s=>{navigator.clipboard.writeText(s)};return(s,o)=>{const i=pe("router-view");return w(),G(ye,null,[me("div",Qe,[f(V,{color:"primary",flat:"",round:"",icon:"home",to:"/",class:"q-mr-sm"}),J(n).length?(w(),L(V,{key:0,color:"primary",flat:"",round:"",icon:"arrow_back",class:"q-mr-sm",onClick:o[0]||(o[0]=g=>J(n).back())})):X("",!0)]),f(V,{color:"primary",flat:"",round:"",icon:"more_vert",class:"print-hide z-top absolute-top-right q-pa-md"},{default:c(()=>[f(be,{anchor:"top right",self:"top end",class:"z-top"},{default:c(()=>[f(Y,{style:{"min-width":"100px"}},{default:c(()=>[S((w(),L(Q,{icon:"mdi-share-variant",onClick:l,clickable:""},{default:c(()=>[f($,null,{default:c(()=>o[1]||(o[1]=[T("Compartilhar")])),_:1})]),_:1})),[[P]]),S((w(),L(Q,{to:"/settings",clickable:""},{default:c(()=>[f($,null,{default:c(()=>o[2]||(o[2]=[T("Configura\xE7\xF5es")])),_:1})]),_:1})),[[P]]),S((w(),L(Q,{to:"/lista/?pesquisar=*",clickable:""},{default:c(()=>[f($,null,{default:c(()=>o[3]||(o[3]=[T("Lista de Atendimentos")])),_:1})]),_:1})),[[P]]),S((w(),L(Q,{to:"/tags",clickable:""},{default:c(()=>[f($,null,{default:c(()=>o[4]||(o[4]=[T("Tags")])),_:1})]),_:1})),[[P]])]),_:1}),f(we,{label:"Agenda","expand-separator":""},{default:c(()=>[f(Y,null,{default:c(()=>[S((w(),L(Q,{to:"/lista-editar",clickable:""},{default:c(()=>[f($,null,{default:c(()=>o[5]||(o[5]=[T("Editar Lista")])),_:1})]),_:1})),[[P]])]),_:1})]),_:1})]),_:1})]),_:1}),f($e,{view:"lHh Lpr lFf"},{default:c(()=>[f(Le,null,{default:c(()=>[f(_e,null,{default:c(()=>[f(i),v.connected?X("",!0):(w(),G("div",Pe,"Voc\xEA est\xE1 off-line"))]),_:1})]),_:1})]),_:1})],64)}}};var Oe=ze(qe,[["__scopeId","data-v-27398abc"]]);export{Oe as default};
