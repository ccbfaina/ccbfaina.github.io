import{r as m,a as C,w as I,o as E,y as B,B as n,C as u,E as i,I as f,Q as S,ac as b,K as h,W as v,D as r,J as D,ad as Q,G as $,M as L,ae as q}from"./index.4946ae1c.js";import{Q as K}from"./QInput.ea4f8966.js";import{Q as N,_ as P}from"./TagsShow.520592d8.js";import{a as T,b as w}from"./app.388fca61.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./focus-manager.3797a2b0.js";import"./use-dark.07850f7a.js";const W={class:"tag-list"},M=["onClick"],U={__name:"inputSearch",emits:["search"],setup(g,{emit:d}){const o=d,l=m(null),t=m(""),y=async e=>{if(!e.href)return;const a=e.href.startsWith("http://")||e.href.startsWith("https://");try{a?window.open(e.href,"_blank"):(e.autoSave&&await T(w,e),window.location.href=e.href)}catch(s){console.error("Erro ao tentar abrir a URL:",s)}},x=C(()=>{const e=t.value.split(" ").filter(a=>a.trim()!=="").map(a=>c(a));return w.agenda.tagsSuggestions.filter(a=>e.every(s=>c(a.title||"").includes(s)||c(a.description||"").includes(s)))}),c=e=>e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")||"";I(t,e=>{e&&o("search",e)});const p=()=>{t.value&&(window.location.href=`${window.location.origin}/#/lista/?pesquisar=${t.value}`)},_=e=>{var a;e.key==="Escape"&&(t.value="",(a=l.value)==null||a.focus())};return E(()=>{var e;window.addEventListener("keydown",_),(e=l.value)==null||e.focus()}),B(()=>{window.removeEventListener("keydown",_)}),(e,a)=>(n(),u("div",null,[i(K,{ref_key:"searchInput",ref:l,onKeyup:b(p,["enter"]),placeholder:"Pesquisar por localidades, atendimentos, paginas...",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),class:"search-bar q-ma-lg"},{append:f(()=>[i(S,{flat:"",round:"",icon:"search",onClick:p})]),_:1},8,["modelValue"]),h(r("div",null,[r("div",W,[(n(!0),u(D,null,Q(x.value,(s,k)=>(n(),$(N,{key:k,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:f(()=>[r("div",{onClick:L(G=>y(s),["stop"])},q(s.title),9,M)]),_:2},1024))),128))])],512),[[v,t.value]]),h(r("div",null,[i(P)],512),[[v,!t.value]])]))}};const z={class:"text-center"},F={__name:"IndexPage",setup(g){return(d,o)=>(n(),u("div",null,[r("div",z,[o[0]||(o[0]=r("img",{src:"img/logo-ccb.png",alt:"Congrega\xE7\xE3o Crist\xE3 no Brasil",class:"logo"},null,-1)),i(U)])]))}};var Y=V(F,[["__scopeId","data-v-c368cf0a"]]);export{Y as default};
