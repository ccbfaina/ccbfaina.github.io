import{G as M,A as m,I as x,D as n,L as g,M as o,P as b,F as w,v as q,w as $,E as f,C as P,R as z,S as B,Q as I,_ as J,T as R,U as Q,o as U,x as W,V as Y,W as H,B as T,X as D,Y as C,Z as N,$ as K,J as L,K as V,H as c,a0 as X,N as G,O as Z}from"./index.b0d8ba86.js";const j=n("img",{class:"print-hide",style:{width:"10px"},src:"/img/repeticao.png",alt:"Item se repete"},null,-1),ee=["innerHTML"],te=M({__name:"ListaTRComponent",props:{event:{}},setup(h){const e=h.event;function u(t){return!(t instanceof Date)||isNaN(t.getTime())?"":["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"][t.getDay()]||""}function i(t){return!(t instanceof Date)||isNaN(t.getTime())?"":String(t==null?void 0:t.getDate()).padStart(2,"0")}function v(t){return!(t instanceof Date)||isNaN(t.getTime())?"":String(t.getMonth()+1).padStart(2,"0")}function p(t){try{!(t instanceof Date)||isNaN(t.getTime());const y=String(t==null?void 0:t.getHours()).padStart(2,"0"),E=String(t==null?void 0:t.getMinutes()).padStart(2,"0");return`${y}:${E}`}catch{return console.log("Erro format hours!"),""}}function _(t){return!(!(t instanceof Date)||isNaN(t.getTime()))}return(t,y)=>(m(),x("tr",null,[n("td",{style:b(_(o(e).date)?"":"display: none;")},[n("b",null,g(i(o(e).date))+"/"+g(v(o(e).date)),1)],4),n("td",{style:b(_(o(e).date)?"":"display: none;")},g(u(o(e).date)),5),n("td",{style:b(o(e).date?"":"display: none;")},g(p(o(e).date)),5),n("td",null,[w(g(o(e).locale)+" ",1),j]),n("td",{style:b(o(e).desc?"":"display: none;"),innerHTML:o(e).desc.replace(/(;\n|\n)/gi,"</br>")},null,12,ee)]))}});const ne={class:"print-hide calendar"},ae=M({__name:"IconCalendarComponent",props:{search:{},events:{}},emits:["update"],setup(h,{emit:S}){const e=h,u=S,i=q({range:"",events:[],locale:{days:"Domingo_Segunda_Ter\xE7a_Quarta_Quinta_Sexta_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias"}});v(),$(()=>e.events,v);function v(){i.events=[...new Set(e.events.filter(p=>p.date instanceof Date).map(p=>{var _;return((_=p.date)==null?void 0:_.toISOString().split("T")[0].replace(/-/g,"/"))||""}).filter(p=>p))]}return $(()=>i.range,()=>{i.range?u("update",`${e.search.replace(/\d+\/\d+\/\d+/gi,"").trim()} ${i.range}`):u("update",e.search.replace(/\d+\/\d+\/\d+/gi,"").trim())}),(p,_)=>(m(),x("div",ne,[f(I,{icon:"event",dense:"",round:"",color:"dark"},{default:P(()=>[f(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:P(()=>[f(B,{modelValue:i.range,"onUpdate:modelValue":_[0]||(_[0]=t=>i.range=t),minimal:"",mask:"DD/MM/YYYY",events:i.events,locale:i.locale},null,8,["modelValue","events","locale"])]),_:1})]),_:1})]))}});const F=h=>(G("data-v-7537a863"),h=h(),Z(),h),se={class:"text-center"},oe=F(()=>n("div",{class:"print-only"},"LISTA DE ATENDIMENTO E DIVERSOS",-1)),re={id:"lista"},ie={class:"print-hide menu flex space-between"},le={class:"search"},ce=["summary"],ue={colspan:"5"},de={key:0,class:"print-hide"},pe={class:"print-only right"},_e=["href"],me=F(()=>n("div",{class:"print-only"},[n("i",null,[w(" Ora\xE7\xE3o Santa Ceia "),n("br"),n("b",null,"P\xE3o:"),w(' "Senhor, aben\xE7oa este P\xE3o que vamos comer, que \xE9 a comunh\xE3o do Corpo de Cristo." '),n("br"),n("b",null,"C\xE1lice: "),w('"Senhor, aben\xE7oa o C\xE1lice que vamos beber, que \xE9 a comunh\xE3o do Sangue de Cristo." ')])],-1)),he=M({__name:"ListasPage",setup(h){var y,E;const S=R(),e=q({search:((y=S.query.pesquisar)==null?void 0:y.toString())||"",locale:((E=S.params.local)==null?void 0:E.toString())||"",titles:{}}),u=[];i(),$(()=>Q.eventos.items,i),$(()=>e.search,i);function i(){let r=Q.eventos.items;if(!e.search&&!e.locale)return[];const a=l=>l.trim().toUpperCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");let s=a(e.search),d=a(e.locale);const k=new RegExp(`^${d}`);/^(\*)/gi.test(e.search)&&(d="",s=s.replace(/^(\*|\/)/gi,"").trim()),d&&(r=r.filter(l=>a(l.list).includes(d)||k.test(a(l.locale)))),s&&(r=r.filter(l=>s.split(" ").every(O=>{var A;return a(`${(A=l.date)==null?void 0:A.toLocaleString()} ${l.title} ${l.list} ${l.locale} ${l.desc}`).includes(O)}))),u.length=0,r.forEach(l=>{u.push(l)}),e.titles=[...new Set(u.map(l=>l.title))]}function v(r){if(r.altKey&&r.key.toLowerCase()==="a")r.preventDefault(),r.stopPropagation(),c.createEvent();else if(r.altKey&&["/","*"].includes(r.key)){const a=document.querySelector('input[type="text"]');a&&a.focus()}}U(()=>{window.addEventListener("keydown",v)}),W(()=>{window.removeEventListener("keydown",v)});function p(){window.print()}function _(){const s=`https://api.whatsapp.com/send/?phone=5562984972385&text=${encodeURIComponent(`\u{1F4C4} Batismo, Santa Ceia, ...

\u{1F4CD} Local: 
\u{1F557} Data: 
\u{1F935} Atender\xE1: `)}&type=phone_number&app_absent=0`;window.location.href=s}async function t(){if(!c.loading){c.loading=!0;try{await X()}catch{console.log("Erro ao recarregar!")}console.log("Terminoou de recarregar..."),c.loading=!1}}return(r,a)=>(m(),x(L,null,[n("div",se,[oe,n("div",null,g(e.locale.replace(/-$/,"").trim()),1)]),n("div",re,[n("div",ie,[n("div",le,[Y(n("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>e.search=s),placeholder:"Pesquisar...","x-webkit-speech":""},null,512),[[H,e.search]])]),o(c).shared?(m(),T(C,{key:0,name:"share",onClick:a[1]||(a[1]=D(s=>o(c).shared(),["prevent"]))})):N("",!0),o(c).shared?(m(),T(C,{key:1,name:"quiz",onClick:D(_,["prevent"])})):N("",!0),f(C,{name:"cached",onClick:D(t,["prevent"]),class:K({rotate:o(c).loading}),style:{transform:"scaleX(-1)"}},null,8,["class"]),f(C,{name:"print",onClick:a[2]||(a[2]=D(s=>p(),["prevent"]))}),f(I,{to:"/",dense:"",flat:"",icon:"close"})]),(m(!0),x(L,null,V(e.titles,s=>(m(),x("div",{key:s},[n("table",{summary:String(s)},[n("thead",null,[n("th",ue,g(s),1)]),n("tbody",null,[(m(!0),x(L,null,V(u.filter(d=>d.title===s),d=>(m(),T(te,{key:d.gid,event:d,onDblclick:k=>o(c).selected=d,onContextmenu:D(k=>o(c).selected=d,["right","prevent"])},null,8,["event","onDblclick","onContextmenu"]))),128))])],8,ce)]))),128)),!u.length&&!e.search.startsWith("**")?(m(),x("div",de,[f(I,{class:"print-hide q-mt-lg",onClick:a[3]||(a[3]=s=>e.search=`*${e.search}`),color:"blue",flat:"",label:"Lista completa..."})])):N("",!0),n("div",pe,[n("a",{style:{color:"black"},href:o(c).url},g(o(c).url),9,_e)]),me]),f(ae,{search:e.search,events:u,onUpdate:a[4]||(a[4]=s=>e.search=s)},null,8,["search"])],64))}});var fe=J(he,[["__scopeId","data-v-7537a863"]]);export{fe as default};
