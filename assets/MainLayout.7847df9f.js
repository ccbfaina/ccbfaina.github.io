import{c as q,d as V,e as y,f,h,g as N,l as O,p as Y,j as H,k as Z,s as ae,w as k,o as ee,m as te,q as le,r as ie,t as re,u as se,v as ce,x as C,y as ue,z as M,A as T,B as de,C as fe,D as ve,E as ge,F as pe,G as me,H as m,I as b,J as l,K as s,L as B,Q as F,M as he,N as G,O as ye,P as K,R as be,S,T as L}from"./index.2b94324f.js";import{Q as _e,a as we,b as Ce,c as xe,d as ze,e as Q,f as $,C as P}from"./QDialog.a5951b54.js";import{Q as j}from"./QList.a6d89360.js";import{Q as J}from"./QResizeObserver.07187b31.js";import{u as Se}from"./use-quasar.680954f9.js";import{_ as Le}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.4fec3d27.js";import"./QSeparator.e4b9128d.js";import"./focus-manager.60feae8e.js";var Qe=q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:c}){const{proxy:{$q:o}}=H(),e=V(O,y);if(e===y)return console.error("QPage needs to be a deep child of QLayout"),y;if(V(Y,y)===y)return console.error("QPage needs to be child of QPageContainer"),y;const r=f(()=>{const d=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const g=e.isContainer.value===!0?e.containerHeight.value:o.screen.height;return t.styleFn(d,g)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-d+"px":o.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":o.screen.height-d+"px"}}),v=f(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:v.value,style:r.value},N(c.default))}}),$e=q({name:"QPageContainer",setup(t,{slots:c}){const{proxy:{$q:o}}=H(),e=V(O,y);if(e===y)return console.error("QPageContainer needs to be child of QLayout"),y;Z(Y,!0);const i=f(()=>{const r={};return e.header.space===!0&&(r.paddingTop=`${e.header.size}px`),e.right.space===!0&&(r[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(r.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(r[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),r});return()=>h("div",{class:"q-page-container",style:i.value},N(c.default))}});const{passive:X}=re,Pe=["both","horizontal","vertical"];var Ae=q({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Pe.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:ae},emits:["scroll"],setup(t,{emit:c}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,i,r;k(()=>t.scrollTarget,()=>{g(),d()});function v(){e!==null&&e();const x=Math.max(0,se(i)),z=ce(i),p={top:x-o.position.top,left:z-o.position.left};if(t.axis==="vertical"&&p.top===0||t.axis==="horizontal"&&p.left===0)return;const E=Math.abs(p.top)>=Math.abs(p.left)?p.top<0?"up":"down":p.left<0?"left":"right";o.position={top:x,left:z},o.directionChanged=o.direction!==E,o.delta=p,o.directionChanged===!0&&(o.direction=E,o.inflectionPoint=o.position),c("scroll",{...o})}function d(){i=ie(r,t.scrollTarget),i.addEventListener("scroll",a,X),a(!0)}function g(){i!==void 0&&(i.removeEventListener("scroll",a,X),i=void 0)}function a(x){if(x===!0||t.debounce===0||t.debounce==="0")v();else if(e===null){const[z,p]=t.debounce?[setTimeout(v,t.debounce),clearTimeout]:[requestAnimationFrame(v),cancelAnimationFrame];e=()=>{p(z),e=null}}}const{proxy:_}=H();return k(()=>_.$q.lang.rtl,v),ee(()=>{r=_.$el.parentNode,d()}),te(()=>{e!==null&&e(),g()}),Object.assign(_,{trigger:a,getPosition:()=>o}),le}}),Te=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:c,emit:o}){const{proxy:{$q:e}}=H(),i=C(null),r=C(e.screen.height),v=C(t.container===!0?0:e.screen.width),d=C({position:0,direction:"down",inflectionPoint:0}),g=C(0),a=C(ue.value===!0?0:M()),_=f(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),x=f(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),z=f(()=>a.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),p=f(()=>a.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function E(n){if(t.container===!0||document.qScrollPrevented!==!0){const u={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};d.value=u,t.onScroll!==void 0&&o("scroll",u)}}function oe(n){const{height:u,width:w}=n;let A=!1;r.value!==u&&(A=!0,r.value=u,t.onScrollHeight!==void 0&&o("scrollHeight",u),W()),v.value!==w&&(A=!0,v.value=w),A===!0&&t.onResize!==void 0&&o("resize",n)}function ne({height:n}){g.value!==n&&(g.value=n,W())}function W(){if(t.container===!0){const n=r.value>g.value?M():0;a.value!==n&&(a.value=n)}}let R=null;const D={instances:{},view:f(()=>t.view),isContainer:f(()=>t.container),rootRef:i,height:r,containerHeight:g,scrollbarWidth:a,totalWidth:f(()=>v.value+a.value),rows:f(()=>{const n=t.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:T({size:0,offset:0,space:!1}),right:T({size:300,offset:0,space:!1}),footer:T({size:0,offset:0,space:!1}),left:T({size:300,offset:0,space:!1}),scroll:d,animate(){R!==null?clearTimeout(R):document.body.classList.add("q-body--layout-animate"),R=setTimeout(()=>{R=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,u,w){D[n][u]=w}};if(Z(O,D),M()>0){let w=function(){n=null,u.classList.remove("hide-scrollbar")},A=function(){if(n===null){if(u.scrollHeight>e.screen.height)return;u.classList.add("hide-scrollbar")}else clearTimeout(n);n=setTimeout(w,300)},I=function(U){n!==null&&U==="remove"&&(clearTimeout(n),w()),window[`${U}EventListener`]("resize",A)},n=null;const u=document.body;k(()=>t.container!==!0?"add":"remove",I),t.container!==!0&&I("add"),de(()=>{I("remove")})}return()=>{const n=fe(c.default,[h(Ae,{onScroll:E}),h(J,{onResize:oe})]),u=h("div",{class:_.value,style:x.value,ref:t.container===!0?void 0:i,tabindex:-1},n);return t.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:i},[h(J,{onResize:ne}),h("div",{class:"absolute-full",style:z.value},[h("div",{class:"scroll",style:p.value},[u])])]):u}}}),ke=q({name:"QCardActions",props:{...ve,vertical:Boolean},setup(t,{slots:c}){const o=ge(t),e=f(()=>`q-card__actions ${o.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:e.value},N(c.default))}});const qe={__name:"UpdateApp",setup(t){const c=C(!1),o=()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),c.value=!1,window.location.reload()};return k(pe,e=>{e&&(c.value=!0)}),k(me,e=>{e&&console.log("A aplica\xE7\xE3o est\xE1 sendo atualizada...")}),(e,i)=>(m(),b(Ce,{modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=r=>c.value=r)},{default:l(()=>[s(_e,null,{default:l(()=>[s(we,null,{default:l(()=>i[2]||(i[2]=[B("div",{class:"text-h6"},"Atualiza\xE7\xE3o Dispon\xEDvel",-1),B("div",null,"A nova vers\xE3o est\xE1 pronta. Atualizar agora?",-1)])),_:1}),s(ke,{align:"right"},{default:l(()=>[s(F,{flat:"",label:"Cancelar",onClick:i[0]||(i[0]=r=>c.value=!1)}),s(F,{flat:"",label:"Atualizar",onClick:o})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};const Ee={class:"print-hide absolute-top-left row q-ma-md flex"},Re={href:"/",class:"text-blue-grey-2 cursor-pointer z-top","aria-label":"P\xE1gina Inicial"},Be={key:0,class:"off"},Fe={__name:"MainLayout",setup(t){const c=Se(),o=T({connected:navigator.onLine}),e=f(()=>window.history.length>1),i=()=>{window.history.back()},r=()=>{o.connected=navigator.onLine};ee(()=>{window.addEventListener("online",r),window.addEventListener("offline",r)}),te(()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)});const v=()=>!!navigator.share,d=()=>{v()?navigator.share({title:"CCB",text:"Lista de Atendimento",url:location.href}).then(()=>c.notify({type:"positive",message:"Compartilhado com sucesso!"})).catch(g=>c.notify({type:"negative",message:`Erro: ${g}`})):(navigator.clipboard.writeText(location.href),c.notify({type:"info",message:"URL copiada."}))};return(g,a)=>{const _=he("router-view");return m(),G(be,null,[B("div",Ee,[B("a",Re,[s(ye,{size:"sm",name:"home"})]),e.value?(m(),b(F,{key:0,color:"primary",flat:"",round:"",icon:"arrow_back",class:"q-mr-sm cursor-pointer z-top",onClick:i,"aria-label":"Voltar"})):K("",!0)]),s(F,{color:"primary",flat:"",round:"",icon:"more_vert",class:"print-hide z-top absolute-top-right q-pa-md","aria-label":"Menu"},{default:l(()=>[s(xe,{anchor:"top right",self:"top end",class:"z-top"},{default:l(()=>[s(ze,{label:"Agenda","expand-separator":""},{default:l(()=>[s(j,null,{default:l(()=>[S((m(),b($,{to:"/settings",clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[0]||(a[0]=[L("Configura\xE7\xF5es")])),_:1})]),_:1})),[[P]]),S((m(),b($,{to:"/lista/?pesquisar=*",clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[1]||(a[1]=[L("Lista de Atendimentos")])),_:1})]),_:1})),[[P]]),S((m(),b($,{to:"/tags",clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[2]||(a[2]=[L("Tags")])),_:1})]),_:1})),[[P]])]),_:1})]),_:1}),s(j,{style:{"min-width":"200px"}},{default:l(()=>[S((m(),b($,{onClick:d,clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[3]||(a[3]=[L("Compartilhar")])),_:1})]),_:1})),[[P]]),S((m(),b($,{to:"/calendar/2025?filters=Lista: REGIONAL FAINA",clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[4]||(a[4]=[L("Calend\xE1rio")])),_:1})]),_:1})),[[P]]),S((m(),b($,{to:"/sobre",clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>a[5]||(a[5]=[L("Sobre")])),_:1})]),_:1})),[[P]])]),_:1})]),_:1})]),_:1}),s(Te,{view:"lHh Lpr lFf"},{default:l(()=>[s($e,null,{default:l(()=>[s(Qe,null,{default:l(()=>[s(_),s(qe),o.connected?K("",!0):(m(),G("div",Be,"Voc\xEA est\xE1 off-line"))]),_:1})]),_:1})]),_:1})],64)}}};var Ge=Le(Fe,[["__scopeId","data-v-0f7e4862"]]);export{Ge as default};
