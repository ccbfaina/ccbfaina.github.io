import{r as m,a as C,w as I,o as E,y as b,B as n,C as u,E as i,I as f,Q as B,ab as S,K as h,V as v,D as r,J as D,ac as Q,G as $,ad as L,ae as V}from"./index.a607a6a0.js";import{Q as q}from"./QInput.a8f82ec0.js";import{Q as K,_ as N}from"./TagsShow.ae179bc0.js";import{a as P,b as w}from"./app.6937e614.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";import"./focus-manager.a1228392.js";const U={class:"tag-list"},W=["onClick"],z={__name:"inputSearch",emits:["search"],setup(g,{emit:d}){const o=d,l=m(null),t=m(""),y=async e=>{if(!e.href)return;const a=e.href.startsWith("http://")||e.href.startsWith("https://");try{a?window.open(e.href,"_blank"):(e.autoSave&&await P(w,e),window.location.href=e.href)}catch(s){console.error("Erro ao tentar abrir a URL:",s)}},x=C(()=>{const e=t.value.split(" ").filter(a=>a.trim()!=="").map(a=>c(a));return w.agenda.tagsSuggestions.filter(a=>e.every(s=>c(a.title||"").includes(s)||c(a.description||"").includes(s)))}),c=e=>e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")||"";I(t,e=>{e&&o("search",e)});const p=()=>{t.value&&(window.location.href=`${window.location.origin}/#/lista/?pesquisar=${t.value}`)},_=e=>{var a;e.key==="Escape"&&(t.value="",(a=l.value)==null||a.focus())};return E(()=>{var e;window.addEventListener("keydown",_),(e=l.value)==null||e.focus()}),b(()=>{window.removeEventListener("keydown",_)}),(e,a)=>(n(),u("div",null,[i(q,{ref_key:"searchInput",ref:l,onKeyup:S(p,["enter"]),placeholder:"Pesquisar por localidades, atendimentos, paginas...",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),class:"search-bar q-ma-lg"},{append:f(()=>[i(B,{flat:"",round:"",icon:"search",onClick:p})]),_:1},8,["modelValue"]),h(r("div",null,[r("div",U,[(n(!0),u(D,null,Q(x.value,(s,k)=>(n(),$(K,{key:k,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:f(()=>[r("div",{onClick:L(G=>y(s),["stop"])},V(s.title),9,W)]),_:2},1024))),128))])],512),[[v,t.value]]),h(r("div",null,[i(N)],512),[[v,!t.value]])]))}};const F={class:"text-center"},M={__name:"IndexPage",setup(g){return(d,o)=>(n(),u("div",null,[r("div",F,[o[0]||(o[0]=r("img",{src:"img/logo-ccb.png",alt:"Congrega\xE7\xE3o Crist\xE3 no Brasil",class:"logo"},null,-1)),i(z)])]))}};var X=T(M,[["__scopeId","data-v-c368cf0a"]]);export{X as default};
