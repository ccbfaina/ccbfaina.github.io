import{Q as G}from"./QSeparator-C9s36KqE.js";import{c as J,g as X,i as Y,e as V,l as Z,r as w,u as ee,a as v,w as _,k as te,y as oe,h as z,z as ae,o as K,x as se,B as k,C as h,E as m,I as S,H as g,Q as F,L as ne,M as T,D as p,K as E,N as A,F as $,O as H,P as D,G as M,R as q,A as re,J as Q}from"./index-C1mdcgXU.js";import{Q as ie}from"./QResizeObserver-CxEBqdph.js";import{Q as le}from"./QInput-Bkz8ypA4.js";import{Q as W}from"./QChip-69i3ZQ2k.js";import{a as B,b as ue}from"./app-BgE5kJEg.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-C_h1aEkq.js";import"./focus-manager-CahXY3Bh.js";import"./private.use-form-BH8Wq6RR.js";const ce=J({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(n,{slots:l,emit:a}){const{proxy:{$q:i}}=X(),e=Y(Z,V);if(e===V)return console.error("QFooter needs to be child of QLayout"),V;const r=w(parseInt(n.heightHint,10)),d=w(!0),b=w(ee.value===!0||e.isContainer.value===!0?0:window.innerHeight),y=v(()=>n.reveal===!0||e.view.value.indexOf("F")!==-1||i.platform.is.ios&&e.isContainer.value===!0),I=v(()=>e.isContainer.value===!0?e.containerHeight.value:b.value),x=v(()=>{if(n.modelValue!==!0)return 0;if(y.value===!0)return d.value===!0?r.value:0;const t=e.scroll.value.position+I.value+r.value-e.height.value;return t>0?t:0}),C=v(()=>n.modelValue!==!0||y.value===!0&&d.value!==!0),P=v(()=>n.modelValue===!0&&C.value===!0&&n.reveal===!0),s=v(()=>"q-footer q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-bottom"+(n.bordered===!0?" q-footer--bordered":"")+(C.value===!0?" q-footer--hidden":"")+(n.modelValue!==!0?" q-layout--prevent-focus"+(y.value!==!0?" hidden":""):"")),u=v(()=>{const t=e.rows.value.bottom,c={};return t[0]==="l"&&e.left.space===!0&&(c[i.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),t[2]==="r"&&e.right.space===!0&&(c[i.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),c});function o(t,c){e.update("footer",t,c)}function f(t,c){t.value!==c&&(t.value=c)}function N({height:t}){f(r,t),o("size",t)}function O(){if(n.reveal!==!0)return;const{direction:t,position:c,inflectionPoint:j}=e.scroll.value;f(d,t==="up"||c-j<100||e.height.value-I.value-c-r.value<300)}function U(t){P.value===!0&&f(d,!0),a("focusin",t)}_(()=>n.modelValue,t=>{o("space",t),f(d,!0),e.animate()}),_(x,t=>{o("offset",t)}),_(()=>n.reveal,t=>{t===!1&&f(d,n.modelValue)}),_(d,t=>{e.animate(),a("reveal",t)}),_([r,e.scroll,e.height],O),_(()=>i.screen.height,t=>{e.isContainer.value!==!0&&f(b,t)});const L={};return e.instances.footer=L,n.modelValue===!0&&o("size",r.value),o("space",n.modelValue),o("offset",x.value),te(()=>{e.instances.footer===L&&(e.instances.footer=void 0,o("size",0),o("offset",0),o("space",!1))}),()=>{const t=oe(l.default,[z(ie,{debounce:0,onResize:N})]);return n.elevated===!0&&t.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),z("footer",{class:s.value,style:u.value,onFocusin:U},t)}}}),de={class:"tag-list"},fe=["onClick"],me={class:"tag-list"},ve=["onClick"],pe={__name:"inputSearch",emits:["search"],setup(n,{emit:l}){const a=ae(),i=l,e=w(null),r=w("");let d=null;const b=async s=>{if(!s.href)return;const u=s.href.startsWith("http://")||s.href.startsWith("https://");try{u?window.open(s.href,"_blank"):(s.autoSave&&await ue(B,s),a.push(s.href.replace(/^#\//,"/")))}catch(o){console.error("Erro ao tentar abrir a URL:",o)}},y=v(()=>B.agenda.tags.filter(s=>s.fixed===!0)),I=v(()=>{if(r.value.trim()==="")return[];const s=r.value.split(" ").filter(u=>u.trim()!=="").map(u=>x(u));return B.agenda.tags.filter(u=>s.every(o=>new RegExp(`\\b${o}`,"i").test(x(u.title||""))||new RegExp(`\\b${o}`,"i").test(x(u.description||""))))}),x=s=>s.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")||"";_(r,s=>{clearTimeout(d),s&&(d=setTimeout(()=>{i("search",s)},500))});const C=()=>{r.value&&(window.location.href=`${window.location.origin}/#/lista/?pesquisar=${r.value}`)},P=s=>{s.key==="Escape"&&(r.value="",e.value?.focus())};return K(()=>{window.addEventListener("keydown",P),e.value?.focus()}),se(()=>{window.removeEventListener("keydown",P)}),(s,u)=>(h(),k("div",null,[m(le,{ref_key:"searchInput",ref:e,onKeyup:ne(C,["enter"]),placeholder:"Pesquisar por localidades, atendimentos, páginas...",modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=o=>r.value=o),class:"search-bar q-ma-lg"},{append:g(()=>[m(F,{flat:"",round:"",icon:"search",onClick:C})]),_:1},8,["modelValue"]),S(p("div",null,[p("div",de,[(h(!0),k(E,null,A(I.value,(o,f)=>(h(),$(W,{key:f,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:g(()=>[p("div",{onClick:H(N=>b(o),["stop"])},D(`${o.group}: ${o.title}`),9,fe)]),_:2},1024))),128))])],512),[[T,r.value]]),S(p("div",null,[p("div",me,[(h(!0),k(E,null,A(y.value,(o,f)=>(h(),$(W,{key:f,class:"q-mb-xs tag-chip",style:{cursor:"pointer"}},{default:g(()=>[p("div",{onClick:H(N=>b(o),["stop"])},D(`${o.group}: ${o.title}`),9,ve)]),_:2},1024))),128))])],512),[[T,!r.value]])]))}},he={__name:"InstallComponent",setup(n){const l=w(!1);let a=null;window.matchMedia("(display-mode: standalone)").matches?l.value=!1:l.value=!0;const i=async()=>{a&&(a.prompt(),await a.userChoice,a.userChoice.then(e=>{e.outcome==="accepted"?q.create({message:"PWA instalado com sucesso!",color:"green",icon:"check_circle"}):q.create({message:"Usuário recusou a instalação do PWA.",color:"red",icon:"cancel"}),a=null,l.value=!1}))};return K(()=>{window.addEventListener("beforeinstallprompt",e=>{console.log("Instaled::: ",a),e.preventDefault(),a=e,l.value=!0})}),(e,r)=>l.value?(h(),$(F,{key:0,color:"red",round:"",dense:"",size:"md",icon:"mdi-cellphone-arrow-down-variant",class:"install print-hide","aria-label":"Instalar APP",onClick:i})):M("",!0)}},_e=R(he,[["__scopeId","data-v-b5551f86"]]),ge={class:"print-hide"},we={__name:"PushComponent",setup(n){const l=w(!0);"Notification"in window&&Notification.permission==="granted"&&(l.value=!1);const a=()=>{"Notification"in window?Notification.requestPermission().then(i=>{i==="granted"?(q.create({color:"positive",position:"top",message:"Permissão para notificações concedida!"}),l.value=!1,setTimeout(()=>{location.reload(!0)},2e3)):i==="denied"&&q.create({color:"negative",position:"top",message:"Permissão para notificações negada!"})}):q.create({color:"negative",position:"top",message:"Seu navegador não suporta notificações!"})};return(i,e)=>(h(),k("div",ge,[l.value?(h(),$(F,{onClick:a,class:"notify print-hide",key:"btn_size_dense_round_sm",round:"",dense:"",color:"red",size:"md",icon:"notifications","aria-label":"Notificar"})):M("",!0)]))}},ye=R(we,[["__scopeId","data-v-0893583d"]]),xe={class:"text-center"},be={__name:"IndexPage",setup(n){return(l,a)=>{const i=re("router-link");return h(),k(E,null,[m(ye),m(_e),p("div",null,[p("div",xe,[a[0]||(a[0]=p("h1",{class:"logo-text"},"REGIONAL FAINA",-1)),m(pe)]),m(ce,{class:"bg-grey-1 text-grey-8 text-caption q-pa-sm row items-center justify-center"},{default:g(()=>[m(i,{to:"/sobre",class:"q-mx-sm text-grey-8"},{default:g(()=>a[1]||(a[1]=[Q(" © Regional Faina ")])),_:1}),m(G,{vertical:"",class:"q-mx-sm"}),m(i,{to:"/outras",class:"q-mx-sm text-grey-8"},{default:g(()=>a[2]||(a[2]=[Q(" Páginas ")])),_:1}),m(i,{to:"/contato",class:"q-mx-sm text-grey-8"},{default:g(()=>a[3]||(a[3]=[Q(" Contato ")])),_:1})]),_:1})])],64)}}},Be=R(be,[["__scopeId","data-v-b86f5f7f"]]);export{Be as default};
