import{a as c,aJ as B,c as rt,g as it,t as k,aK as st,w as K,V as Fe,h as i,ag as U,d as dt,Q as H}from"./index-GUTASxEq.js";import{u as ct,a as vt}from"./use-dark-CjoKdMar.js";import{u as ft,c as mt,a as ht}from"./private.use-form-CA2sghPq.js";import{t as yt,a as Ie,f as gt,g as bt,j as be,_ as _t}from"./date-D8MFdHlB.js";function Dt(){let n=Object.create(null);return{getCache:(h,y)=>n[h]===void 0?n[h]=typeof y=="function"?y():y:n[h],setCache(h,y){n[h]=y},hasCache(h){return Object.hasOwnProperty.call(n,h)},clearCache(h){h!==void 0?delete n[h]:n=Object.create(null)}}}const wt=["gregorian","persian"],Be={mask:{type:String},locale:Object,calendar:{type:String,validator:n=>wt.includes(n),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ct=["update:modelValue"];function S(n){return n.year+"/"+B(n.month)+"/"+B(n.day)}function Mt(n,h){const y=c(()=>n.disable!==!0&&n.readonly!==!0),L=c(()=>y.value===!0?0:-1),q=c(()=>{const m=[];return n.color!==void 0&&m.push(`bg-${n.color}`),n.textColor!==void 0&&m.push(`text-${n.textColor}`),m.join(" ")});function ne(){return n.locale!==void 0?{...h.lang.date,...n.locale}:h.lang.date}function w(m){const $=new Date,Y=m===!0?null:0;if(n.calendar==="persian"){const A=yt($);return{year:A.jy,month:A.jm,day:A.jd}}return{year:$.getFullYear(),month:$.getMonth()+1,day:$.getDate(),hour:Y,minute:Y,second:Y,millisecond:Y}}return{editable:y,tabindex:L,headerClass:q,getLocale:ne,getCurrentDate:w}}const I=20,qt=["Calendar","Years","Months"],$e=n=>qt.includes(n),_e=n=>/^-?[\d]+\/[0-1]\d$/.test(n),J=" â€” ";function O(n){return n.year+"/"+B(n.month)}const St=rt({name:"QDate",props:{...Be,...ft,...ct,modelValue:{required:!0,validator:n=>typeof n=="string"||Array.isArray(n)===!0||Object(n)===n||n===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Be.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:_e},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:_e},navigationMaxYearMonth:{type:String,validator:_e},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:$e}},emits:[...Ct,"rangeStart","rangeEnd","navigation"],setup(n,{slots:h,emit:y}){const{proxy:L}=it(),{$q:q}=L,ne=vt(n,q),{getCache:w}=Dt(),{tabindex:m,headerClass:$,getLocale:Y,getCurrentDate:A}=Mt(n,q);let le;const Ae=mt(n),Ee=ht(Ae),ue=k(null),j=k(He()),f=k(Y()),Ne=c(()=>He()),Re=c(()=>Y()),x=c(()=>A()),r=k(Ve(j.value,f.value)),D=k(n.defaultView),De=c(()=>q.lang.rtl===!0?"right":"left"),G=k(De.value),oe=k(De.value),re=r.value.year,X=k(re-re%I-(re<0?I:0)),_=k(null),ze=c(()=>{const e=n.landscape===!0?"landscape":"portrait";return`q-date q-date--${e} q-date--${e}-${n.minimal===!0?"minimal":"standard"}`+(ne.value===!0?" q-date--dark q-dark":"")+(n.bordered===!0?" q-date--bordered":"")+(n.square===!0?" q-date--square no-border-radius":"")+(n.flat===!0?" q-date--flat no-shadow":"")+(n.disable===!0?" disabled":n.readonly===!0?" q-date--readonly":"")}),T=c(()=>n.color||"primary"),E=c(()=>n.textColor||"white"),Z=c(()=>n.emitImmediately===!0&&n.multiple!==!0&&n.range!==!0),ie=c(()=>Array.isArray(n.modelValue)===!0?n.modelValue:n.modelValue!==null&&n.modelValue!==void 0?[n.modelValue]:[]),M=c(()=>ie.value.filter(e=>typeof e=="string").map(e=>fe(e,j.value,f.value)).filter(e=>e.dateHash!==null&&e.day!==null&&e.month!==null&&e.year!==null)),N=c(()=>{const e=t=>fe(t,j.value,f.value);return ie.value.filter(t=>st(t)===!0&&t.from!==void 0&&t.to!==void 0).map(t=>({from:e(t.from),to:e(t.to)})).filter(t=>t.from.dateHash!==null&&t.to.dateHash!==null&&t.from.dateHash<t.to.dateHash)}),p=c(()=>n.calendar!=="persian"?e=>new Date(e.year,e.month-1,e.day):e=>{const t=Ie(e.year,e.month,e.day);return new Date(t.gy,t.gm-1,t.gd)}),se=c(()=>n.calendar==="persian"?S:(e,t,a)=>gt(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),t===void 0?j.value:t,a===void 0?f.value:a,e.year,e.timezoneOffset)),P=c(()=>M.value.length+N.value.reduce((e,t)=>e+1+bt(p.value(t.to),p.value(t.from)),0)),we=c(()=>{if(n.title!==void 0&&n.title!==null&&n.title.length!==0)return n.title;if(_.value!==null){const a=_.value.init,l=p.value(a);return f.value.daysShort[l.getDay()]+", "+f.value.monthsShort[a.month-1]+" "+a.day+J+"?"}if(P.value===0)return J;if(P.value>1)return`${P.value} ${f.value.pluralDay}`;const e=M.value[0],t=p.value(e);return isNaN(t.valueOf())===!0?J:f.value.headerTitle!==void 0?f.value.headerTitle(t,e):f.value.daysShort[t.getDay()]+", "+f.value.monthsShort[e.month-1]+" "+e.day}),Je=c(()=>M.value.concat(N.value.map(t=>t.from)).sort((t,a)=>t.year-a.year||t.month-a.month)[0]),Le=c(()=>M.value.concat(N.value.map(t=>t.to)).sort((t,a)=>a.year-t.year||a.month-t.month)[0]),Ce=c(()=>{if(n.subtitle!==void 0&&n.subtitle!==null&&n.subtitle.length!==0)return n.subtitle;if(P.value===0)return J;if(P.value>1){const e=Je.value,t=Le.value,a=f.value.monthsShort;return a[e.month-1]+(e.year!==t.year?" "+e.year+J+a[t.month-1]+" ":e.month!==t.month?J+a[t.month-1]:"")+" "+t.year}return M.value[0].year}),ee=c(()=>{const e=[q.iconSet.datetime.arrowLeft,q.iconSet.datetime.arrowRight];return q.lang.rtl===!0?e.reverse():e}),Me=c(()=>n.firstDayOfWeek!==void 0?Number(n.firstDayOfWeek):f.value.firstDayOfWeek),Pe=c(()=>{const e=f.value.daysShort,t=Me.value;return t>0?e.slice(t,7).concat(e.slice(0,t)):e}),V=c(()=>{const e=r.value;return n.calendar!=="persian"?new Date(e.year,e.month,0).getDate():be(e.year,e.month)}),We=c(()=>typeof n.eventColor=="function"?n.eventColor:()=>n.eventColor),g=c(()=>{if(n.navigationMinYearMonth===void 0)return null;const e=n.navigationMinYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),b=c(()=>{if(n.navigationMaxYearMonth===void 0)return null;const e=n.navigationMaxYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),de=c(()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return g.value!==null&&g.value.year>=r.value.year&&(e.year.prev=!1,g.value.year===r.value.year&&g.value.month>=r.value.month&&(e.month.prev=!1)),b.value!==null&&b.value.year<=r.value.year&&(e.year.next=!1,b.value.year===r.value.year&&b.value.month<=r.value.month&&(e.month.next=!1)),e}),te=c(()=>{const e={};return M.value.forEach(t=>{const a=O(t);e[a]===void 0&&(e[a]=[]),e[a].push(t.day)}),e}),qe=c(()=>{const e={};return N.value.forEach(t=>{const a=O(t.from),l=O(t.to);if(e[a]===void 0&&(e[a]=[]),e[a].push({from:t.from.day,to:a===l?t.to.day:void 0,range:t}),a<l){let u;const{year:d,month:o}=t.from,s=o<12?{year:d,month:o+1}:{year:d+1,month:1};for(;(u=O(s))<=l;)e[u]===void 0&&(e[u]=[]),e[u].push({from:void 0,to:u===l?t.to.day:void 0,range:t}),s.month++,s.month>12&&(s.year++,s.month=1)}}),e}),W=c(()=>{if(_.value===null)return;const{init:e,initHash:t,final:a,finalHash:l}=_.value,[u,d]=t<=l?[e,a]:[a,e],o=O(u),s=O(d);if(o!==C.value&&s!==C.value)return;const v={};return o===C.value?(v.from=u.day,v.includeFrom=!0):v.from=1,s===C.value?(v.to=d.day,v.includeTo=!0):v.to=V.value,v}),C=c(()=>O(r.value)),Qe=c(()=>{const e={};if(n.options===void 0){for(let a=1;a<=V.value;a++)e[a]=!0;return e}const t=typeof n.options=="function"?n.options:a=>n.options.includes(a);for(let a=1;a<=V.value;a++){const l=C.value+"/"+B(a);e[a]=t(l)}return e}),Ke=c(()=>{const e={};if(n.events===void 0)for(let t=1;t<=V.value;t++)e[t]=!1;else{const t=typeof n.events=="function"?n.events:a=>n.events.includes(a);for(let a=1;a<=V.value;a++){const l=C.value+"/"+B(a);e[a]=t(l)===!0&&We.value(l)}}return e}),Ue=c(()=>{let e,t;const{year:a,month:l}=r.value;if(n.calendar!=="persian")e=new Date(a,l-1,1),t=new Date(a,l-1,0).getDate();else{const u=Ie(a,l,1);e=new Date(u.gy,u.gm-1,u.gd);let d=l-1,o=a;d===0&&(d=12,o--),t=be(o,d)}return{days:e.getDay()-Me.value-1,endDay:t}}),xe=c(()=>{const e=[],{days:t,endDay:a}=Ue.value,l=t<0?t+7:t;if(l<6)for(let o=a-l;o<=a;o++)e.push({i:o,fill:!0});const u=e.length;for(let o=1;o<=V.value;o++){const s={i:o,event:Ke.value[o],classes:[]};Qe.value[o]===!0&&(s.in=!0,s.flat=!0),e.push(s)}if(te.value[C.value]!==void 0&&te.value[C.value].forEach(o=>{const s=u+o-1;Object.assign(e[s],{selected:!0,unelevated:!0,flat:!1,color:T.value,textColor:E.value})}),qe.value[C.value]!==void 0&&qe.value[C.value].forEach(o=>{if(o.from!==void 0){const s=u+o.from-1,v=u+(o.to||V.value)-1;for(let Q=s;Q<=v;Q++)Object.assign(e[Q],{range:o.range,unelevated:!0,color:T.value,textColor:E.value});Object.assign(e[s],{rangeFrom:!0,flat:!1}),o.to!==void 0&&Object.assign(e[v],{rangeTo:!0,flat:!1})}else if(o.to!==void 0){const s=u+o.to-1;for(let v=u;v<=s;v++)Object.assign(e[v],{range:o.range,unelevated:!0,color:T.value,textColor:E.value});Object.assign(e[s],{flat:!1,rangeTo:!0})}else{const s=u+V.value-1;for(let v=u;v<=s;v++)Object.assign(e[v],{range:o.range,unelevated:!0,color:T.value,textColor:E.value})}}),W.value!==void 0){const o=u+W.value.from-1,s=u+W.value.to-1;for(let v=o;v<=s;v++)e[v].color=T.value,e[v].editRange=!0;W.value.includeFrom===!0&&(e[o].editRangeFrom=!0),W.value.includeTo===!0&&(e[s].editRangeTo=!0)}r.value.year===x.value.year&&r.value.month===x.value.month&&(e[u+x.value.day-1].today=!0);const d=e.length%7;if(d>0){const o=7-d;for(let s=1;s<=o;s++)e.push({i:s,fill:!0})}return e.forEach(o=>{let s="q-date__calendar-item ";o.fill===!0?s+="q-date__calendar-item--fill":(s+=`q-date__calendar-item--${o.in===!0?"in":"out"}`,o.range!==void 0&&(s+=` q-date__range${o.rangeTo===!0?"-to":o.rangeFrom===!0?"-from":""}`),o.editRange===!0&&(s+=` q-date__edit-range${o.editRangeFrom===!0?"-from":""}${o.editRangeTo===!0?"-to":""}`),(o.range!==void 0||o.editRange===!0)&&(s+=` text-${o.color}`)),o.classes=s}),e}),Ge=c(()=>n.disable===!0?{"aria-disabled":"true"}:{});K(()=>n.modelValue,e=>{if(le===JSON.stringify(e))le=0;else{const t=Ve(j.value,f.value);R(t.year,t.month,t)}}),K(D,()=>{ue.value!==null&&L.$el.contains(document.activeElement)===!0&&ue.value.focus()}),K(()=>r.value.year+"|"+r.value.month,()=>{y("navigation",{year:r.value.year,month:r.value.month})}),K(Ne,e=>{Te(e,f.value,"mask"),j.value=e}),K(Re,e=>{Te(j.value,e,"locale"),f.value=e});function ce(e){le=JSON.stringify(e)}function ke(){const{year:e,month:t,day:a}=x.value,l={...r.value,year:e,month:t,day:a},u=te.value[O(l)];(u===void 0||u.includes(l.day)===!1)&&he(l),ve(l.year,l.month)}function Xe(e){$e(e)===!0&&(D.value=e)}function Ze(e,t){["month","year"].includes(e)&&(e==="month"?Oe:me)(t===!0?-1:1)}function ve(e,t){D.value="Calendar",R(e,t)}function pe(e,t){if(n.range===!1||!e){_.value=null;return}const a=Object.assign({...r.value},e),l=t!==void 0?Object.assign({...r.value},t):a;_.value={init:a,initHash:S(a),final:l,finalHash:S(l)},ve(a.year,a.month)}function He(){return n.calendar==="persian"?"YYYY/MM/DD":n.mask}function fe(e,t,a){return _t(e,t,a,n.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ve(e,t){const a=Array.isArray(n.modelValue)===!0?n.modelValue:n.modelValue?[n.modelValue]:[];if(a.length===0)return Se();const l=a[a.length-1],u=fe(l.from!==void 0?l.from:l,e,t);return u.dateHash===null?Se():u}function Se(){let e,t;if(n.defaultYearMonth!==void 0){const a=n.defaultYearMonth.split("/");e=parseInt(a[0],10),t=parseInt(a[1],10)}else{const a=x.value!==void 0?x.value:A();e=a.year,t=a.month}return{year:e,month:t,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:e+"/"+B(t)+"/01"}}function Oe(e){let t=r.value.year,a=Number(r.value.month)+e;a===13?(a=1,t++):a===0&&(a=12,t--),R(t,a),Z.value===!0&&ae("month")}function me(e){const t=Number(r.value.year)+e;R(t,r.value.month),Z.value===!0&&ae("year")}function et(e){R(e,r.value.month),D.value=n.defaultView==="Years"?"Months":"Calendar",Z.value===!0&&ae("year")}function tt(e){R(r.value.year,e),D.value="Calendar",Z.value===!0&&ae("month")}function at(e,t){const a=te.value[t];(a!==void 0&&a.includes(e.day)===!0?ye:he)(e)}function F(e){return{year:e.year,month:e.month,day:e.day}}function R(e,t,a){if(g.value!==null&&e<=g.value.year&&((t<g.value.month||e<g.value.year)&&(t=g.value.month),e=g.value.year),b.value!==null&&e>=b.value.year&&((t>b.value.month||e>b.value.year)&&(t=b.value.month),e=b.value.year),a!==void 0){const{hour:u,minute:d,second:o,millisecond:s,timezoneOffset:v,timeHash:Q}=a;Object.assign(r.value,{hour:u,minute:d,second:o,millisecond:s,timezoneOffset:v,timeHash:Q})}const l=e+"/"+B(t)+"/01";l!==r.value.dateHash&&(G.value=r.value.dateHash<l==(q.lang.rtl!==!0)?"left":"right",e!==r.value.year&&(oe.value=G.value),Fe(()=>{X.value=e-e%I-(e<0?I:0),Object.assign(r.value,{year:e,month:t,day:1,dateHash:l})}))}function Ye(e,t,a){const l=e!==null&&e.length===1&&n.multiple===!1?e[0]:e,{reason:u,details:d}=je(t,a);ce(l),y("update:modelValue",l,u,d)}function ae(e){const t=M.value[0]!==void 0&&M.value[0].dateHash!==null?{...M.value[0]}:{...r.value};Fe(()=>{t.year=r.value.year,t.month=r.value.month;const a=n.calendar!=="persian"?new Date(t.year,t.month,0).getDate():be(t.year,t.month);t.day=Math.min(Math.max(1,t.day),a);const l=z(t),{details:u}=je("",t);ce(l),y("update:modelValue",l,e,u)})}function je(e,t){return t.from!==void 0?{reason:`${e}-range`,details:{...F(t.target),from:F(t.from),to:F(t.to)}}:{reason:`${e}-day`,details:F(t)}}function z(e,t,a){return e.from!==void 0?{from:se.value(e.from,t,a),to:se.value(e.to,t,a)}:se.value(e,t,a)}function he(e){let t;if(n.multiple===!0)if(e.from!==void 0){const a=S(e.from),l=S(e.to),u=M.value.filter(o=>o.dateHash<a||o.dateHash>l),d=N.value.filter(({from:o,to:s})=>s.dateHash<a||o.dateHash>l);t=u.concat(d).concat(e).map(o=>z(o))}else{const a=ie.value.slice();a.push(z(e)),t=a}else t=z(e);Ye(t,"add",e)}function ye(e){if(n.noUnset===!0)return;let t=null;if(n.multiple===!0&&Array.isArray(n.modelValue)===!0){const a=z(e);e.from!==void 0?t=n.modelValue.filter(l=>l.from!==void 0?l.from!==a.from&&l.to!==a.to:!0):t=n.modelValue.filter(l=>l!==a),t.length===0&&(t=null)}Ye(t,"remove",e)}function Te(e,t,a){const l=M.value.concat(N.value).map(d=>z(d,e,t)).filter(d=>d.from!==void 0?d.from.dateHash!==null&&d.to.dateHash!==null:d.dateHash!==null),u=(n.multiple===!0?l:l[0])||null;ce(u),y("update:modelValue",u,a)}function nt(){if(n.minimal!==!0)return i("div",{class:"q-date__header "+$.value},[i("div",{class:"relative-position"},[i(U,{name:"q-transition--fade"},()=>i("div",{key:"h-yr-"+Ce.value,class:"q-date__header-subtitle q-date__header-link "+(D.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:m.value,...w("vY",{onClick(){D.value="Years"},onKeyup(e){e.keyCode===13&&(D.value="Years")}})},[Ce.value]))]),i("div",{class:"q-date__header-title relative-position flex no-wrap"},[i("div",{class:"relative-position col"},[i(U,{name:"q-transition--fade"},()=>i("div",{key:"h-sub"+we.value,class:"q-date__header-title-label q-date__header-link "+(D.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:m.value,...w("vC",{onClick(){D.value="Calendar"},onKeyup(e){e.keyCode===13&&(D.value="Calendar")}})},[we.value]))]),n.todayBtn===!0?i(H,{class:"q-date__header-today self-start",icon:q.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:m.value,onClick:ke}):null])])}function ge({label:e,type:t,key:a,dir:l,goTo:u,boundaries:d,cls:o}){return[i("div",{class:"row items-center q-date__arrow"},[i(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:ee.value[0],tabindex:m.value,disable:d.prev===!1,...w("go-#"+t,{onClick(){u(-1)}})})]),i("div",{class:"relative-position overflow-hidden flex flex-center"+o},[i(U,{name:"q-transition--jump-"+l},()=>i("div",{key:a},[i(H,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:m.value,...w("view#"+t,{onClick:()=>{D.value=t}})})]))]),i("div",{class:"row items-center q-date__arrow"},[i(H,{round:!0,dense:!0,size:"sm",flat:!0,icon:ee.value[1],tabindex:m.value,disable:d.next===!1,...w("go+#"+t,{onClick(){u(1)}})})])]}const lt={Calendar:()=>[i("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[i("div",{class:"q-date__navigation row items-center no-wrap"},ge({label:f.value.months[r.value.month-1],type:"Months",key:r.value.month,dir:G.value,goTo:Oe,boundaries:de.value.month,cls:" col"}).concat(ge({label:r.value.year,type:"Years",key:r.value.year,dir:oe.value,goTo:me,boundaries:de.value.year,cls:""}))),i("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Pe.value.map(e=>i("div",{class:"q-date__calendar-item"},[i("div",e)]))),i("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[i(U,{name:"q-transition--slide-"+G.value},()=>i("div",{key:C.value,class:"q-date__calendar-days fit"},xe.value.map(e=>i("div",{class:e.classes},[e.in===!0?i(H,{class:e.today===!0?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:m.value,...w("day#"+e.i,{onClick:()=>{ut(e.i)},onMouseover:()=>{ot(e.i)}})},e.event!==!1?()=>i("div",{class:"q-date__event bg-"+e.event}):null):i("div",""+e.i)]))))])])],Months(){const e=r.value.year===x.value.year,t=l=>g.value!==null&&r.value.year===g.value.year&&g.value.month>l||b.value!==null&&r.value.year===b.value.year&&b.value.month<l,a=f.value.monthsShort.map((l,u)=>{const d=r.value.month===u+1;return i("div",{class:"q-date__months-item flex flex-center"},[i(H,{class:e===!0&&x.value.month===u+1?"q-date__today":null,flat:d!==!0,label:l,unelevated:d,color:d===!0?T.value:null,textColor:d===!0?E.value:null,tabindex:m.value,disable:t(u+1),...w("month#"+u,{onClick:()=>{tt(u+1)}})})])});return n.yearsInMonthView===!0&&a.unshift(i("div",{class:"row no-wrap full-width"},[ge({label:r.value.year,type:"Years",key:r.value.year,dir:oe.value,goTo:me,boundaries:de.value.year,cls:" col"})])),i("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},a)},Years(){const e=X.value,t=e+I,a=[],l=u=>g.value!==null&&g.value.year>u||b.value!==null&&b.value.year<u;for(let u=e;u<=t;u++){const d=r.value.year===u;a.push(i("div",{class:"q-date__years-item flex flex-center"},[i(H,{key:"yr"+u,class:x.value.year===u?"q-date__today":null,flat:!d,label:u,dense:!0,unelevated:d,color:d===!0?T.value:null,textColor:d===!0?E.value:null,tabindex:m.value,disable:l(u),...w("yr#"+u,{onClick:()=>{et(u)}})})]))}return i("div",{class:"q-date__view q-date__years flex flex-center"},[i("div",{class:"col-auto"},[i(H,{round:!0,dense:!0,flat:!0,icon:ee.value[0],tabindex:m.value,disable:l(e),...w("y-",{onClick:()=>{X.value-=I}})})]),i("div",{class:"q-date__years-content col self-stretch row items-center"},a),i("div",{class:"col-auto"},[i(H,{round:!0,dense:!0,flat:!0,icon:ee.value[1],tabindex:m.value,disable:l(t),...w("y+",{onClick:()=>{X.value+=I}})})])])}};function ut(e){const t={...r.value,day:e};if(n.range===!1){at(t,C.value);return}if(_.value===null){const a=xe.value.find(u=>u.fill!==!0&&u.i===e);if(n.noUnset!==!0&&a.range!==void 0){ye({target:t,from:a.range.from,to:a.range.to});return}if(a.selected===!0){ye(t);return}const l=S(t);_.value={init:t,initHash:l,final:t,finalHash:l},y("rangeStart",F(t))}else{const a=_.value.initHash,l=S(t),u=a<=l?{from:_.value.init,to:t}:{from:t,to:_.value.init};_.value=null,he(a===l?t:{target:t,...u}),y("rangeEnd",{from:F(u.from),to:F(u.to)})}}function ot(e){if(_.value!==null){const t={...r.value,day:e};Object.assign(_.value,{final:t,finalHash:S(t)})}}return Object.assign(L,{setToday:ke,setView:Xe,offsetCalendar:Ze,setCalendarTo:ve,setEditingRange:pe}),()=>{const e=[i("div",{class:"q-date__content col relative-position"},[i(U,{name:"q-transition--fade"},lt[D.value])])],t=dt(h.default);return t!==void 0&&e.push(i("div",{class:"q-date__actions"},t)),n.name!==void 0&&n.disable!==!0&&Ee(e,"push"),i("div",{class:ze.value,...Ge.value},[nt(),i("div",{ref:ue,class:"q-date__main col column",tabindex:-1},e)])}}});export{St as Q};
