import{c as $,i as N,e as b,a as p,h as m,b as ne,l as I,p as oe,g as Q,d as ie,s as ue,w as A,o as T,f as B,n as re,j as de,k as D,m as fe,q as ve,r as z,t as ae,u as U,v as M,x as S,y as ge,z as he,A as pe,B as x,C as G,D as me,E as f,Q as V,F as J,G as L,H as X,I as u,J as ye,K as E,L as H}from"./index.75525dbe.js";import{Q as be,a as k,b as R,c as we,C as F}from"./ClosePopup.d8772084.js";import{Q as Y}from"./QList.baf75e10.js";import{u as xe}from"./use-quasar.892268a4.js";import{_ as ze}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.4e6164ab.js";import"./focus-manager.aa597d2c.js";var _e=$({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:v}){const{proxy:{$q:n}}=Q(),e=N(I,b);if(e===b)return console.error("QPage needs to be a deep child of QLayout"),b;if(N(oe,b)===b)return console.error("QPage needs to be child of QPageContainer"),b;const l=p(()=>{const s=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const o=e.isContainer.value===!0?e.containerHeight.value:n.screen.height;return t.styleFn(s,o)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),c=p(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:c.value,style:l.value},ne(v.default))}}),Ce=$({name:"QPageContainer",setup(t,{slots:v}){const{proxy:{$q:n}}=Q(),e=N(I,b);if(e===b)return console.error("QPageContainer needs to be child of QLayout"),b;ie(oe,!0);const a=p(()=>{const l={};return e.header.space===!0&&(l.paddingTop=`${e.header.size}px`),e.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${e.right.size}px`),e.footer.space===!0&&(l.paddingBottom=`${e.footer.size}px`),e.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${e.left.size}px`),l});return()=>m("div",{class:"q-page-container",style:a.value},ne(v.default))}});const{passive:Z}=D,Le=["both","horizontal","vertical"];var Se=$({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Le.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:ue},emits:["scroll"],setup(t,{emit:v}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let e=null,a,l;A(()=>t.scrollTarget,()=>{o(),s()});function c(){e!==null&&e();const y=Math.max(0,fe(a)),_=ve(a),h={top:y-n.position.top,left:_-n.position.left};if(t.axis==="vertical"&&h.top===0||t.axis==="horizontal"&&h.left===0)return;const P=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:y,left:_},n.directionChanged=n.direction!==P,n.delta=h,n.directionChanged===!0&&(n.direction=P,n.inflectionPoint=n.position),v("scroll",{...n})}function s(){a=de(l,t.scrollTarget),a.addEventListener("scroll",i,Z),i(!0)}function o(){a!==void 0&&(a.removeEventListener("scroll",i,Z),a=void 0)}function i(y){if(y===!0||t.debounce===0||t.debounce==="0")c();else if(e===null){const[_,h]=t.debounce?[setTimeout(c,t.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];e=()=>{h(_),e=null}}}const{proxy:g}=Q();return A(()=>g.$q.lang.rtl,c),T(()=>{l=g.$el.parentNode,s()}),B(()=>{e!==null&&e(),o()}),Object.assign(g,{trigger:i,getPosition:()=>n}),re}});function Te(){const t=z(!ae.value);return t.value===!1&&T(()=>{t.value=!0}),{isHydrated:t}}const le=typeof ResizeObserver!="undefined",ee=le===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var te=$({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:v}){let n=null,e,a={width:-1,height:-1};function l(o){o===!0||t.debounce===0||t.debounce==="0"?c():n===null&&(n=setTimeout(c,t.debounce))}function c(){if(n!==null&&(clearTimeout(n),n=null),e){const{offsetWidth:o,offsetHeight:i}=e;(o!==a.width||i!==a.height)&&(a={width:o,height:i},v("resize",a))}}const{proxy:s}=Q();if(s.trigger=l,le===!0){let o;const i=g=>{e=s.$el.parentNode,e?(o=new ResizeObserver(l),o.observe(e),c()):g!==!0&&U(()=>{i(!0)})};return T(()=>{i()}),B(()=>{n!==null&&clearTimeout(n),o!==void 0&&(o.disconnect!==void 0?o.disconnect():e&&o.unobserve(e))}),re}else{let g=function(){n!==null&&(clearTimeout(n),n=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",l,D.passive),i=void 0)},y=function(){g(),e&&e.contentDocument&&(i=e.contentDocument.defaultView,i.addEventListener("resize",l,D.passive),c())};const{isHydrated:o}=Te();let i;return T(()=>{U(()=>{e=s.$el,e&&y()})}),B(g),()=>{if(o.value===!0)return m("object",{class:"q--avoid-card-border",style:ee.style,tabindex:-1,type:"text/html",data:ee.url,"aria-hidden":"true",onLoad:y})}}}}),$e=$({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:v,emit:n}){const{proxy:{$q:e}}=Q(),a=z(null),l=z(e.screen.height),c=z(t.container===!0?0:e.screen.width),s=z({position:0,direction:"down",inflectionPoint:0}),o=z(0),i=z(ae.value===!0?0:M()),g=p(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),y=p(()=>t.container===!1?{minHeight:e.screen.height+"px"}:null),_=p(()=>i.value!==0?{[e.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),h=p(()=>i.value!==0?{[e.lang.rtl===!0?"right":"left"]:0,[e.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function P(r){if(t.container===!0||document.qScrollPrevented!==!0){const d={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};s.value=d,t.onScroll!==void 0&&n("scroll",d)}}function se(r){const{height:d,width:w}=r;let C=!1;l.value!==d&&(C=!0,l.value=d,t.onScrollHeight!==void 0&&n("scrollHeight",d),W()),c.value!==w&&(C=!0,c.value=w),C===!0&&t.onResize!==void 0&&n("resize",r)}function ce({height:r}){o.value!==r&&(o.value=r,W())}function W(){if(t.container===!0){const r=l.value>o.value?M():0;i.value!==r&&(i.value=r)}}let q=null;const j={instances:{},view:p(()=>t.view),isContainer:p(()=>t.container),rootRef:a,height:l,containerHeight:o,scrollbarWidth:i,totalWidth:p(()=>c.value+i.value),rows:p(()=>{const r=t.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:S({size:0,offset:0,space:!1}),right:S({size:300,offset:0,space:!1}),footer:S({size:0,offset:0,space:!1}),left:S({size:300,offset:0,space:!1}),scroll:s,animate(){q!==null?clearTimeout(q):document.body.classList.add("q-body--layout-animate"),q=setTimeout(()=>{q=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,d,w){j[r][d]=w}};if(ie(I,j),M()>0){let w=function(){r=null,d.classList.remove("hide-scrollbar")},C=function(){if(r===null){if(d.scrollHeight>e.screen.height)return;d.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(w,300)},O=function(K){r!==null&&K==="remove"&&(clearTimeout(r),w()),window[`${K}EventListener`]("resize",C)},r=null;const d=document.body;A(()=>t.container!==!0?"add":"remove",O),t.container!==!0&&O("add"),ge(()=>{O("remove")})}return()=>{const r=he(v.default,[m(Se,{onScroll:P}),m(te,{onResize:se})]),d=m("div",{class:g.value,style:y.value,ref:t.container===!0?void 0:a,tabindex:-1},r);return t.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:a},[m(te,{onResize:ce}),m("div",{class:"absolute-full",style:_.value},[m("div",{class:"scroll",style:h.value},[d])])]):d}}});const Qe={class:"print-hide absolute-top-left row q-pa-md z-top"},Pe={key:0,class:"off"},qe={__name:"MainLayout",setup(t){const v=S({connected:navigator.onLine}),n=window.history,e=()=>{v.connected=navigator.onLine};T(()=>{window.addEventListener("online",e),window.addEventListener("offline",e)}),B(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)});const a=xe(),l=()=>{navigator.share?navigator.share({title:"CCB",text:"Lista de Atendimento",url:location.href}).then(()=>a.notify({type:"positive",message:"Compartilhado com sucesso!"})).catch(s=>a.notify({type:"negative",message:"Erro: "+s})):(c(location.href),a.notify({type:"info",message:"URL copiada."}))},c=s=>{navigator.clipboard.writeText(s)};return(s,o)=>{const i=pe("router-view");return x(),G(ye,null,[me("div",Qe,[f(V,{color:"primary",flat:"",round:"",icon:"home",to:"/",class:"q-mr-sm"}),J(n).length?(x(),L(V,{key:0,color:"primary",flat:"",round:"",icon:"arrow_back",class:"q-mr-sm",onClick:o[0]||(o[0]=g=>J(n).back())})):X("",!0)]),f(V,{color:"primary",flat:"",round:"",icon:"more_vert",class:"print-hide z-top absolute-top-right q-pa-md"},{default:u(()=>[f(be,{anchor:"top right",self:"top end",class:"z-top"},{default:u(()=>[f(Y,{style:{"min-width":"100px"}},{default:u(()=>[E((x(),L(R,{onClick:l,clickable:""},{default:u(()=>[f(k,null,{default:u(()=>o[1]||(o[1]=[H("Compartilhar")])),_:1})]),_:1})),[[F]])]),_:1}),f(we,{label:"Agenda","expand-separator":""},{default:u(()=>[f(Y,null,{default:u(()=>[E((x(),L(R,{to:"/settings",clickable:""},{default:u(()=>[f(k,null,{default:u(()=>o[2]||(o[2]=[H("Configura\xE7\xF5es")])),_:1})]),_:1})),[[F]]),E((x(),L(R,{to:"/lista/?pesquisar=*",clickable:""},{default:u(()=>[f(k,null,{default:u(()=>o[3]||(o[3]=[H("Lista de Atendimentos")])),_:1})]),_:1})),[[F]]),E((x(),L(R,{to:"/tags",clickable:""},{default:u(()=>[f(k,null,{default:u(()=>o[4]||(o[4]=[H("Tags")])),_:1})]),_:1})),[[F]])]),_:1})]),_:1})]),_:1})]),_:1}),f($e,{view:"lHh Lpr lFf"},{default:u(()=>[f(Ce,null,{default:u(()=>[f(_e,null,{default:u(()=>[f(i),v.connected?X("",!0):(x(),G("div",Pe,"Voc\xEA est\xE1 off-line"))]),_:1})]),_:1})]),_:1})],64)}}};var Me=ze(qe,[["__scopeId","data-v-7905c4b4"]]);export{Me as default};
