import{c as F,a as y,h as p,g as O,r as H,a6 as J,P as de,f as Q,_ as $e,w as _,o as Ae,N as Y,a7 as Ye,C as Xe,G as Ze,a8 as Je,a0 as we,Z as ye,Y as et,j as re,q as tt,a5 as nt,a9 as ot,aa as Me,a3 as fe,ab as it,ac as lt}from"./index--aAVYWFs.js";import{u as ve,a as me}from"./use-dark-BXRXnZbt.js";import{u as he,a as at,v as ut,b as U,c as We}from"./QBtn-BhZAdlUn.js";import{h as ee,d as st}from"./render-CwP24QWp.js";import{Q as pe}from"./QIcon-BG2ghIIa.js";import{Q as Se,c as rt,r as ct}from"./nodes-Dj28do4t.js";import{u as dt,b as ft,r as qe,c as vt,a as mt}from"./focus-manager-TCf0o1SP.js";import{g as ht,a as ke,c as gt}from"./Ripple-BZVUJLGQ.js";const ue=F({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=y(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>p("div",{class:n.value},ee(t.default))}}),bt=F({name:"QItem",props:{...ve,...he,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=O(),i=me(e,o),{hasLink:s,linkAttrs:l,linkClass:u,linkTag:c,navigateOnClick:d}=at(),r=H(null),b=H(null),w=y(()=>e.clickable===!0||s.value===!0||e.tag==="label"),a=y(()=>e.disable!==!0&&w.value===!0),h=y(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(s.value===!0&&e.active===null?u.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(a.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),f=y(()=>e.insetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function S(v){a.value===!0&&(b.value!==null&&v.qAvoidFocus!==!0&&(v.qKeyEvent!==!0&&document.activeElement===r.value?b.value.focus():document.activeElement===b.value&&r.value.focus()),d(v))}function k(v){if(a.value===!0&&J(v,[13,32])===!0){de(v),v.qKeyEvent=!0;const T=new MouseEvent("click",v);T.qKeyEvent=!0,r.value.dispatchEvent(T)}n("keyup",v)}function m(){const v=st(t.default,[]);return a.value===!0&&v.unshift(p("div",{class:"q-focus-helper",tabindex:-1,ref:b})),v}return()=>{const v={ref:r,class:h.value,style:f.value,role:"listitem",onClick:S,onKeyup:k};return a.value===!0?(v.tabindex=e.tabindex||"0",Object.assign(v,l.value)):w.value===!0&&(v["aria-disabled"]="true"),p(c.value,v,m())}}}),Te=F({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=y(()=>parseInt(e.lines,10)),o=y(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),i=y(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>p("div",{style:i.value,class:o.value},ee(t.default))}}),xt=F({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let o=!1,i,s,l=null,u=null,c,d;function r(){i?.(),i=null,o=!1,l!==null&&(clearTimeout(l),l=null),u!==null&&(clearTimeout(u),u=null),s?.removeEventListener("transitionend",c),c=null}function b(f,S,k){S!==void 0&&(f.style.height=`${S}px`),f.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,i=k}function w(f,S){f.style.overflowY=null,f.style.height=null,f.style.transition=null,r(),S!==d&&n(S)}function a(f,S){let k=0;s=f,o===!0?(r(),k=f.offsetHeight===f.scrollHeight?0:void 0):(d="hide",f.style.overflowY="hidden"),b(f,k,S),l=setTimeout(()=>{l=null,f.style.height=`${f.scrollHeight}px`,c=m=>{u=null,(Object(m)!==m||m.target===f)&&w(f,"show")},f.addEventListener("transitionend",c),u=setTimeout(c,e.duration*1.1)},100)}function h(f,S){let k;s=f,o===!0?r():(d="show",f.style.overflowY="hidden",k=f.scrollHeight),b(f,k,S),l=setTimeout(()=>{l=null,f.style.height=0,c=m=>{u=null,(Object(m)!==m||m.target===f)&&w(f,"hide")},f.addEventListener("transitionend",c),u=setTimeout(c,e.duration*1.1)},100)}return Q(()=>{o===!0&&r()}),()=>p($e,{css:!1,appear:e.appear,onEnter:a,onLeave:h},t.default)}}),Fe={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Oe=["beforeShow","show","beforeHide","hide"];function Qe({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:i,processOnMount:s}){const l=O(),{props:u,emit:c,proxy:d}=l;let r;function b(m){e.value===!0?h(m):w(m)}function w(m){if(u.disable===!0||m?.qAnchorHandled===!0||t!==void 0&&t(m)!==!0)return;const v=u["onUpdate:modelValue"]!==void 0;v===!0&&(c("update:modelValue",!0),r=m,Y(()=>{r===m&&(r=void 0)})),(u.modelValue===null||v===!1)&&a(m)}function a(m){e.value!==!0&&(e.value=!0,c("beforeShow",m),o!==void 0?o(m):c("show",m))}function h(m){if(u.disable===!0)return;const v=u["onUpdate:modelValue"]!==void 0;v===!0&&(c("update:modelValue",!1),r=m,Y(()=>{r===m&&(r=void 0)})),(u.modelValue===null||v===!1)&&f(m)}function f(m){e.value!==!1&&(e.value=!1,c("beforeHide",m),i!==void 0?i(m):c("hide",m))}function S(m){u.disable===!0&&m===!0?u["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):m===!0!==e.value&&(m===!0?a:f)(r)}_(()=>u.modelValue,S),n!==void 0&&ut(l)===!0&&_(()=>d.$route.fullPath,()=>{n.value===!0&&e.value===!0&&h()}),s===!0&&Ae(()=>{S(u.modelValue)});const k={show:w,hide:h,toggle:b};return Object.assign(d,k),k}const $=Ye({}),wt=Object.keys(he),on=F({name:"QExpansionItem",props:{...he,...Fe,...ve,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Oe,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=O(),i=me(e,o),s=H(e.modelValue!==null?e.modelValue:e.defaultOpened),l=H(null),u=dt(),{show:c,hide:d,toggle:r}=Qe({showing:s});let b,w;const a=y(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),h=y(()=>e.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),f=y(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),S=y(()=>{const g={};return wt.forEach(L=>{g[L]=e[L]}),g}),k=y(()=>f.value===!0||e.expandIconToggle!==!0),m=y(()=>e.expandedIcon!==void 0&&s.value===!0?e.expandedIcon:e.expandIcon||o.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),v=y(()=>e.disable!==!0&&(f.value===!0||e.expandIconToggle===!0)),T=y(()=>({expanded:s.value===!0,detailsId:u.value,toggle:r,show:c,hide:d})),q=y(()=>{const g=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:o.lang.label[s.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":s.value===!0?"true":"false","aria-controls":u.value,"aria-label":g}});_(()=>e.group,g=>{w?.(),g!==void 0&&j()});function I(g){f.value!==!0&&r(g),n("click",g)}function E(g){g.keyCode===13&&C(g,!0)}function C(g,L){L!==!0&&g.qAvoidFocus!==!0&&l.value?.focus(),r(g),de(g)}function P(){n("afterShow")}function V(){n("afterHide")}function j(){b===void 0&&(b=ft()),s.value===!0&&($[e.group]=b);const g=_(s,B=>{B===!0?$[e.group]=b:$[e.group]===b&&delete $[e.group]}),L=_(()=>$[e.group],(B,ie)=>{ie===b&&B!==void 0&&B!==b&&d()});w=()=>{g(),L(),$[e.group]===b&&delete $[e.group],w=void 0}}function te(){const g={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},L=[p(pe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:m.value})];return v.value===!0&&(Object.assign(g,{tabindex:0,...q.value,onClick:C,onKeyup:E}),L.unshift(p("div",{ref:l,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),p(ue,g,()=>L)}function K(){let g;return t.header!==void 0?g=[].concat(t.header(T.value)):(g=[p(ue,()=>[p(Te,{lines:e.labelLines},()=>e.label||""),e.caption?p(Te,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&g[e.switchToggleSide===!0?"push":"unshift"](p(ue,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>p(pe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&g[e.switchToggleSide===!0?"unshift":"push"](te()),g}function z(){const g={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return k.value===!0&&(g.clickable=!0,g.onClick=I,Object.assign(g,f.value===!0?S.value:q.value)),p(bt,g,K)}function ne(){return Xe(p("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:h.value,id:u.value},ee(t.default)),[[Ze,s.value]])}function oe(){const g=[z(),p(xt,{duration:e.duration,onShow:P,onHide:V},ne)];return e.expandSeparator===!0&&g.push(p(Se,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),p(Se,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),g}return e.group!==void 0&&j(),Q(()=>{w?.()}),()=>p("div",{class:a.value},[p("div",{class:"q-expansion-item__container relative-position"},oe())])}});function yt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Je.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const pt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},St={...pt,contextMenu:Boolean};function qt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:s}=O(),l=H(null);let u=null;function c(a){return l.value===null?!1:a===void 0||a.touches===void 0||a.touches.length<=1}const d={};n===void 0&&(Object.assign(d,{hide(a){i.hide(a)},toggle(a){i.toggle(a),a.qAnchorHandled=!0},toggleKey(a){J(a,13)===!0&&d.toggle(a)},contextClick(a){i.hide(a),we(a),Y(()=>{i.show(a),a.qAnchorHandled=!0})},prevent:we,mobileTouch(a){if(d.mobileCleanup(a),c(a)!==!0)return;i.hide(a),l.value.classList.add("non-selectable");const h=a.target;ye(d,"anchor",[[h,"touchmove","mobileCleanup","passive"],[h,"touchend","mobileCleanup","passive"],[h,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,i.show(a),a.qAnchorHandled=!0},300)},mobileCleanup(a){l.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&a!==void 0&&yt()}}),n=function(a=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let h;a===!0?i.$q.platform.is.mobile===!0?h=[[l.value,"touchstart","mobileTouch","passive"]]:h=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:h=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],ye(d,"anchor",h)});function r(){et(d,"anchor")}function b(a){for(l.value=a;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;n()}function w(){if(o.target===!1||o.target===""||i.$el.parentNode===null)l.value=null;else if(o.target===!0)b(i.$el.parentNode);else{let a=o.target;if(typeof o.target=="string")try{a=document.querySelector(o.target)}catch{a=void 0}a!=null?(l.value=a.$el||a,n()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return _(()=>o.contextMenu,a=>{l.value!==null&&(r(),n(a))}),_(()=>o.target,()=>{l.value!==null&&r(),w()}),_(()=>o.noParentEvent,a=>{l.value!==null&&(a===!0?r():n())}),Ae(()=>{w(),t!==!0&&o.modelValue===!0&&l.value===null&&s("update:modelValue",!1)}),Q(()=>{u!==null&&clearTimeout(u),r()}),{anchorEl:l,canShow:c,anchorEvents:d}}function kt(e,t){const n=H(null);let o;function i(u,c){const d=`${c!==void 0?"add":"remove"}EventListener`,r=c!==void 0?c:o;u!==window&&u[d]("scroll",r,re.passive),window[d]("scroll",r,re.passive),o=c}function s(){n.value!==null&&(i(n.value),n.value=null)}const l=_(()=>e.noParentEvent,()=>{n.value!==null&&(s(),t())});return Q(l),{localScrollTarget:n,unconfigureScrollTarget:s,changeScrollEvent:i}}const D=[];function Tt(e){return D.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function De(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return U(e)}else if(e.__qPortal===!0){const n=U(e);return n?.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=U(e)}while(e!=null)}function Et(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=De(e,t);continue}e.hide(t)}e=U(e)}}const Ct=F({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Lt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function _t(e,t,n,o){const i=H(!1),s=H(!1);let l=null;const u={},c=o==="dialog"&&Lt(e);function d(b){if(b===!0){qe(u),s.value=!0;return}s.value=!1,i.value===!1&&(c===!1&&l===null&&(l=rt(!1,o)),i.value=!0,D.push(e.proxy),vt(u))}function r(b){if(s.value=!1,b!==!0)return;qe(u),i.value=!1;const w=D.indexOf(e.proxy);w!==-1&&D.splice(w,1),l!==null&&(ct(l),l=null)}return tt(()=>{r(!0)}),e.proxy.__qPortal=!0,nt(e.proxy,"contentEl",()=>t.value),{showPortal:d,hidePortal:r,portalIsActive:i,portalIsAccessible:s,renderPortal:()=>c===!0?n():i.value===!0?[p(ot,{to:l},p(Ct,n))]:void 0}}const Pt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ht(e,t=()=>{},n=()=>{}){return{transitionProps:y(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:y(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function It(){let e;const t=O();function n(){e=void 0}return Me(n),Q(n),{removeTick:n,registerTick(o){e=o,Y(()=>{e===o&&(We(t)===!1&&e(),e=void 0)})}}}function Bt(){let e=null;const t=O();function n(){e!==null&&(clearTimeout(e),e=null)}return Me(n),Q(n),{removeTimeout:n,registerTimeout(o,i){n(),We(t)===!1&&(e=setTimeout(()=>{e=null,o()},i))}}}const $t=[Element,String],At=[null,document,document.body,document.scrollingElement,document.documentElement];function Mt(e,t){let n=ht(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return At.includes(n)?window:n}function ln(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function an(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let G;function Wt(){if(G!==void 0)return G;const e=document.createElement("p"),t=document.createElement("div");ke(e,{width:"100%",height:"200px"}),ke(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),G=n-o,G}function un(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const A=[];let R;function Ft(e){R=e.keyCode===27}function Ot(){R===!0&&(R=!1)}function Qt(e){R===!0&&(R=!1,J(e,27)===!0&&A[A.length-1](e))}function Re(e){window[e]("keydown",Ft),window[e]("blur",Ot),window[e]("keyup",Qt),R=!1}function Dt(e){fe.is.desktop===!0&&(A.push(e),A.length===1&&Re("addEventListener"))}function Ee(e){const t=A.indexOf(e);t!==-1&&(A.splice(t,1),A.length===0&&Re("removeEventListener"))}const M=[];function je(e){M[M.length-1](e)}function Rt(e){fe.is.desktop===!0&&(M.push(e),M.length===1&&document.body.addEventListener("focusin",je))}function jt(e){const t=M.indexOf(e);t!==-1&&(M.splice(t,1),M.length===0&&document.body.removeEventListener("focusin",je))}const{notPassiveCapture:X}=re,W=[];function Z(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=D.length-1;for(;n>=0;){const o=D[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=W.length-1;o>=0;o--){const i=W[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Kt(e){W.push(e),W.length===1&&(document.addEventListener("mousedown",Z,X),document.addEventListener("touchstart",Z,X))}function Ce(e){const t=W.findIndex(n=>n===e);t!==-1&&(W.splice(t,1),W.length===0&&(document.removeEventListener("mousedown",Z,X),document.removeEventListener("touchstart",Z,X)))}let Le,_e;function Pe(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Nt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ce={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ce[`${e}#ltr`]=e,ce[`${e}#rtl`]=e});function He(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:ce[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Vt(e,t){let{top:n,left:o,right:i,bottom:s,width:l,height:u}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],s+=t[1],i+=t[0],l+=t[0],u+=t[1]),{top:n,bottom:s,height:u,left:o,right:i,width:l,middle:o+(i-o)/2,center:n+(s-n)/2}}function zt(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Gt(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ie(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Ke(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ke(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:s,selfOrigin:l,absoluteOffset:u,fit:c,cover:d,maxHeight:r,maxWidth:b}=e;if(fe.is.ios===!0&&window.visualViewport!==void 0){const I=document.body.style,{offsetLeft:E,offsetTop:C}=window.visualViewport;E!==Le&&(I.setProperty("--q-pe-left",E+"px"),Le=E),C!==_e&&(I.setProperty("--q-pe-top",C+"px"),_e=C)}const{scrollLeft:w,scrollTop:a}=n,h=u===void 0?Vt(i,d===!0?[0,0]:o):zt(i,u,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:r,visibility:"visible"});const{offsetWidth:f,offsetHeight:S}=n,{elWidth:k,elHeight:m}=c===!0||d===!0?{elWidth:Math.max(h.width,f),elHeight:d===!0?Math.max(h.height,S):S}:{elWidth:f,elHeight:S};let v={maxWidth:b,maxHeight:r};(c===!0||d===!0)&&(v.minWidth=h.width+"px",d===!0&&(v.minHeight=h.height+"px")),Object.assign(n.style,v);const T=Gt(k,m);let q=Ie(h,T,s,l);if(u===void 0||o===void 0)se(q,h,T,s,l);else{const{top:I,left:E}=q;se(q,h,T,s,l);let C=!1;if(q.top!==I){C=!0;const P=2*o[1];h.center=h.top-=P,h.bottom-=P+2}if(q.left!==E){C=!0;const P=2*o[0];h.middle=h.left-=P,h.right-=P+2}C===!0&&(q=Ie(h,T,s,l),se(q,h,T,s,l))}v={top:q.top+"px",left:q.left+"px"},q.maxHeight!==void 0&&(v.maxHeight=q.maxHeight+"px",h.height>q.maxHeight&&(v.minHeight=v.maxHeight)),q.maxWidth!==void 0&&(v.maxWidth=q.maxWidth+"px",h.width>q.maxWidth&&(v.minWidth=v.maxWidth)),Object.assign(n.style,v),n.scrollTop!==a&&(n.scrollTop=a),n.scrollLeft!==w&&(n.scrollLeft=w)}function se(e,t,n,o,i){const s=n.bottom,l=n.right,u=Wt(),c=window.innerHeight-u,d=document.body.clientWidth;if(e.top<0||e.top+s>c)if(i.vertical==="center")e.top=t[o.vertical]>c/2?Math.max(0,c-s):0,e.maxHeight=Math.min(s,c);else if(t[o.vertical]>c/2){const r=Math.min(c,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(s,r),e.top=Math.max(0,r-s)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(s,c-e.top);if(e.left<0||e.left+l>d)if(e.maxWidth=Math.min(l,d),i.horizontal==="middle")e.left=t[o.horizontal]>d/2?Math.max(0,d-l):0;else if(t[o.horizontal]>d/2){const r=Math.min(d,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(l,r),e.left=Math.max(0,r-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(l,d-e.left)}const sn=F({name:"QMenu",inheritAttrs:!1,props:{...St,...Fe,...ve,...Pt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Pe},self:{type:String,validator:Pe},offset:{type:Array,validator:Nt},scrollTarget:$t,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Oe,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,s,l,u;const c=O(),{proxy:d}=c,{$q:r}=d,b=H(null),w=H(!1),a=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),h=me(e,r),{registerTick:f,removeTick:S}=It(),{registerTimeout:k}=Bt(),{transitionProps:m,transitionStyle:v}=Ht(e),{localScrollTarget:T,changeScrollEvent:q,unconfigureScrollTarget:I}=kt(e,be),{anchorEl:E,canShow:C}=qt({showing:w}),{hide:P}=Qe({showing:w,canShow:C,handleShow:ie,handleHide:Ne,hideOnRouteChange:a,processOnMount:!0}),{showPortal:V,hidePortal:j,renderPortal:te}=_t(c,b,ze,"menu"),K={anchorEl:E,innerRef:b,onClickOutside(x){if(e.persistent!==!0&&w.value===!0)return P(x),(x.type==="touchstart"||x.target.classList.contains("q-dialog__backdrop"))&&de(x),!0}},z=y(()=>He(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),ne=y(()=>e.cover===!0?z.value:He(e.self||"top start",r.lang.rtl)),oe=y(()=>(e.square===!0?" q-menu--square":"")+(h.value===!0?" q-menu--dark q-dark":"")),g=y(()=>e.autoClose===!0?{onClick:Ve}:{}),L=y(()=>w.value===!0&&e.persistent!==!0);_(L,x=>{x===!0?(Dt(le),Kt(K)):(Ee(le),Ce(K))});function B(){mt(()=>{let x=b.value;x&&x.contains(document.activeElement)!==!0&&(x=x.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||x.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))})}function ie(x){if(i=e.noRefocus===!1?document.activeElement:null,Rt(xe),V(),be(),s=void 0,x!==void 0&&(e.touchPosition||e.contextMenu)){const ae=it(x);if(ae.left!==void 0){const{top:Ge,left:Ue}=E.value.getBoundingClientRect();s={left:ae.left-Ue,top:ae.top-Ge}}}l===void 0&&(l=_(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,N)),e.noFocus!==!0&&document.activeElement.blur(),f(()=>{N(),e.noFocus!==!0&&B()}),k(()=>{r.platform.is.ios===!0&&(u=e.autoClose,b.value.click()),N(),V(!0),n("show",x)},e.transitionDuration)}function Ne(x){S(),j(),ge(!0),i!==null&&(x===void 0||x.qClickOutside!==!0)&&(((x?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),k(()=>{j(!0),n("hide",x)},e.transitionDuration)}function ge(x){s=void 0,l!==void 0&&(l(),l=void 0),(x===!0||w.value===!0)&&(jt(xe),I(),Ce(K),Ee(le)),x!==!0&&(i=null)}function be(){(E.value!==null||e.scrollTarget!==void 0)&&(T.value=Mt(E.value,e.scrollTarget),q(T.value,N))}function Ve(x){u!==!0?(De(d,x),n("click",x)):u=!1}function xe(x){L.value===!0&&e.noFocus!==!0&&gt(b.value,x.target)!==!0&&B()}function le(x){e.noEscDismiss!==!0&&(n("escapeKey"),P(x))}function N(){Ke({targetEl:b.value,offset:e.offset,anchorEl:E.value,anchorOrigin:z.value,selfOrigin:ne.value,absoluteOffset:s,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ze(){return p($e,m.value,()=>w.value===!0?p("div",{role:"menu",...o,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+oe.value,o.class],style:[o.style,v.value],...g.value},ee(t.default)):null)}return Q(ge),Object.assign(d,{focus:B,updatePosition:N}),te}});function Be(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const rn=lt({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Be(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=Tt(e);i!==void 0&&Et(i,o,n.depth)})},handlerKey(o){J(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Be(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{un as A,jt as B,rn as C,Ee as D,Rt as E,Dt as F,St as G,sn as Q,ln as a,an as b,Wt as c,on as d,bt as e,ue as f,Mt as g,Oe as h,Pe as i,Fe as j,pt as k,It as l,Bt as m,Ht as n,kt as o,He as p,qt as q,Qe as r,$t as s,_t as t,Pt as u,Nt as v,Ce as w,Ke as x,yt as y,Kt as z};
